<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>USB_ModeSwitch › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./usb_modeswitch.html">USB ModeSwitch</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/USB_ModeSwitch">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./usb_modeswitch/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./usb_modeswitch/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./usb_modeswitch/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./usb_modeswitch/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./usb_modeswitch/a/backlinks.html">USB ModeSwitch</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./paketinstallation_deb.html">Ein einzelnes Paket installieren</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./packprogramme.html">Archive entpacken</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./programme_kompilieren.html">Pakete aus dem Quellcode erstellen</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#Manuell">Manuell
</a></li></ol></li><li><a class="crosslink" href="#Funktionsweise">Funktionsweise
</a></li><li><a class="crosslink" href="#Bekannte-Probleme">Bekannte Probleme
</a><ol class="arabic"><li><a class="crosslink" href="#udev-Regel-erstellen">udev-Regel erstellen
</a></li></ol></li><li><a class="crosslink" href="#Beispiele">Beispiele
</a><ol class="arabic"><li><a class="crosslink" href="#XS-Stick-W14">XS Stick W14
</a></li><li><a class="crosslink" href="#Huawei-Sticks">Huawei Sticks
</a></li></ol></li><li><a class="crosslink" href="#Unterstuetzte-Geraete">Unterstützte Geräte
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./device-usb-wifi.png" class="image-left" src="./_/fa10e97ad95514165e8924a14713c17b7d874a04.png"/>
Viele Netzwerk-Geräte mit USB-Anschluss wie <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/WLAN">WLAN</a>- und <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/UMTS">UMTS</a>-Sticks haben Treiber für Windows integriert und werden als sogenannte "flip-flop"- oder "Zero-CD"-Geräte bezeichnet. Diese Hardware wird zunächst immer als Speichermedium erkannt, damit die Treiber installiert werden können. Nach Installation der Treiber werden sie automatisch auf ihre eigentliche Funktion als Netzwerkkarte oder Modem umgeschaltet. Damit entfällt die unter Umständen mühsame Treibersuche, da diese quasi immer mit dabei sind.</p><p>Leider nutzt dieser auf Windows abgestimmte Mechanismus unter Linux nicht viel. Viele Geräte funktionieren auch unter Linux, z.B. mit dem <code class="notranslate">usb-storage</code>- oder dem <code class="notranslate">option</code>-Modul, einem optimierten Treiber für Hochgeschwindigkeits-Modems. Allerdings muss dazu erst der "Modus" umgeschaltet werden, da diese Art von Hardware auch unter Linux zunächst immer nur als Datenträger erkannt wird.</p><p>Für diese Umschaltung kann - abhängig von der eigenen Hardware - das Programm <a class="external" href="http://www.draisberghof.de/usb_modeswitch/" rel="nofollow">USB_ModeSwitch</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> verwendet werden. Es unterstützt eine <a class="external" href="http://www.draisberghof.de/usb_modeswitch/#hardware" rel="nofollow">Vielzahl</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> von Geräten und wird laufend weiter entwickelt. Das Programm <a class="external" href="http://www.pharscape.org/ozerocdoff.html" rel="nofollow">ozerocdoff</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> basiert auf USB_ModeSwitch und bietet die gleiche Funktionalität, beschränkt sich aber auf Hardware der Firma <a class="external" href="http://www.option.com/" rel="nofollow">Option</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> .</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Falls die UMTS-Hardware ausschließlich unter Linux genutzt wird, lässt sich der "flip-flop"- oder "Zero-CD"-Mechanismus evtl. abschalten. Die dazu erforderlichen AT-Befehle sind leider nicht allgemein gültig, sondern müssen zuerst recherchiert werden und <span class="underline">exakt</span> zur verwendeten Hardware passen. Um die ermittelte Befehlssequenz an die Hardware zu senden, kann das Programm <code class="notranslate">minicom</code> aus dem gleichnamigen Paket verwendet werden.</p><p>Achtung: bitte beachten, dass nach der dauerhaften Umschaltung der Windows-Treiber nicht mehr zugänglich ist.
</p></div></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Falls noch nicht vorinstalliert, werden die folgenden Pakete benötigt <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>usb-modeswitch</strong></p></li><li><p><strong>usb-modeswitch-data</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install usb-modeswitch usb-modeswitch-data </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install usb-modeswitch usb-modeswitch-data </pre></div></div><p>
</p></div></div><p>Welche Version in Ubuntu enthalten ist, erfährt man über die <a class="interwiki interwiki-packages" href="http://packages.ubuntu.com/usb-modeswitch">Ubuntu Paketsuche</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Das kann insbesondere hilfreich sein, wenn Systeme mit nicht funktionierendem Internetzugang mit manuell heruntergeladenen Paketen versorgt werden müssen.</p><p>Da sich das Programm in ständiger Weiterentwicklung befindet, sollte bei Problemen mit der eigenen Hardware das Programm unter Umständen selbst aus dem Quelltext übersetzt (kompiliert) werden.</p><div class="section_2"><h3 id="Manuell">Manuell<a class="headerlink" href="#Manuell">¶</a></h3><p>
Die neueste Version kann auch selbst kompiliert werden. Zuerst müssen folgende Pakete installiert <sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>build-essential</strong></p></li><li><p><strong>libusb-dev</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install build-essential libusb-dev </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install build-essential libusb-dev </pre></div></div><p>
</p></div></div><p>Dann kann der Quellcode von der <a class="external" href="http://www.draisberghof.de/usb_modeswitch#download" rel="nofollow">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> heruntergeladen, entpackt <sup><a href="#source-3">[3]</a></sup> und kompiliert <sup><a href="#source-4">[4]</a></sup> werden. Außerdem ist es auch hier ratsam, das neueste Archiv <strong>usb-modeswitch-data</strong> - meist neuer als die jeweilige Version von usb-modeswitch - herunterzuladen. Enthalten sind die aktuellen Geräte-Daten, <a class="internal" href="./udev.html">udev</a>-Regeln und Konfigurationsdateien. Auf der Projektseite ist vermerkt, mit welcher Programmversion es kompatibel ist.</p><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
<a class="internal" href="./fremdsoftware.html">Fremdsoftware</a> kann das System gefährden.
</p></div></div><p>Die Standard-Kompilierung ist die empfohlene Methode für bereits unterstützte Geräte. Installiert werden der Ordner mit den Konfigurationsdaten (<strong>/etc/usb-modeswitch.d</strong>), ein Wrapper-Skript, eine udev-Regel sowie das eigentliche Programm. Eine Liste der unterstützten Geräte, die bisher ohne weitere Vorarbeiten funktionieren, liegt geordnet nach USB-IDs im Verzeichnis <strong>usb_modeswitch.d</strong> vor. Aktualisierungen des <strong>usb-modeswitch-data</strong>-Paketes erfolgen meist in kürzeren Zeitabständen als das Programm selbst. Daher im <strong>Download</strong>-Abschnitt überprüfen, ob eine neuere Version vorliegt.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Versionen ab  1.1.x sind mit älteren Versionen ggf. nicht vollständig kompatibel, daher eine alte Version immer zuerst entfernen!
</p></div></div><p>Wenn weitere Anpassungen für nicht unterstützte Geräte/Verbesserungen vorgenommen werden sollen, wird nur der Befehl <code class="notranslate">make</code> verwendet. Danach müssen die entsprechenden Veränderungen an der <strong>/etc/usb_modeswitch.conf</strong> in einem Editor <sup><a href="#source-5">[5]</a></sup> mit Root-Rechten <sup><a href="#source-6">[6]</a></sup> vorgenommen werden. Das Programm muss dann mit Root-Rechten ausgeführt werden: "<code class="notranslate">sudo usb-modeswitch</code>". Weitere Hinweise auf der <a class="external" href="http://www.draisberghof.de/usb_modeswitch/#trouble" rel="nofollow">troubleshooting</a>-Sektion <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> der Projektseite.</p></div></div><div class="section_1"><h2 id="Funktionsweise">Funktionsweise<a class="headerlink" href="#Funktionsweise">¶</a></h2><p>
Für die automatische Erkennung werden folgende Bestandteile verwendet:</p><ul><li><p><strong>/usr/sbin/usb_modeswitch</strong> - Das eigentliche Programm</p></li><li><p><strong>/lib/udev/usb_modeswitch</strong> - Ein Wrapper-Skript, welches das eigentliche Programm verwendet, um weitere ID-Prüfungen vorzunehmen und den Treiber zu laden</p></li><li><p><strong>/lib/udev/rules.d/40-usb_modeswitch.rules</strong> - Die <a class="internal" href="./udev.html">udev</a>-Regel, die das Wrapper-Skript startet, wenn eine bekannte USB-ID erkannt wird</p></li><li><p><strong>/etc/usb_modeswitch.conf</strong> - Globale Einstellungsdatei; hier kann das ausführliche Mitloggen des Umschaltvorganges aktiviert oder die Umschaltung komplett deaktiviert werden (falls man auf den Windows-Installationsspeicher zugreifen möchte). </p></li><li><p><strong>/etc/usb_modeswitch.d</strong> und <strong>/usr/share/usb_modeswitch</strong> (ab Ubuntu 11.04) - Ein Verzeichnis, welches die spezifischen Setup-Informationen für die Geräte beinhaltet, jeweils nach den USB-IDs benannt, ggf. mit weiteren Merkmalen, wenn es zu bekannten Überschneidungen bei gleicher ID kommt. Wenn die USB-ID eines Gerätes in einem Namen dieser Liste auftaucht, bestehen gute Chancen, dass das Gerät unterstützt wird, selbst wenn dort ein anderer Hersteller/anderes Modell angegeben ist. Eine Zusammenstellung aller Konfigurationen wird unter dem Namen <a class="external" href="http://www.draisberghof.de/usb_modeswitch/device_reference.txt" rel="nofollow">device_reference.txt</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> auf der Projektseite zur Verfügung gestellt.  </p></li></ul><p>
Die Bestandteile arbeiten folgendermaßen zusammen:</p><p>Wenn ein Gerät eingesteckt wird, sucht, und ggf. findet, das udev-System das Gerät in den Regeln der <strong>40-usb_modeswitch.rules</strong>. Es startet das Wrapper-Skript über ein weiteres bash-Skript im Hintergrund. Dieses Wrapper-Skript extrahiert einige Parameter zur Beschreibung des Geräts aus udev und sammelt einige weitere Informationen, um sicherzustellen, dass das Gerät richtig erkannt wird. Leider reichen die USB-IDs alleine dafür nicht aus. Das Programm wird dann vom Wrapper-Skript mit dem (hoffentlich) richtigen Konfigurationsdateinamen als Parameter gestartet und führt den eigentlichen Modus-Wechsel durch. Bei Erfolg wird die (neue) Ziel-ID an das Wrapper-Skript übergeben, welches daraufhin überprüft, ob mit dem umgeschalteten Gerät Treiber/Module verbunden gewesen sind, indem es nach "<code class="notranslate">ttyUSB</code>" oder "<code class="notranslate">ttyACM</code>"-Einträgen in <strong>/dev</strong> sucht. Wenn keine solchen gefunden wurden, wird das "<code class="notranslate">option</code>"-Modul mit "<code class="notranslate">modprobe</code>" geladen (Fehler werden, weil sie hinein kompiliert sein könnten, ignoriert). Dann wird die USB-ID des umgeschalteten Geräts dem Treiber als "<code class="notranslate">new_id</code>" übergeben.</p><p>Danach sollte das System das neue serielle Gerät automatisch erkennen. Nach Angaben des Entwicklers entsteht kein Schaden an der Hardware, wenn der Prozess fehlschlägt. Das Umschalten bzw. die Erkennung des umgeschalteten Gerätes kann allerdings einige Zeit (teilweise bis zu einer Minute) in Anspruch nehmen. Das ist alleine von der eingebauten Firmware abhängig.</p></div><div class="section_1"><h2 id="Bekannte-Probleme">Bekannte Probleme<a class="headerlink" href="#Bekannte-Probleme">¶</a></h2><p>
Bei WLAN-Geräten kam es in der Vergangenheit zu Problemen mit dem <a class="internal" href="./networkmanager.html">NetworkManager</a>, insbesondere der ModemManager-Komponente, die in Verbindung mit USB-Modems nicht sonderlich zuverlässig war. Vernünftige Resultate wurden dagegen mit dem Kommandozeilenprogramm <a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/Wvdial">wvdial</a> erzielt, sowie mit verschiedenen Anwendungen, die eine Benutzerschnittstelle über <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Point-to-Point_Protocol">PPP</a> (wie <a class="internal" href="./einwahlprogramme.html#KDE">kppp</a> oder <a class="internal" href="./umts_per_pcmcia/gnome_ppp.html">GNOME PPP</a>) bereitstellen. Die Verwendung einiger der Programme erfordert allerdings etwas Vorwissen.</p><p>Die größte Hürde zur vollautomatischen Verwendung eines "umgeschalteten" Gerätes ist es, den richtigen Port für die Verbindung zu finden. Oft werden mehrere serielle Ports erstellt (teilweise bis zu fünf). Welches der richtige ist, lässt sich entweder über "Versuch und Irrtum" herausfinden, oder man findet den Port, der mit <strong>Interrupt-Transfer</strong> arbeitet. Das schaffte der NetworkManager leider nicht, und eine manuelle Wahl des Ports liess er auch nicht zu.</p><div class="section_2"><h3 id="udev-Regel-erstellen">udev-Regel erstellen<a class="headerlink" href="#udev-Regel-erstellen">¶</a></h3><p>
Manche von USB_ModeSwitch unterstützte Geräte werden nicht umgeschaltet, weil sie nicht so initialisiert sind wie es USB_ModeSwitch erwartet. Hier fehlt meist die <a class="internal" href="./udev.html">udev</a>-Regel, die zusätzlich oder statt USB_ModeSwitch das Programm <strong>modem-modeswitch</strong> aus dem Paket <a class="internal" href="./udev.html">udev</a> verwendet. Dies kann bis <a class="internal" href="./lucid_lynx.html">Ubuntu Lucid Lynx 10.04</a> relativ einfach korrigiert werden. Mittels des Befehls</p><div class="bash"><div class="contents"><pre class="notranslate">lsusb </pre></div></div><p>sucht man bei eingestecktem Stick dessen sog. Vendor- und Product-IDs heraus, beispielsweise beim Huawei E160 (z.B. von O2, Tchibo und FONIC vertrieben):</p><pre class="notranslate">ID 12d1:1003 Huawei Technologies Co., Ltd. E220 HSDPA Modem / E270 HSDPA/HSUPA Modem</pre><p>Hier ist die Vendor-ID <code class="notranslate">12d1</code> und die Product-ID <code class="notranslate">1003</code>. Für diese trägt man dann eine Regel in die Datei <strong>/lib/udev/rules.d/61-option-modem-modeswitch.rules</strong> ein. Hierzu öffnet man sie in einem Editor <sup><a href="#source-5">[5]</a></sup> mit Root-Rechten <sup><a href="#source-6">[6]</a></sup> und fügt am Ende der Liste ähnlicher Regeln folgende Zeile ein (<code class="notranslate">12d1</code> und <code class="notranslate">1003</code> durch die oben ermittelten IDs ersetzen):</p><pre class="notranslate">ATTRS{idVendor}=="12d1", ATTRS{idProduct}=="1003", RUN+="modem-modeswitch -v 0x%s{idVendor} -p 0x%s{idProduct} -t option-zerocd"</pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Ab Ubuntu 10.10 werden weder die Datei <strong>/lib/udev/rules.d/61-option-modem-modeswitch.rules</strong> noch das aufgerufene Programm <strong>/lib/udev/modem-modeswitch</strong> mittels Paket <a class="interwiki interwiki-packages" href="http://packages.ubuntu.com/udev">udev</a> installiert. Ersatzweise kann die unter <a class="crosslink" href="#Huawei-Sticks">Huawei-Sticks</a> angeführte <a class="internal" href="./udev.html">udev</a>-Regel verwendet werden.
</p></div></div><p>Nach einem Neustart sollte der betreffende Stick dann automatisch auf Modembetrieb umschalten. Im laufenden Betrieb kann dies in einem <a class="internal" href="./terminal.html">Terminal</a> mit folgendem Befehl bewerkstelligt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service udev reload </pre></div></div></div></div><div class="section_1"><h2 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h2><p>
</p><div class="section_2"><h3 id="XS-Stick-W14">XS Stick W14<a class="headerlink" href="#XS-Stick-W14">¶</a></h3><p>
Die weitergehende Verwendung von usb-modeswitch wird im Artikel <a class="internal" href="./archiv/xs_stick_w14.html">Archiv/XS Stick W14</a> beschrieben, um diese UMTS-Sticks in den Modem-Modus versetzen zu können.</p></div><div class="section_2"><h3 id="Huawei-Sticks">Huawei Sticks<a class="headerlink" href="#Huawei-Sticks">¶</a></h3><p>
Huawei-Sticks können im <a class="internal" href="./terminal.html">Terminal</a> mit folgenden Befehl vom Datenträger- in den Modemmodus geschaltet werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo usb_modeswitch -v 12d1 -p 1c0b -M '55534243123456780000000000000011062000000100000000000000000000' </pre></div></div><p>
Die Product-ID <code class="notranslate">1c0b</code> ist dabei an die Product-ID des jeweiligen Huawei-Sticks im Datenträgermodus anzupassen. Nach dem manuellen Umschalten ist meist auch noch ein manuelles Laden des Treibers erforderlich:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe option
echo "12d1 1c05" | sudo tee /sys/bus/usb-serial/drivers/option1/new_id </pre></div></div><p>
Die Product-ID <code class="notranslate">1c05</code> ist dabei durch die Product-ID des Huawei-Sticks im Modemmodus zu ersetzen.</p><p>Eine Automatisierung dieser Befehle ist mittels <a class="internal" href="./udev.html">udev</a> möglich. Dazu legt man mit einem Editor <sup><a href="#source-5">[5]</a></sup> mit Root-Rechten <sup><a href="#source-6">[6]</a></sup> die Datei <strong>/etc/udev/rules.d/70-usb-modeswitch.rules</strong> mit folgendem Inhalt an:</p><pre class="notranslate"># eigene udev-Regeln für UMTS-Sticks 
ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="12d1", ATTRS{idProduct}=="1c0b", RUN+="/usr/sbin/usb_modeswitch -v 12d1 -p 1c0b -M '55534243123456780000000000000011062000000100000000000000000000'"
ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="12d1", ATTRS{idProduct}=="1c05", RUN+="/bin/bash -c 'modprobe option &amp;&amp; echo 12d1 1c05 &gt; /sys/bus/usb-serial/drivers/option1/new_id'"</pre><p>
Die Product-ID <code class="notranslate">1c0b</code> ist dabei durch die ID im Datenträgermodus, <code class="notranslate">1c05</code> durch die ID im Modemmodus zu ersetzen. U.U. müssen die Geräte noch neu eingelesen werden:  <a class="internal" href="./udev.html#Neustart-des-udev-Systems">udev</a>.</p></div></div><div class="section_1"><h2 id="Unterstuetzte-Geraete">Unterstützte Geräte<a class="headerlink" href="#Unterstuetzte-Geraete">¶</a></h2><p>
</p><p>
</p><table><tr class="titel"><td colspan="5"> Von USB_ModeSwitch unterstützte Geräte (Auszug) </td></tr><tr class="kopf"><td> Handelsname </td><td> auch vertrieben als </td><td> USB-ID als Datenträger </td><td> USB-ID als Modem </td><td> Ubuntu-Version </td></tr><tr><td> MediaTek Inc. S4222 (MD99079) </td><td> ALDI TALK Webstick </td><td> <code class="notranslate">0e8d:0002</code> </td><td> <code class="notranslate">0e8d:00a5</code> </td><td> 12.04 </td></tr><tr><td> ZTE MF637 </td><td> Web'n'Walk Stick Fusion </td><td> <code class="notranslate">19d2:2000</code> </td><td> <code class="notranslate">19d2:0037</code> </td><td> 9.10 </td></tr><tr><td> 4G XS Stick W10/W14 </td><td> MobiData MBD-200HU </td><td> <code class="notranslate">1c9e:f000</code> </td><td> <code class="notranslate">1c9e:9603</code> </td><td> 9.10 </td></tr><tr><td> 4G XS Stick P14 </td><td> </td><td> <code class="notranslate">1c9e:f000</code> </td><td> <code class="notranslate">1c9e:9605</code> </td><td> 10.04 </td></tr><tr><td> 4G UXS1 </td><td> web'n'walk Box Mini </td><td> <code class="notranslate">1995:4e44</code> </td><td> <code class="notranslate">11f5:0008</code> </td><td> 16.04 </td></tr><tr><td> Option iCON 210 </td><td> PROLiNK PHS100, Hyundai Mobile MB-810 </td><td> <code class="notranslate">1e0e:f000</code> </td><td> <code class="notranslate">1e0e:9000</code> </td><td> 8.10, 9.04, 9.10 </td></tr><tr><td> K3765-HV </td><td> K3765 </td><td> <code class="notranslate">12d1:1520</code> </td><td> <code class="notranslate">12d1:1465</code> </td><td> 10.04 </td></tr><tr><td> Huawei E620 </td><td> BASE bzw. FONIC Surfstick </td><td> <code class="notranslate">12d1:1446</code> </td><td> <code class="notranslate">12d1:1001</code> </td><td> 10.04, 10.10 </td></tr><tr><td> Huawei E1550 </td><td> Medion S4012 </td><td> <code class="notranslate">12d1:1446</code> </td><td> <code class="notranslate">12d1:140c</code> </td><td> 10.04, 10.10 </td></tr><tr><td> Huawei E1552 </td><td> web'n'walk Stick Fusion II </td><td> <code class="notranslate">12d1:1446</code> </td><td> <code class="notranslate">12d1:1436</code> </td><td> 10.04, 10.10 </td></tr><tr><td> Huawei E1750 </td><td> wetter.com-Surfstick </td><td> <code class="notranslate">12d1:1446</code> </td><td> <code class="notranslate">12d1:14ac</code> </td><td> 10.04, 10.10 </td></tr><tr><td> Huawei E160/E220 </td><td> O2 Stick<br/>Tchibo Internet-Stick<br/>FONIC SurfStick<br/>Medion S4011 </td><td> <code class="notranslate">12d1:1003</code> </td><td> <code class="notranslate">12d1:1003</code> </td><td> 10.04 </td></tr><tr><td> Huawei E173 </td><td> Mobile Broadband USB Stick </td><td> <code class="notranslate">12d1:1446</code> </td><td> <code class="notranslate">12d1:1436</code> </td><td> 11.04, davor s.<a class="crosslink" href="#Huawei-Sticks">Huawei-Sticks</a> </td></tr><tr><td> Huawei E173s </td><td> Mobile Broadband USB Stick 615 </td><td> <code class="notranslate">12d1:1c0b</code> </td><td> <code class="notranslate">12d1:1c05</code> </td><td> 11.04, davor s.<a class="crosslink" href="#Huawei-Sticks">Huawei-Sticks</a> </td></tr><tr><td> Vodafone(Huawei) E173s-1/K3770 </td><td> Pro7 Web Stick </td><td> <code class="notranslate">12d1:14d1</code> </td><td> <code class="notranslate">12d1:14c9</code> </td><td> 11.10, davor s.<a class="crosslink" href="#Huawei-Sticks">Huawei-Sticks</a> </td></tr><tr><td> Huawei E303/E353Ws-2/E3131 </td><td> HiLink USB-Stick </td><td> <code class="notranslate">12d1:1f01</code> </td><td> <code class="notranslate">12d1:14db</code> </td><td> ab 10.04, Anleitung im <a class="crosslink post" href="https://forum.ubuntuusers.de/post/4656807/">Forum</a> </td></tr><tr><td> Huawei E352s-5 </td><td> Telekom web'n'walk Stick Fusion III </td><td> <code class="notranslate">12d1:14fe</code> </td><td> <code class="notranslate">12d1:1506</code> </td><td> 11.10, davor s.<a class="crosslink" href="#Huawei-Sticks">Huawei-Sticks</a> </td></tr><tr><td> Huawei E3531 </td><td> </td><td> <code class="notranslate">12d1:15ca</code> </td><td> <code class="notranslate">12d1:1506</code> </td><td> 14.04 </td></tr><tr><td> Huawei E5786 </td><td> LTE MiFi </td><td> <code class="notranslate">12d1:15ca</code> </td><td> <code class="notranslate">12d1:1506</code> </td><td> 16.04.1 LTS </td></tr><tr><td> Huawei K5005 </td><td> Vodafone Mobile Broadband LTE </td><td> <code class="notranslate">12d1:14c3</code> </td><td> <code class="notranslate">12d1:14c8</code> </td><td> 10.04 und 11.10, nach Eintrag in <a class="internal" href="./udev.html">udev</a> s.<a class="crosslink" href="#Huawei-Sticks">Huawei-Sticks</a> </td></tr><tr><td> Alcatel W800 </td><td> Telekom Speedstick LTE IV </td><td> <code class="notranslate">1bbb:0000</code> </td><td> <code class="notranslate">1bbb:0195</code> </td><td> Gerät wird als Ethernet Netzwerkkarte erkannt </td></tr></table><p>Die Liste bitte um andere unter Ubuntu getestete Geräte erweitern! Auch der Entwickler von USB ModeSwitch bittet darum, bisher nicht unterstützte Hardware zu melden. Er gibt außerdem Hilfestellung zur Ermittlung des Umschaltkommandos, wenn es noch nicht bekannt ist (siehe Link zum Support-Forum).</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.draisberghof.de/usb_modeswitch/" rel="nofollow">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p><ul><li><p><a class="external" href="http://www.draisberghof.de/usb_modeswitch/bb/" rel="nofollow">Support-Forum</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul></li><li><p><a class="external" href="http://www.linux-community.de/Internal/Artikel/Online-Artikel/Ubuntu-User/Mobiler-Koala" rel="nofollow">Mobiler Koala - UMTS-Sticks unter Ubuntu 9.10</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Ubuntu User, 02/2010</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./usb_modeswitch/a/revision/939527.html">Diese Revision</a> wurde am 5. Mai 2017 13:12 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./usb_modeswitch.html">USB ModeSwitch</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>