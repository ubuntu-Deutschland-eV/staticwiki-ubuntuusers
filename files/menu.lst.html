<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>menu.lst › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./menu.lst.html">menu.lst</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/menu.lst">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./menu.lst/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./menu.lst/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./menu.lst/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./menu.lst/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./menu.lst/a/backlinks.html">menu.lst</a></h1>
<div id="page"><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Der ab <a class="internal" href="./karmic.html">Ubuntu 9.10</a> als neuer Standard verwendete Bootloader <a class="internal" href="./grub_2.html">GRUB 2</a> wird in einem eigenen Artikel behandelt. Der hier beschriebene Vorgänger wird inzwischen auch als <em>"GRUB Legacy"</em> bezeichnet. Der Artikel <a class="internal" href="./grub_2_durch_grub_ersetzen.html">Grub 2 durch Grub ersetzen</a> erläutert, wie man die ältere GRUB-Version dennoch nutzen kann.
</p></div></div><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Fehler bei der Konfiguration des Bootmanagers können zu einem unbenutzbaren System führen.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./paketquellen_freischalten.html">Bearbeiten von Paketquellen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Aufbau-der-Datei">Aufbau der Datei
</a></li><li><a class="crosslink" href="#Die-Abschnitte-im-Einzelnen">Die Abschnitte im Einzelnen
</a></li><li><a class="crosslink" href="#GRUB-Farben">GRUB-Farben
</a></li><li><a class="crosslink" href="#GRUB-Splash">GRUB-Splash
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Die Datei <strong>/boot/grub/menu.lst</strong> erfüllt zwei Funktionen:</p><ul><li><p>Hier ist einerseits die Konfiguration für den Bootloader <a class="internal" href="./grub.html">GRUB</a> gespeichert. Beim Start von GRUB wird die <strong>menu.lst</strong> gelesen, und das Bootmenü wird entsprechend aufgebaut. GRUB ignoriert alle mit einer Raute beginnenden Zeilen. </p></li><li><p>Zusätzlich enthält die menu.lst Informationen für  das Skript <strong>update-grub</strong>. Dieses Skript dient dazu, die Menüeinträge in der menu.lst automatisch zu erstellen. Das Skript wird z.B. bei der Installation eines neuen Kernels ausgeführt. <strong>update-grub</strong> liest auch manche Zeilen ein, die mit einer Raute beginnen. </p></li></ul><p>
<strong>menu.lst</strong> ist eine reine Textdatei, zur Bearbeitung muss sie also in einem Editor mit Root-Rechten <sup><a href="#source-3">[3]</a></sup> geöffnet werden.</p><p><a class="crosslink anchor" href="#Aufbau" id="Aufbau"></a>
</p><div class="section_1"><h2 id="Aufbau-der-Datei">Aufbau der Datei<a class="headerlink" href="#Aufbau-der-Datei">¶</a></h2><p>
Die <strong>menu.lst</strong> ist durch besondere Kennzeichner in mehrere Bereiche gegliedert. Es ist wichtig, diese Bereiche zu kennen und deren Aufgabe zu verstehen, damit Änderungen an dieser Datei zum gewünschten und dauerhaften Ergebnis führen. Folgende Kennzeichner existieren:</p><ul><li><p>### BEGIN AUTOMAGIC KERNELS LIST</p></li><li><p>## ## Start Default Options ##</p></li><li><p>## ## End Default Options ##</p></li><li><p>### END DEBIAN AUTOMAGIC KERNELS LIST</p></li></ul><p>
Zunächst ist wichtig, dass der komplette Bereich zwischen den äußeren Kennzeichnern vom System (<strong>update-grub</strong>) verwaltet wird. In diesem Bereich dürfen daher nur bedingt Änderungen vorgenommen werden.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Es ist nicht sinnvoll, innerhalb dieser Bereiche eigene Menüeinträge zu platzieren oder Änderungen an den Menüeinträgen direkt vorzunehmen, da diese spätestens beim nächsten Kernelupdate verschwinden würden. Sinnvoll sind hier nur Änderungen an den vorgegebenen <a class="internal" href="./menu.lst.html#Optionen-fuer-update-grub">Optionen</a>. Dadurch lassen sich die automatisch generierten Einträge indirekt beeinflussen. Eigene Menüeinträge müssen vor oder nach dem äußeren Block platziert werden.
</p></div></div><p>Desweiteren muss die besondere Rolle des Kommentarzeichens <strong>#</strong> beachtet werden. Bei der <strong>menu.lst</strong> handelt es sich um eine Steuerdatei, die eigentlich nur von GRUB gelesen wird. Grub ignoriert dabei Zeilen, die mit mindestens einem Kommentarzeichen (<code class="notranslate">#</code>, Raute) beginnen. Im gerade beschriebenen inneren Bereich werden nun aber zusätzliche Parameter für das Hilfsprogramm <strong>update-grub</strong> gespeichert. Für GRUB sind diese Parameter aber unverständlich. Damit nun keine Syntaxfehler auftreten, wurde vereinbart, dass Parameter für <strong>update-grub</strong> im gekennzeichneten Bereich stehen müssen und jeweils mit einem einzelnen Kommentarzeichen beginnen. Tatsächliche Kommentare in diesem Bereich sollten dementsprechend mit mindestens zwei Kommentarzeichen beginnen.</p><p>Zusammenfassend gilt:</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="menu.lst-nano-bunt.png" class="image-default" src="./_/cc10b664e4d88db21bf5543e37cacecd4b167331.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 240px"> /boot/grub/menu.lst</td></tr></table><ul><li><p>Zeilen mit doppelten oder mehr <code class="notranslate">##</code> sind immer Kommentare. </p></li><li><p>Zeilen mit einer einfachen <code class="notranslate">#</code> innerhalb des inneren Blocks sind Anweisungen für update-grub, wenn der Raute eines der Schlüsselworte <code class="notranslate">alternative, altoptions, defoptions, groot, howmany, kopt, lockalternative, lockold, memtest86, nonaltoptions, recovery, savedefault, updatedefaultentry, xenhopt, xenkopt</code> folgt. </p></li><li><p>Sonstige Zeilen, die mit einem einfachen <code class="notranslate">#</code> beginnen, sind Kommentare. </p></li><li><p>Zeilen ohne <code class="notranslate">#</code> sind Optionen für GRUB selber.</p></li></ul><p> 
Beim Bearbeiten der <strong>menu.lst</strong> sollte man einen Editor mit entsprechender Syntaxhervorhebung verwenden.</p><p><a class="crosslink anchor" href="#Abschnitte" id="Abschnitte"></a>
</p></div><div class="section_1"><h2 id="Die-Abschnitte-im-Einzelnen">Die Abschnitte im Einzelnen<a class="headerlink" href="#Die-Abschnitte-im-Einzelnen">¶</a></h2><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>GRUB bezeichnet die Festplattenpartitionen mit <em>(hdx,y)</em>, wobei X die Nummern der Festplatte und Y die Partition sind. Es wird hier immer mit 0 bei der Zählung begonnen:</p><table><tr class="kopf"><td>Partition</td><td>Linux-Device-Bezeichnung</td><td>GRUB-Bezeichnung</td></tr><tr><td>x. Partition auf der <strong>1. Platte</strong></td><td>/dev/sd<strong>a</strong>x oder /dev/hd<strong>a</strong>x</td><td>(hd<strong>0</strong>,x)</td></tr><tr><td>x. Partition auf der <strong>2. Platte</strong></td><td>/dev/sd<strong>b</strong>x oder /dev/hd<strong>b</strong>x</td><td>(hd<strong>1</strong>,x)</td></tr><tr><td>...</td><td>...</td><td>...</td></tr><tr><td><strong>1. Partition</strong> auf der x. Platte</td><td>/dev/sdx<strong>1</strong> oder /dev/hdx<strong>1</strong></td><td>(hdx,<strong>0</strong>)</td></tr><tr><td><strong>2. Partition</strong> auf der x. Platte</td><td>/dev/sdx<strong>2</strong> oder /dev/hdx<strong>2</strong></td><td>(hdx,<strong>1</strong>)</td></tr><tr><td>...</td><td>...</td><td>...</td></tr></table><p>
Zu beachten ist auch, dass die Nummerierung von <a class="external" href="http://www.slashcam.de/artikel/Ratgeber/Das-optimale-Schnittsystem-Teil-1--Festplatten-und-Partitionen.html#T1" rel="nofollow">logischen Laufwerken in einer erweiterten Partition</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> immer bei 5 (Linux-Device-Bezeichnung) bzw. 4 (GRUB-Bezeichnung) beginnt - unabhängig von der Anzahl der vorhandenen primären Partitionen.</p><p>Die GRUB-Bezeichnung wird fortlaufend vergeben, d.h. bei fehlender Platte <code class="notranslate">sda</code> erhält <code class="notranslate">sdb</code> die niedrigste GRUB-Bezeichnung (hd0). Dieses Verhalten kann zu Problemen führen, wenn z.B. eine Platte dauerhaft aus dem System entfernt wird.
</p></div></div><p>Beispielhaft werden nun anhand einer typischen <strong>menu.lst</strong> die einzelnen Abschnitte erklärt:</p><p><a class="crosslink anchor" href="#Kopfzeilen" id="Kopfzeilen"></a>
</p><div class="section_2"><h3 id="Kopfzeilen">Kopfzeilen<a class="headerlink" href="#Kopfzeilen">¶</a></h3><p>
In den Kopfzeilen werden die Einstellungen für GRUB selbst definiert. So lässt sich hier ein Passwort setzen, man kann den automatisch zu bootenden Eintrag definieren usw. Die einzelnen Variablen sind:</p><ul><li><p><strong>default</strong> - Nummer des Eintrages, der automatisch gestartet wird, bei <code class="notranslate">0</code> (Null) beginnend. Statt Nummer geht auch <em>saved</em>, wobei sich GRUB den zuletzt ausgewählten Eintrag merkt, bei dem die <em>savedefault</em>-Option (s.u.) gesetzt ist. Zu beachten ist, dass der angegebene Wert nicht korrigiert wird, wenn sich die Anzahl der Menüeinträge im Abschnitt "AUTOMAGIC KERNELS LIST" - z.b. durch Sicherheitsupdates - verändert. Von daher sollte dieser Wert möglichst immer auf <code class="notranslate">0</code> stehen. Soll ein anderes Betriebssystem standardmäßig gestartet werden, so ist es besser, dessen Menüeintrag an die erste Stelle zu verschieben, also vor den Kommentar "BEGIN AUTOMAGIC KERNELS LIST". Siehe auch <a class="crosslink" href="#Aufbau-der-Datei">Aufbau</a> der <strong>menu.lst</strong>.</p></li></ul><p>
</p><ul><li><p><strong> timeout</strong> - Die Zeit (in s), nach deren Ablauf automatisch der Default-Eintrag gestartet wird. </p></li><li><p><strong> hiddenmenu</strong> - Soll das GRUB-Menü gezeigt werden? </p></li><li><p><strong> color</strong> - Die Schriftfarben können hier festgelegt werden. </p></li><li><p><strong> password</strong> - ein GRUB-Passwort. Entweder im Klartext oder als md5 Prüfsumme hinterlegt. </p></li></ul><p>
Beispiel:
</p><pre class="notranslate"># menu.lst - See: grub(8), info grub, update-grub(8)
#            grub-install(8), grub-floppy(8),
#            grub-md5-crypt, /usr/share/doc/grub
#            and /usr/share/doc/grub-doc/.
## default num
# Set the default entry to the entry number NUM. Numbering starts from 0, and
# the entry number 0 is the default if the command is not used.
#
# You can specify 'saved' instead of a number. In this case, the default entry
# is the entry saved with the command 'savedefault'.
# WARNING: If you are using dmraid do not change this entry to 'saved' or your
# array will desync and will not let you boot your system.
default         0
## timeout sec
# Set a timeout, in SEC seconds, before automatically booting the default entry
# (normally the first entry defined).
timeout         10
## hiddenmenu
# Hides the menu by default (press ESC to see the menu)
#hiddenmenu
# Pretty colours
#color cyan/blue white/blue
## password ['--md5'] passwd
# If used in the first section of a menu file, disable all interactive editing
# control (menu entry editor and command-line)  and entries protected by the
# command 'lock'
# e.g. password topsecret
#      password --md5 $1$gLhU0/$aW78kHK1QfV3P2b2znUoe/
# password topsecret</pre><p>
GRUB akzeptiert zahlreiche weitere Optionen, die an dieser Stelle nicht alle besprochen werden können. Eine umfangreiche Dokumentation befindet sich zum Beispiel bei der <a class="external" href="http://members.iinet.net.au/~herman546/p15.html" rel="nofollow">Illustrated Dual Boot Site</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> .</p><p><a class="crosslink anchor" href="#setkey" id="setkey"></a> Unter anderem gibt es die Möglichkeit, mit dem Kommando <code class="notranslate">setkey</code> das Tastaturlayout der GRUB-Konsole zu ändern. Hierzu lädt man die im <a class="interwiki interwiki-attachment" href="./menu.lst.html">Anhang</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> gespeicherten Tastendefinitionen herunter und fügt sie im Kopfbereich in die menu.lst ein.</p><p><a class="crosslink anchor" href="#vor_der_automatischen_Liste" id="vor_der_automatischen_Liste"></a>
</p></div><div class="section_2"><h3 id="Eintraege-vor-der-automatischen-Liste-optional">Einträge vor der automatischen Liste (optional)<a class="headerlink" href="#Eintraege-vor-der-automatischen-Liste-optional">¶</a></h3><p>
Besitzt man ein Dual-Boot-Computer-System, sprich z.B. Windows und Ubuntu parallel installiert, und möchte vorwiegend unter Windows arbeiten, so will man eventuell, dass Windows an erster Stelle im Boot-Manager erscheint. Der richtige Platz hierfür ist dieser:</p><pre class="notranslate"># Put static boot stanzas before and/or after AUTOMAGIC KERNEL LIST
# This entry automatically added by the Debian installer for a non-linux OS
# on /dev/hda2
title           Microsoft Windows XP Professional (Oberhalb der Linux Einträge)
root            (hd0,1)
savedefault
chainloader     +1</pre><p><a class="crosslink anchor" href="#update-grub" id="update-grub"></a>
</p></div><div class="section_2"><h3 id="Optionen-fuer-update-grub">Optionen für update-grub<a class="headerlink" href="#Optionen-fuer-update-grub">¶</a></h3><p>
In diesem Teil der Konfigurationsdatei werden die Optionen gesetzt, die update-grub nutzt, um die <strong>menu.lst</strong> neu zu schreiben. Doppelte <code class="notranslate">##</code> sind tatsächlich Kommentare, einfache <code class="notranslate">#</code> sind Optionen für update-grub. Die Kommentarzeichen müssen immer erhalten bleiben.</p><p>Die einzelnen Variablen sind</p><ul><li><p><strong>kopt</strong> - Die Boot Parameter für die Standard Kernel. </p></li><li><p><strong>groot</strong> - Das Standard Root Laufwerk für GRUB. </p></li><li><p><strong>alternative</strong> - Soll update-grub Starteinträge für den Recovery Modus anlegen? </p></li><li><p><strong>lockalternative</strong> - Soll bei der Auswahl des Recovery Modus das GRUB Passwort (s.o.) abgefragt werden? </p></li><li><p><strong>defoptions</strong> - Zusätzliche Optionen, die an die Standard Booteinträge gehängt werden. </p></li><li><p><strong>altoptions</strong> - Zusätzliche Optionen, die an die Recovery Modus Einträge gehängt werden. </p></li><li><p><strong>howmany</strong> - Anzahl der Kernel, die update-grub berücksichtigen soll. </p></li><li><p><strong>memtest</strong> - Soll ein Eintrag zum Starten des <a class="internal" href="./memtest.html">Speichertests</a> hinzugefügt werden? </p></li><li><p><strong>updatedefaultentry</strong> - Soll update-grub die Nummer des zu startenden Kernels automatisch anpassen? </p></li></ul><p>
Beispiel:
</p><pre class="notranslate">### BEGIN AUTOMAGIC KERNELS LIST
## lines between the AUTOMAGIC KERNELS LIST markers will be modified
## by the debian update-grub script except for the default options below
## DO NOT UNCOMMENT THEM, Just edit them to your needs
## ## Start Default Options ##
## default kernel options
## default kernel options for automagic boot options
## If you want special options for specific kernels use kopt_x_y_z
## where x.y.z is kernel version. Minor versions can be omitted.
## e.g. kopt=root=/dev/hda1 ro
##      kopt_2_6_8=root=/dev/hdc1 ro
##      kopt_2_6_8_2_686=root=/dev/hdc2 ro
# kopt=root=/dev/sda1 ro
## default grub root device
## e.g. groot=(hd0,0)
# groot=(hd0,0)
## should update-grub create alternative automagic boot options
## e.g. alternative=true
##      alternative=false
# alternative=true
## should update-grub lock alternative automagic boot options
## e.g. lockalternative=true
##      lockalternative=false
# lockalternative=false
## additional options to use with the default boot option, but not with the
## alternatives
## e.g. defoptions=vga=791 resume=/dev/hda5
# defoptions=quiet splash language=de_DE
## altoption boot targets option
## multiple altoptions lines are allowed
## e.g. altoptions=(extra menu suffix) extra boot options
##      altoptions=(recovery mode) single
# altoptions=(recovery mode) single
## controls how many kernels should be put into the menu.lst
## only counts the first occurence of a kernel, not the
## alternative kernel options
## e.g. howmany=all
##      howmany=7
# howmany=all
## should update-grub create memtest86 boot option
## e.g. memtest86=true
##      memtest86=false
# memtest86=true
## should update-grub adjust the value of the default booted system
## can be true or false
# updatedefaultentry=false
## ## End Default Options ##</pre><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Bei Verwendung einer separaten Bootpartition weicht die Rootpartition des Systems (Angabe über <code class="notranslate">kopt</code>) natürlich von der Bootpartition (Angabe über <code class="notranslate">groot</code>) ab. Darauf ist beim Editieren der Optionen <code class="notranslate">groot</code> und <code class="notranslate">kopt</code> zu achten. Zum Beispiel: <br/> <code class="notranslate">kopt=root=/dev/sda3 ro</code> <br/> <code class="notranslate">groot=(hd0,0)</code> <br/> Im Gegensatz dazu <em>ohne</em> Bootpartition: <br/> <code class="notranslate">kopt=root=/dev/sda1 ro</code> <br/> <code class="notranslate">groot=(hd0,0)</code></p><p>Ab Ubuntu 8.10 <a class="internal" href="./intrepid_ibex.html">Intrepid Ibex</a> kann für die Angabe auf die Boot-Partition anstelle von <br/> <code class="notranslate">groot=(hd0,0)</code> <br/> nun auch die UUID der Partition eingesetzt werden, auf der sich <code class="notranslate">/boot/grub/</code> befindet. Als Beispiel: <br/> <code class="notranslate">groot=9d8caf32-92b8-451a-b626-9de581f11cbf</code> <br/> Nach einem <code class="notranslate">sudo update-grub</code> wird dieses dann in die Auswahlzeilen übernommen. Damit lassen sich Fehler, die durch ein nachträgliches Formatieren anderer Partitionen entstehen, beim Booten vermeiden.
</p></div></div><p><a class="crosslink anchor" href="#Kernelparameter" id="Kernelparameter"></a>
</p><div class="section_3"><h4 id="Kernelparameter">Kernelparameter<a class="headerlink" href="#Kernelparameter">¶</a></h4><p>
Eine genaue Beschreibung der Kernelparameter (die mit <code class="notranslate">kopt=</code> gesetzt werden) findet man im Artikel <a class="internal" href="./booten.html">Booten</a>. Häufig nachgefragt wird hierbei die Änderung der Auflösung der virtuellen Textkonsolen.</p><p><a class="crosslink anchor" href="#automatische_Eintraege" id="automatische_Eintraege"></a>
</p></div></div><div class="section_2"><h3 id="Liste-automatisch-generierter-Menueeintraege">Liste automatisch generierter Menüeinträge<a class="headerlink" href="#Liste-automatisch-generierter-Menueeintraege">¶</a></h3><p>
All die Booteinträge, die in diesem Teil zu finden sind, werden automatisch durch <strong>update-grub</strong> angelegt. Änderungen, die hier von Hand eingetragen werden, gehen bei einem Kernelupdate ohne eine Warnung verloren. Daher sollte man statt dieser Einträge die Variablen im oberen Abschnitt verändern, und anschließend</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-grub </pre></div></div><p>
ausführen <sup><a href="#source-4">[4]</a></sup>. Möchte man hingegen Bootparameter testen, kann man in diesem Abschnitt gefahrlos an den Optionen spielen, und nötigenfalls die alten Einträge durch o.g. Befehl wiederherstellen.</p><p>Beispiel:
</p><pre class="notranslate">title           Ubuntu, kernel 2.6.15-25-k7
root            (hd0,0)
kernel          /boot/vmlinuz-2.6.15-25-k7 root=/dev/sda1 ro quiet splash
initrd          /boot/initrd.img-2.6.15-25-k7
savedefault
boot
title           Ubuntu, kernel 2.6.15-25-k7 (recovery mode)
root            (hd0,0)
kernel          /boot/vmlinuz-2.6.15-25-k7 root=/dev/sda1 ro single
initrd          /boot/initrd.img-2.6.15-25-k7
boot
title           Ubuntu, memtest86+
root            (hd0,0)
kernel          /boot/memtest86+.bin
boot
### END DEBIAN AUTOMAGIC KERNELS LIST</pre><p><a class="crosslink anchor" href="#Alternative_Betriebssysteme" id="Alternative_Betriebssysteme"></a>
</p></div><div class="section_2"><h3 id="Alternative-Betriebssysteme-optional">Alternative Betriebssysteme (optional)<a class="headerlink" href="#Alternative-Betriebssysteme-optional">¶</a></h3><p>
Linux- und Windowssysteme, die zum Zeitpunkt der Ubuntu-Installation bereits vorhanden waren, werden vom Installer am Ende dieser Liste automatisch hinzugefügt. Kommen Systeme später hinzu, so müssen sie manuell eingetragen werden. Im folgenden wird dies für Windows- und Linuxsysteme beschrieben. Wichtig ist, dass diese Einträge nach der Zeile</p><pre class="notranslate">### END DEBIAN AUTOMAGIC KERNELS LIST</pre><p>
erfolgen.</p><div class="section_3"><h4 id="Windows">Windows<a class="headerlink" href="#Windows">¶</a></h4><p>
Im folgenden Beispiel muss der Ausdruck "(hdx,y)" an die konkrete Situation angepasst werden.</p><pre class="notranslate">title           Microsoft Windows XP Professional (Unterhalb der Linux Einträge)
root            (hdx,y)
savedefault
chainloader     +1</pre><p><a class="crosslink anchor" href="#menu_lst-map" id="menu_lst-map"></a>
</p></div><div class="section_3"><h4 id="Windows-Vertauschen-von-Festplatten">Windows: Vertauschen von Festplatten<a class="headerlink" href="#Windows-Vertauschen-von-Festplatten">¶</a></h4><p>
In manchen Fällen, z.B. wenn man Windows XP nachträglich auf eine zweite Festplatte installiert, oder aber Windows XP ist schon auf der ersten und Ubuntu mitsamt GRUB wird nachträglich auf eine zweite und vielleicht externe (USB-)Festplatte installiert, ist es notwendig, die Datenträgerbezeichnungen zu vertauschen. Dazu wird Windows mit Hilfe von <em>map</em> vorgetäuscht, es befände sich auf der ersten Festplatte, so dass es korrekt startet. Der Befehl <em>map</em> erfordert folgende Syntax:</p><pre class="notranslate">## Allgemein
map (alte Bezeichnung) (neue Bezeichnung)
map (neue Bezeichnung) (alte Bezeichnung)
## Beispiel
map (hd1) (hd0)
map (hd0) (hd1)</pre><p>
Es ist wichtig, das eine einzelne Vertauschung immer über zwei Map-Anweisungen - jeweils mit umgekehrter Parameterreihenfolge - geregelt wird. So würde ein Eintrag aussehen, wenn:</p><ul><li><p>Ubuntu auf der ersten Festplatte wäre und Windows XP auf einer zweiten SATA-Festplatte auf Partition 1, oder </p></li><li><p>Windows auf der ersten Festplatte wäre und Ubuntu mitsamt GRUB auf einer zweiten (eventuell externen und/oder auch USB-)Festplatte auf Partition 1: </p></li></ul><p>
</p><pre class="notranslate"># This entry automatically added by the Debian installer for a non-linux OS
# on /dev/sda1
title           Microsoft Windows XP Professional
rootnoverify    (hd1,0)
map             (hd1) (hd0)
map             (hd0) (hd1)
savedefault
chainloader     +1</pre><p>
Dass <em>rootnoverify</em> statt <em>root</em> wie oben verwendet wird, ist nicht auf allen Systemen notwendig. Zusätzlich sollte man in der Datei <strong>/boot/grub/device.map</strong> überprüfen, ob die Geräte korrekt zugeordnet sind.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Bei Vista und Windows 7 wird der <em>map</em> Trick nicht benötigt. 
</p></div></div><p><a class="crosslink anchor" href="#Linux-Zweitsystem" id="Linux-Zweitsystem"></a>
</p></div><div class="section_3"><h4 id="Linux">Linux<a class="headerlink" href="#Linux">¶</a></h4><p>
Wenn mit GRUB neben Ubuntu noch eine Linux Distribution gestartet werden soll, ist es meist nicht sinnvoll, direkt auf einen bootbaren Kernel zu verweisen. Dieser Pfad ändert sich nach jedem Kernelupdate und falls der alte Kernel deinstalliert wurde, kann GRUB das System nicht mehr finden. Es gibt mehrere Möglichkeiten, dieses Problem zu lösen:</p><ol class="arabic"><li><p>Bei dieser Variante verweisen <em>kernel</em> und <em>initrd</em> nur symbolisch auf das Rootverzeichnis. GRUB startet dann jedesmal den neusten installierten Kernel: </p><pre class="notranslate">title           Zweitsystem - Kubuntu/OpenSuse/Fedora usw.
root            (hdX,Y)
kernel          /vmlinuz              # plus optional Bootparameter
initrd          /initrd.img           # plus optional Bootparameter
boot</pre></li><li><p>Mit diesem Eintrag lädt GRUB mittels <code class="notranslate">chainloader +1</code> den Bootmanager der entsprechenden Distribution (falls vorhanden). Also zum Beispiel ein sekundäres GRUB. Diese Variante bietet den Vorteil, dass alle verfügbaren Kernel des Zweitsystems gebootet werden können. Zwingende Voraussetzung ist die Installation des Zweitsystem-Bootloaders in die Root-Partition des Zweitsystems und nicht wie sonst üblich in den MBR (siehe <a class="internal" href="./grub.html">GRUB</a>): </p><pre class="notranslate">title           Zweitsystem - Kubuntu/OpenSuse/Fedora usw.
root            (hdX,Y)
chainloader +1</pre></li><li><p>Die letzte Variante hilft weiter, wenn GRUB ein weiteres Linux mit GRUB 2 starten soll. Die Option <code class="notranslate">chainloader +1</code> hilft hier nicht weiter, stattdessen verweist man mit <code class="notranslate">/boot/grub/core.img</code> direkt auf GRUB 2: </p><pre class="notranslate">title           Zweitsystem mit GRUB 2 - Kubuntu/OpenSuse/Fedora usw.
root            (hdX,Y)
kernel          /boot/grub/core.img</pre></li></ol></div></div></div><div class="section_1"><h2 id="GRUB-Farben">GRUB-Farben<a class="headerlink" href="#GRUB-Farben">¶</a></h2><p>
<img alt="grub_colors.png" class="image-right" src="./_/9b350102e5208d5f9a2abb29a7635f1a6ab6742d.png"/>
Durch das Kommando <code class="notranslate">color</code> in der menu.lst kann man das Bootmenü farbig gestalten. Es gibt zwei Varianten:
</p><ol class="arabic"><li><pre class="notranslate">color SCHRIFT/HINTERGRUND</pre></li><li><pre class="notranslate">color SCHRIFT/HINTERGRUND SCHRIFT/HINTERGRUND</pre></li></ol><p>
Bei der ersten Variante wird nur Textfarbe und Hintergrund geändert. Bei Variante 2 wird mit dem zweiten Farbpärchen festgelegt, wie der Auswahlbalken dargestellt wird. Beispiel (siehe Abbildung):</p><pre class="notranslate">color light-cyan/blue white/red</pre><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Der Parameter <code class="notranslate">color</code> funktioniert in Verbindung mit Splashscreens (siehe nächster Abschnitt) nicht! Die Zeile "splashimage=..." sollte nur <span class="underline">statt</span> der <code class="notranslate">color...</code>-Zeile eingetragen werden. 
</p></div></div><div class="section_2"><h3 id="Farbtabelle">Farbtabelle<a class="headerlink" href="#Farbtabelle">¶</a></h3><p>
Für das GRUB-Menü sind die nachfolgende Farben einsetzbar - es muss die im jeweiligen Feld angegebene Bezeichnung der Farbe verwendet werden.</p><table><tr class="kopf"><td colspan="4" style="text-align: center"> Verfügbare Farben für das GRUB Auswahlmenü </td></tr><tr><td style="text-align: center; width: 23%; color: black; background-color: #FFFFFF"> white </td><td style="text-align: center; width: 23%; color: white; background-color: #0000A8"> blue </td><td style="text-align: center; width: 23%; color: white; background-color: #A800A8"> magenta </td><td style="text-align: center; width: 23%; color: black; background-color: #00A8A8"> cyan </td></tr><tr><td style="text-align: center; width: 23%; color: black; background-color: #A8A8A8"> light-gray </td><td style="text-align: center; width: 23%; color: black; background-color: #FEFE54"> yellow </td><td style="text-align: center; width: 23%; color: black; background-color: #FF0000"> red </td><td style="text-align: center; width: 23%; color: black; background-color: #FE54FE"> light-magenta </td></tr><tr><td style="text-align: center; width: 23%; color: white; background-color: #545454"> dark-gray </td><td style="text-align: center; width: 23%; color: black; background-color: #00A800"> green </td><td style="text-align: center; width: 23%; color: white; background-color: #5454FE"> light-blue </td><td style="text-align: center; width: 23%; color: black; background-color: #FE5454"> light-red </td></tr><tr><td style="text-align: center; width: 23%; color: white; background-color: #000000"> black </td><td style="text-align: center; width: 23%; color: black; background-color: #54FEFE"> light-cyan </td><td style="text-align: center; width: 23%; color: black; background-color: #54FE54"> light-green </td><td style="text-align: center; width: 23%; color: black; background-color: #A85400"> brown </td></tr></table><p>
<a class="crosslink anchor" href="#Splash" id="Splash"></a>
</p></div></div><div class="section_1"><h2 id="GRUB-Splash">GRUB-Splash<a class="headerlink" href="#GRUB-Splash">¶</a></h2><p>
<img alt="grub-mit-splash.png" class="image-right" src="./_/c9c506f2ce3458d8e687e0a3fd3a79f0890bb895.png"/> Man kann das GRUB-Menü auch mit einem Hintergrundbild verschönern. Dazu sind komprimierte Grafiken notwendig, die das Format <strong>.xpm.gz</strong> haben. Diverse fertige GRUB-Splashscreens findet man z.B. über die unten verlinkten Webseiten. Einen Kubuntu-Splash kann man sich <a class="interwiki interwiki-attachment" href="./menu.lst.html">direkt</a> herunterladen. Weitere Splashscreens kann man über die Pakete</p><ul><li><p><strong>grub-splashimages</strong> (<em>universe</em>, <sup><a href="#source-2">[2]</a></sup>) </p></li><li><p><strong>kubuntu-grub-splashimages</strong> (<em>universe</em>, nur bis Ubuntu 8.04) </p></li></ul><p>installieren <sup><a href="#source-1">[1]</a></sup>.</p><p>Um den Splash vor der Verwendung zu betrachten, entpackt man die Datei. Zum Verwenden der Grafik geht man so vor:</p><ul><li><p>Man kopiert die Datei beispielsweise in den Ordner <strong>/boot/grub/splashimages</strong> (neu anlegen!)</p></li><li><p>Danach fügt man folgendes in die <strong>menu.lst</strong> ein: </p><pre class="notranslate">splashimage=(hdx,y)/boot/grub/splashimages/splash.xpm.gz
foreground = ffffff
background = 0066ff</pre></li></ul><p><code class="notranslate">foreground</code> und <code class="notranslate">background</code> geben die Schriftfarbe <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Webfarben">im hexadezimalen RGB-Format</a> an.</p><p>Der Pfad muss immer "relativ" zur Partitionstabelle der Festplatte (in der Syntax von GRUB) angegeben werden.  Es ist daher zu beachten, dass "(hdx,y)" angepasst werden muss. Es ist der Wert anzugeben, der auch bei den anderen Einträgen der einzelnen Kernel steht.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wenn <strong>/boot</strong> auf einer eigenen Partition liegt, muss der Eintrag natürlich "relativ" zur /boot-Partition angegeben werden: <strong>splashimage=(hdx,y)/grub/splashimages/dieSplashDatei.xpm.gz</strong>
</p></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.gnu.org/software/grub/manual/legacy/" rel="nofollow">GNU GRUB Manual 0.97</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.owlriver.com/tips/hands-off/images.html" rel="nofollow">GRUB Splash Image Howto</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="internal" href="./installation_auf_externen_speichermedien.html">Installation auf externen Speichermedien</a> </p></li><li><p>GRUB-Splashscreens: </p><ul><li><p><a class="external" href="http://www.schultz-net.dk/grub.html" rel="nofollow">schultz-net.dk</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://schragehome.de/splash/" rel="nofollow">GRUB splash images</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.gnome-look.org/content/search.php?type=160&amp;sort=2&amp;name=grub&amp;search=Search" rel="nofollow">gnome-look.org</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.kde-look.org/content/search.php?type=61&amp;sort=2&amp;name=grub&amp;search=Search" rel="nofollow">kde-look.org</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul></li><li><p><a class="crosslink" href="./menu.lst.html">GRUB Farben ändern</a> (PDF) <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li><li><p><a class="internal" href="./archiv/gfxboot.html">Archiv/Gfxboot</a> - modifizierter GRUB mit Grafikmodus</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./menu.lst/a/revision/926808.html">Diese Revision</a> wurde am 26. Dezember 2016 14:44 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./menu.lst.html">menu.lst</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>