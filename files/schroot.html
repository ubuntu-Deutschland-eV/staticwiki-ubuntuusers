<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>schroot › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./schroot.html">schroot</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/schroot">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./schroot/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./schroot/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./schroot/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./schroot/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./schroot/a/backlinks.html">schroot</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./paketquellen_freischalten.html">Paketquellen freischalten</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./editor.html">Textdateien bearbeiten</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Einrichtung">Einrichtung
</a></li><li><a class="crosslink" href="#Benutzung">Benutzung
</a></li><li><a class="crosslink" href="#Entfernen">Entfernen
</a></li><li><a class="crosslink" href="#Erweiterte-Konfiguration">Erweiterte Konfiguration
</a><ol class="arabic"><li><a class="crosslink" href="#Dateisysteme-einbinden">Dateisysteme einbinden
</a></li><li><a class="crosslink" href="#Dateien-uebernehmen">Dateien übernehmen
</a></li><li><a class="crosslink" href="#Mehrere-chroot-Umgebungen-unterschiedlich-konfigurieren">Mehrere chroot-Umgebungen unterschiedlic...</a><ol class="arabic"><li><a class="crosslink" href="#Profile-ab-Ubuntu-14-04">Profile ab Ubuntu 14.04
</a></li></ol></li></ol></li><li><a class="crosslink" href="#Hinweise">Hinweise
</a></li><li><a class="crosslink" href="#Anwendungsbeispiele">Anwendungsbeispiele
</a><ol class="arabic"><li><a class="crosslink" href="#Programme-in-einer-anderen-Version-installieren">Programme in einer anderen Version insta...</a></li><li><a class="crosslink" href="#32-Bit-Programme-in-einer-64-Bit-Installation-verwenden">32-Bit-Programme in einer 64-Bit-Install...</a></li><li><a class="crosslink" href="#Entwickeln-und-Testen-von-Software">Entwickeln und Testen von Software
</a></li></ol></li><li><a class="crosslink" href="#Manpages-zu-schroot">Manpages zu schroot
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Mit schroot ("<strong>s</strong>ecurely enter a <strong>chroot</strong> environment") kann man Befehle oder eine Login-Shell in einer <a class="internal" href="./chroot.html">chroot</a>-Umgebung ausführen.</p><p>Das Programm schroot wurde als Ersatz für dchroot geschrieben und bietet eine größere Funktionalität, die Optionen sind aber ähnlich. Der Befehl dchroot ist noch als Wrapper um schroot vorhanden.</p><p>Merkmale:
</p><ul><li><p>Ausführen von Befehlen in einer chroot-Umgebung als normaler Benutzer</p></li><li><p>Automatisches Bereitstellen von Einhängepunkten in der chroot-Umgebung</p></li><li><p>Automatisches Kopieren von Dateien in die chroot-Umgebung</p></li><li><p>chroot-Umgebungen in Verzeichnissen, <a class="internal" href="./tar.html">tar</a>-Archiven und Partitionen</p></li><li><p>"Source chroots": Bei jedem Start wird eine Kopie der chroot-Umgebung erstellt, so dass Befehle bei jedem Start eine unveränderte Umgebung vorfinden. Unterstützt werden (komprimierte) tar-Archive, <a class="internal" href="./logical_volume_manager.html">LVM</a>-Snapshots, <a class="internal" href="./btrfs.html">Btrfs</a>-Snapshots und Overlay-Dateisysteme wie <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Aufs">aufs</a>, <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/UnionFS">UnionFS</a> und OverlayFS.</p></li><li><p>Das Verhalten beim Starten und Beenden kann über Skripte angepasst werden.</p></li></ul><p>
Dieser Artikel beschreibt nur die grundlegende Verwendung von schroot. Für weitere Informationen kann man die <a class="internal" href="./man.html">Manpages</a> zu Rate ziehen.</p><div class="section_1"><h2 id="Einrichtung">Einrichtung<a class="headerlink" href="#Einrichtung">¶</a></h2><p>
Folgende Pakete müssen installiert werden <sup><a href="#source-1">[1]</a></sup>:
</p><ul><li><p><strong>debootstrap</strong> (zur Einrichtung von chroot-Umgebungen)</p></li><li><p><strong>schroot</strong> (<em>universe</em> <sup><a href="#source-2">[2]</a></sup>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install debootstrap schroot </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install debootstrap schroot </pre></div></div><p>
</p></div></div><p>Zuerst erstellt man eine chroot-Umgebung, indem man folgenden Befehl in einem Terminal <sup><a href="#source-3">[3]</a></sup> ausführt:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo debootstrap precise /chroot-precise http://de.archive.ubuntu.com/ubuntu/ </pre></div></div><p>Der Befehl kann eine Weile dauern. Anschließend befindet sich in dem Verzeichnis <strong>/chroot-precise</strong> eine Minimalinstallation von <a class="internal" href="./precise_pangolin.html">Ubuntu 12.04</a>. Statt <code class="notranslate">precise</code> kann man den Codenamen einer beliebigen Ubuntu- oder Debian-Version einsetzen.</p><p>Da bei dem Vorgang ein komplettes Basis-System in dem <strong>chroot</strong>-Verzeichnis installiert wird, sollte man darauf achten, dass genug Speicherplatz vorhanden ist. Eine Minimalinstallation benötigt ungefähr 500 MB. Will man später graphische Programme installieren, sollte man mindestens 1,5 GB einplanen.</p><p>Dann muss man noch schroot für diese chroot-Umgebung konfigurieren. Dazu öffnet man die Datei <strong>/etc/schroot/schroot.conf</strong> in einem Texteditor <sup><a href="#source-5">[5]</a></sup> mit Root-Rechten <sup><a href="#source-4">[4]</a></sup> und fügt einen Abschnitt mit folgendem Inhalt ein:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="k">[precise-test]</span>
<span class="na">description</span><span class="o">=</span><span class="s">Beschreibung der chroot-Umgebung</span>
<span class="na">type</span><span class="o">=</span><span class="s">directory</span>
<span class="na">directory</span><span class="o">=</span><span class="s">/chroot-precise</span>
<span class="na">users</span><span class="o">=</span><span class="s">BENUTZER</span>
</pre></div>
</td></tr></table></div><p>In der ersten Zeile steht in eckigen Klammern der Name der chroot-Umgebung. Hinter <code class="notranslate">directory=</code> steht das Verzeichnis, in dem man die chroot-Umgebung mit debootstrap installiert hat. <code class="notranslate">BENUTZER</code> ersetzt man mit einer durch Kommas getrennten Liste der Benutzer, die auf die chroot-Umgebung zugreifen dürfen, in der Regel den eigenen Benutzernamen. Eine genauere Beschreibung der verwendeten Einstellungen kann man in der <a class="internal" href="./man.html">Manpage</a> für <code class="notranslate">schroot.conf</code> nachlesen.</p><p>Alternativ kann man die Konfiguration auch unter <strong>/etc/schroot/chroot.d/</strong> ablegen. Dazu erstellt man dort eine neue Datei mit diesem Inhalt. Der Dateiname kann zwar frei gewählt werden, die Datei aber keine Dateierweiterung haben, da sie sonst eventuell ignoriert wird (Das Verhalten hängt von der Version ab).</p><p>Grundsätzlich ist die chroot-Umgebung jetzt einsatzbereit. Hinweise für bestimmte Einsatzgebiete findet man im Abschnitt <a class="crosslink" href="#Anwendungsbeispiele">Anwendungsbeispiele</a>.</p></div><div class="section_1"><h2 id="Benutzung">Benutzung<a class="headerlink" href="#Benutzung">¶</a></h2><p>
In die chroot-Umgebung wechselt man mit dem folgenden Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">schroot -c precise-test </pre></div></div><p>Der aktuelle Verzeichnisnamen ist derselbe, falls er in der chroot-Umgebung vorhanden ist. Verlassen kann man die chroot-Umgebung mit dem Befehl <code class="notranslate">exit</code> oder über die Tastenkombination 
<span class="key">Strg</span>  + 
<span class="key">D</span> .</p><p>Einen einzelnen Befehl führt man so aus:</p><div class="bash"><div class="contents"><pre class="notranslate">schroot -c precise-test ls </pre></div></div><p>Enthält der Befehl Optionen, muss <code class="notranslate">--</code> vorangestellt werden, damit schroot die Optionen nicht selbst interpretiert:</p><div class="bash"><div class="contents"><pre class="notranslate">schroot -c precise-test -- ls -l </pre></div></div></div><div class="section_1"><h2 id="Entfernen">Entfernen<a class="headerlink" href="#Entfernen">¶</a></h2><p>
Zuerst sollte man sicherstellen, dass man alle chroot-Umgebungen verlassen hat und alle Sitzungen auch korrekt beendet wurden. Siehe dazu auch unter <a class="crosslink" href="#Hinweise">Hinweise</a>. Außerdem kann man mit dem Befehl <code class="notranslate">mount</code> überprüfen, ob noch Verzeichnisse von schroot eingebunden sind (schroot bindet Verzeichnisse unter <strong>/var/lib/schroot/mount/</strong> ein).</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Es ist sehr wichtig, dies zu überprüfen, da sonst Datenverlust droht.
</p></div></div><p>Das Verzeichnis kann man nun löschen mit dem Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">sudo rm -r /chroot-precise/ </pre></div></div></div><div class="section_1"><h2 id="Erweiterte-Konfiguration">Erweiterte Konfiguration<a class="headerlink" href="#Erweiterte-Konfiguration">¶</a></h2><p>
</p><div class="section_2"><h3 id="Dateisysteme-einbinden">Dateisysteme einbinden<a class="headerlink" href="#Dateisysteme-einbinden">¶</a></h3><p>
Über die Datei <strong>/etc/schroot/default/fstab</strong> wird festgelegt, welche Einhängepunkte in der chroot-Umgebung zur Verfügung stehen. Sie kann nach Bedarf geändert werden und folgt der Syntax der <a class="internal" href="./fstab.html">/etc/fstab</a>.</p><p>Standardmäßig wird auch das <a class="internal" href="./homeverzeichnis.html">Homeverzeichnis</a> eingebunden, sodass die Anwendung in der chroot-Umgebung vollen Zugriff auf die persönlichen Daten hat. Sollte man dies nicht wollen, kann man die entsprechende Zeile aus der Datei entfernen. Sollen gar keine Verzeichnisse eingehängt werden, ersetzt man besser in der Konfiguration der chroot-Umgebung die Zeile <code class="notranslate">type=directory</code> durch <code class="notranslate">type=plain</code>.</p></div><div class="section_2"><h3 id="Dateien-uebernehmen">Dateien übernehmen<a class="headerlink" href="#Dateien-uebernehmen">¶</a></h3><p>
Die Datei <strong>/etc/schroot/default/copyfiles</strong> enthält eine Liste von Dateien, die beim Start in die chroot-Umgebung kopiert werden. Damit lassen sich Konfigurationsdateien in der chroot-Umgebung mit denen im Hauptsystem synchron halten.</p></div><div class="section_2"><h3 id="Mehrere-chroot-Umgebungen-unterschiedlich-konfigurieren">Mehrere chroot-Umgebungen unterschiedlich konfigurieren<a class="headerlink" href="#Mehrere-chroot-Umgebungen-unterschiedlich-konfigurieren">¶</a></h3><p>
Die in diesem Kapitel beschriebenen Einstellungen sind zunächst für alle chroot-Umgebungen wirksam. Mit Profilen können verschiedene chroot-Umgebungen für unterschiedliche Einsatzzwecke auch unterschiedlich konfiguriert werden.</p><p>Profile sind Verzeichnisse in <strong>/etc/schroot</strong>. Einige unterschiedliche Profile sind schon vorhanden:
</p><ul><li><p><strong>default</strong>: Standardwert, wenn kein Profil angegeben</p></li><li><p><strong>minimal</strong>: Minimale Konfiguration</p></li><li><p><strong>desktop</strong>: für Desktop-Anwendungen, mehr Funktionalität des Host-Systems verfügbar</p></li><li><p><strong>sbuild</strong> und <strong>buildd</strong>: für das Bauen von Debian-Paketen</p></li></ul><p>Ein eigenes Profil erstellt man, indem man eines der Verzeichnisse kopiert und den Inhalt den eigenen Wünschen anpasst.</p><div class="section_3"><h4 id="Profile-ab-Ubuntu-14-04">Profile ab Ubuntu 14.04<a class="headerlink" href="#Profile-ab-Ubuntu-14-04">¶</a></h4><p>
Man fügt in die Konfiguration der entsprechenden chroot-Umgebung folgende Zeile ein:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="na">profile</span><span class="o">=</span><span class="s">Profil</span>
</pre></div>
</td></tr></table></div><p>Der Vorgabewert ist <strong>default</strong>.</p></div></div></div><div class="section_1"><h2 id="Hinweise">Hinweise<a class="headerlink" href="#Hinweise">¶</a></h2><p>
</p><ul><li><p>Es kann passieren, dass die zu Befehlen gehörenden schroot-Sitzungen nicht korrekt beendet werden (z.B. nach einem Absturz des Betriebssystems oder des Terminalprogramms). Die offenen Sitzungen kann man anzeigen lassen mit </p><div class="bash"><div class="contents"><pre class="notranslate">schroot -l --all-sessions </pre></div></div><p> und schliessen mit </p><div class="bash"><div class="contents"><pre class="notranslate">schroot -e --all-sessions </pre></div></div></li><li><p>Normalerweise werden die Umgebungsvariablen nicht in die chroot-Umgebung übernommen, sondern eine minimale Menge an Umgebungsvariablen wird neu gesetzt. Sollen die Umgebungsvariablen erhalten bleiben, fügt man die Zeile </p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="na">preserve-environment</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</td></tr></table></div><p> in die Konfiguration ein. Dies betrifft u.a.</p><ul><li><p><code class="notranslate">PATH</code>: Inhalt ist kürzer, so dass bestimmte spezielle Befehle nicht gefunden werden.</p></li><li><p><code class="notranslate">DISPLAY</code>: Diese Variable ist notwendig, um graphische Programme in der chroot-Umgebung auszuführen.</p></li></ul></li><li><p>Sicherheit: chroot-Umgebungen sind <span class="underline">kein</span> Sicherheitsmerkmal, denn für entsprechend geschriebene Programme ist es durchaus möglich, aus einer chroot-Umgebung auszubrechen. Will man allerdings nur eine Anwendung daran hindern, auf bestimmte Daten zuzugreifen oder sein System vor fehlerhaften Anwendungen schützen, kann eine chroot-Umgebung durchaus nützlich sein.</p></li><li><p>Bei Verwendung mehrerer chroot-Umgebungen kann der Einsatz von <a class="internal" href="./lokale_paketquellen.html#Proxies-Caches-Buendeln-von-Updates">Lokalen Paket-Caches</a> nützlich sein. Bei Verwendung von <a class="internal" href="./lokale_paketquellen/apt-cacher-ng.html">Apt-Cacher-ng</a> kann man die Datei <a class="internal" href="./lokale_paketquellen/apt-cacher-ng.html#Apt-fuer-Nutzung-eines-Proxys-konfigurieren">/etc/apt/apt.conf.d/01proxy</a> in die Datei <strong>/etc/schroot/copyfiles-defaults</strong> eintragen, und hat damit den Cache für alle chroot-Umgebungen konfiguriert.</p></li><li><p>Die getrennte Verwendung von <a class="internal" href="./d-bus.html">D-Bus</a> innerhalb einer chroot-Umgebung ist wahrscheinlich nicht möglich. Dadurch kann es vorkommen, dass Programme, die D-Bus verwenden, nicht oder nur eingeschränkt funktionieren. Andererseits ist es möglich, die chroot-Umgebung so zu konfigurieren, dass die Programme mit dem D-Bus des Hauptsystems kommunizieren.</p></li></ul><p>
</p></div><div class="section_1"><h2 id="Anwendungsbeispiele">Anwendungsbeispiele<a class="headerlink" href="#Anwendungsbeispiele">¶</a></h2><p>
</p><div class="section_2"><h3 id="Programme-in-einer-anderen-Version-installieren">Programme in einer anderen Version installieren<a class="headerlink" href="#Programme-in-einer-anderen-Version-installieren">¶</a></h3><p>
Wenn man ein Programm verwenden will, das in der aktuellen Ubuntu-Version noch nicht (oder nicht mehr) vorhanden ist oder man eine ältere Version parallel verwenden will, kann eine chroot-Umgebung hilfreich sein. Auch für Software aus unsicheren Quellen (z.B. PPA, nicht paketierte Programme) kann man eine chroot-Umgebung verwenden, um zu vermeiden die Stabilität seines System zu gefährden. Ebenso kann man Debian in einer chroot-Umgebung installieren.</p><p>Man sollte aber bedenken, dass die Konfigurationsdateien verschiedener Programmversionen möglicherweise nicht kompatibel sind. Daher sollte man in diesem Fall darauf verzichten, das Home-Verzeichnis einzubinden (siehe auch <a class="crosslink" href="#Erweiterte-Konfiguration">Erweiterte Konfiguration</a>).</p></div><div class="section_2"><h3 id="32-Bit-Programme-in-einer-64-Bit-Installation-verwenden">32-Bit-Programme in einer 64-Bit-Installation verwenden<a class="headerlink" href="#32-Bit-Programme-in-einer-64-Bit-Installation-verwenden">¶</a></h3><p>
Als Benutzer der AMD64-Version von Ubuntu sieht man sich mitunter mit dem Problem konfrontiert, dass man bestimmte Programme benötigt, die jedoch nur in einer 32-Bit-Version vorliegen. Da die AMD64-Technologie in der Hinsicht abwärtskompatibel ist, dass auch unter einem 64-Bit-System gleichzeitig 32-Bit-Programme ausgeführt werden können, steht dem Einsatz derartiger Programme prinzipiell nichts im Weg (siehe auch <a class="internal" href="./64bit-architektur.html#32-Bit-Programme-erzwingen">64bit-Architektur</a>). Häufig jedoch benötigen "größere" Programme (wie beispielsweise der Firefox-Browser) noch zusätzliche Systembibliotheksdateien, um tatsächlich funktionieren zu können, von diesen Bibliotheken muss dann ebenfalls eine 32-Bit-Version vorliegen. Wenngleich es zwar prinzipiell auch möglich ist, gleichzeitig 32-Bit-Versionen und 64-Bit-Versionen von Bibliotheksdateien auf dem System zu installieren, ist dies in der Praxis sehr umständlich und daher nur in individuellen Einzelfällen interessant. Dieser Abschnitt beschreibt die Besonderheiten einer 32-Bit-chroot-Umgebung auf einem 64-Bit-System.</p><p>Zum Erstellen der chroot-Umgebung verwendet man folgenden Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo debootstrap --arch i386 precise /chroot-precise32 http://de.archive.ubuntu.com/ubuntu/ </pre></div></div><p>Man kann folgende schroot-Konfiguration benutzen:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="k">[trusty32]</span>
<span class="na">description</span><span class="o">=</span><span class="s">Ubuntu 14.04 Trusty Tahr (32 Bit)</span>
<span class="na">directory</span><span class="o">=</span><span class="s">/chroot-trusty32</span>
<span class="na">users</span><span class="o">=</span><span class="s">BENUTZER</span>
<span class="na">type</span><span class="o">=</span><span class="s">directory</span>
<span class="na">profile</span><span class="o">=</span><span class="s">desktop</span>
<span class="na">personality</span><span class="o">=</span><span class="s">linux32</span>
<span class="na">preserve-environment</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</td></tr></table></div><p>Weitere Hinweise:
</p><ul><li><p>Damit die Anwendungen auf deutsch sind, sollten die entsprechenden Sprachpakete in der chroot-Umgebung installiert werden, siehe dazu im Artikel <a class="internal" href="./spracheinstellungen.html">Spracheinstellungen</a>.</p></li><li><p>Damit graphische Anwendungen genauso aussehen, wie außerhalb der chroot-Umgebung, muss das entsprechende Design installiert sein. Die Standard-Ubuntu-Designs Ambiance und Radiance befinden sich im Paket <strong>light-themes</strong>.</p></li><li><p>Die 32-Bit-Version des Paketmanagers <a class="internal" href="./synaptic.html">Synaptic</a> kann man mittels </p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install synaptic </pre></div></div><p> in der chroot-Umgebung installieren.</p></li><li><p>Für graphische Programme kann man einen Programmstarter erstellen. Unter <em>"Befehl"</em> stellt man <code class="notranslate">schroot -c precise32 --</code> dem Befehlsnamen voran. Bei Programmen, die Root-Rechte <sup><a href="#source-4">[4]</a></sup> brauchen, muss der gksu-Teil vor schroot stehen, zum Beispiel für Synaptic: </p><div class="bash"><div class="contents"><pre class="notranslate">gksu --description /usr/share/applications/synaptic.desktop -- schroot -c precise32 -- /usr/sbin/synaptic </pre></div></div></li></ul><p>
</p></div><div class="section_2"><h3 id="Entwickeln-und-Testen-von-Software">Entwickeln und Testen von Software<a class="headerlink" href="#Entwickeln-und-Testen-von-Software">¶</a></h3><p>
Eine chroot-Umgebung kann nützlich sein beim
</p><ul><li><p>Testen von Kompilieranleitungen</p></li><li><p>Testen, ob Pakete in einer Minimalumgebung installierbar und voll funktionsfähig sind</p></li><li><p>Testen von Programmen auf anderen Distributionen und Versionen.</p></li><li><p>Testen von Programmen aus Entwicklerversionen.</p></li></ul><p>
</p></div></div><div class="section_1"><h2 id="Manpages-zu-schroot">Manpages zu schroot<a class="headerlink" href="#Manpages-zu-schroot">¶</a></h2><p>
</p><p>
</p><table><tr class="kopf"><td>Beschreibung </td><td> <a class="internal" href="./trusty.html">Ubuntu 14.04</a> </td></tr><tr><td> Der schroot-Befehl </td><td> <a class="external" href="http://manpages.ubuntu.com/manpages/trusty/man1/schroot.1.html" rel="nofollow">schroot</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </td></tr><tr><td> Dateiformat für chroot-Beschreibungen </td><td> <a class="external" href="http://manpages.ubuntu.com/manpages/trusty/man5/schroot.conf.5.html" rel="nofollow">schroot.conf</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </td></tr><tr><td> Dateiformat für chroot-Profile </td><td> <a class="external" href="http://manpages.ubuntu.com/manpages/trusty/man5/schroot-script-config.5.html" rel="nofollow">schroot-script-config</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </td></tr><tr><td> Schroot setup-Skripte </td><td> <a class="external" href="http://manpages.ubuntu.com/manpages/trusty/man5/schroot-setup.5.html" rel="nofollow">schroot-setup</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </td></tr><tr><td> Häufige Fragen </td><td> <a class="external" href="http://manpages.ubuntu.com/manpages/trusty/man7/schroot-faq.7.html" rel="nofollow">schroot-faq</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </td></tr></table></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Chroot">chroot in Wikipedia</a></p></li><li><p><a class="external" href="http://www.debian-administration.org/articles/566" rel="nofollow">Debian System Administration Tips and Resources</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./schroot/a/revision/939861.html">Diese Revision</a> wurde am 6. Mai 2017 15:35 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./schroot.html">schroot</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>