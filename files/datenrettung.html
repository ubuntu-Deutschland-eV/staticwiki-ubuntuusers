<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Datenrettung › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./datenrettung.html">Datenrettung</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Datenrettung">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./datenrettung/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./datenrettung/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./datenrettung/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./datenrettung/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./datenrettung/a/backlinks.html">Datenrettung</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./chroot/live-cd.html">Zugriff von einer Live-CD aus</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Vorbeugen">Vorbeugen
</a></li><li><a class="crosslink" href="#Daten-retten">Daten retten
</a></li><li><a class="crosslink" href="#Partitionen-retten">Partitionen retten
</a></li><li><a class="crosslink" href="#Sonstige-Anwendungen">Sonstige Anwendungen
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/help.png" class="image-left" src="./_/5370bb0ba46b1bc2b63947d93f7b4ba8dc042931.png"/>
Durch unvorsichtiges Vorgehen passiert es leider gelegentlich: Man löscht ein Verzeichnis oder eine Datei, obwohl man dies eigentlich nicht beabsichtigt hatte. Dieser Artikel erklärt, wie man gelöschte Dateien wiederherstellen kann und was man vorbeugend machen kann, damit das nicht öfters passiert. Des Weiteren wird <a class="crosslink" href="#dd-rescue">beschrieben</a>, wie man Daten von beschädigten Partitionen retten kann.</p><p>Nicht behandelt wird die Datenrettung auf dem Dateisystem ReiserFS.</p><div class="section_1"><h2 id="Vorbeugen">Vorbeugen<a class="headerlink" href="#Vorbeugen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Loeschen">Löschen<a class="headerlink" href="#Loeschen">¶</a></h3><p>
<img alt="Wiki/Icons/trash.png" class="image-right" src="./_/d31539e55b35a063f7ff1e282abc18e5a7026947.png"/>
Beim Löschen folgendes beachten:</p><ul><li><p>Überprüfen, welche Dateien man löscht </p></li><li><p>beim Löschen nur in den <a class="internal" href="./papierkorb.html">Papierkorb</a> verschieben </p></li><li><p>vor dem Leeren des Papierkorbs ihn noch mal ansehen </p></li></ul><p>
</p></div><div class="section_2"><h3 id="Sicherungskopien">Sicherungskopien<a class="headerlink" href="#Sicherungskopien">¶</a></h3><p>
<img alt="Wiki/Icons/save_all.png" class="image-right" src="./_/43343cffcfd20f1eec83aa6c7b1913821fe4b17b.png"/> Regelmäßige <a class="internal" href="./sicherheit.html#Sicherungskopien">Sicherungskopien</a> anzulegen ist mittlerweile nicht mehr schwer. Es gibt eine Vielzahl an Programmen, die manuell oder automatisch Sicherungen anlegen.</p><p><a class="crosslink anchor" href="#Daten" id="Daten"></a>
</p></div></div><div class="section_1"><h2 id="Daten-retten">Daten retten<a class="headerlink" href="#Daten-retten">¶</a></h2><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Als allererstes sollte die Partition, auf welcher sich die gelöschten Dateien befanden, umgehend <a class="internal" href="./mount.html">ausgehängt</a> werden (beispielsweise mit der Tastenkombination 
<span class="key">Alt</span>  + 
<span class="key">Druck</span>  + 
<span class="key">U</span>  welche sofort sämtliche Schreibrechte entzieht). Jeder nachfolgende Schreibzugriff könnte die Dateien endgültig unwiederherstellbar machen, dies gilt also auch, für die nachträgliche Installation der unten genannten Datenrettungsprogramme.</p><p>Für die Datenrettung sollte die betreffende Partition fortan nur noch mit Leserechten eingehängt werden. Ist dies nicht möglich (weil sich z.B. auch das System auf der gleichen Partition befindet) kann auf ein <a class="internal" href="./desktop-cd.html">Live-System</a> zurückgegriffen werden.</p><p>Müssen zur Datenrettung Daten oder Partitionen auf dem Datenträger durch z.B. Wiederherstellung der Partitionierung verändert werden, sollte vorher von dem Datenträger ein Abbild (Image) angefertigt werden. Dies gilt vor allem für defekte Datenträger. Anschließend sollte nur von mittels <a class="crosslink" href="#safecopy">safecopy</a> oder <a class="crosslink" href="#dd-rescue">ddrescue</a> angelegten Images oder 1:1 Kopien der lesbaren Daten gearbeitet werden.
</p></div></div><p>Natürlich gibt es nicht nur die hier erklärten Programme. Hier werden nur Programme zusammen mit einer Anleitung vorgestellt. Weitere Programme findet man auf den unter <a class="crosslink" href="#Links">Links</a> erwähnten Seiten.</p><div class="section_2"><h3 id="ext3-ext4">ext3/ext4<a class="headerlink" href="#ext3-ext4">¶</a></h3><p>
Laut Wikipedia und anderen Seiten kann man unter <strong>ext3</strong> sowie <strong>ext4</strong> keine oder nur schwierig Daten retten. Beide Dateisysteme überschreiben bei Löschvorgängen die Block-Pointer der Inodes mit Nullen. Dies macht ein Wiederherstellen von Dateien nach einem angeforderten Löschvorgang vergleichsweise schwierig, verbessert aber die Wahrscheinlichkeit, dass die Integrität des Dateisystems nach einem Softwarefehler oder Hardwareausfall ohne Datenverlust wiederhergestellt werden kann (Quelle: <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/ext3">Wikipedia</a>).</p><p>Das Programm <strong>ext3rminator</strong>, das z.B. bei der Live-Linux-Distribution <a class="external" href="http://grml.org/" rel="nofollow">grml</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> dabei ist, bietet jedoch eine gute Möglichkeit, verlorene Dateien, die größer als 48 KB waren, wiederherzustellen. Dazu bootet man von der Live-CD und greift von dort aus auf die betreffende <strong>ext3</strong>-Partition zu <sup><a href="#source-4">[4]</a></sup>. Außerdem sind manche Programme, die unter <a class="crosslink" href="#ext2">ext2</a> genannt wurden, auch unter <strong>ext3</strong> zu verwenden. So gibt es zumindest die Möglichkeit, Dateien teilweise zu retten. Eine etwas umfangreiche, aber erfolgversprechende Anleitung gibt es hier: <a class="external" href="http://www.xs4all.nl/~carlo17/howto/undelete_ext3.html" rel="nofollow">HOWTO recover deleted files on an ext3 file system</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p><p><a class="interwiki interwiki-sourceforge2" href="http://extundelete.sourceforge.net">extundelete</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ebenfalls ein Programm, um versehentlich gelöschte Dateien unter <strong>ext3</strong> und <strong>ext4</strong> wiederherzustellen. Auf der Internetseite ist ausführlich beschrieben, wie das Programm angewandt wird. Gefundene bzw. wiederhergestellte Dateien werden dem Verzeichnis <strong>RECOVERED_FILES</strong> abgelegt, dass im aktuellen Verzeichnis erstellt wird. Funktioniert auch einwandfrei mit einer LiveCD und einem externen Datenträger.</p><p>Ein weiteres interessantes Programm ist <a class="interwiki interwiki-sourceforge" href="http://sourceforge.net/projects/ext4magic">Ext4magic</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Weitere Informationen sind der ausführlichen <a class="external" href="http://ext4magic.sourceforge.net/ext4magic_de.html" rel="nofollow">Dokumentation</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> und <a class="external" href="http://www.och-group.de/2013/04/26/daten-im-ext4-dateisystem-raid5-retten/" rel="nofollow">diesem Blogartikel</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> zu entnehmen.</p><div class="section_3"><h4 id="lost-found">lost+found<a class="headerlink" href="#lost-found">¶</a></h4><p>
Der Ordner <strong>/lost+found/</strong> (bei einer eigenen Partition für <strong>/home/</strong> auch <strong>/home/lost+found/</strong>) enthält nach einer automatischen Dateisystemreparatur unter Umständen noch Dateien, die gerettet werden können (ohne Garantie auf Erfolg!). Mehr Details liefert der Blogbeitrag <a class="external" href="http://rolandeckert.com/notes/recovery" rel="nofollow">Recover files from lost+found</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p></div></div><div class="section_2"><h3 id="ext2">ext2<a class="headerlink" href="#ext2">¶</a></h3><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Das Dateisystem <strong>ext2</strong> wird bei aktuellen Ubuntu-Versionen nicht eingesetzt. Der folgende Abschnitt ist daher eher historischer Natur, kann aber in manchen Fällen dennoch nützlich sein.
</p></div></div><p>
Um mit den genannten Werkzeugen Zugriff auf das entsprechende Dateisystem zu haben, muss man dieses zuerst <a class="internal" href="./datenträger.html">aushängen</a>. Falls man mit der Root-Partition arbeiten möchte, ist der Einsatz einer Live-CD oder eines Live-USB-Sticks zwingende Voraussetzung!</p><p>Neben den folgenden Ansätzen lohnt sich evtl. ein Blick auf <a class="external" href="http://www.giis.co.in/" rel="nofollow">giis</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p><p><a class="crosslink anchor" href="#e2undel" id="e2undel"></a>
</p><div class="section_3"><h4 id="e2undel">e2undel<a class="headerlink" href="#e2undel">¶</a></h4><p>
Mit <a class="interwiki interwiki-sourceforge" href="http://sourceforge.net/projects/e2undel">e2undel</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> kann man interaktiv und einfach Daten von einer <strong>ext2</strong>-Partition retten. Es ist über die offiziellen Paketquellen installierbar <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>e2undel</strong> (<em>universe</em> )</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install e2undel </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install e2undel </pre></div></div><p>
</p></div></div><p>
Ist die Betriebssystem-Partition in den Datenverlust involviert, so ist es sinnvoll, e2undel mithilfe einer Live-CD zu nutzen. Auf diese Weise kann die Partition, auf der das Betriebssystem liegt, ohne Gefahr nach gelöschten Dateien durchsucht werden.</p><p><a class="crosslink anchor" href="#debugfs" id="debugfs"></a>
</p></div><div class="section_3"><h4 id="debugfs">debugfs<a class="headerlink" href="#debugfs">¶</a></h4><p>
Das Programm <a class="interwiki interwiki-man" href="http://manpages.ubuntu.com/cgi-bin/search.py?lr=lang_en&amp;q=debugfs">debugfs</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist mit dem Paket</p><ul><li><p><strong>e2fsprogs</strong></p></li></ul><p>
bereits standardmäßig installiert. Wer die englische <a class="internal" href="./man.html">Manpage</a> nicht versteht, kann auf die <a class="external" href="http://www.linux-praxis.de/lpic1/manpages/debugfs.html" rel="nofollow">deutsche Übersetzung</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> zurückgreifen.</p><p>Das Programm im Terminal <sup><a href="#source-2">[2]</a></sup> starten:</p><div class="bash"><div class="contents"><pre class="notranslate">debugfs </pre></div></div><p>
Dann mit folgendem Befehl in das Laufwerk wechseln:</p><div class="bash"><div class="contents"><pre class="notranslate">open /dev/sda3 </pre></div></div><p>
<code class="notranslate">sda3</code> durch das Laufwerk ersetzen, auf dem Daten gerettet werden sollen. Zuerst sollte man mit folgendem Befehl alle gelöschten Dateien anzeigen lassen:</p><div class="bash"><div class="contents"><pre class="notranslate">lsdel </pre></div></div><p>
Das Programm verwendet folgende Anzeige:</p><table><tr style="background-color: #f9eaaf"><td> <strong>Inode-Nummer</strong> </td><td> <strong>Benutzer-ID</strong> </td><td> </td><td> <strong>Dateigröße</strong> </td><td> <strong>Lösch-Datum und -Uhrzeit</strong> </td></tr><tr><td> <code class="notranslate"> 4711 </code> </td><td> <code class="notranslate"> 1000 </code> </td><td> <code class="notranslate">93678</code> </td><td> <code class="notranslate"> 6/  6 </code> </td><td> <code class="notranslate"> Sat Aug 12 20:43:55 2006 </code> </td></tr></table><p>
Nun kann man nach der zu rettenden Datei suchen, indem man Benutzer-ID, Dateigröße und Löschdatum (sofern bekannt) verwendet. Anschließend kann man die Datei mit folgendem Befehl retten:</p><div class="bash"><div class="contents"><pre class="notranslate">dump [INODE-NUMMER] [Zieldatei] </pre></div></div><p>Beispiel: 
</p><div class="bash"><div class="contents"><pre class="notranslate">dump 4711 /tmp/recovered </pre></div></div><p>
Die erstellte Datei kann man sich dann in einem Editor <sup><a href="#source-3">[3]</a></sup> ansehen. Beenden mit:</p><div class="bash"><div class="contents"><pre class="notranslate">quit </pre></div></div><div class="section_4"><h5 id="Rettung-mehrerer-Daten">Rettung mehrerer Daten<a class="headerlink" href="#Rettung-mehrerer-Daten">¶</a></h5><p>
Sind versehentlich nicht nur eine, sondern gleich mehrere Dateien gelöscht worden,  ist es natürlich mühsam, jedesmal den <em>dump</em>-Befehl auszuführen. Um trotzdem recht komfortabel an die gelöschten Dateien zu kommen kann ähnlich vorgegangen werden, wie oben für eine einzelne Datei beschrieben.</p><p>Statt die Liste an gelöschten Dateien in debugfs auszugeben, werden sie in eine Textdatei ausgegeben. Dazu folgenden Befehl verwenden:</p><div class="bash"><div class="contents"><pre class="notranslate">debugfs -R lsdel /dev/sda3 &gt; deletedfiles.txt </pre></div></div><p><code class="notranslate">sda3</code> durch das Laufwerk ersetzen, auf dem Daten gerettet werden sollen. <em>lsdel</em> listet alle Daten auf, die auf dem Datenträgern gelöscht wurden. Der Parameter <code class="notranslate">-R</code> sorgt dafür, dass der Befehl lsdel an debugfs übergeben wird (man kann alternativ auch den Befehl direkt in debugfs eingeben). <code class="notranslate">&gt;</code> gibt die Liste, statt in debugfs, in die Textdatei <strong>~/deletedfiles.txt</strong> im Homeverzeichnis aus. Diese Liste wird jetzt (als Root) mit einem Editor modifiziert. Die Liste sieht in etwa so aus:</p><table><tr style="background-color: #f9eaaf"><td> <strong>Inode-Nummer</strong> </td><td> <strong>Benutzer-ID</strong> </td><td> </td><td> <strong>Dateigröße</strong> </td><td> <strong>Lösch-Datum und -Uhrzeit</strong> </td></tr><tr><td> <code class="notranslate"> 4711 </code> </td><td> <code class="notranslate"> 1000 </code> </td><td> <code class="notranslate">93678</code> </td><td> <code class="notranslate"> 6/  6 </code> </td><td> <code class="notranslate"> Sat Aug 12 20:43:55 2006 </code> </td></tr><tr><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate">.</code> </td><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate"> . </code> </td></tr><tr><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate">.</code> </td><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate"> . </code> </td></tr><tr><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate">.</code> </td><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate"> . </code> </td></tr><tr><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate">.</code> </td><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate"> . </code> </td></tr><tr><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate">.</code> </td><td> <code class="notranslate"> . </code> </td><td> <code class="notranslate"> . </code> </td></tr><tr><td><em>1000 deleted inodes found.</em></td></tr></table><p>
Die erste und letzte Zeile löscht man. Hat man Inodes, die man nicht wiederhergestellt haben möchte, löscht man einfach die ganze Zeile. Nun sollte man die angepasste Liste abspeichern.</p><p>Es wird ein Ordner erstellt, in dem die geretteten Daten gesammelt werden.
</p><div class="bash"><div class="contents"><pre class="notranslate">mkdir /home/BENUTZERNAME/restored </pre></div></div><p>Die angefertigte Liste wird nun, mit Hilfe einer Schleife, an debugfs weitergegeben.</p><div class="bash"><div class="contents"><pre class="notranslate">cat deletedfiles.txt | while read a b; do debugfs /dev/sda3 -R "dump -p &lt;$a&gt; /home/BENUTZERNAME/restored/file$a" ; done </pre></div></div><p><code class="notranslate">sda3</code>, wie immer, durch das Laufwerk ersetzen, auf dem Daten gerettet werden sollen.</p><p>Der Vorgang kann unter Umständen mehrere Stunden dauern. Alle Dateien sollten nun in <strong>/home/BENUTZERNAME/restored</strong> liegen - leider nicht mehr mit dem ursprünglichen Dateinamen, aber immerhin sind die Daten wieder da!</p><p><a class="crosslink anchor" href="#grep" id="grep"></a></p></div></div><div class="section_3"><h4 id="grep">grep<a class="headerlink" href="#grep">¶</a></h4><p>
<a class="internal" href="./grep.html">grep</a> ist ebenfalls bereits standardmäßig installiert. Folgendes im Terminal <sup><a href="#source-2">[2]</a></sup> eingeben:</p><div class="bash"><div class="contents"><pre class="notranslate">grep -a -B[ZAHL] -A[ZAHL] "[SUCHBEGRIFF]" /dev/sda* &gt;[ZIELDATEI] </pre></div></div><p>
Beispiel:</p><div class="bash"><div class="contents"><pre class="notranslate">grep -a -B200 -A600 "Doktorarbeit" /dev/sda3 &gt;/tmp/recovered </pre></div></div><p>
Dieser Befehl speichert alle Daten, die 200 Zeilen vor und 600 Zeilen nach der Zeichenkette <code class="notranslate">Doktorarbeit</code> auf <strong>/dev/sda3</strong> gefunden werden, in die Datei <strong>/tmp/recovered</strong>. Die Datei kann man sich in einem Editor <sup><a href="#source-3">[3]</a></sup> ansehen. Zum Schluss muss man das zuvor ausgehängte Dateisystem natürlich wieder <a class="internal" href="./datenträger.html">einhängen</a>.</p></div></div><div class="section_2"><h3 id="FAT">FAT<a class="headerlink" href="#FAT">¶</a></h3><p>
(FAT, FAT12/16/32, exFAT)
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Programme wie <a class="crosslink" href="#Geloeschte-defekte-Partitionstabelle-retten">TestDisk</a> oder <a class="crosslink" href="#PhotoRec">PhotoRec</a> können auch bei Problemen mit FAT-Partitionen helfen. 
</p></div></div><p>Fehler im FAT-Dateisystem lassen sich unter Windows mit <code class="notranslate">chkdsk</code> beheben. Beispiel für eine FAT-Partition mit dem Buchstaben D:</p><div class="bash"><div class="contents"><pre class="notranslate">chkdsk D: /F /V </pre></div></div></div><div class="section_2"><h3 id="NTFS">NTFS<a class="headerlink" href="#NTFS">¶</a></h3><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Programme wie <a class="crosslink" href="#Geloeschte-defekte-Partitionstabelle-retten">TestDisk</a> oder <a class="crosslink" href="#PhotoRec">PhotoRec</a> können auch bei Problemen mit FAT-Partitionen helfen. 
</p></div></div><p>Fehler im NTFS-Dateisystem lassen sich unter Windows mit <code class="notranslate">chkdsk</code> beheben (siehe <a class="crosslink" href="#FAT">FAT</a>).</p><p>Um Windows aufzufordern, beim nächsten Booten ein NTFS-Dateisystem zu reparieren, gibt es den Linux-Befehl <code class="notranslate">ntfsfix</code>. Dazu muss das Paket <strong>ntfsprogs</strong> (bis <a class="internal" href="./natty.html">Ubuntu 11.04</a>) installiert sein. Ab <a class="internal" href="./oneiric.html">Ubuntu 11.10</a> ist ntfsprogs durch die Verschmelzung von 2 Projekten und somit einer neuere Version im Paket <strong>ntfs-3g</strong> enthalten.</p><p>Beispiel für eine NTFS-Partition auf einer Dual-Boot Festplatte. <code class="notranslate">sda3</code> steht dabei für die 3. Partition auf der ersten Festplatte die bei einem Dual-Boot System meistens die Datenpartition für Windows darstellt.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ntfsfix /dev/sda3 </pre></div></div><p>
Für Windows gibt es im Internet einige weitere brauchbare Programme, siehe <a class="crosslink" href="#Links-Windows">Links</a>.</p><p><a class="crosslink anchor" href="#lsof" id="lsof"></a>
</p></div><div class="section_2"><h3 id="Offene-Dateien">Offene Dateien<a class="headerlink" href="#Offene-Dateien">¶</a></h3><p>
Mit Hilfe des Befehls <a class="internal" href="./lsof.html">lsof</a> (steht für <strong>l</strong>i<strong>s</strong>t <strong>o</strong>pen <strong>f</strong>iles) ist es möglich, versehentlich gelöschte Daten wiederherzustellen, wenn diese zum Zeitpunkt des Löschens von einem anderen Programm geöffnet sind. Der Rettungsvorgang muss dann auch unmittelbar nach dem Löschen erfolgen, da die Datei - vereinfacht gesagt - für das System dann immer noch geöffnet ist, obwohl sie gerade gelöscht wurde. Da dieser Fall wohl eher selten vorkommt, wird an dieser Stelle auf eine weiterführende Erklärung verzichtet und stattdessen auf die sehr gute  Erklärung auf <a class="external" href="http://www.jfranken.de/homepages/johannes/vortraege/lsof_inhalt.de.html#ToC6" rel="nofollow">dieser Seite</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> verwiesen.</p></div><div class="section_2"><h3 id="Tricks">Tricks<a class="headerlink" href="#Tricks">¶</a></h3><p>
In manchen Fällen wird kein Wiederherstellungsprogramm benötigt, weil ein Ordner entweder unwichtig ist oder durch ein Programm erneut angelegt werden kann.</p><table><tr style="background-color: #f9eaaf"><td> <strong>Ordner</strong> </td><td> <strong>Begründung</strong> </td><td> <strong>Terminal-Befehl</strong> <sup><a href="#source-2">[2]</a></sup> </td></tr><tr><td> <strong>/usr/share/PAKETNAME</strong> </td><td> Diese Ordner enthalten Programmdateien und können durch eine Neuinstallation des jeweiligen Pakets wiederhergestellt werden </td><td class="befehl"> <code class="notranslate">sudo apt-get install --reinstall PAKET</code> </td></tr><tr><td> <strong>~/.cache/</strong> </td><td> Der Ordner im <a class="internal" href="./homeverzeichnis.html">Homeverzeichnis</a> ist eine Art Zwischenspeicher für Programme, damit sie Dateien nicht bei jeder Abfrage erneut erstellen/herunterladen müssen. Meistens gibt es keine Probleme, wenn der Inhalt gelöscht wird. </td><td> </td></tr></table><p>
Sehr oft sind auf einem Datenträger innerhalb einer erheblichen Datenmenge nur wenige Dateien verschmerzbar irreparabel beschädigt, z.B. nach einem Headcrash. In diesem Fall kann man schnell und unkompliziert mit dem Werkzeug <a class="internal" href="./rsync.html">rsync</a> unter Verwendung der Option <strong>--ignore-errors</strong> die noch lesbaren Dateien eines Verzeichnisses kopieren. Unlesbare Daten werden dabei einfach ignoriert, ohne dass der Kopiervorgang abbricht.</p><div class="bash"><div class="contents"><pre class="notranslate">rsync -av --ignore-errors QUELLE ZIEL </pre></div></div><p>Bei einem zweiten Durchlauf kann man sich ein Logfile anlegen lassen und erhält dann über diesen Umweg eine Liste der beschädigten Dateien.</p><div class="bash"><div class="contents"><pre class="notranslate">rsync -av --log-file=FILE QUELLE ZIEL </pre></div></div></div><div class="section_2"><h3 id="foremost">foremost<a class="headerlink" href="#foremost">¶</a></h3><p>
<a class="internal" href="./foremost.html">foremost</a> ist ein Kommandozeilen-Programm, das gelöschte Daten anhand der verbliebenen Header- und Footer-Daten rekonstruieren kann.</p><p><a class="crosslink anchor" href="#Partitionen" id="Partitionen"></a> <a class="crosslink anchor" href="#Partitionen-1" id="Partitionen-1"></a></p></div></div><div class="section_1"><h2 id="Partitionen-retten">Partitionen retten<a class="headerlink" href="#Partitionen-retten">¶</a></h2><p>
<img alt="Wiki/Icons/hd.png" class="image-right" src="./_/f30d17a532e2375cad890bda71d95370a7f657e2.png"/></p><div class="section_2"><h3 id="Geloeschte-defekte-Partitionstabelle-retten">Gelöschte/defekte Partitionstabelle retten<a class="headerlink" href="#Geloeschte-defekte-Partitionstabelle-retten">¶</a></h3><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Das Ändern der Partitionstabelle ist immer sehr risikoreich! Ein Reparaturversuch kann evtl. mehr Schaden anrichten als er nützt. Deswegen besser vorher die Platte komplett mit <a class="internal" href="./dd.html">dd</a> klonen und versuchen, die Kopie zu reparieren! 
</p></div></div><p>
Ist, aus welchem Grund auch immer, die Partitionstabelle beschädigt oder wurden Partitionseinträge gelöscht, kann man eine Rettung mit <a class="external" href="http://www.cgsecurity.org/wiki/TestDisk_DE" rel="nofollow">TestDisk</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> probieren. Das Programm installiert man mit dem gleichnamigen Paket <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>testdisk</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install testdisk </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install testdisk </pre></div></div><p>
</p></div></div><p>Das Programm startet man einfach:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo testdisk </pre></div></div><p>Es bietet ein intuitiv zu bedienendes Text-Menü. Um TestDisk auf ein Festplattenabbild (Image) anzuwenden, stellt man dieses dem Befehl hinten an:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo testdisk /pfad/zum/image.img </pre></div></div><p>
Eine andere Variante wird im Artikel <a class="internal" href="./festplatten_problembehebung.html#Defekte-Partitionstabelle">Festplatten Problembehebung</a> beschrieben. Weitere Informationen findet man auch in den offiziellen <a class="external" href="http://www.cgsecurity.org/wiki/TestDisk_DE#Dokumentation" rel="nofollow">TestDisk-Dokumentation</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>.</p><p><a class="crosslink anchor" href="#Partitionen-2" id="Partitionen-2"></a>
</p></div><div class="section_2"><h3 id="Haupt-Partition-reparieren-lassen-wenn-nur-noch-Lese-Zugriff">Haupt-Partition reparieren lassen, wenn nur noch Lese-Zugriff<a class="headerlink" href="#Haupt-Partition-reparieren-lassen-wenn-nur-noch-Lese-Zugriff">¶</a></h3><p>
Wenn plötzlich Meldungen folgender Art erscheinen:</p><ul><li><p>"Prozess Erstellung des Ein-/Ausgabemoduls nicht möglich: Read-only file system kann nicht gestartet werden." </p></li><li><p>"Einrichtungsdatei /home/BENUTZERNAME/.kde/share/config/systemsettingsrc lässt sich nicht speichern." </p></li><li><p>"/dev/sda3: Unexpected inconsistency fsck died exit status 4" (beim Versuch neu zu booten) </p></li></ul><p>dann enthält die Haupt-Partition einen Schreibfehler und wurde daher automatisch auf "Nur-Lesbar" gestellt.</p><p>Abhilfe ist die Überprüfung für die Haupt-Partition (die meistens <strong>sda1</strong> heißt und vom Typ <strong>ext3</strong> ist). Dazu startet man per <a class="external" href="http://www.knoppix.org/" rel="nofollow">KNOPPIX</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> oder einer anderen Live-CD und kann nun die Haupt-Partition in Ordnung bringen, denn die Partition darf nicht gemountet sein. Dazu gibt man folgenden Befehl im Terminal <sup><a href="#source-2">[2]</a></sup> ein:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo fsck.ext3 -v -f /dev/sda1 </pre></div></div><p>
Wenn sehr viele Fragen mit "<code class="notranslate">j</code>" beantwortet werden müssen, kann man mit 
<span class="key">Strg</span>  + 
<span class="key">C</span>  abbrechen und den Befehl mit dem folgenden Parameter noch einmal starten: "<code class="notranslate">-y</code>".</p><p><a class="crosslink anchor" href="#Partitionen-3" id="Partitionen-3"></a>
</p></div><div class="section_2"><h3 id="Partitionen-retten-wenn-Reparatur-nicht-mehr-moeglich-ist">Partitionen retten, wenn Reparatur nicht mehr möglich ist<a class="headerlink" href="#Partitionen-retten-wenn-Reparatur-nicht-mehr-moeglich-ist">¶</a></h3><p>
Ist eine komplette Partition nicht mehr lesbar, weil z.B. Teile des Dateisystems beschädigt sind, so gibt es auch hier die Möglichkeit, die noch "guten" Daten mit Hilfe des Programms <a class="external" href="http://www.garloff.de/kurt/linux/ddrescue" rel="nofollow">dd_rescue</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> zu retten. Wenn man die Wahl hat sollte gddrescue benutzt werden.</p><p>Ist die Boot-Partition defekt, so muss man ddrescue bzw. dd_rescue natürlich von einer Live-CD aus ausführen.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>ddrescue und dd_rescue ist für defekte Partitionen gedacht, nicht für Partitionen, die versehentlich formatiert wurden!
</p></div></div><div class="section_3"><h4 id="ddrescue">ddrescue<a class="headerlink" href="#ddrescue">¶</a></h4><p>
<a class="internal" href="./gddrescue.html">gddrescue</a> ist ein Programm zur Datenrettung von defekten Datenträgern. Die Funktionsweise ist im Artikel beschrieben. Es ist eine Weiterentwicklung von dd_rescue.
Das Programm in diesem Paket heißt ddrescue (ohne Unterstrich). Um es zu installieren muss folgendes Paket installiert werden:</p><ul><li><p><strong>gddrescue</strong> (<em>universe</em>)</p></li></ul><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Nicht durcheinander kommen: Das Paket ddrescue enhält das Programm dd_rescue (mit Unterstrich). Das Paket gddrescue enhält das Programm ddrescue (OHNE Unterstrich).
</p></div></div></div><div class="section_3"><h4 id="dd-rescue">dd_rescue<a class="headerlink" href="#dd-rescue">¶</a></h4><p>
Für dd_rescue muss das dd_rescue über folgendes Paket installiert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>ddrescue</strong> (<em>universe</em>) </p></li></ul><p>Die Anwendung von dd_rescue ist relativ simpel und sehr ausführlich auf <a class="external" href="http://www.linux-user.de/ausgabe/2004/08/048-dd-rescue/" rel="nofollow">linux-user.de</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> beschrieben.</p></div></div><div class="section_2"><h3 id="Dateien-aus-Image-extrahieren">Dateien aus Image extrahieren<a class="headerlink" href="#Dateien-aus-Image-extrahieren">¶</a></h3><p>
Nachdem ein Image mit dd bzw. <a class="internal" href="./gddrescue.html">ddrescue</a> erstellt wurde, kann man nun damit beginnen, Dateien aus dem Image zu extrahieren. Dazu gibt es mehrere Werkzeuge.</p><div class="section_3"><h4 id="tsk-recover">tsk_recover<a class="headerlink" href="#tsk-recover">¶</a></h4><p>
Das Programm <a class="external" href="http://sleuthkit.org/" rel="nofollow">tsk_recover</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist im folgenden Paket enthalten <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>sleuthkit</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install sleuthkit </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install sleuthkit </pre></div></div><p>
</p></div></div><p>
Nach der Installation kann man gleich beginnen, Dateien aus dem dd-Image zu extrahieren:</p><div class="bash"><div class="contents"><pre class="notranslate">tsk_recover -a dd_image_datei.img Ausgabeordner  </pre></div></div><p>Wobei der Ausgabeordner zuvor selber erstellt worden sein muss. Die Option <code class="notranslate">-a</code> bewirkt, dass lediglich ungelöschte Dateien u. Ordner in den Ausgabeordner kopiert werden, mit <code class="notranslate">-e</code> wird alles kopiert und ganz ohne Optionen werden nur die gelöschten Inhalte kopiert.</p><p>Weitere Informationen findet man in einem ausführlichen <a class="external" href="http://www.linux-magazin.de/Ausgaben/2011/03/Wider-das-Vergessen" rel="nofollow">Linux-Magazin-Artikel</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> sowie in der <a class="internal" href="./man.html">Man-Page</a>.</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="photorec.jpg" class="image-default" src="./_/07a1e525f2435b629b3dc34bff9dac0da7bb7e0d.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 250px"> PhotoRec</td></tr></table><p>
</p></div><div class="section_3"><h4 id="PhotoRec">PhotoRec<a class="headerlink" href="#PhotoRec">¶</a></h4><p>
PhotoRec stellt aus intakten und beschädigten Dateisystemen (nicht nur aus Images) verlorene Dateien von mehr als 180 Dateiformaten aus über 100 Dateifamilien wieder her (Bilder, Videos, Office, Archive, und viele mehr: <a class="external" href="http://www.cgsecurity.org/wiki/Wiederherstellbare_Dateiformate_unter_PhotoRec" rel="nofollow">Liste wiederherstellbarer Dateiformate</a>).</p><p>Das Programm <a class="external" href="http://www.cgsecurity.org/wiki/PhotoRec_DE" rel="nofollow">PhotoRec</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> ist im folgenden Paket enthalten <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>testdisk</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install testdisk </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install testdisk </pre></div></div><p>
</p></div></div><p>Anwendung: z. B. Datenrettung aus <a class="crosslink" href="#Partitionen-3">oben erwähntem</a> dd-Image:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo photorec dd_image_datei.img </pre></div></div><p>Zur Verwendung an anderen Dateisystemen</p><div class="bash"><div class="contents"><pre class="notranslate">sudo photorec </pre></div></div><p>Man muss sich nun durch das Text-Menü hangeln und die Extraktion starten. Weitere Informationen findet man in der offiziellen <a class="external" href="http://www.cgsecurity.org/wiki/PhotoRec_DE#Dokumentation" rel="nofollow">PhotoRec-Dokumentation</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> und in einer ausführlichen <a class="external" href="http://www.cgsecurity.org/wiki/PhotoRec_Schritt_f%C3%BCr_Schritt" rel="nofollow">Schritt-für-Schritt-Anleitung</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>. 
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>PhotoRec stellt grundsätzlich nur Datei-Inhalte, aber keine Datennamen wieder her.
</p></div></div><p>
Zur Aufbereitung (Filterung und Sortierung) der zahlreichen gewonnenen Dateien kann die Skript-Lösung <a class="internal" href="./skripte/sort_recovered.html">sort_recovered</a> hilfreich sein. Es gibt jedoch auch die offizielle Anleitung <a class="external" href="http://www.cgsecurity.org/wiki/Nach_dem_Gebrauch_von_PhotoRec" rel="nofollow">Dateien nach Gebrauch von Photorec nachbearbeiten und sortieren</a> und <a class="external" href="https://forum.cgsecurity.org/phpBB3/viewtopic.php?f=7&amp;t=7561" rel="nofollow">deren Korrektur</a>, welche zusätzlich auch das Auffinden und Neubenennen von Bildern, Öffnen defekter MS Office Dokumente sowie die Wiederherstellung defekter MS Outlook Emails behandelt.</p><p>Wenn man Office-Dateien von Open Office oder Libre Office im Standardformat <strong>ODT</strong> retten will, kann man diese anhand von Suchworten der Dokumenteninhalte wiederfinden:</p><p>Dabei sind <a class="internal" href="./sudo.html">Root</a>-Rechte nötig und <strong>odt2txt</strong> wird installiert.
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -i
apt-get install odt2txt
find <strong class="highlighted">ordner</strong> -type f <strong class="highlighted">-name "*.odt"</strong> -exec bash -c 'odt2txt '{}' 2&gt;/dev/null | egrep -i "<strong class="highlighted">dIpLoM|abrechnung</strong>" &amp;&amp; echo -e "## Quelle: '{}'\n"' ';'
exit </pre></div></div><p>
Die gelben Markierungen müssen angepasst werden: Suchordner, Dateiendung, Suchbegriff(e). Die Dateiendung geretteter Textdokumente könnte abweichend sein.</p><p><strong>DOC</strong>-Dateien kann man folgendermaßen nach Suchbegriffen durchsuchen, um seine wichtigsten Dokumente aus der Fülle geretteter Dateien wiederzufinden:</p><p>Dabei sind <a class="internal" href="./sudo.html">Root</a>-Rechte nötig und <strong>antiword</strong> wird installiert.
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -i
apt-get install antiword
find <strong class="highlighted">ordner</strong> -type f <strong class="highlighted">-name '*.doc'</strong> -exec bash -c 'antiword '{}' 2&gt;/dev/null | egrep -i "<strong class="highlighted">Abrechnung|Diplomarbeit</strong>" &amp;&amp; echo -e "## Quelle: '{}'\n"' ';'
exit </pre></div></div><p>
Auch hier gilt: Die gelben Markierungen müssen angepasst werden: Suchordner, Dateiendung, Suchbegriff(e). Die Dateiendung geretteter Textdokumente könnte abweichend lauten.</p><p>Für das Durchsuchen von <strong>PDF</strong>-Dateien kann man <a class="internal" href="./pdfgrep.html">pdfgrep</a> verwenden, vorausgesetzt, sie basieren auf Textdateien und nicht auf Scans oder Fotos bzw. Bildern.</p><p><a class="crosslink anchor" href="#Wechselmedien" id="Wechselmedien"></a>
</p></div></div></div><div class="section_1"><h2 id="Sonstige-Anwendungen">Sonstige Anwendungen<a class="headerlink" href="#Sonstige-Anwendungen">¶</a></h2><p>
</p><div class="section_2"><h3 id="recoverjpeg">recoverjpeg<a class="headerlink" href="#recoverjpeg">¶</a></h3><p>
<a class="external" href="http://www.rfc1149.net/devel/recoverjpeg" rel="nofollow">recoverjpeg</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> dient ausschließlich dazu, <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/JPEG">JPEG</a>-Dateien auf Wechseldatenträgern oder Festplatten wiederherzustellen. Es eignet sich daher sehr gut, um gelöschte Bilder auf dem Speicherchip einer Digitalkamera wiederherzustellen. Das Programm ist den Paketquellen von Ubuntu enthalten und kann über das folgende Paket installiert <sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>recoverjpeg</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install recoverjpeg </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install recoverjpeg </pre></div></div><p>
</p></div></div><p>
Anschließend kann man es über ein Terminal <sup><a href="#source-2">[2]</a></sup> auf einen ganzen Datenträger oder eine Partition ansetzen.</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein
recoverjpeg DATENTRÄGER
# Beispiel 1
recoverjpeg /dev/sdc
# Beispiel 2
recoverjpeg /dev/sda3 </pre></div></div><p>
recoverjpeg versucht nun gelöschte Bilder auf dem Datenträger zu finden und speichert sie als <strong>image&lt;nummer&gt;.jpg</strong> im aktuellen Verzeichnis ab.</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="safecopy.png" class="image-default" src="./_/47e860177f9ef68245a85dc92e5d1713d78ccf82.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 250px"> safecopy</td></tr></table><p>
</p></div><div class="section_2"><h3 id="safecopy">safecopy<a class="headerlink" href="#safecopy">¶</a></h3><p>
<a class="external" href="http://safecopy.sourceforge.net/" rel="nofollow">safecopy</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> bietet die Möglichkeit, Daten von defekten Datenträgern zu retten. Es liest Disketten blockweise aus und schreibt die fehlerfreien Daten in eine Ausgabedatei. Fehlerhafte Blöcke versucht das Programm auszulesen – sofern keine Rettung möglich ist, überspringt safecopy den defekten Block und fährt mit der Datenrettung fort.</p><p>Es ist über das folgende Paket zu installieren <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>safecopy</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install safecopy </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install safecopy </pre></div></div><p>
</p></div></div><p>
Es wird über das Terminal <sup><a href="#source-2">[2]</a></sup> aufgerufen.</p><p>
</p><table style="width: 97%"><tr class="titel"><td colspan="2"> safecopy </td></tr><tr class="kopf"><td style="text-align: center">Parameter </td><td> Beschreibung </td></tr><tr><td class="befehl">safecopy /dev/device ~/diskimage </td><td> Image des Dateisystems vom beschädigten Datenträger erstellen. </td></tr></table><p>
Um das Programm in allen Möglichkeiten nutzen zu können sollte man die <a class="internal" href="./man.html">Man-Page</a> durchlesen.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><div class="section_2"><h3 id="Intern">Intern<a class="headerlink" href="#Intern">¶</a></h3><p>
</p><ul><li><p><a class="internal" href="./notfall.html">Notfall</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Was tun in Notfällen? </p></li></ul><p>
</p></div><div class="section_2"><h3 id="Extern">Extern<a class="headerlink" href="#Extern">¶</a></h3><p>
</p><ul><li><p><a class="interwiki interwiki-ubuntu_doc" href="https://help.ubuntu.com/community/DataRecovery">Data Recovery</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - in der englischen Ubuntu-Dokumentation</p></li><li><p><a class="external" href="http://www.cgsecurity.org/wiki/PhotoRec_DE" rel="nofollow">PhotoRec</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="http://howtorecover.me/how-recover-files-corrupted-memory-card-using-photorec" rel="nofollow">Wiederherstellen von Dateien von beschädigten Speicherkarte mit PhotoRec</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.sleuthkit.org/" rel="nofollow">The Sleuth Kit / Autopsy Browser</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Forensik-Werkzeug</p><ul><li><p><a class="external" href="http://www.netmon.ch/forensic/allin1.html" rel="nofollow">Allin1</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li></ul></li><li><p><a class="interwiki interwiki-sourceforge" href="http://sourceforge.net/projects/safecopy">safecopy</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Datenrettungsprogramm, in den offiziellen Paketquellen enthalten</p></li><li><p><a class="external" href="http://www.guzu.net/linux/datarecovery.php" rel="nofollow">Datarecovery</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - umfangreiche Linkliste, Datenwiederherstellung unter Linux u.a.</p></li><li><p><a class="external" href="http://bitbucket.org/haypo/hachoir/wiki/Home" rel="nofollow">Hachoir - Forensic and data recovery</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Übersicht nützlicher Werkzeuge</p></li><li><p><a class="interwiki interwiki-pdf" href="http://www.it-service24.com/downloads/ubuntu-datenrettung.pdf">Datenrettung unter Ubuntu</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Merkblatt, 04/2014</p></li><li><p><a class="external" href="http://www.linux-magazin.de/Ausgaben/2011/03/Wider-das-Vergessen" rel="nofollow">Automatisiertes Wiederherstellen von Dateien mit Sleuthkit 3.2</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> – Linux-Magazin, 03/2011</p></li><li><p><a class="external" href="http://www.heise.de/download/special-datenrettung-mit-knoppix-150471.html" rel="nofollow">Datenrettung mit Knoppix</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - c't 06/2008 (Februar 2008)</p></li><li><p><a class="external" href="http://www.martin-bock.de/pc/pc-0207.html" rel="nofollow">Retten gelöschter Dateien unter ext2</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Blogbeitrag, 07/2002</p></li></ul><p>
<a class="crosslink anchor" href="#Links-Windows" id="Links-Windows"></a></p></div><div class="section_2"><h3 id="Windows-Programme">Windows-Programme<a class="headerlink" href="#Windows-Programme">¶</a></h3><p>
<img alt="Wiki/Icons/windows_users.png" class="image-right" src="./_/b1713bfb13b2eb21be79f766ad0c8ecdf029dda7.png"/>
</p><ul><li><p><a class="external" href="http://www.diskinternals.com/linux-recovery/" rel="nofollow">Linux Ext2/Ext3 data recovery for Windows</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Komfortable Rettung gelöschter Dateien/Verzeichnisse</p></li><li><p><a class="external" href="http://www.heise.de/download/default.shtml?s=suche" rel="nofollow">Programmsuche im heise Software-Verzeichnis</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> </p></li><li><p><a class="external" href="http://www.giga.de/software/sicherheit-utilities/datenrettung/" rel="nofollow">Datenrettung</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Giga Software (früher Winload.de)</p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./datenrettung/a/revision/946460.html">Diese Revision</a> wurde am 16. Januar 2018 10:46 von <a href="https://ubuntuusers.de/user/UlfZibis/">UlfZibis</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./datenrettung.html">Datenrettung</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>