<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>apt-dater › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./apt-dater.html">apt-dater</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/apt-dater">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./apt-dater/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./apt-dater/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./apt-dater/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./apt-dater/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./apt-dater/a/backlinks.html">apt-dater</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./programme_starten.html">Starten von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./ssh.html">Authentifizierung über Public Keys</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Voraussetzungen">Voraussetzungen
</a></li><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Bedienung">Bedienung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/terminal.png" class="image-left" src="./_/e81889fd6e485dd32e1cde611eabc18abced7993.png"/>
<a class="external" href="http://www.ibh.de/apt-dater/" rel="nofollow">apt-dater</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein Kommandozeilenwerkzeug, mit dem Updates auf einer größeren Anzahl von Hosts verteilt und die Installation zentral gesteuert werden können. Zu Beginn wird ein zentrales System definiert (der "Server"), das sämtliche Statusmeldungen der Clients sammelt und darstellt. Die Kommunikation erfolgt über SSH mittels Key-Authentification, eine entsprechende Einrichtung der Clients ist daher Voraussetzung.</p><div class="section_1"><h2 id="Voraussetzungen">Voraussetzungen<a class="headerlink" href="#Voraussetzungen">¶</a></h2><p>
Um mit apt-dater arbeiten zu können, muss der Host mittels eines definierten Benutzers via SSH auf den Client ohne Passwortauthentifizierung zugreifen können. Die Methode zur Umsetzung wird in einem eigenen Artikel beschrieben und soll hier nicht Thema sein: <a class="internal" href="./ssh.html#Authentifizierung-ueber-Public-Keys">SSH-Authentifizierung über Public Keys</a>.</p></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Das Programm ist nicht in der Standardinstallation enthalten und kann über folgende Pakete installiert werden. Dabei werden auf den Clients andere Pakete benötigt als auf dem Server:</p><ul><li><p><strong>apt-dater-host</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install apt-dater-host </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install apt-dater-host </pre></div></div><p>
</p></div></div><p>
Auf dem später als Server dienenden System (von dem aus die Updates zu verwalten sind) werden hingegen folgende Pakete benötigt:</p><ul><li><p><strong>apt-dater</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install apt-dater </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install apt-dater </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Nachfolgend wird der Benutzer, mit dem apt-dater auf einen Client zugreift, <strong>monitor</strong> genannt.</p><div class="section_2"><h3 id="Client">Client<a class="headerlink" href="#Client">¶</a></h3><p>
Da Standardbenutzer nicht die Berechtigung zur Ausführung von apt-get besitzen und auch nicht mittels root verbunden werden soll, muss dem Benutzer monitor explizit die Berechtigung dazu gegeben werden.</p><p>Zu diesem Zweck muss die Datei <strong>/etc/sudoers</strong> über <strong>visudo</strong> bearbeitet werden.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo visudo  </pre></div></div><p>Hier ist folgende Zeile hinzuzufügen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1"># User privilege specification</span>
monitor <span class="nv">ALL</span><span class="o">=</span>NOPASSWD: /usr/bin/aptitude, /usr/bin/apt-get
</pre></div>
</td></tr></table></div><p>Dieser Schritt muss auf allen späteren Clients wiederholt werden.</p></div><div class="section_2"><h3 id="Server">Server<a class="headerlink" href="#Server">¶</a></h3><p>
Auf der Konsole ist apt-dater zu starten. Dabei werden beim ersten Start die Konfigurationsdateien initialisiert.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-dater </pre></div></div><p>Alle Clients müssen in der Konfigurationsdatei des apt-daters eingetragen werden. Diese befindet sich im Benutzerverzeichnis, da apt-dater mittels sudo gestartet worden ist. Soll dagegen apt-dater später als normaler Benutzer ausgeführt werden, sollte zum entsprechenden Benutzer gewechselt werden.</p><p>Die Syntax der Datei <strong>/root/.config/apt-dater/hosts.conf</strong> ist sehr einfach und setzt sich aus folgenden Komponenten zusammen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1">#  [Customer Name]</span>
<span class="c1">#  Hosts=([OptionalUser@]host.domain[:OptionalPort];)*</span>
</pre></div>
</td></tr></table></div><p>
</p><table style="width: 97%"><tr class="titel"><td colspan="2"> Argumente </td></tr><tr class="kopf"><td style="width: 15%"> BEFEHL </td><td> Bedeutung </td></tr><tr><td> <code class="notranslate">[Customer Name]</code> </td><td> Ein selbstdefinierter Name für die Gruppe. Passend wäre beispielsweise [SERVERS] oder [DAHEIM]. </td></tr><tr><td> <code class="notranslate">Hosts=</code> </td><td> Hier beginnt die Auflistung der Hosts, die sich in einer bestimmten Gruppe befinden. Jeder Eintrag eines Hosts wird abgeschlossen durch ein Semikolon. </td></tr><tr><td> <code class="notranslate">OptionalUser</code> </td><td> Der Benutzer, mit dem apt-dater auf den Host zugreifen soll, im Beispiel also monitor. Falls mit demselbem Benutzer zugegriffen wird, mit dem auch apt-dater läuft, kann dieser Eintrag weggelassen werden (nicht empfohlen). </td></tr><tr><td> <code class="notranslate">host.domain</code> </td><td> IP-Adresse oder vollständiger Hostname. </td></tr><tr><td> <code class="notranslate">OptionalPort</code> </td><td> Ein optionaler SSH-Port, falls das Zielsystem nicht auf Port 22 erreichbar ist. </td></tr><tr><td> </td></tr></table><p>Zur besseren Verständlichkeit hier eine Beispielkonfiguration:</p><pre class="notranslate"># Syntax:
#
#  [Customer Name]
#  Hosts=([OptionalUser@]host.domain[:OptionalPort];)*
#

[SERVERS]
Hosts=monitor@192.168.1.88;monitor@vm22.ubuntuusers.de;monitor@192.168.1.34:1822;

[Clients]
Hosts=monitor@marcelspc;monitor@102.168.1.6;</pre></div></div><div class="section_1"><h2 id="Bedienung">Bedienung<a class="headerlink" href="#Bedienung">¶</a></h2><p>
Direkt nach der Installation und mit der angegebenen Beispielkonfiguration stellt sich apt-dater folgendermaßen dar:</p><p><img alt="apt-dater-start.png" class="image-default" src="./_/24319a187b27b19dd9ca58d641bea2f6dc397e16.png"/></p><p>Mittels der Pfeiltasten kann nun im Baum navigiert werden. Sind ein einzelner Host oder eine Gruppe markiert, werden oben die verfügbaren Befehle angezeigt. Im obigen Bild könnten alle Hosts mit dem Status "Unbekannt" aktualisiert werden.</p><p>Eine Auflistung der einzelnen Befehle sowie der Meldungen kann mittels 
<span class="key">?</span>  angezeigt werden.</p><p>Unbekannt sind alle Hosts, die erst hinzugefügt und noch nicht aktualisiert worden sind, jedoch ohne Hosts, zu denen der Server keine Verbindung hat aufbauen können.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.ibh.de/apt-dater/" rel="nofollow">apt-dater</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="internal" href="./paketverwaltung.html">Paketverwaltung</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./apt-dater/a/revision/768238.html">Diese Revision</a> wurde am 28. November 2014 09:50 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./apt-dater.html">apt-dater</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>