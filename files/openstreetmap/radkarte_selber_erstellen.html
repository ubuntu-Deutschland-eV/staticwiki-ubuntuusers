<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>OpenStreetMap/Radkarte_selber_erstellen › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../openstreetmap/radkarte_selber_erstellen.html">Radkarte selber erstellen</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/OpenStreetMap/Radkarte_selber_erstellen">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../openstreetmap/radkarte_selber_erstellen/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../openstreetmap/radkarte_selber_erstellen/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../openstreetmap/radkarte_selber_erstellen/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../openstreetmap/radkarte_selber_erstellen/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../openstreetmap/radkarte_selber_erstellen/a/backlinks.html">Radkarte selber erstellen</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="../trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../programme_starten.html">Starten von Programmen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Vorbereitungen">Vorbereitungen
</a></li><li><a class="crosslink" href="#Erstellen-der-Karte">Erstellen der Karte
</a></li><li><a class="crosslink" href="#Anpassung">Anpassung
</a></li><li><a class="crosslink" href="#Problemloesungen">Problemlösungen
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>
<img alt="openstreetmap/logo.png" class="image-left" src="../_/d1e827d94cdac29b18f84bd66e8f672ba7375dfa.png"/>
Dieser Artikel richtet sich an alle radfahrenden Nutzer von GPS-Geräten der Marke Garmin, die eine selber erstellte <a class="internal" href="../openstreetmap.html">Openstreetmap</a>-Karte auf ihr Gerät bringen wollen.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Zuerst müssen einige Programme aus den ofiziellen Paketquellen installiert <sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>ant</strong></p></li><li><p><strong>ant-contrib</strong></p></li><li><p><strong>bzr</strong></p></li><li><p><strong>m4</strong></p></li><li><p><strong>openjdk-7-jdk</strong></p></li><li><p><strong>subversion</strong></p></li><li><p><strong>openjdk-8-jdk</strong> (Xenial)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install ant ant-contrib bzr m4 openjdk-7-jdk subversion openjdk-8-jdk </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install ant ant-contrib bzr m4 openjdk-7-jdk subversion openjdk-8-jdk </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Vorbereitungen">Vorbereitungen<a class="headerlink" href="#Vorbereitungen">¶</a></h2><p>
Um sich eine Radkarte zu erstellen, öffnet man ein Terminalfenster <sup><a href="#source-2">[2]</a></sup>, erstellt und wechselt in einen geeigneten Ordner (z.B. <strong>~/OSM</strong>) und lädt dann zuerst den Quellcode mit Bazaar aus dem Launchpad-Projekt <a class="interwiki interwiki-launchpad" href="https://launchpad.net/radkarte">OSM Radkarte</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> herunter:</p><div class="bash"><div class="contents"><pre class="notranslate">bzr branch lp:radkarte </pre></div></div><p>Danach wechselt man in den entstandenen Ordner:
</p><div class="bash"><div class="contents"><pre class="notranslate">cd radkarte </pre></div></div></div><div class="section_1"><h2 id="Erstellen-der-Karte">Erstellen der Karte<a class="headerlink" href="#Erstellen-der-Karte">¶</a></h2><p>
Nach einigen sinnvollen Anpassungen (siehe unten) gibt man</p><div class="bash"><div class="contents"><pre class="notranslate">ant dist </pre></div></div><p>
ein und schaut dem Rechner beim Arbeiten zu. Dabei ist zu beachten, das das Skript einige Dateien mit einer Gesamtgröße von ca. 500 MiB sowie die gewünschte Region von der Geofabrik herunterlädt. Wenn man die Region schon heruntergeladen hat, kopiert man sie in den Unterordner <strong>build/</strong>, damit sie verwendet wird.</p><p>Die Radkarte(n) (also die entpackte(n) Datei(en) <strong>gmapsupp.img</strong> aus dem Unterordner <strong>build/dist/</strong>) speichert man danach auf der SD-Karte des Garmins im Ordner <strong>garmin/</strong> ab.</p></div><div class="section_1"><h2 id="Anpassung">Anpassung<a class="headerlink" href="#Anpassung">¶</a></h2><p>
Bevor man los legt, lohnen sich einige Anpassung an der Konfigurationsdatei <strong>build.xml</strong>:</p><div class="section_2"><h3 id="Andere-Region-generieren">Andere Region generieren<a class="headerlink" href="#Andere-Region-generieren">¶</a></h3><p>
Wenn man eine andere Karte als Deutschland generieren will (z.B. nur ein bestimmtes Bundesland), muss man in der Datei <strong>build.xml</strong> den Downloadpfad und -dateiname anpassen:</p><pre class="notranslate">&lt;property name="dl_path" value="europe/"/&gt;
&lt;property name="dl_region" value="germany"/&gt;</pre><p>Die jeweiligen Dateien und Pfade findet man bei der <a class="external" href="http://download.geofabrik.de/" rel="nofollow">Geofabrik</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>. Für Stuttgart wäre es z.B.</p><pre class="notranslate">&lt;property name="dl_path" value="europe/germany/baden-wuerttemberg/"/&gt;
&lt;property name="dl_region" value="stuttgart-regbez"/&gt;</pre></div><div class="section_2"><h3 id="Karten-ID-aendern">Karten-ID ändern<a class="headerlink" href="#Karten-ID-aendern">¶</a></h3><p>
Wenn man mehr als eine auf diese Art generierte Karte auf dem SD-Karte speichert, gibt es das Problem, dass diese zum einen zusammengefasst werden und zum anderen nur eine der Karten angezeigt wird. Grund hierfür ist, das diese alle die gleiche ID bekommen und somit nur eine gewinnt.</p><p>Daher ändert man die Zeile</p><pre class="notranslate">&lt;property name="family_id_base" value="5900"/&gt;</pre><p>ab und vergibt dort bei jeder Karte andere IDs, die sich mindestens in den ersten zwei Ziffern unterscheiden sollten. Man kann z.B. die ersten zwei Ziffern hochzählen lassen: 5900, 6000, 6100, … Erst dann erscheinen beide Karten auf dem Navi für eine eigene Anwahl und können auch gleichzeitig dargestellt werden.</p></div></div><div class="section_1"><h2 id="Problemloesungen">Problemlösungen<a class="headerlink" href="#Problemloesungen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Radkarte-kompiliert-nicht">Radkarte kompiliert nicht<a class="headerlink" href="#Radkarte-kompiliert-nicht">¶</a></h3><p>
Seit ungefähr rev. 400 kommt eine Fehlermeldung:</p><pre class="notranslate">BUILD FAILED
/home/radkarte/build.xml:28: Problem: failed to create task or type math
Cause: The name is undefined.</pre><p>Laut <a class="interwiki interwiki-launchpad" href="https://launchpad.net/radkarte/+bug/1210747">diesem Bugreport</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> muss man zur Abhilfe folgendes Paket installieren:</p><ul><li><p><strong>ant-contrib</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install ant-contrib </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install ant-contrib </pre></div></div><p>
</p></div></div></div><div class="section_2"><h3 id="Radkarte-kompiliert-nicht-2">Radkarte kompiliert nicht (2)<a class="headerlink" href="#Radkarte-kompiliert-nicht-2">¶</a></h3><p>
Wenn es Fehlermeldungen der Art</p><pre class="notranslate">[apply] Schwerwiegend (SeaGenerator): /home/dee/Downloads/radkarte/build/59000002.osm.pbf: Cannot read index file index.txt.gz
[apply] Schwerwiegend (LocationHook): /home/dee/Downloads/radkarte/build/59000005.osm.pbf: Disable LocationHook because bounds directory is unusable.</pre><p>gibt, dann liegt das daran, dass die vorkompilierten Grenzdateien nicht bzw. nicht korrekt heruntergeladen wurden (siehe <a class="interwiki interwiki-launchpad" href="https://launchpad.net/radkarte/+bug/1322802">Bugreport</a>).</p><p>Da diese nicht zwingend notwendig sind, reicht es, in der <strong>build.xml</strong> folgende Zeilen zu entfernen:</p><pre class="notranslate">&lt;arg value="--precomp-sea=${basedir}/${cachedir}/downloads/precomp_sea.zip"/&gt;
&lt;arg value="--bounds=${basedir}/${cachedir}/downloads/precomp_bounds.zip"/&gt; </pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Diese tauchen jeweils zweimal in der Datei auf.
</p></div></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.formann.de/radkarte/" rel="nofollow">Homepage des Projekts Radkarte von Johannes Formann</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="interwiki interwiki-launchpad" href="https://launchpad.net/radkarte">OSM Radkarte</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.deesaster.org/blog/index.php?/archives/2147" rel="nofollow">OSM-Radkarten selbst erstellt</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Blogeintrag, 06/2013</p></li><li><p><a class="internal" href="../openstreetmap.html">OpenStreetMap</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p><ul><li><p><a class="internal" href="../openstreetmap/programme.html">OpenStreetMap/Programme</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Programmübersicht</p></li></ul></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../openstreetmap/radkarte_selber_erstellen/a/revision/940531.html">Diese Revision</a> wurde am 8. Mai 2017 22:27 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../openstreetmap.html">OpenStreetMap</a></li>
<li><a href="../openstreetmap/radkarte_selber_erstellen.html">Radkarte selber erstellen</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>