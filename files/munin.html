<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Munin › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./munin.html">Munin</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Munin">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./munin/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./munin/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./munin/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./munin/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./munin/a/backlinks.html">Munin</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./paketquellen_freischalten.html">Bearbeiten von Paketquellen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Munin-steuern">Munin steuern
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a><ol class="arabic"><li><a class="crosslink" href="#Munin">Munin
</a><ol class="arabic"><li><a class="crosslink" href="#Anderes-Webverzeichnis">Anderes Webverzeichnis
</a></li><li><a class="crosslink" href="#Hosts">Hosts
</a></li><li><a class="crosslink" href="#Warnungen-verschicken">Warnungen verschicken
</a></li></ol></li><li><a class="crosslink" href="#Munin-Node">Munin-Node
</a><ol class="arabic"><li><a class="crosslink" href="#Weitere-Plugins">Weitere Plugins
</a></li></ol></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./munin_logo.png" class="image-left" src="./_/6e91677ce49be3e9efe2e92836e36663e6a3b9b8.png"/>
<a class="external" href="http://munin-monitoring.org/" rel="nofollow">Munin</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist eine umfassende und sehr einfach zu bedienende Rechner-Überwachungssoftware. Verschiedene Informationen wie die Prozessorauslastung, Festplattenbelegungen oder auch Zugriffe auf Serverdienste eines oder mehrerer Rechner werden permanent gesammelt und können über eine Weboberfläche betrachtet werden.</p><p>Munin selber ist als Master/Client-Anwendung aufgebaut. Der Master-Rechner kann den "Munin-Node" auf weiteren Rechnern im Netzwerk abfragen und so diese Informationen mit anzeigen. Munin eignet sich daher für die Überwachung eines einzigen Rechners wie auch für die Überwachung eines ganzen Rechnerparks. Ein Beispiel einer Munin-Installation zur Überwachung eines ganzen Rechnerfuhrparks findet man <a class="external" href="http://munin.ping.uio.no/" rel="nofollow">hier</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> .</p><p>Alternativen zu Munin sind <a class="external" href="http://www.nagios.org" rel="nofollow">Nagios</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> und <a class="external" href="https://www.icinga.org/" rel="nofollow">Icinga</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
<img alt="./munin.png" class="image-right" src="./_/b11aeb100604d51267ba9cdc6eb3a3239c335d52.png"/></p><p>Munin kann aus den Paketquellen installiert werden. Dazu müssen je nach Bedarf die Pakete</p><ul><li><p><strong>munin</strong> (<em>universe</em>, <sup><a href="#source-2">[2]</a></sup>) </p></li><li><p><strong>munin-node</strong> (<em>universe</em>) </p></li></ul><p>
installiert <sup><a href="#source-1">[1]</a></sup> werden. Je nach Einsatz sollte nur <strong>munin</strong> bzw. <strong>munin-node</strong> installiert werden. <strong>munin-node</strong> sammelt nur die Daten, die dann von <strong>munin</strong> abgerufen und über einen Webserver dargestellt werden.</p><p>Bei der Installation von <strong>munin</strong> ist zu beachten, dass ein <a class="internal" href="./serverdienste.html">Webserver</a> auf dem Rechner bereits eingerichtet sein sollte, damit die Informationen auch abgerufen werden können. Ebenso muss der <a class="internal" href="./cron.html">Cron-Daemon</a> installiert sein, damit <strong>munin</strong> auch die Serverstatistiken erstellt (Der Master und der Client erstellen dazu in /etc/cron.d/ je einen Cron-Job).
Anschließend kann man die Statistiken unter der Adresse http:/<strong></strong>/<em>&lt;Servername oder -IP&gt;</em>/munin/ abrufen.</p><p><a class="crosslink anchor" href="#Steuerung" id="Steuerung"></a>
</p></div><div class="section_1"><h2 id="Munin-steuern">Munin steuern<a class="headerlink" href="#Munin-steuern">¶</a></h2><p>
Wie alle anderen Dienste bringt Munin Start/Stop-Skripte mit. Diese Skripte lassen sich natürlich auch zum Kontrollieren des Dienstes gebrauchen.</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein
sudo /etc/init.d/munin-node {start|stop|restart|force-reload|try-restart}
# Beispiel
sudo /etc/init.d/munin-node restart </pre></div></div><ul><li><p><em>"start"</em> - Startet den Dienst </p></li><li><p><em>"stop"</em> - Stoppt den Dienst </p></li><li><p><em>"restart"</em> - Startet den Dienst neu, bestehende Verbindungen auf den Server werden gekappt </p></li><li><p><em>"force-reload"</em> - Lädt die Konfigurationsdateien neu und beendet laufende Verbindungen </p></li><li><p><em>"try-restart"</em> - Startet den Dienst nur neu, wenn er vorher nicht beendet wurde </p></li></ul><p>Mehr dazu im Wiki unter <a class="internal" href="./dienste.html">Dienste</a>.</p></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Munin und Munin-Node können nun getrennt voneinander eingerichtet werden. Die Konfiguration erfolgt jeweils über eine Textdatei, die mit einem beliebigen Texteditor sowie Root-Rechten bearbeitet werden kann <sup><a href="#source-4">[4]</a></sup>.</p><div class="section_2"><h3 id="Munin">Munin<a class="headerlink" href="#Munin">¶</a></h3><p>
Munin ruft die Informationen der einzelnen Nodes ab und stellt die gewonnenen Informationen über einen Webserver dar. Die Konfiguration erfolgt über die Datei <strong>/etc/munin/munin.conf</strong>.</p><div class="section_3"><h4 id="Anderes-Webverzeichnis">Anderes Webverzeichnis<a class="headerlink" href="#Anderes-Webverzeichnis">¶</a></h4><p>
Munin legt seine Daten für den Webserver in <strong>/var/www/munin/</strong> ab. Sollte man dieses Verzeichnis nicht benutzen wollen, so kann man dies in der <strong>munin.conf</strong> ändern.</p><pre class="notranslate"># The next three variables specifies where the location of the RRD
# databases, the HTML output, and the logs, severally.  They all
# must be writable by the user running munin-cron.
dbdir   /var/lib/munin
htmldir /var/www/munin
logdir  /var/log/munin
rundir  /var/run/munin</pre><p>Man sollte nicht vergessen das neue Verzeichnis selber zu erstellen und <strong>munin</strong> die Rechte mittels</p><div class="bash"><div class="contents"><pre class="notranslate">chown munin:munin /var/www/domain/example.org/munin </pre></div></div><p>zu übergeben.</p><p>Anmerkung: in Ubuntu 10.04 wird das Datenverzeichnis per default in <strong>/var/cache/munin/www/</strong> abgelegt. Hier reicht ein symlink in <strong>/var/www/</strong>, wenn man das Verzeichnis dort belassen und die conf nicht anpassen möchte (zumindest bei Verwendung eines alternativen www-servers wie lighttpd):
</p><div class="bash"><div class="contents"><pre class="notranslate">cd /var/www/
sudo ln -s /var/cache/munin/www/ munin </pre></div></div><p>Dann erreicht man die Seite von munin auch wie gewohnt über: <a class="external" href="http://host.domain.xy/munin/" rel="nofollow" title="http://host.domain.xy/munin/">http://host.domain.xy/munin/</a></p></div><div class="section_3"><h4 id="Hosts">Hosts<a class="headerlink" href="#Hosts">¶</a></h4><p>
In der Standardeinstellung wird nur der <em>"localhost"</em>, also der eigene Rechner von munin abgefragt.</p><pre class="notranslate"># a simple host tree
[localhost.localdomain]
    address 127.0.0.1
    use_node_name yes</pre><p>Hier kann man jedoch problemlos weitere Munin-Nodes hinzufügen. Also beispielsweise einfach</p><pre class="notranslate">[webserver.beispiel]
    address 192.168.0.10
[sqlserver.beispiel]
    address 192.168.0.11</pre><p>
in die Konfigurationsdatei einfügen.</p></div><div class="section_3"><h4 id="Warnungen-verschicken">Warnungen verschicken<a class="headerlink" href="#Warnungen-verschicken">¶</a></h4><p>
Munin kann beim Überschreiten festgelegter Werte automatisch Warnungen verschicken. So wird man als Administrator rechtzeitig gewarnt, wenn beispielsweise Plattenplatz knapp wird. Dazu muss in der <strong>munin.conf</strong> zuerst der Empfänger mittels der Zeilen</p><pre class="notranslate"># Drop somejuser@fnord.comm and anotheruser@blibb.comm an email everytime
# something changes (OK -&gt; WARNING, CRITICAL -&gt; OK, etc)
contacts me
contact.me.command mail -s "Munin notification ${var:host}" user@example.com
contact.me.always_send warning critical</pre><p>
bestimmt werden. Die E-Mailadresse ist hier anzupassen. Voraussetzung für den Versand solcher Emails ist, dass ein MTA wie beispielsweise <a class="internal" href="./postfix.html">Postfix</a> installiert und konfiguriert ist. Anschliessend kann man die kritischen Werte definieren, bei denen die Warnung abgeschickt werden soll. Dies geschieht bei jedem einzelnen Host in der Art</p><pre class="notranslate">[localhost.localdomain]
    address 127.0.0.1
    use_node_name yes
    &lt;plugin&gt;.&lt;feldname&gt;.{critical,warning} &lt;wert&gt;</pre><p>
Hierbei sind für die Platzhalter zu ersetzen:</p><ul><li><p><em>"&lt;plugin&gt;"</em> - Den Namen des Plugins bekommt man am einfachsten über die Url des Graphen. Am Ende der Url findet man den Namen wie z.B. beim Plugin zur Festplattenbelegung ".../localhost.localdomain-<strong>df</strong>.html". Das <em>"df"</em> wäre in diesem Fall der Pluginname. </p></li><li><p><em>"&lt;feldname&gt;"</em> - Die Feldnamen erfährt man wiederum, wenn man sich einen Graphen im Detail ansieht. Auf diesen Seiten sind am Ende die Feldnamen unter der Bezeichnung <em>"Internal name"</em> aufgeführt. </p></li><li><p><em>"{critical,warning}"</em> - Diese beiden Optionen sind frei wählbar und bestimmen ob eine <em>"Warnung"</em> oder eine <em>"Kritische"</em> Warnmeldung verschickt wird. </p></li><li><p><em>"&lt;wert&gt;"</em> - Dieser Wert ist frei wählbar und sollte entsprechend dem Wert gesetzt werden, ab dem die Warnung verschickt werden soll. </p></li></ul><p>Letztendlich sieht dann ein Eintrag beispielsweise so aus:</p><pre class="notranslate">[localhost.localdomain]
    address 127.0.0.1
    use_node_name yes
    df._dev_evms_hda2.warning 70
    df._dev_evms_hda2.critical 95
    df._dev_mapper_hda5.warning 70
    df._dev_mapper_hda5.critical 70</pre></div></div><div class="section_2"><h3 id="Munin-Node">Munin-Node<a class="headerlink" href="#Munin-Node">¶</a></h3><p>
Der Munin-Node sammelt Daten über das System. In der Konfigurationsdatei <strong>/etc/munin/munin-node.conf</strong> des Munin-Nodes wiederum gibt es auch nicht sehr viel einzustellen. Die wichtigste Option ist sicherlich die Möglichkeit, dass der Node von einem anderen Munin-Client abgefragt wird. Die Standardeinstellung limitiert die Abfrage auf den <em>"localhost"</em>, weitere Nodes müssen so wie beispielsweise hier</p><pre class="notranslate"># A list of addresses that are allowed to connect.  This must be a
# regular expression, due to brain damage in Net::Server, which
# doesn't understand CIDR-style network notation.  You may repeat
# the allow line as many times as you'd like

allow ^127\.0\.0\.1$
allow ^192\.168\.0\.5$</pre><p>
hinzugefügt werden.</p><div class="section_3"><h4 id="Weitere-Plugins">Weitere Plugins<a class="headerlink" href="#Weitere-Plugins">¶</a></h4><p>
Von Haus aus sind zahlreiche Plugins aktiviert. Im Verzeichnis <strong>/usr/share/munin/plugins</strong> findet man noch weitere Module, die man bei Bedarf hinzufügen kann. Prinzipiell geschieht dies durch das Setzen eines Links in das Verzeichnis <strong>/etc/munin/plugins/</strong>. Alle Plugins, die dort verlinkt sind, werden von Munin-Node beachtet.</p><div class="section_4"><h5 id="Autoconf-Plugins">Autoconf-Plugins<a class="headerlink" href="#Autoconf-Plugins">¶</a></h5><p>
Die meisten Plugins konfigurieren sich selber. Über den Befehl <sup><a href="#source-3">[3]</a></sup></p><div class="bash"><div class="contents"><pre class="notranslate">./&lt;plugin&gt; autoconf </pre></div></div><pre class="notranslate">yes</pre><p>
kann man überprüfen, ob das Modul <em>"autoconf"</em> beherrscht, also nicht konfiguriert werden muss. Ist die Antwort <em>"yes"</em>, so kann das Modul ohne weitere Probleme aktiviert werden. Dazu später mehr.</p></div><div class="section_4"><h5 id="Wildcard-Plugins">Wildcard-Plugins<a class="headerlink" href="#Wildcard-Plugins">¶</a></h5><p>
Wildcard Plugins erkennt man daran, dass sie einen Unterstrich <em>"_"</em> am Ende des Dateinamens wie <strong>if_</strong> oder <strong>sensors_</strong> tragen. Diese Plugins können mehrere Geräte überwachen und benutzen die Angabe nach dem Unterstrich als Variable. Über die Option <em>"suggest"</em> bekommt man Informationen zu den Möglichkeiten.</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein
./&lt;plugin&gt;_ suggest
# Beispiel
./sensors_ suggest </pre></div></div><pre class="notranslate">fan
volt
temp</pre></div><div class="section_4"><h5 id="Plugin-testen">Plugin testen<a class="headerlink" href="#Plugin-testen">¶</a></h5><p>
Bevor man ein Plugin aktiviert, sollte man es kurz testen. Dazu gibt es das Kommando <code class="notranslate">munin-run</code>. Dieses führt das Plugin aus und zeigt die Ergebnisse in einem Terminal an.</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein
sudo munin-run &lt;plugin&gt;
# Beispiel
sudo munin-run df </pre></div></div><pre class="notranslate">_dev_evms_hda2.value 50
varrun_var_run.value 1
varlock_var_lock.value 1
procbususb.value 1
udev_dev.value 1
devshm_dev_shm.value 0
lrm_lib_modules_2_6_20_16_generic_volatile.value 11
_dev_mapper_hda1.value 57
_dev_mapper_hda5.value 78</pre><p>
So kann man frühzeitig erkennen, ob das Plugin funktioniert und ob Daten ausgegeben werden.</p></div><div class="section_4"><h5 id="Plugin-aktivieren">Plugin aktivieren<a class="headerlink" href="#Plugin-aktivieren">¶</a></h5><p>
Wie schon gesagt müssen die Plugins aus <strong>/usr/share/munin/plugins</strong> nur in <strong>/etc/munin/plugins/</strong> verlinkt werden um aktiviert zu werden. Dies geschieht in einem Terminal mittels des Befehls <sup><a href="#source-3">[3]</a></sup></p><div class="bash"><div class="contents"><pre class="notranslate"># Normales Plugin
sudo ln -s /usr/share/munin/plugins/&lt;modul&gt; /etc/munin/plugins/
# Wildcard-Plugin
sudo ln -s /usr/share/munin/plugins/&lt;modul&gt;_ /etc/munin/plugins/&lt;modul&gt;_&lt;ausgabe&gt; </pre></div></div><p>
Nachdem man ein Plugin aktiviert hat, muss man den Munin-Node <a class="crosslink" href="#Steuerung">neu starten</a>, damit das Plugin auch berücksichtigt wird.</p></div><div class="section_4"><h5 id="Beispiel-1-Hardwaredaten">Beispiel 1: Hardwaredaten<a class="headerlink" href="#Beispiel-1-Hardwaredaten">¶</a></h5><p>
Munin kann die Daten, die die Programme <a class="internal" href="./lm_sensors.html">Lm sensors</a> sowie <a class="internal" href="./hddtemp.html">hddtemp</a> liefern, einbinden. Sind die Programme bei der Installation von Munin-Node bereits installiert, so wird dies meist erkannt und das Plugin aktiviert. Möchte man dies nachholen, so müssen die entsprechenden Programme installiert und dann die Plugins mittels</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ln -s /usr/share/munin/plugins/sensors_ /etc/munin/plugins/sensors_fan
sudo ln -s /usr/share/munin/plugins/sensors_ /etc/munin/plugins/sensors_volt
sudo ln -s /usr/share/munin/plugins/sensors_ /etc/munin/plugins/sensors_temp </pre></div></div><p>
aktiviert werden.</p></div><div class="section_4"><h5 id="Beispiel-2-Weitere-Netzwerkschnittstelle">Beispiel 2: Weitere Netzwerkschnittstelle<a class="headerlink" href="#Beispiel-2-Weitere-Netzwerkschnittstelle">¶</a></h5><p>
In den Standardeinstellungen werden nur die Netzwerkschnittstellen <em>"eth0"</em> und <em>"eth1"</em> abgefragt. Besitzt der Rechner eine Anbindung über WLAN oder nutzt eine Einwahlleitung, so kann man diese über</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein
sudo ln -s /usr/share/munin/plugins/if_ /etc/munin/plugins/if_&lt;schnittstelle&gt;
sudo ln -s /usr/share/munin/plugins/if_err_ /etc/munin/plugins/if_err_&lt;schnittstelle&gt;
# Beispiel
sudo ln -s /usr/share/munin/plugins/if_ /etc/munin/plugins/if_ppp0
sudo ln -s /usr/share/munin/plugins/if_err_ /etc/munin/plugins/if_err_ppp0 </pre></div></div><p>
überwachen lassen <sup><a href="#source-3">[3]</a></sup>.</p></div><div class="section_4"><h5 id="Beispiel-3-Statistiken-des-Apache-Webservers">Beispiel 3: Statistiken des Apache Webservers<a class="headerlink" href="#Beispiel-3-Statistiken-des-Apache-Webservers">¶</a></h5><p>
Auch verschiedene Serverdienste lassen sich abfragen. So z.B. auch der Webserver <a class="internal" href="./apache.html">Apache</a>. Dieser muss jedoch noch so konfiguriert werden, dass er Informationen über seinen Zustand bereitstellt. Dies geschieht in der Konfigurationsdatei <strong>/etc/apache2/mods-available/status.conf</strong>. Hier muss noch <em>"ExtendedStatus On"</em> eingetragen <sup><a href="#source-4">[4]</a></sup> werden, so dass die Konfiguration am Ende so</p><pre class="notranslate">&lt;IfModule mod_status.c&gt;
#
# Allow server status reports generated by mod_status,
# with the URL of http://servername/server-status
# Uncomment and change the ".example.com" to allow
# access from other hosts.
#
ExtendedStatus On

&lt;Location /server-status&gt;
    SetHandler server-status
    Order deny,allow
    Deny from all
    Allow from localhost
    # Eventuell notwendig: Allow from &lt;öffentliche IP-Addresse des Servers&gt;
&lt;/Location&gt;

&lt;/IfModule&gt;</pre><p>
aussieht. Eventuell muss das status-Modul noch aktiviert werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo a2enmod status </pre></div></div><p>Anschließend muss Apache <a class="internal" href="./apache.html">neu gestartet</a> werden. Nun kann man die Munin-Plugins für Apache aktivieren</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ln -s /usr/share/munin/plugins/apache_accesses /etc/munin/plugins/
sudo ln -s /usr/share/munin/plugins/apache_processes /etc/munin/plugins/
sudo ln -s /usr/share/munin/plugins/apache_volume /etc/munin/plugins/ </pre></div></div><p>
und Munin zeigt die Zugriffszahlen des Apache Servers an.</p><p>Eventuell bleiben die Graphen für Apache aber auch leer. In diesem Fall sollte die Verfügbarkeit von LWP (Library for WWW in Perl) mittels
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install libwww-perl </pre></div></div><p>
sichergestellt werden.</p></div></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./netzwerk-monitoring.html">Netzwerk-Monitoring</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Programmübersicht</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./munin/a/revision/938268.html">Diese Revision</a> wurde am 22. April 2017 23:10 von <a href="https://ubuntuusers.de/user/AlterDepp/">AlterDepp</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./munin.html">Munin</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>