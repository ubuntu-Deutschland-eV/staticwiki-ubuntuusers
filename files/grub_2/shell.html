<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>GRUB_2/Shell › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../grub_2/shell.html">Shell</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/GRUB_2/Shell">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../grub_2/shell/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../grub_2/shell/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../grub_2/shell/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../grub_2/shell/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../grub_2/shell/a/backlinks.html">Shell</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><p><img alt="GRUB_2/grub-shell.png" class="image-left" src="../_/04afe868cac5e81e0c1647db31a3e00191e0e9e5.png"/> Die GRUB-2-Shell ist die Laufzeit-Umgebung von GRUB 2 und kann abhängig vom System-Status verschiedene Modi starten. Diese sind der Auswahlmenü-Modus (= "Menu Mode"), die Kommandozeile (= "Command Line Interface" oder "CLI-Mode") und schließlich noch der Rettungsmodus (= "Rescue Mode"). Außerdem erlaubt es die GRUB-2-Shell aus dem Auswahlmenü-Modus heraus den Menü-Bearbeitungs-Modus (= "Edit Mode") bei Bedarf aufzurufen.</p><p>Der Artikel bietet eine Einführung in die verschiedene Modi.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>In der gesamten GRUB-2-Shell und damit in allen Modi steht nur eine <a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/Keyboard_layout#United_States">amerikanische Tastaturbelegung</a> zur Verfügung.
</p></div></div><div class="section_1"><h2 id="Auswahlmenue-Modus">Auswahlmenü-Modus<a class="headerlink" href="#Auswahlmenue-Modus">¶</a></h2><p>
Normalerweise startet GRUB 2 im Auswahlmenü-Modus (= "Menu Mode"), wobei das Auswahlmenü standardmäßig vor dem Benutzer verborgen bleibt, sofern sich nur ein einziges Betriebssystem auf dem Rechner befindet oder GRUB 2 bei der Installation keine anderen Betriebssystem erkannt hat. GRUB 2 startet dann einfach das System ohne das Menü anzuzeigen.</p><p>Man kann die Anzeige des Auswahlmenüs aber auch in einem solchen Fall durch Drücken der Shift-Taste 
<span class="key">⇧</span>  während des Startvorgangs des Rechners erzwingen. Dazu direkt nach dem BIOS die Shift-Taste drücken und gedrückt halten bis das Menü erscheint.</p><div class="section_2"><h3 id="Steuertasten-im-Auswahlmenue-Modus">Steuertasten im Auswahlmenü-Modus<a class="headerlink" href="#Steuertasten-im-Auswahlmenue-Modus">¶</a></h3><p>
Folgende Tasten-Kombinationen können im Auswahlmenü verwendet werden:</p><p>
</p><table><tr class="kopf"><td style="text-align: left"> Taste </td><td style="text-align: left">Funktion </td></tr><tr><td style="width: 35%">
<span class="key">↓</span>
<span class="key">↑</span>  Pfeil-Ab-Auf-Tasten </td><td> Menü-Eintrag hervorheben. </td></tr><tr><td>
<span class="key">⏎</span>  Eingabetaste </td><td> Hervorgehobenen Menü-Eintrag starten. </td></tr><tr><td>
<span class="key">E</span>  E-Taste </td><td> Für den ausgewählten Menü-Eintrag in den <a class="crosslink" href="#Menue-Bearbeitungs-Modus">Bearbeitungs-Modus</a> wechseln. </td></tr><tr><td>
<span class="key">C</span>  C-Taste </td><td> In die <a class="crosslink" href="#Kommandozeile">Kommandozeile</a> wechseln. </td></tr><tr><td>
<span class="key">Strg</span>  + 
<span class="key">Alt</span>  + 
<span class="key">Entf</span>  Strg+Alt+Entf </td><td> Das System Neustarten. </td></tr></table><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Obige Tastenbefehle für 
<span class="key">E</span> , 
<span class="key">C</span>  sowie 
<span class="key">⏎</span>  können durch das Einbringen eine Passwort-Schutzes gesperrt werden. Zur Einrichtung eines Passwort-Schutzes siehe:
</p><ul><li><p><a class="internal" href="../grub_2/terminalbefehle.html#grub-mkpasswd-pbkdf2">Schlüssel erstellen</a></p></li><li><p><a class="internal" href="../grub_2/konfiguration.html#Grub-Menue-absichern">Passwort-Schutz einrichten</a></p></li></ul></div></div></div><div class="section_2"><h3 id="Starten-im-Auswahlmenue-Modus">Starten im Auswahlmenü-Modus<a class="headerlink" href="#Starten-im-Auswahlmenue-Modus">¶</a></h3><p>
Im Auswahlmenü-Modus einfach den gewünschten Eintrag durch Drücken der Ab-Auf-Tasten 
<span class="key">↓</span>
<span class="key">↑</span>  auswählen und dann durch Drücken der Eingabetaste 
<span class="key">⏎</span>  starten. Startet das System nicht und fällt wieder zurück in das Auswahlmenü, dann den Eintrag im <a class="crosslink" href="#Menue-Bearbeitungs-Modus">Bearbeitungs-Modus</a> überprüfen und temporär korrigieren.</p></div></div><div class="section_1"><h2 id="Menue-Bearbeitungs-Modus">Menü-Bearbeitungs-Modus<a class="headerlink" href="#Menue-Bearbeitungs-Modus">¶</a></h2><p>
Der Menü-Bearbeitungs-Modus (= "Edit Mode"), welchen man aus dem Auswahlmenü durch Drücken der E-Taste 
<span class="key">E</span>  erreicht, erlaubt es einen bestehenden Menü-Eintrag zu bearbeiten und einmalig für den Systemstart zu korrigieren. Da ein falscher Menü-Eintrag in der Regel zum Auswahl-Menü zurückführt, kann man mit Hilfe des Bearbeitungs-Modus im Zweifel solange an einem Menü-Eintrag herumprobieren, bis er das System startet.</p><p>Erfolgversprechender ist es natürlich, wenn man die Startumgebung zuvor in der <a class="crosslink" href="#Kommandozeile">Kommandozeile</a> analysiert und den fehlerhaften Eintrag dann gezielt korrigiert.</p><p>Hat man das System durch Bearbeitung eines Menü-Eintrages erfolgreich gestartet, so muss die Menü-Konfiguration im laufenden System dauerhaft angepasst werden.</p><p>Der Bearbeitungs-Modus ist immer nur aus dem Auswahlmenü heraus aufrufbar und wird von GRUB 2 nicht automatisch geladen.</p><div class="section_2"><h3 id="Steuertasten-im-Bearbeitungs-Modus">Steuertasten im Bearbeitungs-Modus<a class="headerlink" href="#Steuertasten-im-Bearbeitungs-Modus">¶</a></h3><p>
Von den Einschränkungen, die sich aus der <a class="internal" href="../grub_2/shell.html">Tastaturbelegung</a> ergeben abgesehen, stehen im Bearbeitungs-Modus alle wesentlichen Tasten zur Verfügung. Folgende Tasten sind dabei besonders hervorzuheben:</p><p>
</p><table><tr class="kopf"><td style="text-align: left"> Taste </td><td style="text-align: left">Funktion </td></tr><tr><td style="width: 35%">
<span class="key">↓</span>
<span class="key">↑</span>  Pfeil-Ab-Auf-Tasten  </td><td> Die Eingabemarke (<img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> Cursor) um eine Zeile nach unten oder oben bewegen. </td></tr><tr><td style="width: 35%">
<span class="key">→</span>
<span class="key">←</span>  Pfeil-Rechts-Links-Tasten </td><td> Die Eingabemarke um ein Zeichen nach links oder rechts bewegen.  </td></tr><tr><td style="vertical-align: top">
<span class="key">Tab ⇆</span>  Tabulatortaste   </td><td> Zeigt durch ein und mehrmaliges Drücken die mögliche Fortsetzung einer Pfadangabe an. Das ist sehr nützlich um Pfadangaben korrekt angeben zu können. </td></tr><tr><td>
<span class="key">Strg</span>  + 
<span class="key">X</span>  Strg+X-Taste </td><td> Das System unter Verwendung des bearbeiteten Menü-Eintrages starten.  </td></tr><tr><td>
<span class="key">Strg</span>  + 
<span class="key">C</span>  Strg+C-Taste  </td><td> In die <a class="crosslink" href="#Kommandozeile">Kommandozeile</a> wechseln. </td></tr><tr><td>
<span class="key">Esc</span>  Escape-Taste </td><td> Bearbeitungs-Modus verlassen und zum <a class="crosslink" href="#Auswahlmenue-Modus">Menü-Modus</a> zurückkehren.  </td></tr><tr><td>
<span class="key">Strg</span>  + 
<span class="key">Alt</span>  + 
<span class="key">Entf</span>  Strg+Alt+Entf  </td><td> Das System Neustarten. </td></tr></table></div><div class="section_2"><h3 id="Starten-mit-Hilfe-des-Menue-Bearbeitungs-Modus">Starten mit Hilfe des Menü-Bearbeitungs-Modus<a class="headerlink" href="#Starten-mit-Hilfe-des-Menue-Bearbeitungs-Modus">¶</a></h3><p>
Hat man den Menü-Eintrag wie gewünscht angepasst, so kann man das System durch Drücken der Tastenkombination Strg+X 
<span class="key">Strg</span>  + 
<span class="key">X</span>  starten. Ist der Eintrag noch fehlerhaft, kehrt GRUB 2 in den Bearbeitungs-Modus für den entsprechenden Menü-Eintrag zurück und setzt die Eingabemarke in die noch fehlerhafte Zeile. Dies geschieht teilweise auch erst nach Ausgabe einer Fehlermeldung und Drücken einer beliebigen Taste.</p></div></div><div class="section_1"><h2 id="Kommandozeile">Kommandozeile<a class="headerlink" href="#Kommandozeile">¶</a></h2><p>
Die Kommandozeile (= "Command Line Interface" oder "CLI-Mode") ist das Kernstück der GRUB-2-Shell. Mit ihr kann das System Schritt für Schritt analysiert und gestartet werden. Auch die vorkonfigurierten Menü-Einträge werden von ihr nach Auswahl in der aufgeführten Reihenfolge Zeile für Zeile abgearbeitet. Sie ist in ihrer Funktion mit der <a class="internal" href="../bash.html">Bash</a> vergleichbar, bietet aber eben nur die für einen Systemstart wichtigen Befehle und Analysefunktionen.</p><p>Die Kommandozeile erreicht man aus dem <a class="crosslink" href="#Auswahlmenue-Modus">Auswahlmenü</a> durch Drücken der C-Taste 
<span class="key">C</span> . Außerdem landet man bei einem Systemstart automatisch in der Kommandozeile, wenn GRUB 2 die Konfigurationsdatei <strong>grub.cfg</strong> nicht finden oder verarbeiten kann.</p><div class="section_2"><h3 id="Steuertasten-in-der-Kommandozeile">Steuertasten in der Kommandozeile<a class="headerlink" href="#Steuertasten-in-der-Kommandozeile">¶</a></h3><p>
Von den Einschränkungen, die sich aus der <a class="internal" href="../grub_2/shell.html">Tastaturbelegung</a> ergeben abgesehen, stehen in der Kommandozeile alle wesentlichen Tasten zur Verfügung. Folgende Tasten sind dabei besonders hervorzuheben:</p><p>
</p><table><tr class="kopf"><td style="text-align: left"> Taste  </td><td style="text-align: left">Funktion  </td></tr><tr><td style="width: 35%">
<span class="key">↑</span>
<span class="key">↓</span>  Pfeil-Auf-Ab-Tasten  </td><td> Durch die Historie bereits zur Laufzeit eingegebener Befehle blättern. </td></tr><tr><td style="width: 35%">
<span class="key">→</span>
<span class="key">←</span>  Pfeil-Rechts-Links-Tasten  </td><td> Die Eingabemarke um ein Zeichen nach links oder rechts bewegen. </td></tr><tr><td style="vertical-align: top">
<span class="key">Tab ⇆</span>  Tabulatortaste  </td><td> Zeigt nach Drücken alle möglichen Fortsetzung des eingegebenen Befehls oder Befehlsteils an. Diese Funktion unterstützt je nach verwendeten Befehl bereits eine Basis-Analyse, verhindert aber vor allem syntaktische Fehler bei der Befehlseingabe. </td></tr><tr><td style="vertical-align: top">
<span class="key">Esc</span>  Escape-Taste  </td><td> Kommandozeile verlassen und zum <a class="crosslink" href="#Auswahlmenue-Modus">Menü-Modus</a> zurückkehren. Dies ist natürlich nur möglich, sofern die Kommandozeile anfangs manuell aus dem Auswahl-Menü aufgerufen wurde. </td></tr><tr><td> Eingabe von <code class="notranslate">help</code> + 
<span class="key">⏎</span>  Eingabe-Taste  </td><td> Zeigt die Liste verfügbarer GRUB 2-Befehle. </td></tr><tr><td>
<span class="key">Strg</span>  + 
<span class="key">Alt</span>  + 
<span class="key">Entf</span>  Strg+Alt+Entf  </td><td> Das System Neustarten.  </td></tr></table></div><div class="section_2"><h3 id="GRUB-2-Umgebung-mit-der-Kommandozeile-analysieren">GRUB-2-Umgebung mit der Kommandozeile analysieren<a class="headerlink" href="#GRUB-2-Umgebung-mit-der-Kommandozeile-analysieren">¶</a></h3><p>
Wie man die GRUB 2 Umgebung mit Hilfe der Kommandozeile untersuchen kann, beschreibt der Artikel <a class="internal" href="../grub_umgebung_analysieren.html#GRUB-2-Umgebung-mit-der-Kommandozeile-analysieren">GRUB 2 Umgebung analysieren</a>.</p></div><div class="section_2"><h3 id="Starten-mit-Hilfe-der-Kommandozeile">Starten mit Hilfe der Kommandozeile<a class="headerlink" href="#Starten-mit-Hilfe-der-Kommandozeile">¶</a></h3><p>
Als Herzstück von GRUB 2 bietet die Kommandozeile dem Benutzer alle für den Systemstart wichtigen Befehle. Die Befehle, die man in der Kommandozeile einzeln, nacheinander eingeben muss sind die selben, wie sie auch in der <a class="internal" href="../grub_2/konfiguration.html#Standard-Eintraege-in-die-grub-cfg">Konfigurationsdatei</a> verwendet werden.</p><p>Da die Eingaben in der Kommandozeile aber nicht dauerhaft gelten, sondern nur einmalig für den entsprechenden Systemstart(versuch), kann man sich auf die nötigsten Angaben beschränken. Anders als bei einer Konfigurationsdatei die einmalig erstellt wird, müssen die Befehle nicht so gestaltet werden, dass sie spätere Veränderungen am System von vornherein berücksichtigen.</p><p>Der Systemstart aus der Kommandozeile erfolgt nach einem denkbar einfachen Schema:</p><ol class="arabic"><li><p>Zunächst muss GRUB mitgeteilt werden, auf welchen Datenträger sich die Startdateien des zu startenden Betriebssystems befinden. Diese Angabe wird der Variablen <code class="notranslate">root</code> zugewiesen.</p></li><li><p>Danach gibt man den genauen Pfad zu den Startdateien des Betriebssystems an. Sofern GRUB diese nicht direkt laden kann - wie es z.B. für Windows der Fall ist - fordert man GRUB einfach auf, den ersten Sektor des zuvor festgelegten Startdatenträgers zu laden. Dieser Sektor enthält dann das Boot-Programm, des fremden Betriebssystems.</p></li><li><p>Abschließend weißt man GRUB durch den Befehl <code class="notranslate">boot</code> an, das System mit den zuvor festgelegten Angaben zu starten.</p></li></ol><p>
</p><div class="section_3"><h4 id="Beispiel-Linux-starten">Beispiel: Linux starten<a class="headerlink" href="#Beispiel-Linux-starten">¶</a></h4><p>
Es müssen der Reihe nach die folgenden Befehle eingegeben werden:
</p><ol class="arabic"><li><p>Start-Datenträger festlegen:</p><div class="bash"><div class="contents"><pre class="notranslate">set root=(hdX,Y) </pre></div></div><p> </p></li><li><p>Falls der Home-Ordner auf eine eigene Partition ausgelagert ist muss dieses eingebunden werden:</p><div class="bash"><div class="contents"><pre class="notranslate">set home=(hdX,Y) </pre></div></div><p><code class="notranslate">hdX,Y</code> muss dem eigenen <a class="internal" href="../grub_umgebung_analysieren.html#1-Datentraeger-Analyse">System entsprechend</a> ersetzt werden.</p></li><li><p>Pfad zu den Startdateien angeben:</p><div class="bash"><div class="contents"><pre class="notranslate">linux /vmlinuz root=/dev/sdXY ro </pre></div></div><p><code class="notranslate">sdXY</code> muss dabei natürlich auch auf das eigene System angepasst werden. </p></li><li><p>Pfad zur Ramdisk:</p><div class="bash"><div class="contents"><pre class="notranslate">initrd /initrd.img </pre></div></div></li><li><p>System starten:</p><div class="bash"><div class="contents"><pre class="notranslate">boot </pre></div></div></li></ol><p>
Tipps zu diesem Beispiel:</p><p>Tipp1: Auch, wenn man beim obigen set root= etwas wie </p><div class="bash"><div class="contents"><pre class="notranslate">set root=(hd0,1) </pre></div></div><p> angegeben hat, verarbeitet der Linux-Befehl auch die klassische Notation für Devices, also z.B.:
</p><div class="bash"><div class="contents"><pre class="notranslate">linux /pfad-zum-linux-image root=/dev/sda1 ro </pre></div></div><p>Tipp 2: Bei einem normal installierten <a class="internal" href="../lucid_lynx.html">Lucid Lynx</a> liegt der Kernel unter <code class="notranslate">/boot/vmlinuz-*</code>. In Grub funktioniert auch "Tab" zur Dateinamenexpansion, d.h. man kann sich bis zu der richtigen Datei "durchhangeln", ohne den exakten Namen zu wissen. Das <code class="notranslate">initrd.img</code>-Image liegt ebenfalls unter <code class="notranslate">/boot</code>.</p></div><div class="section_3"><h4 id="Beispiel-Windows-starten">Beispiel: Windows starten<a class="headerlink" href="#Beispiel-Windows-starten">¶</a></h4><p>
Die folgenden Kommandos müssen der Reihe nach eingegeben werden:
</p><ol class="arabic"><li><p>Startdatenträger festlegen:</p><div class="bash"><div class="contents"><pre class="notranslate">set root=(hdX,Y)  </pre></div></div><p><code class="notranslate">hdX,Y</code> muss dem eigenen <a class="crosslink" href="#1-Datentraeger-Analyse">System entsprechend</a> ersetzt werden.</p></li><li><p>Den ersten Sektor des Startdatenträgers laden lassen:</p><div class="bash"><div class="contents"><pre class="notranslate">chainloader +1 </pre></div></div></li><li><p>System starten:</p><div class="bash"><div class="contents"><pre class="notranslate">boot   </pre></div></div></li></ol></div></div><div class="section_2"><h3 id="Ursache-fuer-den-automatischen-Start-der-Kommandozeile">Ursache für den automatischen Start der Kommandozeile<a class="headerlink" href="#Ursache-fuer-den-automatischen-Start-der-Kommandozeile">¶</a></h3><p>
Startet GRUB 2 das System automatisch mit der Kommandozeile, so ist das zunächst zwar ein Ärgernis liefert aber gleichzeitig schon einen Anhaltspunkt für die Ursache dieses Erscheinungsbildes. Der einzige Unterschied zwischen dem Auswahlmenü-Modus und der Kommandozeile besteht darin, dass bei ersterem die Datei <strong>grub.cfg</strong> richtig verarbeitet werden konnte. Mögliche Gründe für das Scheitern der Verarbeitung sind:</p><ul><li><p>Die Datei ist gar nicht vorhanden.</p></li><li><p>Die Datei ist vorhanden, aber beschädigt.</p></li><li><p>Die Datei enthält grobe syntaktische Fehler, so dass GRUB 2 die Verarbeitung abbricht.</p></li><li><p>Die Datei <strong>grub.cfg</strong> ist zwar vorhanden, wird von GRUB 2 aber nicht gefunden, weil die GRUB-2-Umgebungsvariable <code class="notranslate">prefix</code>  auf ein nicht gültiges Verzeichnis <strong>/grub</strong> verweist.</p></li></ul></div></div><div class="section_1"><h2 id="Rettungs-Modus">Rettungs-Modus<a class="headerlink" href="#Rettungs-Modus">¶</a></h2><p>
Der Rettungs-Modus (= "Rescue Mode") ist eine stark eingeschränkte Form der <a class="crosslink" href="#Kommandozeile">GRUB-2-Kommandozeile</a>. Er bietet nur wenige ganz grundlegende Befehle und keinerlei Komfort-Funktionen, wie das Ergänzen von Eingaben mittels Tabulatortaste oder das Blättern in der Historie bereits eingegebener Befehle (siehe zum Vergleich <a class="crosslink" href="#Steuer-Tasten-in-der-Kommandozeile">Kommandozeile</a>).</p><p>Trotzdem kann man das System auch sehr häufig noch aus dem Rettungsmodus heraus starten. Das ist vor allem dann geboten, wenn man das System nicht anderweitig starten kann, weil gerade kein anderes Startmedium zur Verfügung steht.</p><p>Das Auftreten des Rettungs-Modus deutet stets daraufhin, dass etwas mit der Installation von GRUB 2 grundlegend nicht stimmt, weswegen GRUB 2 dann immer neu installiert werden muss. Man kann also in einem solchen Fall das System alternativ auch gleich mit einer <a class="internal" href="../desktop-cd.html">Desktop-CD</a> starten und dann GRUB 2 direkt neu installieren, wobei dabei unbedingt nach der <a class="internal" href="../grub_2/reparatur.html#chroot-Methode">chroot-Methode</a> vorgegangen werden muss.</p><div class="section_2"><h3 id="Starten-mit-Hilfe-des-Rettungsmodus">Starten mit Hilfe des Rettungsmodus<a class="headerlink" href="#Starten-mit-Hilfe-des-Rettungsmodus">¶</a></h3><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Da der Befehlsumfang im Rettungsmodus deutlich reduziert ist, gestaltet sich die Analyse hier deutlich umständlicher. Man kann einzig mit dem Befehl <a class="internal" href="../ls.html">ls</a> Verzeichnis-Inhalte auflisten lassen und so dann manuell nach den richtigen Datenträgern und Verzeichnissen suchen. Hat man keinen richtigen Überblick über das eigene System, sollte man bevorzugt auf die <a class="internal" href="../grub_2/shell.html#Alternativer-Systemstart-mit-Hilfe-der-Super-GRUB2-Disk">Super-GRUB2-Disk</a> zurückgreifen.
</p></div></div><ol class="arabic"><li><p>Zunächst verschafft man sich einen Überblick über die von GRUB 2 erkannten Datenträger: </p><div class="bash"><div class="contents"><pre class="notranslate">ls </pre></div></div></li><li><p>Außerdem müssen die <a class="internal" href="../umgebungsvariablen.html">Umgebungsvariablen</a> <code class="notranslate">prefix</code> und <code class="notranslate">root</code> überprüft werden, da sie häufig den Start im Rettungsmodus verursachen können - z.B. nach dem das System umpartitioniert wurde ohne GRUB 2 anschließend neu zu installieren: </p><div class="bash"><div class="contents"><pre class="notranslate">set </pre></div></div></li><li><p>Gegebenenfalls <code class="notranslate">prefix</code> </p><div class="bash"><div class="contents"><pre class="notranslate">set prefix=(hdX,Y)/boot/grub </pre></div></div><p> </p></li><li><p>und <code class="notranslate">root</code>¹ </p><div class="bash"><div class="contents"><pre class="notranslate">set root=(hdX,Y)  </pre></div></div><p> der aktuellen System-Situation entsprechend anpassen. </p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die nachfolgenden Befehle setzen voraus, dass <code class="notranslate">prefix</code> und <code class="notranslate">root</code> richtig gesetzt wurden, weil es andernfalls zu Fehlermeldungen bezüglich des Pfades kommt. Insbesondere die Variable <code class="notranslate">prefix</code> ist zwingend erforderlich. Ist sie nicht oder nicht richtig gesetzt, so funktionieren die nachfolgenden Befehle unter Umständen nicht einmal dann, wenn man sie unter Verwendung des vollständigen Pfades eingibt!
</p></div></div></li><li><p>Die Anpassungen noch mal überprüfen: </p><div class="bash"><div class="contents"><pre class="notranslate">set </pre></div></div></li><li><p>Zunächst probiert man, das Modul <strong>normal.mod</strong> aus dem grub-Verzeichnis zu laden:</p><div class="bash"><div class="contents"><pre class="notranslate">insmod normal </pre></div></div><p>Kommt es beim Laden des Moduls zu einer Fehlermeldung, so setzt man diese Anleitung mit Schritt 8 fort.</p></li><li><p>Konnte das Modul <strong>normal.mod</strong> erfolgreich geladen werden, so versucht man, den normalen GRUB-2-Modus in Gang zu setzen:</p><div class="bash"><div class="contents"><pre class="notranslate">normal </pre></div></div><p>Misslingt die Ausführung des normalen Modus, so geht es mit dem nächsten Schritt weiter. Gegebenenfalls muss dazu der Rechner neu gestartet werden. Falls der Rechner normal starten sollte, muss schließlich noch Schritt 12 befolgt werden.</p></li><li><p>Das Modul <code class="notranslate">linux.mod</code> aus dem unter <code class="notranslate">prefix</code> angegebenen Verzeichnis nachladen: </p><div class="bash"><div class="contents"><pre class="notranslate">insmod linux </pre></div></div></li><li><p>Nun den zu startenden Kernel über den Symbolischen Link auswählen:¹ </p><div class="bash"><div class="contents"><pre class="notranslate">linux /vmlinuz root=/dev/sdXY ro </pre></div></div></li><li><p>Dann den Pfad zur Ramdisk-Datei angeben </p><div class="bash"><div class="contents"><pre class="notranslate">initrd /initrd.img </pre></div></div></li><li><p>Schließlich das System starten: </p><div class="bash"><div class="contents"><pre class="notranslate">boot </pre></div></div></li><li><p>Nach erfolgreichem Systemstart muss GRUB 2 im laufenden System unbedingt neu installiert und anschließend die Datei <strong>grub.cfg</strong> neu erstellt werden (siehe <a class="internal" href="../grub_2/reparatur.html#Reparatur-im-laufenden-System">Reparatur</a>).</p></li></ol><p>
¹ Handelt es sich um ein <a class="internal" href="../wubi.html">Wubi</a>-Installation innerhalb von Windows so müssen die Kommandos aus den Schritten 4 und 9 wie folgt angepasst werden:</p><ul><li><div class="bash"><div class="contents"><pre class="notranslate">set root=(loop0) </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">linux /vmlinuz root=/dev/sdXY loop=/ubuntu/disks/root.disk ro </pre></div></div></li></ul><p>
Gelingt der Systemstart aus dem Rettungsmodus heraus nicht, dann muss GRUB 2 <a class="internal" href="../grub_2/reparatur.html#Reparatur-mittels-Desktop-CD">mittels Desktop-CD neu installiert</a> werden.</p></div><div class="section_2"><h3 id="Ursache-fuer-den-automatischen-Start-im-Rettungs-Modus">Ursache für den automatischen Start im Rettungs-Modus<a class="headerlink" href="#Ursache-fuer-den-automatischen-Start-im-Rettungs-Modus">¶</a></h3><p>
In den Rettungs-Modus fällt GRUB 2 automatisch zurück, wenn GRUB 2 keinen oder keinen vollständigen Zugriff auf das Verzeichnis <strong>/boot/grub</strong> oder die darin für das Ausführen der Kommandozeile notwendigen Module - insbesondere das Modul <strong>normal.mod</strong> - hat. Sein Erscheinen deutet stets auf Probleme bei der Installation von GRUB 2 hin. Das kann folgende Ursachen haben:
</p><ul><li><p>Die Module sind aufgrund einer fehlerhaften GRUB-2-Paketinstallation gar nicht im Verzeichnis <strong>/grub</strong> abgelegt oder wurden beschädigt abgelegt.</p></li><li><p>Die Variable <code class="notranslate">prefix</code>, die bei der Installation von GRUB 2 in den MBR und den verborgenen Bereich im Anschluss an den MBR dort hinterlegt wird und die den Pfad zum <strong>/grub</strong>-Verzeichnis mit den dort enthaltenen Modulen enthält einen falschen Pfad.</p></li><li><p>GRUB kann das Dateisystem der Partition auf der das Verzeichnis <strong>/grub</strong> liegt nicht lesen.</p></li><li><p>Die Grundinstallation in den MBR hat zwar funktioniert, der dort geschriebene Code enthält aber Fehler, so dass ein Auslesen der Variablen <code class="notranslate">prefix</code> und/oder <code class="notranslate">root</code> aufgrund von Fehlfunktionen nicht möglich ist.</p></li></ul></div></div><div class="section_1"><h2 id="Alternativer-Systemstart-mit-Hilfe-der-Super-GRUB2-Disk">Alternativer Systemstart mit Hilfe der Super-GRUB2-Disk<a class="headerlink" href="#Alternativer-Systemstart-mit-Hilfe-der-Super-GRUB2-Disk">¶</a></h2><p>
Mit der <a class="external" href="http://www.supergrubdisk.org/" rel="nofollow">Super-GRUB2-Disk</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> kann man ein nicht mehr über den internen GRUB startendes System starten. Sie bietet eine GRUB 2 Shell, die von CD startet. Hinter den vorkonfigurierten Auswahlmenü-Einträgen der Super GRUB2 Disk, verbergen sich Skripte, die einem weitestgehend die System-Analyse abnehmen. So finden sie auf dem betreffenden Computer installierte Betriebssysteme oder aber dort liegende GRUB 2 Konfigurations-Dateien und so kann dann schließlich das System doch noch gestartet werden.</p><p>Die nachfolgenden Erklärungen beziehen sich auf das Auswahlmenü der Version 1.30 der Super-GRUB-Disk. Hinter dem <code class="notranslate">#</code> befindet sich die deutsche Übersetzung:</p><div class="bash"><div class="contents"><pre class="notranslate">1. Boot Ubuntu Gnu/Linux                                       #Starte Ubuntu Gnu/Linux
2. Detect any OS                                               #Finde irgend ein Betriebssystem 
3. Detect any GRUB2 configuration file (grub.cfg)              #Finde irgend eine Datei grub.cfg
4. Detect any GRUB2 installation (even if mbr is overwritten)  #Finde irgend eine GRUB2-Installation (auch dann wenn der MBR überschrieben wurde)
5. Enable grub's LVM support                                   #Aktiviere die LVM-Unterstützung  
6. Enable grub's RAID support                                  #Aktiviere die RAID-Unterstützung
7. Switch to serial terminal (Disables keyboard input and screen output)     #Starte eine serielle Konsole (Deaktivert Tastatureingaben und Bildschirmausgaben) </pre></div></div><p>Die Punkte erklären sich weitestgehend von selbst. In der Regel kann man über die Auswahl einer der ersten vier Optionen das System starten. Die Option 7 ist nur für die GRUB 2 Fehlerdiagnose (<img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Debugger">Debugging</a>) vorgesehen .</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Innerhalb von ubuntuusers.de wird keine Unterstützung zu Problemen mit der Super-GRUB-Disk gegeben. Funktionieren die hier dargestellten Optionen also nicht, dann bitte dazu im <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> <a class="external" href="http://www.supergrubdisk.org/forum/index.php" rel="nofollow">Super-GRUB-Disk-Forum</a> nachfragen.
</p></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="../grub_2.html">GRUB 2</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p><ul><li><p><a class="internal" href="../grub_2/problembehebung.html">GRUB 2 Probleme und Lösungen</a></p></li><li><p><a class="internal" href="../grub_2/reparatur.html">GRUB 2 Reparatur</a></p></li><li><p><a class="internal" href="../grub_2/grundlagen.html">GRUB 2 Grundlagen</a></p></li><li><p><a class="internal" href="../grub_2/installation.html">GRUB 2 Installation</a></p></li><li><p><a class="internal" href="../grub_2/konfiguration.html">GRUB 2 Konfiguration</a></p></li><li><p><a class="internal" href="../grub_2/skripte.html">GRUB 2 Skripte</a></p></li><li><p><a class="internal" href="../grub_umgebung_analysieren.html">GRUB 2 Umgebung analysieren</a></p></li><li><p><a class="internal" href="../grub_2/aussehen.html">GRUB 2 optisch anpassen</a></p></li><li><p><a class="internal" href="../grub_2/terminalbefehle.html">GRUB 2 Terminalbefehle</a></p></li></ul></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../grub_2/shell/a/revision/938600.html">Diese Revision</a> wurde am 1. Mai 2017 12:13 von <a href="https://ubuntuusers.de/user/tomtomtom/">tomtomtom</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../grub_2.html">GRUB 2</a></li>
<li><a href="../grub_2/shell.html">Shell</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>