<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>GRUB_2/Installation › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../grub_2/installation.html">Installation</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/GRUB_2/Installation">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../grub_2/installation/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../grub_2/installation/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../grub_2/installation/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../grub_2/installation/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../grub_2/installation/a/backlinks.html">Installation</a></h1>
<div id="page"><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Dieser Artikel basiert auf dem Paket <strong>grub-pc</strong> für BIOS-Rechner bzw. Installationen im BIOS-Modus. Auf neueren EFI-Systemen wird das Paket <strong>grub-efi-amd64</strong> eingesetzt.</p><p>Diese Anleitung gilt häufig für beide Modi, etwaige Abweichungen sind an den relevanten Stellen kenntlich gemacht.
</p></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Ein falsch konfigurierter Bootloader kann dazu führen, dass das System nicht mehr startet! Dann hilft der Artikel <a class="internal" href="../grub_2/reparatur.html">GRUB 2/Reparatur</a> weiter. 
</p></div></div><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="../trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../chroot/live-cd.html#Voraussetzungen">Mittels Desktop-CD in ein installiertes System wechseln</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Nach-einer-Ubuntu-Installation">Nach einer Ubuntu-Installation
</a></li><li><a class="crosslink" href="#Sonderformen-der-Installation">Sonderformen der Installation
</a><ol class="arabic"><li><a class="crosslink" href="#Zusaetzliche-Massnahmen">Zusätzliche Maßnahmen
</a></li><li><a class="crosslink" href="#Neuinstallation-im-laufenden-System">Neuinstallation im laufenden System
</a></li><li><a class="crosslink" href="#Mittels-Live-CD-GRUB-2-aktualisieren">Mittels Live-CD GRUB_2 aktualisieren
</a></li><li><a class="crosslink" href="#Mittels-Live-CD-auf-eine-Version-einer-neueren-Distribution-aktualisieren">Mittels Live-CD auf eine Version einer n...</a></li></ol></li><li><a class="crosslink" href="#grub2-auf-andere-Partition-Festplatte-installieren">grub2 auf andere Partition/Festplatte inst...</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="GRUB_2/grub-install.png" class="image-left" src="../_/39c5ef1117a612494b9d88b510cf391d593bb771.png"/> Dieser Artikel beschreibt, wie man GRUB 2 manuell nachinstalliert. Auch Sonderformen der Installation werden beschrieben, wenn ein normaler Start von Ubuntu nicht mehr möglich ist.</p><div class="section_1"><h2 id="Nach-einer-Ubuntu-Installation">Nach einer Ubuntu-Installation<a class="headerlink" href="#Nach-einer-Ubuntu-Installation">¶</a></h2><p>
Bei einer Neuinstallation von Ubuntu im BIOS-Modus wird automatisch GRUB 2 in den MBR installiert, im EFI-Modus auf eine gesonderte Partition.</p><p>Hinweise zur Neuerstellung / Reparatur von <a class="internal" href="../grub_2.html">GRUB 2</a> unter einem <a class="internal" href="../efi_bootmanagement.html">EFI Bootmanagement</a> siehe diese <a class="internal" href="../efi_nachbearbeitung.html#EFI-Eintrag-neu-erstellen">Ausführungen</a>.</p><p>Möchte man GRUB 2 im Einzelfall in den Bootsektor einer anderen Festplatte installieren, so kann man das <a class="internal" href="../ubuntu_installation.html#Schritt-7-berpruefung-und-Auswahl-Speicherort-Bootloader">während der Installation festlegen</a>. Dabei sollte man aber darauf achten, dass GRUB 2 in den MBR der Platte geschrieben wird, auf der das zu GRUB gehörende Verzeichnis <strong>/boot/grub</strong> liegt. Andernfalls kann das Erscheinen des Auswahl-Menüs von GRUB relativ lange dauern.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Man sollte beachten, dass eine Installation von <a class="internal" href="../grub_2.html">GRUB 2</a> nur unter besonderen Bedingungen in einen Partitionsbereich (PBR) möglich ist. Will man den bestehenden MBR nicht antasten, muss ein anderer Bootloader / Bootmanager benutzt werden, um das System zu starten. Dann sind entsprechende <a class="crosslink" href="#Zusaetzliche-Massnahmen">Zusätzliche Maßnahmen</a> zu ergreifen.
</p></div></div><p>Wurde GRUB 2 während der Installation in den falschen MBR oder Bootsektor installiert, so kann man dies leicht <a class="internal" href="../grub_2/reparatur.html#GRUB-2-erneut-in-den-MBR-der-Festplatte-oder-Bootsektor-einer-Partition-installieren">im Nachhinein ändern</a>.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>GRUB 2 legt bei der Installation keine Sicherungen vom MBR, dem Bereich dahinter und den Bootsektoren an. Hat man einen Rechner mit Sonder-Partitionen wie einer Wiederherstellungs-Partition, die über eine Funktionstaste aufgerufen wird, und soll diese Funktion erhalten bleiben, so muss man unbedingt ein Backup vom MBR und dem verborgenen Bereich dahinter anlegen. Dies kann man mittels <a class="internal" href="../shell/dd.html#MBR-Boot-Loader-und-Partitionstabelle-sichern">dd</a> erledigen.
</p></div></div></div><div class="section_1"><h2 id="Sonderformen-der-Installation">Sonderformen der Installation<a class="headerlink" href="#Sonderformen-der-Installation">¶</a></h2><p>
Da sich GRUB 2.0 noch in der Entwicklung befindet, kann es bei vereinzelten Systemen zu Startproblemen kommen. Die Pakete für Grub 1.9 werden nicht mehr fortgeschrieben.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p><img alt="Wiki/Icons/develop.png" class="image-left" src="../_/9374528e312ef6a056e883e306ab9fed658553fd.png"/> Bei den folgenden Beschreibungen bzw. der Aufzählung von Paketen, die entfernt oder installiert werden sollen, ist bei Grub 1.9 das Paket
</p><ul><li><p><strong>grub-gfxpayload-lists</strong></p></li></ul><p>in die Überlegungen / Aktionen mit einzubeziehen. Dieses ist in den folgenden Befehlen mit
</p><div class="bash"><div class="contents"><pre class="notranslate"># grub-gfxpayload-lists </pre></div></div><p>
gekennzeichnet - man muss beim Kopieren der Befehle nur das Rautezeichen 
<span class="key">#</span>  entfernen.
</p></div></div><div class="section_2"><h3 id="Zusaetzliche-Massnahmen">Zusätzliche Maßnahmen<a class="headerlink" href="#Zusaetzliche-Massnahmen">¶</a></h3><p>
Um einen <a class="internal" href="../grub_2.html">GRUB 2</a> nicht in den MBR, sondern an eine andere Stelle zu platzieren, muss das Dateisystem entsprechend vorbereitet sein. Dies ist regelmäßig der Fall, wenn der MBR bereits durch ein anderes Betriebssystem belegt ist und man diesen Zustand nicht verändern kann (<a class="internal" href="../dualboot.html">Dualboot</a> mit Windows).</p><p>Dann bleibt als einzige Alternative, eine erweiterte Partition zu benutzen. Hier muss als erste Partition <code class="notranslate">dev/sda5</code> angelegt und darauf geachtet werden, dass bei dieser Partition ein entsprechender Freiraum geschaffen wird (die neueren Werkzeuge für eine Partitionierung berücksichtigen das automatisch). Nur in diesen Freiraum kann man im Terminal <sup><a href="#source-1">[1]</a></sup> mit:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-install --force /dev/sdb5 </pre></div></div><p>einen funktionsbereiten Bootloader mit seinen Imagedateien einbringen. Dieser kann aber nicht selber booten, sondern muss vom vorhergehenden Bootloader auf dem MBR aufgerufen werden. Als Ergebnis einer Abfrage mittels des Skriptes <a class="internal" href="../grub-umgebung_analysieren.html#GRUB-Installation-in-MBR-und-Bootsektor-automatisch-aufspueren">GRUB-Umgebung analysieren</a> ergibt sich diese (beispielhafte) Ausgabe:</p><pre class="notranslate">/dev/sdb: Kein GRUB 00
/dev/sdb1: Kein GRUB 00
/dev/sdb2: Kein GRUB 00
/dev/sdb5: GRUB 2 v1.99</pre></div><div class="section_2"><h3 id="Neuinstallation-im-laufenden-System">Neuinstallation im laufenden System<a class="headerlink" href="#Neuinstallation-im-laufenden-System">¶</a></h3><p>
Kann man noch ins System gelangen, so bieten sich die folgenden Vorgehensweisen an:</p><div class="section_3"><h4 id="Gleiche-Paketversion">Gleiche Paketversion<a class="headerlink" href="#Gleiche-Paketversion">¶</a></h4><p>
</p><p>
</p><table style="border-style: none"><tr class=";"><td colspan="2" style="text-align: center; width: 97%; border-style: none"> </td></tr><tr><td style="text-align: left; border-style: none"> Zunächst sollte man versuchen, mit der gleichen GRUB-Version diesen innerhalb eines laufenden Systems zu reparieren. Als erstes werden in einem Terminal <sup><a href="#source-2">[2]</a></sup> die aktuell installierten Pakete entfernt: </td><td rowspan="3" style="text-align: left; border-style: none"> <img alt="grub2-uninst.png" class="image-default" src="../_/5ad0ec521da380de1ccdb48cc55347517b73a3dc.png"/> </td></tr><tr><td style="text-align: left; border-style: none"> <div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get purge grub-* os-prober # grub-gfxpayload-lists </pre></div></div> </td></tr><tr><td style="text-align: left; border-style: none"> Es erscheint einen Abfragemaske, hier steuert man mit den Pfeil-Tasten 
<span class="key">←</span> , 
<span class="key">→</span>  vorzugsweise auf "Ja" und bestätigt dies dann durch Drücken der Eingabe-Taste 
<span class="key">⏎</span> . </td></tr></table><p>
Bei einem "Nein" verbleiben viele systemeigene Einstellungsdateien auf dem Rechner, die dann bei einer erneuten Installation zu Fehlern führen können. Nun bereitet man für den BIOS-Modus die Reinstallation in einem Terminal <sup><a href="#source-2">[2]</a></sup> vor:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get update
sudo apt-get install grub-pc os-prober # grub-gfxpayload-lists </pre></div></div><p>Für den EFI-Modus gelten die folgenden Befehle:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get update
sudo apt-get install grub-efi-amd64-signed os-prober # Alternativ: grub-efi-amd64, oder bei 32-Bit-EFI: grub-efi-ia32 </pre></div></div></div><div class="section_3"><h4 id="Externe-Pakete-verwenden">Externe Pakete verwenden<a class="headerlink" href="#Externe-Pakete-verwenden">¶</a></h4><p>
Bringt das oben Beschriebene keine Abhilfe oder hat man keine Verbindung mit dem Internet, so kann man versuchen, GRUB 2 mit extern heruntergeladenen Paketen zu reparieren. Dazu sind die folgenden Schritte auszuführen. Es werden im BIOS-Modus die folgenden Pakete für die GRUB 2 Installation benötigt:</p><ul><li><p><strong><a class="interwiki interwiki-packages" href="http://packages.ubuntu.com/grub-common">grub-common</a></strong></p></li><li><p><strong><a class="interwiki interwiki-packages" href="http://packages.ubuntu.com/grub-pc">grub-pc</a></strong></p></li><li><p><strong><a class="interwiki interwiki-packages" href="http://packages.ubuntu.com/os-prober">os-prober</a></strong> (Optional, nur notwendig, falls auch andere Betriebssysteme auf dem System installiert sind)</p></li></ul><p><img alt="Wiki/Icons/develop.png" class="image-left" src="../_/9374528e312ef6a056e883e306ab9fed658553fd.png"/> <br/>Man lädt sich die GRUB-2-Pakete aus den Ubuntu-Archiven herunter, indem man die obigen Links auf einem anderen Rechner nacheinander aufruft. Die Links führen jeweils auf eine Übersichtsseite mit den diversen Ubuntu-Versionen. Nach der Auswahl einer Version für das Paket wird man auf eine weitere Übersichtsseite geleitet, an deren Ende sich der Bereich zum Herunterladen der Pakete befindet.</p><p>Hier wählt man aus, ob man auf einem 64-Bit-System (<code class="notranslate">amd64</code>) oder auf einem 32-Bit-System (<code class="notranslate">i386</code>) installieren möchte. Durch einen Klick auf die betreffende Architektur gelangt man dann auf die Serverliste. Dort kann man durch Anklicken eines Servers dann das gewünschte Paket (in das browserintern eingestellte Downloadverzeichnis) herunter laden und zum Übertragen z.B. auf einen USB-Stick speichern.</p></div><div class="section_3"><h4 id="Pakete-installieren">Pakete installieren<a class="headerlink" href="#Pakete-installieren">¶</a></h4><p>
Nach dem Herunterladen werden die alten Paket erst einmal mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get purge grub-* os-prober # grub-gfxpayload-lists </pre></div></div><p>entfernt. Zu der eingeblendeten Abfrage siehe auch die Hinweise unter <a class="crosslink" href="#Gleiche-Paketversion">gleiche Paketversion</a>. Danach installiert man die heruntergeladenen Pakete im Terminal <sup><a href="#source-2">[2]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg --install /Pfad_Downloadverzeichnis/*.deb </pre></div></div></div></div><div class="section_2"><h3 id="Mittels-Live-CD-GRUB-2-aktualisieren">Mittels Live-CD GRUB_2 aktualisieren<a class="headerlink" href="#Mittels-Live-CD-GRUB-2-aktualisieren">¶</a></h3><p>
Man muss mit Hilfe einer <a class="internal" href="../desktop-cd.html">Desktop-CD</a> einen "Live-Desktop" starten und dann in eine <a class="internal" href="../chroot/live-cd.html#Einrichtung">chroot</a>-Umgebung wechseln<sup><a href="#source-4">[4]</a></sup>.</p><p>Man installiert die für die betreffende Ubuntu-Version aktuellen GRUB-Pakete im Terminal <sup><a href="#source-2">[2]</a></sup> mit:</p><div class="bash"><div class="contents"><pre class="notranslate">apt-get update
apt-get --reinstall install grub-common grub-pc os-prober # grub-gfxpayload-lists
grub-setup /dev/sdX </pre></div></div><p>
Der letzte Befehl sollte eigentlich schon innerhalb des vorhergehenden Befehls ablaufen, aber um sicher zu gehen, dass die aktuellen GRUB-Images in MBR und verborgenen Bereich geschrieben werden, einfach sicherheitshalber noch mal ausführen. Auch hier ist <code class="notranslate">/dev/sdX</code> an das eigene System  <a class="internal" href="../grub_umgebung_analysieren.html#Festplatten-Aufteilung-und-UUID">anzupassen</a>.</p><p>Abschließend muss man die chroot-Umgebung wieder <a class="internal" href="../chroot/live-cd.html#Beenden">verlassen</a>.</p></div><div class="section_2"><h3 id="Mittels-Live-CD-auf-eine-Version-einer-neueren-Distribution-aktualisieren">Mittels Live-CD auf eine Version einer neueren Distribution aktualisieren<a class="headerlink" href="#Mittels-Live-CD-auf-eine-Version-einer-neueren-Distribution-aktualisieren">¶</a></h3><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Bei dieser Art der GRUB-2-Installation wird GRUB 2 bei künftigen Durchläufen durch die Aktualisierungsverwaltung nicht mehr automatisch aktualisiert. Dies muss dann bei Bedarf manuell durchgeführt werden. Daher sollte diese Methode immer nur als allerletzte Lösung in Betracht gezogen werden.</p><p>Auch wenn die GRUB-2-Pakete im Prinzip autark sind, ist bei diesem Vorgehen generell darauf zu achten, dass das System, auf der neuere GRUB-2-Pakete installiert werden sollen, auch die Paketabhängigkeiten erfüllt. 
</p></div></div><div class="section_3"><h4 id="Vorbereitungen">Vorbereitungen<a class="headerlink" href="#Vorbereitungen">¶</a></h4><p>
Man öffnet am Live-Desktop einen Browser und ruft dieses Wiki auf, indem man die Adresse (URL)
</p><ul><li><p><a class="crosslink" href="http://wiki.ubuntuusers.de/GRUB_2/Installation" title="http://wiki.ubuntuusers.de/GRUB_2/Installation">http://wiki.ubuntuusers.de/GRUB_2/Installation</a></p></li></ul><p>in die entsprechende Adresszeile eingibt oder indem man mit der <img alt="rechte Maustaste" class="image-default" src="../_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/> das Kontextmenü aufruft und "Link-Adresse" kopieren wählt. Die weiteren Schritte zur Paketauswahl und Download sind, wie oben unter <a class="crosslink" href="#Pakete-auswaehlen">Pakete auswählen</a> beschrieben, auszuführen.</p><p>Nach dem Herunterladen der Pakete in das browserintern eingestellte Downloadverzeichnis, in der Regel
</p><ul><li><p><strong>/home/BENUTZERNAME/Downloads</strong></p></li></ul><p>bindet man das System, auf dem GRUB 2 ausgetauscht werden soll, in das Livesystem ein. Dazu wird die Root-Partition gemountet. Man informiert sich unter <strong>/media/</strong> nach dem <strong>System_Name</strong> des eingebundenen Systems. Danach kopiert man die heruntergeladenen GRUB-2-Pakete im Terminal <sup><a href="#source-2">[2]</a></sup> mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo rm -f /media/System_Name/tmp/*.deb
sudo cp -f /home/ubuntu/Downloads/*.deb /media/System_Name/tmp/ </pre></div></div></div><div class="section_3"><h4 id="Deinstallieren">Deinstallieren<a class="headerlink" href="#Deinstallieren">¶</a></h4><p>
Zunächst muss man mittels <a class="internal" href="../desktop-cd.html">Desktop-CD</a> in eine <a class="internal" href="../chroot/live-cd.html#Einrichtung">chroot</a>-Umgebung wechseln<sup><a href="#source-4">[4]</a></sup>.</p><p>
</p><table style="border-style: none"><tr class=";"><td colspan="2" style="text-align: center; width: 97%; border-style: none"> </td></tr><tr><td style="text-align: left; border-style: none"> In der chroot-Umgebung führt man nun den folgenden Befehl aus, um eine bestehende GRUB 2 Installation durch Eingabe im Terminal <sup><a href="#source-2">[2]</a></sup> von </td><td rowspan="4" style="text-align: left; border-style: none"> <img alt="grub2-uninst.png" class="image-default" src="../_/5ad0ec521da380de1ccdb48cc55347517b73a3dc.png"/> </td></tr><tr><td style="text-align: left; border-style: none"> <div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get purge grub-* os-prober # grub-gfxpayload-lists </pre></div></div> </td></tr><tr><td style="text-align: left; border-style: none"> zu deinstallieren. Während der Deinstallation kommt eine Abfrage, ob man alle Dateien von GRUB 2 entfernen möchte: </td></tr><tr><td style="text-align: left; border-style: none"> Hier steuert man mit den Pfeil-Tasten 
<span class="key">←</span> , 
<span class="key">→</span>  vorzugsweise auf "Ja" und bestätigt dies dann durch Drücken der Eingabe-Taste 
<span class="key">⏎</span> .  </td></tr></table><p>
Bei einem "Nein" verbleiben viele systemeigene Einstellungsdateien auf dem Rechner, die dann bei einer erneuten Installation zu Fehlern führen können.</p></div><div class="section_3"><h4 id="Installieren">Installieren<a class="headerlink" href="#Installieren">¶</a></h4><p>
Man wechselt im Terminal <sup><a href="#source-2">[2]</a></sup> in das Verzeichnis, in das man die Pakete kopiert hat:</p><div class="bash"><div class="contents"><pre class="notranslate">cd /tmp </pre></div></div><p>
und installiert die heruntergeladenen Pakete im Terminal <sup><a href="#source-2">[2]</a></sup> mit:</p><div class="bash"><div class="contents"><pre class="notranslate">dpkg --install *.deb </pre></div></div><p>Während das Paket <strong>grub-pc</strong> installiert wird, kommen einige Abfragemasken zur Konfiguration von Grub 2.</p><p>
</p><table style="border-style: none"><tr class=";"><td colspan="2" style="text-align: center; width: 97%; border-style: none"> </td></tr><tr><td rowspan="2" style="text-align: left; border-style: none"> <img alt="grub2-install-abfrage.png" class="image-default" src="../_/d141a9fcefa28cd4d3f2d890f2dccf522dd75ee4.png"/> </td><td style="text-align: left; border-style: none"> Wurde beim <a class="crosslink" href="#Deinstallieren">Deinstallieren</a> die Abfrage mit "Nein" beantwortet, so wird z.B. erkannt, dass noch die Datei <strong>/etc/default/grub</strong> vorhanden ist und man kann die Abfrage mit der Eingabe-Taste 
<span class="key">⏎</span>  abschließen, wenn man die Einstellungen behalten will.  </td></tr><tr><td style="text-align: left; border-style: none"> Anderenfalls kann man mit den Pfeiltasten 
<span class="key">↓</span> , 
<span class="key">↑</span>  eine andere Vorgabe auswählen und schließt die Abfrage mit der Eingabe-Taste 
<span class="key">⏎</span>  ab. </td></tr><tr><td rowspan="2" style="text-align: left; border-style: none"> <img alt="grub2-install-cli.png" class="image-default" src="../_/b509bae2bac2ca4e3706d8f025f1ba26d9cf4e02.png"/> </td><td style="text-align: left; border-style: none"> Die Kernelparameter "quiet splash" werden immer als Standardwert gesetzt. Diese Abfrage kann man in der Regel durch Drücken der Eingabe-Taste 
<span class="key">⏎</span>  abschließen.  </td></tr><tr><td style="text-align: left; border-style: none"> Kennt man bereits erforderliche Kernelparameter, so kann man diese gleich hier einbringen. Nachdem man diese in die Eingabezeile eingetragen hat, schließt man den Vorgang durch Drücken der Eingabe-Taste 
<span class="key">⏎</span>  ab.  </td></tr><tr><td style="text-align: left; border-style: none"> <img alt="grub2-install-config.png" class="image-default" src="../_/8c9d96479db9bce2cc8d0e0d3b67cf374dea58e8.png"/> </td><td style="text-align: left; border-style: none"> Dieser Hinweistext bezieht sich auf die nächste Maske und man sollte den Text sorgfältig durchlesen. Danach wechselt man durch Drücken der Eingabe-Taste 
<span class="key">⏎</span>  in die Eingabemaske für den MBR. </td></tr><tr><td rowspan="2" style="text-align: left; border-style: none"> <img alt="grub2-install-location.png" class="image-default" src="../_/6f1b4fa4ac00d6947b1677192380c4ef8267e635.png"/> </td><td style="text-align: left; border-style: none"> Man kann in diesem Konfigurationsbildschirm wählen, ob GRUB 2 in den MBR einer Festplatte oder PBR einer Partition installiert werden soll. Hier ist wichtig, dass man zunächst mit den Pfeiltasten 
<span class="key">↓</span> , 
<span class="key">↑</span>  auf den gewünschten Eintrag steuert. Dieser Eintrag muss dann durch Drücken der Leertaste 
<span class="key">        </span>  ausgewählt werden, was durch ein "[*]" angezeigt wird. Ein erneutes Drücken der Leertaste 
<span class="key">        </span>  hebt die Auswahl wieder auf. Abschließend bestätigt man diese Auswahl durch Drücken der Eingabe-Taste 
<span class="key">⏎</span> . </td></tr><tr><td style="text-align: left; border-style: none"> Im vorliegenden Beispiel wird GRUB 2 in den MBR der Festplatte installiert. </td></tr><tr><td colspan="2" style="border-style: none"> <div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Handelt es sich um einen <a class="internal" href="../software-raid.html">RAID-Verbund</a>, so kann man durch gleichzeitiges Setzen eines "[*]" in allen beteiligten Datenträgern einen MBR installieren. Damit ist auch bei einem Ausfall eines Datenträgers das direkte Booten über das BIOS durch entsprechende Auswahl möglich.
</p></div></div> </td></tr><tr><td rowspan="3" style="text-align: left; border-style: none"> <img alt="grub2-install-no_mbr.png" class="image-default" src="../_/119de65e7865d60cb7b9f1beb8ea8753661837a0.png"/> </td><td style="text-align: left; border-style: none"> Wurde in der vorherigen Maske bewusst oder unbewusst keine Auswahl getroffen, so erfolgt hier eine Kontrollabfrage.  </td></tr><tr><td style="text-align: left; border-style: none"> Man steuert mit der Pfeiltaste 
<span class="key">←</span>  auf "Ja", um keinen MBR zu installieren. Damit werden auch intern nur eingeschränkt Dateien (u.a. im Verzeichnis <strong>/boot/grub</strong>) angelegt. Man bestätigt diese Auswahl durch Drücken der Eingabe-Taste 
<span class="key">⏎</span> . </td></tr><tr><td style="text-align: left; border-style: none"> Man steuert mit der Pfeiltaste 
<span class="key">→</span>  auf "Nein", um die Auswahl zum Setzen eines MBR zu wiederholen und bestätigt diese Auswahl durch Drücken der Eingabe-Taste 
<span class="key">⏎</span> . </td></tr></table><p>Man erstellt die GRUB 2 Konfigurations-Datei <strong>/boot/grub/grub.cfg</strong> im Terminal <sup><a href="#source-2">[2]</a></sup> neu mit:
</p><div class="bash"><div class="contents"><pre class="notranslate">update-grub </pre></div></div><p>Man sollte nun die Datei <strong>/boot/grub/grub.cfg</strong> in einem Editor <sup><a href="#source-3">[3]</a></sup> auf Plausibilität überprüfen, bevor man abschließend die <a class="internal" href="../chroot/live-cd.html#Beenden">chroot</a>-Umgebung wieder verlässt.</p></div></div></div><div class="section_1"><h2 id="grub2-auf-andere-Partition-Festplatte-installieren">grub2 auf andere Partition/Festplatte installieren<a class="headerlink" href="#grub2-auf-andere-Partition-Festplatte-installieren">¶</a></h2><p>
Die korrekte Methode, um GRUB 2 auf eine andere Partition/Festplatte zu installieren, ist:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg-reconfigure grub-pc </pre></div></div><p>
wobei der Setup-Dialog dann nach der gewünschten Zielpartition fragt.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die nachfolgende Lösung ist nur vorübergehend, da sich der Ubuntu Paketmanager den originalen Installationsort merkt. Spätestens beim nächsten GRUB 2 oder Distributionsupdate wird GRUB 2 wieder die auf die originale Partition installiert. Dies kann zu einen nicht mehr bootbaren System führen.
</p></div></div><p>Ist grub z.B. auf <code class="notranslate">/dev/sda3</code> installiert und man möchte es nun aber auf lieber auf /dev/sda haben sind folgende Befehle notwendig:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-setup /dev/sda
sudo grub-install /dev/sda
sudo update-grub </pre></div></div><p>
wobei /dev/sda an das neue gewünschte Ziel angepasst werden muss.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="../grub_2.html">GRUB 2</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsseite</p><ul><li><p><a class="internal" href="../grub_2/problembehebung.html">GRUB-2-Probleme und -Lösungen</a></p></li><li><p><a class="internal" href="../grub_2/konfiguration.html">GRUB-2-Konfiguration</a></p></li><li><p><a class="internal" href="../grub_2/skripte.html">GRUB-2-Skripte</a></p></li><li><p><a class="internal" href="../grub_2/reparatur.html">GRUB-2-Reparatur</a></p></li><li><p><a class="internal" href="../grub_umgebung_analysieren.html">GRUB-2-Umgebung analysieren</a></p></li><li><p><a class="internal" href="../grub_2/shell.html">GRUB-2-Shell</a></p></li><li><p><a class="internal" href="../grub_2/aussehen.html">GRUB 2 optisch anpassen</a></p></li><li><p><a class="internal" href="../grub_2/terminalbefehle.html">GRUB-2-Terminalbefehle</a></p></li><li><p><a class="internal" href="../grub_2/grundlagen.html">GRUB-2-Grundlagen</a></p></li></ul></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../grub_2/installation/a/revision/938595.html">Diese Revision</a> wurde am 1. Mai 2017 12:08 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../grub_2.html">GRUB 2</a></li>
<li><a href="../grub_2/installation.html">Installation</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>