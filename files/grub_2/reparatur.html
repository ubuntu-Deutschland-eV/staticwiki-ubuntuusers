<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>GRUB_2/Reparatur › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../grub_2/reparatur.html">Reparatur</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/GRUB_2/Reparatur">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../grub_2/reparatur/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../grub_2/reparatur/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../grub_2/reparatur/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../grub_2/reparatur/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../grub_2/reparatur/a/backlinks.html">Reparatur</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="../trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../grub_umgebung_analysieren.html">GRUB Umgebung analysieren</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../chroot/live-cd.html">Mittels Desktop-CD in ein installiertes System wechseln</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../systeminformationen_ermitteln.html#Festplatten">Systeminformationen ermitteln</a></p></li></ol></div></div><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Reparatur-im-laufenden-System">Reparatur im laufenden System
</a><ol class="arabic"><li><a class="crosslink" href="#GRUB-2-erneut-in-den-MBR-der-Festplatte-installieren">GRUB 2 erneut in den MBR der Festplatte ...</a></li><li><a class="crosslink" href="#GRUB-2-vollstaendig-neu-installieren">GRUB 2 vollständig neu installieren
</a></li><li><a class="crosslink" href="#GRUB-2-Pakete-reinstallieren">GRUB 2 Pakete reinstallieren
</a></li><li><a class="crosslink" href="#Die-Konfigurationsdatei-neu-erstellen-oder-aktualisieren">Die Konfigurationsdatei neu erstellen od...</a></li><li><a class="crosslink" href="#Eine-zusaetzliche-Konfigurationsdatei-erstellen">Eine zusätzliche Konfigurationsdatei ers...</a></li></ol></li><li><a class="crosslink" href="#Reparatur-mittels-Desktop-CD">Reparatur mittels Desktop-CD
</a><ol class="arabic"><li><a class="crosslink" href="#chroot-Methode">chroot-Methode
</a></li><li><a class="crosslink" href="#Root-Directory-Methode">Root-Directory-Methode
</a></li><li><a class="crosslink" href="#Wann-welche-Methode">Wann welche Methode?
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Der Grub 2 Bootloader in der Version 2.0 (stable) ist weiter in der Entwicklung. Hinweise auf tatsächliche Gegebenheiten können daher noch fehlen bzw. nach einem Update nicht mehr zutreffen. Wesentliche Abweichungen sind  gekennzeichnet und wenn erforderlich, auch beschrieben.
</p></div></div><p><img alt="Wiki/Icons/Oxygen/preferences-other.png" class="image-left" src="../_/c7f6ad50f5e85a8422a9cafd66f457ffc84cd3ae.png"/>
Dieser Artikel beschreibt, wie man GRUB 2 reparieren kann, wenn er nicht oder nicht mehr so funktioniert wie gewünscht. Bevor man zu Reparaturarbeiten an GRUB 2 geht, sollte man sich stets einen Überblick über das System verschaffen<sup><a href="#source-1">[1]</a></sup>. Nur wenn man sicher weiß, wo die GRUB-2-Dateien liegen und wohin GRUB 2 installiert war bzw. wohin man ihn installieren möchte, kann man die erforderlichen Schritte erfolgreich ausführen.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Für Reparaturen am <strong>EFI-System</strong> muss die Live-CD/DVD bzw. der Live-USB-Stick im <strong>EFI-Modus</strong> gestartet werden! Weitergehende Hinweise zur Reparatur in einem <strong>EFI-System</strong> siehe diese <a class="internal" href="../efi_nachbearbeitung.html#EFI-Eintrag-neu-erstellen">Ausführungen</a>.
</p></div></div><p>
</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Falls man bei der Installation nicht nur das <a class="internal" href="../homeverzeichnis.html">Homeverzeichnis</a> verschlüsselt, sondern stattdessen die <a class="internal" href="../luks.html">Systemverschlüsselung (LUKS)</a> aktiviert hat, muss man das System nun vor allen weiterführenden Schritten zunächst <a class="internal" href="../luks.html#ffnen-von-LUKS-Geraeten-mit-Passwortabfrage">entschlüsseln</a>.
Wenn man nun </p><div class="bash"><div class="contents"><pre class="notranslate">sudo parted -l </pre></div></div><p> ausführt, erkennt man eine oder mehrere Ausgaben wie <code class="notranslate">Festplatte  /dev/mapper/mnt</code>, wobei zusätzlich <code class="notranslate">vgubuntu</code> (sowie <code class="notranslate">vgubuntu-root</code> und <code class="notranslate">vgubuntu-swap</code>) erscheinen, wenn der Installer die Verschlüsselung mit <a class="internal" href="../lvm.html">LVM</a> ergänzt.</p><p>Im Folgenden weicht die Anleitung dann nur noch dadurch ab, dass nun anstelle von <code class="notranslate">/dev/sdXY</code> stattdessen das entsprechende <code class="notranslate">/dev/mapper/vgubuntu-root</code> (LUKS mit LVM) bzw. direkt das soeben durch die Entsperrung erzeugte <code class="notranslate">/dev/mapper/mnt</code> (Beispiel ohne LVM) genutzt werden muss.
</p></div></div><div class="section_1"><h2 id="Reparatur-im-laufenden-System">Reparatur im laufenden System<a class="headerlink" href="#Reparatur-im-laufenden-System">¶</a></h2><p>
Am einfachsten ist die Reparatur von GRUB 2, wenn man die betreffende Ubuntu Version, mit der er installiert wurde, noch starten kann. Gelingt dies nicht über das eigentliche <a class="internal" href="../grub_2/shell.html#Auswahlmenue-Modus">GRUB 2 Auswahl-Menü</a>, so kann man die <a class="internal" href="../grub_2/reparatur.html#Reparatur-mittels-Desktop-CD">Reparatur mittels Desktop-CD</a> versuchen, oder es - falls verfügbar - über die <a class="internal" href="../grub_2/shell.html#Kommandozeile">GRUB-Kommandozeile</a>, den <a class="internal" href="../grub_2/shell.html#Rettungs-Modus">GRUB-Rettungs-Modus</a> oder auch die <a class="internal" href="../grub_2/shell.html#Alternativer-Systemstart-mit-Hilfe-der-Super-GRUB2-Disk">Super-GRUB-Disk</a> probieren.</p><p>Alle nachfolgenden Befehle werden über das Terminal<sup><a href="#source-2">[2]</a></sup> eingegeben:</p><div class="section_2"><h3 id="GRUB-2-erneut-in-den-MBR-der-Festplatte-installieren">GRUB 2 erneut in den MBR der Festplatte installieren<a class="headerlink" href="#GRUB-2-erneut-in-den-MBR-der-Festplatte-installieren">¶</a></h3><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Der folgende Befehl <code class="notranslate">grub-setup</code> ist nur noch in der Grub-Version 1.99 (<a class="internal" href="../precise_pangolin.html">Precise Pangolin</a> 12.04 LTS) anwendbar. Bei einer Ubuntu-EFI-Installation wird dieser Befehl grundsätzlich nicht gebraucht.
</p></div></div><p>Um die Kernkomponenten von GRUB 2 - <strong>boot.img</strong> und <strong>core.img</strong> - erneut in den MBR und den verborgenen Bereich zu schreiben, gibt man in ein Terminal <sup><a href="#source-2">[2]</a></sup> ein: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-setup /dev/sdX </pre></div></div><p><code class="notranslate">sdX</code> ist dabei an das <a class="internal" href="../grub_umgebung_analysieren.html#Festplatten-Aufteilung-und-UUID">eigene System</a> anzupassen (mehr zu (<a class="internal" href="../grub_2/terminalbefehle.html#grub-setup">grub-setup</a>).</p></div><div class="section_2"><h3 id="GRUB-2-vollstaendig-neu-installieren">GRUB 2 vollständig neu installieren<a class="headerlink" href="#GRUB-2-vollstaendig-neu-installieren">¶</a></h3><p>
Zunächst die GRUB-2-Dateien erneut in das Verzeichnis <strong>/boot/grub</strong> installieren und anschließend die Kernkomponenten von GRUB 2 in den MBR und verborgenen Bereich schreiben ( mehr zu <a class="internal" href="../grub_2/terminalbefehle.html#grub-install">grub-install</a>).</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-install /dev/sdX </pre></div></div><p><code class="notranslate">sdX</code> ist dabei an das <a class="internal" href="../grub_umgebung_analysieren.html#Festplatten-Aufteilung-und-UUID">eigene System</a> anzupassen.</p></div><div class="section_2"><h3 id="GRUB-2-Pakete-reinstallieren">GRUB 2 Pakete reinstallieren<a class="headerlink" href="#GRUB-2-Pakete-reinstallieren">¶</a></h3><p>
Hat man Probleme, die sich durch Neuinstallation von GRUB 2 nicht beheben lassen, so kann man weiterhin versuchen, die GRUB 2 Pakete, die als Grundlage auch für die Neuinstallation von GRUB 2 auf dem System dienen, zu reinstallieren. Dies bewerkstelligt man einfach mit folgendem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get update </pre></div></div><p>Anschließend abhängig vom System:</p><div class="section_3"><h4 id="BIOS-Installation">BIOS-Installation<a class="headerlink" href="#BIOS-Installation">¶</a></h4><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get --reinstall install grub-common grub-pc os-prober # grub-gfxpayload-lists </pre></div></div><p> 
Das Paket <strong>grub-gfxpayload-lists</strong> wird nur bei älteren System mit Grub 1.9 benötigt!</p></div><div class="section_3"><h4 id="EFI-Installation">EFI-Installation<a class="headerlink" href="#EFI-Installation">¶</a></h4><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get --reinstall install grub-common grub-efi-amd64 os-prober </pre></div></div><p>Näheres zu dem Befehl erfährt man unter <a class="internal" href="../apt-get.html">apt-get</a>.</p></div></div><div class="section_2"><h3 id="Die-Konfigurationsdatei-neu-erstellen-oder-aktualisieren">Die Konfigurationsdatei neu erstellen oder aktualisieren<a class="headerlink" href="#Die-Konfigurationsdatei-neu-erstellen-oder-aktualisieren">¶</a></h3><p>
Die Konfiguration für das Auswahl-Menü ermitteln und in die Datei <strong>grub.cfg</strong> übertragen (<a class="internal" href="../grub_2/terminalbefehle.html#update-grub">mehr zu update-grub</a>):</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-grub </pre></div></div></div><div class="section_2"><h3 id="Eine-zusaetzliche-Konfigurationsdatei-erstellen">Eine zusätzliche Konfigurationsdatei erstellen<a class="headerlink" href="#Eine-zusaetzliche-Konfigurationsdatei-erstellen">¶</a></h3><p>
Die aktuelle Konfiguration für das Auswahl-Menü ermitteln und in eine frei definierbare Datei speichern - die Datei <strong>grub.cfg</strong> bleibt dabei unverändert (<a class="internal" href="../grub_2/terminalbefehle.html#grub-mkconfig">mehr zu grub-mkconfig</a>):</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-mkconfig --output=/boot/grub/meine.cfg </pre></div></div><p>schreibt die aktuelle Konfiguration in die Datei <strong>meine.cfg</strong> im Verzeichnis <strong>/boot/grub</strong>, die Datei kann dabei an die eigenen Bedürfnisse angepasst werden.</p></div></div><div class="section_1"><h2 id="Reparatur-mittels-Desktop-CD">Reparatur mittels Desktop-CD<a class="headerlink" href="#Reparatur-mittels-Desktop-CD">¶</a></h2><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Im Folgenden wird davon ausgegangen, dass die verwendete <a class="internal" href="../desktop-cd.html">Desktop-CD</a> dem zu reparierenden System in seiner Architektur, also z.B. 32- oder 64-Bit, entspricht. Wählt man die <a class="crosslink" href="#Root-Directory-Methode">Root-Directory-Methode</a>, so ist noch auf die selbe GRUB-2-Version zu achten.
</p></div></div><div class="section_2"><h3 id="chroot-Methode">chroot-Methode<a class="headerlink" href="#chroot-Methode">¶</a></h3><p>
Hinweis: Nachdem der Ubuntu "alternate" Installer weggefallen ist, bieten die original Debian Installationsmedien mit ihrem Rescue-Modus weiterhin eine bequemere Möglichkeit zu booten, das Wurzeldateisystem auszuwählen, und in eine chroot-Umgebung zu kommen, um grub-install ausführen zu können.</p><div class="section_3"><h4 id="Standard-Desktop-System">Standard Desktop-System<a class="headerlink" href="#Standard-Desktop-System">¶</a></h4><p>
</p><ol class="arabic"><li><p>Bootet man mit der <a class="internal" href="../desktop-cd.html">Desktop-CD</a> müssen die relevanten Partitionen <a class="internal" href="../mount.html">eingehängt</a> werden. Man öffnet dazu am Live-Desktop ein Terminal<sup><a href="#source-2">[2]</a></sup> und gibt dort ein: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount /dev/sdXY /mnt </pre></div></div><p> <code class="notranslate">sdXY</code> ist dabei die Rootpartition, die an das <a class="internal" href="../grub_umgebung_analysieren.html#Festplatten-Aufteilung-und-UUID">eigene System</a> anzupassen ist (z. B.: <strong>/dev/sda5</strong>)! </p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Bei einem <a class="internal" href="../btrfs-dateisystem.html">Btrfs-Dateisystem</a> setzt man statt dessen ein: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -o subvol=@ /dev/sdXY /mnt </pre></div></div><p>
</p></div></div></li><li><p>Optionale Schritte</p><ul><li><p>Nutzt man auf dem System eine separate Boot-Partition, so muss diese ebenfalls vorab eingehängt werden: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount /dev/sdXY /mnt/boot </pre></div></div></li><li><p>Nutzt man auf seinem Rechner das <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/UEFI">UEFI</a>-Bootverfahren, so muss die relevante Bootpartition vorab eingehängt werden mit: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount /dev/sdXY /mnt/boot/efi </pre></div></div></li></ul></li><li><p>Vorbereitung und Wechsel in die chroot-Umgebung:</p><ul><li><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -o bind /dev /mnt/dev </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -o bind /sys /mnt/sys </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -t proc /proc /mnt/proc </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /proc/mounts /mnt/etc/mtab </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">sudo chroot /mnt /bin/bash </pre></div></div></li></ul></li><li><p>Danach führt man die folgenden Befehle (ohne <strong>sudo</strong>) aus:</p><ul><li><p>Zunächst installiert man die GRUB-2-Dateien neu in das Verzeichnis <strong>/boot/grub</strong> und schreibt GRUB 2 in den MBR des betreffenden Datenträgers. Dies erledigt der folgende Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">grub-install /dev/sdX </pre></div></div><p> </p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Nutzt man auf seinem Rechner das <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/UEFI">UEFI</a>-Bootverfahren, so kann man auf die Zuordnung zur Festplatte / Partition (<strong>/dev/sdXY</strong>) verzichten.
</p></div></div></li><li><p>Sollte es dabei zu Fehlern kommen, probiert man es mit: </p><div class="bash"><div class="contents"><pre class="notranslate">grub-install --recheck /dev/sdX </pre></div></div></li><li><p>Anschließend erstellt man auf Grundlage der neu installierten Dateien die Datei <strong>/boot/grub/grub.cfg</strong> neu: </p><div class="bash"><div class="contents"><pre class="notranslate">update-grub </pre></div></div></li></ul></li><li><p>Abschließend muss man die chroot-Umgebung wieder mit 
<span class="key">Strg</span>  + 
<span class="key">D</span> <a class="internal" href="../chroot/live-cd.html#Beenden">verlassen</a>.</p></li></ol><p>
</p></div><div class="section_3"><h4 id="RAID-System">RAID-System<a class="headerlink" href="#RAID-System">¶</a></h4><p>
</p><ol class="arabic"><li><p>Zunächst mittels <a class="internal" href="../desktop-cd.html">Desktop-CD</a> booten und sicherstellen, dass die <strong>mdadm</strong>-Tools installiert und assembliert sind:</p><ul><li><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install mdadm </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">sudo mdadm --assemble --scan </pre></div></div></li></ul></li><li><p><a class="internal" href="../mount.html">Einhängen</a> der Systempartition:</p><ul><li><div class="bash"><div class="contents"><pre class="notranslate">sudo mount /dev/mdX /mnt </pre></div></div><p> <code class="notranslate">mdX</code> ist dabei an das <a class="internal" href="../grub_umgebung_analysieren.html#Festplatten-Aufteilung-und-UUID">eigene System</a> anzupassen!</p></li><li><p>Überprüfen der <a class="internal" href="../software-raid.html#mdadm-conf">mdadm.conf</a>-Einträge mit Ausgabe von:</p><ul><li><div class="bash"><div class="contents"><pre class="notranslate">sudo mdadm --examine --scan </pre></div></div></li></ul></li><li><p>(Optionaler Schritt) Nutzt man auf dem System eine separate Boot-Partition, so muss diese ebenfalls eingehängt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount /dev/mdX /mnt/boot </pre></div></div></li></ul></li><li><p>Vorbereitung und Wechsel in die chroot-Umgebung:</p><ul><li><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -o bind /dev /mnt/dev </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -o bind /sys /mnt/sys </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -t proc /proc /mnt/proc </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /proc/mounts /mnt/etc/mtab </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">sudo chroot /mnt /bin/bash </pre></div></div></li></ul></li><li><p>Danach führt man die folgenden Befehle aus:</p><ul><li><p>GRUB 2 neu in den MBR des betreffenden Datenträgers installieren: </p><div class="bash"><div class="contents"><pre class="notranslate">grub-install /dev/sdX </pre></div></div><p> Installation auf allen teilnehmenden Platten (<strong>/dev/sda</strong>, <strong>/dev/sdb</strong> ...) empfohlen!</p></li><li><p>Sollte es dabei zu Fehlern kommen, probiert man es mit: </p><div class="bash"><div class="contents"><pre class="notranslate">grub-install --recheck /dev/sdX </pre></div></div></li><li><p>Anschließend erstellt man auf Grundlage der neu installierten Dateien die Datei <strong>/boot/grub/grub.cfg</strong> neu: </p><div class="bash"><div class="contents"><pre class="notranslate">update-grub </pre></div></div></li></ul></li><li><p>Abschließend muss man die chroot-Umgebung wieder mit 
<span class="key">Strg</span>  + 
<span class="key">D</span> <a class="internal" href="../chroot/live-cd.html#Beenden">verlassen</a>.</p></li></ol><p>
Nun sollte mindestens Ubuntu wieder über GRUB 2 starten können. Eventuell muss man aber dann die Konfigurations-Skripte noch den eigenen Bedürfnissen anpassen, um beispielsweise auch andere Betriebssysteme wieder wie zuvor starten zu können.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Neben den hier verwendeten Befehlen <code class="notranslate">grub-install</code> und <code class="notranslate">update-grub</code> lassen sich in der chroot-Umgebung alle Befehle anwenden, die auch im <a class="crosslink" href="#Reparatur-im-laufenden-System">laufenden System</a> verwendet werden können.
</p></div></div></div></div><div class="section_2"><h3 id="Root-Directory-Methode">Root-Directory-Methode<a class="headerlink" href="#Root-Directory-Methode">¶</a></h3><p>
</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Nutzt man auf seinem Rechner das <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/UEFI">UEFI</a>-Bootverfahren, so ist die "Root-Directory-Methode" nicht anwendbar!
</p></div></div><p>
Bei dieser Variante wird GRUB 2 einfach in einem Terminal<sup><a href="#source-2">[2]</a></sup> von der Desktop-CD mittels des GRUB-2-Skripts <a class="internal" href="../grub_2/terminalbefehle.html#grub-install">grub-install</a> erneut auf der Festplatte installiert:</p><ol class="arabic"><li><p>Booten von einer <a class="internal" href="../desktop-cd.html">Desktop-CD</a>.</p></li><li><p>Ein Terminal<sup><a href="#source-2">[2]</a></sup> öffnen.</p></li><li><p>Lokalisieren des Datenträgers, sowie der Root- und gegebenenfalls Bootpartition (siehe <a class="internal" href="../grub_umgebung_analysieren.html#Festplatten-Aufteilung-und-UUID">GRUB Umgebung analysieren</a>). </p></li><li><p>Einhängen der zuvor unter 3. ermittelten Rootpartition:</p><div class="bash"><div class="contents"><pre class="notranslate"> sudo mount /dev/sdXY /mnt </pre></div></div><p> </p><pre class="notranslate">Beispielanweisung: 1.Platte - 2. Partition sudo mount /dev/sda2 /mnt</pre><p> </p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Bei einem <a class="internal" href="../btrfs-dateisystem.html">Btrfs-Dateisystem</a> setzt man statt dessen ein: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -o subvol=@ /dev/sdXY /mnt </pre></div></div><p>
</p></div></div></li><li><p>Optionale Schritte </p><ul><li><p>Nutzt man auf dem System eine separate Boot-Partition, so muss diese ebenfalls vorab eingehängt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount /dev/sdXY /mnt/boot </pre></div></div></li></ul></li><li><p>Devices von USB/CD einbinden Live-System </p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount --bind /dev/ /mnt/dev </pre></div></div></li><li><p>Jetzt reinstalliert man die GRUB-2-Dateien und schreibt GRUB 2 in den MBR des entsprechenden Datenträgers:</p><ul><li><p>GRUB 1.98 und vorher (bis Maverick Meerkat):</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-install --root-directory=/mnt /dev/sdX </pre></div></div></li><li><p>GRUB 1.99 und später:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-install --boot-directory=/mnt/boot /dev/sdX </pre></div></div></li></ul></li><li><p>Nach dem Neustarten des Systems sollte GRUB 2 korrekt arbeiten. Um die Datei <strong>grub.cfg</strong> auf den neuesten Stand zu bringen, empfiehlt sich noch ein</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-grub </pre></div></div></li></ol><p>
</p></div><div class="section_2"><h3 id="Wann-welche-Methode">Wann welche Methode?<a class="headerlink" href="#Wann-welche-Methode">¶</a></h3><p>
Die <a class="crosslink" href="#chroot-Methode">chroot-Methode</a> verwendet man immer dann, wenn man nur oder auch die <strong>grub.cfg</strong> neu erstellen lassen will. Außerdem sollte sie immer bei komplizierteren Systemkonstellationen wie <a class="internal" href="../luks.html">LUKS</a>- oder <a class="internal" href="../lvm.html">LV</a>-Partitionen sowie <a class="internal" href="../software-raid.html">Raid</a>-Verbunden und beim Wiederherstellen des Bootloaders eines <a class="internal" href="../dualboot.html">Dualboot-Systems</a> angewendet werden.</p><p>Die <a class="crosslink" href="#Root-Directory-Methode">Root-Directory-Methode</a> kann man immer dann wählen, wenn man sicher ist, dass die Datei <strong>grub.cfg</strong> richtig ist und GRUB 2 nur deswegen nicht richtig startet, weil er nicht oder nicht mehr bzw. nicht mehr richtig im Bootsektor oder dem MBR der betreffenden Festplatte installiert ist. Diese Situation hat man z.B. stets, nachdem Windows nach Ubuntu auf dem System installiert wurde. Diese Methode erfordert zwar weniger Einzelschritte, ist dabei aber auch weniger flexibel und erlaubt nicht so viele Reparaturoptionen wie die chroot-Methode.</p><p>Ist man sich nicht sicher, welche der beiden Methoden auf die eigene Situation anzuwenden ist, sollte man im Zweifel stets die chroot-Methode wählen, weil man mit ihr auf sämtliche GRUB 2-Befehle zurückgreifen kann, die man auch unter einem laufenden Ubuntu zur Verfügung hat.</p><p>Grub kann alternativ auch im Bootsektor einer Partition installiert werden. Wird in den oben genannten Methoden beim Befehl <a class="internal" href="../grub_2/terminalbefehle.html#grub-install">grub-install</a> statt einer Festplattenbezeichnung die einer Partition angegeben, so erfolgt die Installation dort. Diese Art der Installation ist aber nur für fortgeschrittene Anwender ratsam.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="../grub_2.html">GRUB 2</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsseite</p><ul><li><p><a class="internal" href="../grub_2/problembehebung.html">GRUB 2 Probleme und Lösungen</a></p></li><li><p><a class="internal" href="../grub_2/installation.html">GRUB 2 Installation</a></p></li><li><p><a class="internal" href="../grub_2/konfiguration.html">GRUB 2 Konfiguration</a></p></li><li><p><a class="internal" href="../grub_2/skripte.html">GRUB 2 Skripte</a></p></li><li><p><a class="internal" href="../grub_umgebung_analysieren.html">GRUB 2 Umgebung analysieren</a></p></li><li><p><a class="internal" href="../grub_2/shell.html">GRUB 2 Shell</a></p></li><li><p><a class="internal" href="../grub_2/aussehen.html">GRUB 2 optisch anpassen</a></p></li><li><p><a class="internal" href="../grub_2/terminalbefehle.html">GRUB 2 Terminalbefehle</a></p></li><li><p><a class="internal" href="../grub_2/grundlagen.html">GRUB 2 Grundlagen</a></p></li></ul></li></ul><p>
</p><ul><li><p><a class="interwiki interwiki-ubuntu_doc" href="https://help.ubuntu.com/community/Grub2/Installing">Grub2/Installing</a> auf Ubuntu.com <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../grub_2/reparatur/a/revision/938597.html">Diese Revision</a> wurde am 1. Mai 2017 12:09 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../grub_2.html">GRUB 2</a></li>
<li><a href="../grub_2/reparatur.html">Reparatur</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>