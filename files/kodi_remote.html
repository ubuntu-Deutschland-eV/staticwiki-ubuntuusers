<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Kodi_Remote › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./kodi_remote.html">Kodi Remote</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Kodi_Remote">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./kodi_remote/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./kodi_remote/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./kodi_remote/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./kodi_remote/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./kodi_remote/a/backlinks.html">Kodi Remote</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./sudo.html">Root-Rechte erlangen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Voraussetzungen">Voraussetzungen
</a></li><li><a class="crosslink" href="#Vorbereitung">Vorbereitung
</a></li><li><a class="crosslink" href="#Fernbedienung-testen">Fernbedienung testen
</a></li><li><a class="crosslink" href="#Keymap">Keymap
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./kodi.png" class="image-left" src="./_/6b7342e3de7604b271766a6aa82ddd94bf0b498e.png"/>
Die Einrichtung einer Fernbedienung für <a class="internal" href="./kodi.html">Kodi</a> (vormals XBMC alias XBox Media Center) führt immer wieder zu Irritationen. Von funktioniert überhaupt nicht, obskuren Fehlern bis hin zu klappt auf Anhieb ist alles vorhanden. Viele Probleme haben ihre Ursache im mangelnden Wissen über die im Kernel eingebauten Lirc-Funktionen. Seit der Kernelversion 2.6.33 enthalten alle Mainline-Kernel ein Modul <code class="notranslate">ir-core</code>. In diesem Artikel geht es um die Einrichtung von Fernbedienungen für Kodi ohne die Installation von <a class="internal" href="./lirc.html">Lirc</a> (und inputlirc).</p><p>Neben den Grundfunktionen einer Fernbedienung wie Lautstärke und Pfeiltasten, die ohne Anpassung immer systemweit funktionieren, werden in dieser Anleitung alle anderen Funktionen für Kodi als Tastatur-Events erläutert. Es reicht die Modifikation oder Erstellung einer Konfigurationsdatei. Änderungen in Kodi sind bei dieser Methode nicht erforderlich.</p><div class="section_1"><h2 id="Voraussetzungen">Voraussetzungen<a class="headerlink" href="#Voraussetzungen">¶</a></h2><p>
Zuerst muss festgestellt werden, ob der eigene Receiver geeignet ist.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wenn Lirc, Eventlirc und Inputlirc nicht installiert ist, reicht es, den Receiver anzuschließen und die Lautstärketasten der Fernbedienung (FB) zu probieren. Lässt sich die Lautstärke steuern, kennt der Kernel den Receiver und die FB. Eine passende Keymap ist im Verzeichnis <strong>/lib/udev/rc_keymaps/</strong> vorhanden. Nach der Installation von <strong>ir-keytable</strong> geht es im Abschnitt <a class="crosslink" href="#Keymap">Keymap</a> weiter.
Eventlirc ist Bestandteil von z.B. YaVDR, der Paketname kann je nach Quelle abweichen. Für einen Test muss es gestoppt werden.
</p></div></div><p>Bei Nutzung der im Kernel eingebauten Lirc-Funktionen entfallen Befehle wie <a class="internal" href="./lirc.html">irw</a>. Stattdessen ist das Programm ir-keytable zuständig <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>ir-keytable</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install ir-keytable </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install ir-keytable </pre></div></div><p>
</p></div></div><p>Falls Lirc läuft, muss dieses gestoppt werden <sup><a href="#source-2">[2]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service lirc stop
sudo service inputlirc stop
sudo service eventlircd stop </pre></div></div><p>
Bei der Installation von Lirc werden je nach genutztem Receiver Module durch einen Eintrag in die Blacklist gesperrt. Daher ist zu prüfen, ob Module in der Lirc-Blacklist stehen:</p><div class="bash"><div class="contents"><pre class="notranslate">cat /etc/modprobe.d/lirc-blklist.conf </pre></div></div><p>Wenn in der Ausgabe des Befehls ein Modul erscheint, ist dieses Modul zu laden (häufiger Kandidat ist z.B. <code class="notranslate">ati_remote</code>):</p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe -v MODUL </pre></div></div><p>Testen des Receivers:</p><div class="bash"><div class="contents"><pre class="notranslate">ir-keytable </pre></div></div><p>
Ausgabebeispiele:</p><ul><li><p>LogiLink DVB-T IR Receiver: </p><pre class="notranslate">Found /sys/class/rc/rc0/ (/dev/input/event11) with:
	Driver dvb_usb_rtl28xxu, table rc-empty
	Supported protocols: NEC RC-5 RC-6 JVC SONY SANYO LIRC 
	Enabled protocols: NEC RC-5 RC-6 JVC SONY SANYO LIRC</pre></li><li><p>X10 Medion OR24E Receivers (gilt auch für baugleiche wie die RF MCE Remote (OR22V)): </p><pre class="notranslate">Found /sys/class/rc/rc1/ (/dev/input/event9) with:
	Driver ati_remote, table rc-medion-x10-or2x
	Supported protocols: other 
	Enabled protocols: other</pre></li></ul><p>
Beide Receiver werden erkannt. Die Bezeichnung hinter <code class="notranslate">table</code> gibt an, ob eine Keymap in <strong>/lib/udev/rc_keymaps/</strong> vorhanden ist. In den Beispielen ist das nur für die X10 OR2x der Fall. Für den LogiLink Receiver wird <code class="notranslate">rc-empty</code> angegeben. Es ist keine Keymap vorhanden, eine neue Keymap muss erstellt werden.</p></div><div class="section_1"><h2 id="Vorbereitung">Vorbereitung<a class="headerlink" href="#Vorbereitung">¶</a></h2><p>
Diese Schritte entfallen, wenn lirc/inputlirc/eventlirc nicht installiert sind.</p><ul><li><p>Lirc und Inputlirc deinstallieren: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get purge lirc inputlirc </pre></div></div></li><li><p>Lirc-Blacklist entfernen, falls vorhanden: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo rm /etc/modprobe.d/lirc-blklist.conf </pre></div></div></li></ul><p>
</p></div><div class="section_1"><h2 id="Fernbedienung-testen">Fernbedienung testen<a class="headerlink" href="#Fernbedienung-testen">¶</a></h2><p>
</p><p>
</p><table style="width: 97%"><tr class="titel"><td colspan="2"> ir-keytable Parameter </td></tr><tr class="kopf"><td> Verfügbare Optionen </td><td> Bedeutung </td></tr><tr><td> <code class="notranslate">-c, --clear</code> </td><td> löscht eine evt. vorhandene Zuordnungs-Tabelle </td></tr><tr><td> <code class="notranslate">-p, --protokoll=Protokoll</code> </td><td> Protokolle, die genutzt werden. Verfügbar: <code class="notranslate">NEC, RC-5, RC-6, JVC, SONY, other</code> </td></tr><tr><td> <code class="notranslate">-t, --test</code> </td><td> Testen der Eingabe-Events </td></tr><tr><td> <code class="notranslate">-r, --read</code> </td><td> Liest die aktive Keymap ein und gibt sie aus </td></tr></table><div class="bash"><div class="contents"><pre class="notranslate">sudo ir-keytable -c -p NEC,RC-5,RC-6,JVC,SONY -t </pre></div></div><p>
Ausgabebeispiele:</p><ul><li><p>LogiLink DVB-T Receiver mit einer X4-Tech Fernbedienung: </p><pre class="notranslate">1408376196.465580: event type EV_MSC(0x04): scancode = 0x05
1408376196.465580: event type EV_SYN(0x00).
1408376200.473560: event type EV_MSC(0x04): scancode = 0x02
1408376200.473560: event type EV_SYN(0x00).
1408376205.681561: event type EV_MSC(0x04): scancode = 0x0a
1408376205.681561: event type EV_SYN(0x00).</pre></li><li><p>LogiLink DVB-T Receiver mit einer Dayton DVD Player Fernbedienung: </p><pre class="notranslate">1408743753.124909: event type EV_MSC(0x04): scancode = 0x201d
1408743753.124909: event type EV_SYN(0x00).
1408743757.532918: event type EV_MSC(0x04): scancode = 0x2011
1408743757.532918: event type EV_SYN(0x00).
1408743766.340913: event type EV_MSC(0x04): scancode = 0x205c
1408743766.340913: event type EV_SYN(0x00).</pre></li></ul><p>
Wenn die Fernbedienung reagiert, sollte man die Protokolle einzeln testen und nur das funktionierende Protokoll später in die Keymap eintragen.</p><p>Mit dem nächsten Befehl kann festgestellt werden, ob es schon eine passende Keymap im System gibt:</p><div class="bash"><div class="contents"><pre class="notranslate">ls /lib/udev/rc_keymaps/ </pre></div></div><p>
listet alle vorhanden Keymaps auf. Wenn an Hand des Namen keine offensichtliche Wahl möglich ist, hilft <a class="internal" href="./grep.html">grep</a> und einer der Scancodes aus dem Test weiter:</p><div class="bash"><div class="contents"><pre class="notranslate">grep -iH SCANCODE /lib/udev/rc_keymaps/* </pre></div></div><p>Für <code class="notranslate">SCANCODE</code> die Ausgabe einer Taste aus <code class="notranslate">ir-keytable -t</code> einsetzen. In diesem Beispiel der LogiLink wäre das <code class="notranslate">0x05</code>.</p><div class="bash"><div class="contents"><pre class="notranslate">$ grep -iH '0x05 KEY' /lib/udev/rc_keymaps/* </pre></div></div><p>
</p><pre class="notranslate">/lib/udev/rc_keymaps/apac_viewcomp:0x05 KEY_5
/lib/udev/rc_keymaps/ati_tv_wonder_hd_600:0x05 KEY_REWIND
/lib/udev/rc_keymaps/ati_x10:0x05 KEY_WWW
/lib/udev/rc_keymaps/avermedia_cardbus:0x05 KEY_1
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0501 KEY_POWER2
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0502 KEY_CHANNELUP
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0503 KEY_CHANNELDOWN
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0504 KEY_VOLUMEUP
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0505 KEY_VOLUMEDOWN
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0506 KEY_MUTE
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0507 KEY_RIGHT
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0508 KEY_RED
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0509 KEY_1
/lib/udev/rc_keymaps/avermedia_rm_ks:0x050a KEY_2
/lib/udev/rc_keymaps/avermedia_rm_ks:0x050b KEY_3
/lib/udev/rc_keymaps/avermedia_rm_ks:0x050c KEY_4
/lib/udev/rc_keymaps/avermedia_rm_ks:0x050d KEY_5
/lib/udev/rc_keymaps/avermedia_rm_ks:0x050e KEY_6
/lib/udev/rc_keymaps/avermedia_rm_ks:0x050f KEY_7
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0510 KEY_8
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0511 KEY_9
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0512 KEY_0
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0513 KEY_AUDIO
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0515 KEY_EPG
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0516 KEY_PLAY
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0517 KEY_RECORD
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0518 KEY_STOP
/lib/udev/rc_keymaps/avermedia_rm_ks:0x051c KEY_BACK
/lib/udev/rc_keymaps/avermedia_rm_ks:0x051d KEY_FORWARD
/lib/udev/rc_keymaps/avermedia_rm_ks:0x054d KEY_LEFT
/lib/udev/rc_keymaps/avermedia_rm_ks:0x0556 KEY_ZOOM
/lib/udev/rc_keymaps/behold_columbus:0x05 KEY_5
/lib/udev/rc_keymaps/budget_ci_old:0x05 KEY_5
/lib/udev/rc_keymaps/cinergy:0x05 KEY_5
/lib/udev/rc_keymaps/cinergy_1400:0x05 KEY_4
/lib/udev/rc_keymaps/dib0700_rc5:0x057c KEY_8
/lib/udev/rc_keymaps/dm1105_nec:0x05 KEY_RECORD
/lib/udev/rc_keymaps/dntv_live_dvb_t:0x05 KEY_5
/lib/udev/rc_keymaps/dntv_live_dvbt_pro:0x05 KEY_CHANNELUP
/lib/udev/rc_keymaps/em_terratec:0x05 KEY_1
/lib/udev/rc_keymaps/encore_enltv:0x05 KEY_4
/lib/udev/rc_keymaps/encore_enltv_fm53:0x05 KEY_CAMERA
/lib/udev/rc_keymaps/evga_indtube:0x05 KEY_CHANNELDOWN
/lib/udev/rc_keymaps/eztv:0x05 KEY_1
/lib/udev/rc_keymaps/flydvb:0x05 KEY_3
/lib/udev/rc_keymaps/flyvideo:0x05 KEY_3
/lib/udev/rc_keymaps/fusionhdtv_mce:0x05 KEY_VOLUMEDOWN
/lib/udev/rc_keymaps/gadmei_rm008z:0x05 KEY_6
/lib/udev/rc_keymaps/genius_tvgo_a11mce:0x05 KEY_CAMERA
/lib/udev/rc_keymaps/gotview7135:0x05 KEY_ZOOM
/lib/udev/rc_keymaps/kaiomy:0x05 KEY_5
/lib/udev/rc_keymaps/kworld_pc150u:0x05 KEY_6
/lib/udev/rc_keymaps/kworld_plus_tv_analog:0x05 KEY_6
/lib/udev/rc_keymaps/manli:0x05 KEY_5
/lib/udev/rc_keymaps/medion_x10:0x05 KEY_DIRECTORY
/lib/udev/rc_keymaps/medion_x10_digitainer:0x05 KEY_IMAGES
/lib/udev/rc_keymaps/msi_tvanywhere:0x05 KEY_5
/lib/udev/rc_keymaps/msi_tvanywhere_plus:0x05 KEY_4
/lib/udev/rc_keymaps/nebula:0x05 KEY_5
/lib/udev/rc_keymaps/opera1:0x05fa KEY_9
/lib/udev/rc_keymaps/pctv_sedna:0x05 KEY_5
/lib/udev/rc_keymaps/pinnacle310e:0x05 KEY_CHANNELUP
/lib/udev/rc_keymaps/pixelview:0x05 KEY_4
/lib/udev/rc_keymaps/powercolor_real_angel:0x05 KEY_5
/lib/udev/rc_keymaps/proteus_2309:0x05 KEY_5
/lib/udev/rc_keymaps/purpletv:0x05 KEY_2
/lib/udev/rc_keymaps/pv951:0x05 KEY_5
/lib/udev/rc_keymaps/real_audio_220_32_keys:0x05 KEY_5
/lib/udev/rc_keymaps/snapstream_firefly:0x05 KEY_IMAGES
/lib/udev/rc_keymaps/su3000:0x05 KEY_5
/lib/udev/rc_keymaps/terratec_cinergy_xs:0x05 KEY_4
/lib/udev/rc_keymaps/tevii_nec:0x05 KEY_TUNER
/lib/udev/rc_keymaps/twinhan_vp1027_dvbs:0x05 KEY_CHANNELUP
/lib/udev/rc_keymaps/videomate_k100:0x05 KEY_VOLUMEUP
/lib/udev/rc_keymaps/videomate_s350:0x05 KEY_VIDEO
/lib/udev/rc_keymaps/videomate_tv_pvr:0x05 KEY_VIDEO
/lib/udev/rc_keymaps/winfast:0x05 KEY_1</pre><p>Die mögliche Auswahl ist damit immer noch (zu) groß. Mit Merken der für den eingesetzten Scancode genutzten Taste, ist es einfach möglich, die Auswahl einzugrenzen. Im Beispiel war das Channelup. Neue Suche mit genaueren Angaben:</p><div class="bash"><div class="contents"><pre class="notranslate">$ grep -iH '0x05 KEY_CHANNELUP' /lib/udev/rc_keymaps/* </pre></div></div><p>
</p><pre class="notranslate">/lib/udev/rc_keymaps/dntv_live_dvbt_pro:0x05 KEY_CHANNELUP
/lib/udev/rc_keymaps/pinnacle310e:0x05 KEY_CHANNELUP
/lib/udev/rc_keymaps/twinhan_vp1027_dvbs:0x05 KEY_CHANNELUP</pre><p>Mit nebeneinander angeordneter Vorlage und Terminal mit laufendem <code class="notranslate">ir-keytable -t</code> kann man jetzt weitere Scancodes der Fernbedienung ausgeben und mit der jeweiligen Vorlage vergleichen. Wird keine passende gefunden, muss eine neue angelegt werden.</p></div><div class="section_1"><h2 id="Keymap">Keymap<a class="headerlink" href="#Keymap">¶</a></h2><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Niemals die Originalvorlage ändern! Reine Kommentarzeilen sind in der Keymap nicht erlaubt. Die erste Zeile, als Kommantar gekennzeichnet, muss gültige Werte enthalten. Kommentare hinter den Scancodes sind erlaubt.</p><p>Einige der vom System mitgelieferten Keymaps enthalten fehlerhafte Angaben zum Protokoll in der ersten Zeile. In der genutzen Kopie entsprechend ändern.
</p></div></div><p>Aktuell geladenes Mapping ansehen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ir-keytable -r </pre></div></div><p>
Beispielausgabe, wenn eine Keymap aktiv ist:</p><pre class="notranslate">scancode 0x0002 = KEY_DOWN (0x6c)
scancode 0x0005 = KEY_UP (0x67)
scancode 0x0009 = KEY_1 (0x02)
scancode 0x000a = KEY_LEFT (0x69)
scancode 0x000c = KEY_M (0x32)
scancode 0x000d = KEY_4 (0x05)
scancode 0x0010 = KEY_PLAY (0xcf)
scancode 0x0011 = KEY_7 (0x08)
scancode 0x0012 = KEY_0 (0x0b)
scancode 0x0014 = KEY_ENTER (0x1c)
scancode 0x0015 = KEY_8 (0x09)
scancode 0x0016 = KEY_MUTE (0x71)
scancode 0x0017 = KEY_9 (0x0a)
scancode 0x0019 = KEY_5 (0x06)
scancode 0x001b = KEY_6 (0x07)
scancode 0x001c = KEY_STOP (0x80)
scancode 0x001d = KEY_2 (0x03)
scancode 0x001e = KEY_RIGHT (0x6a)
scancode 0x001f = KEY_3 (0x04)
scancode 0x0040 = KEY_BACK (0x9e)
scancode 0x004c = KEY_I (0x17)
scancode 0x0054 = KEY_C (0x2e)
Enabled protocols: NEC </pre><p>
Wenn ir-keytable in der Ausgabe hinter <code class="notranslate">table</code> eine Keymap anzeigt:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /lib/udev/rc_keymaps/KEYMAP /etc/rc_keymaps/ </pre></div></div><p>
Eine neue Keymap muss man anlegen, wenn keine passende Keymap im System vorhanden ist. Der Name der Keymap-Datei ist beliebig. Sie kann mit einem Editor mit Root-Rechten <sup><a href="#source-3">[3]</a></sup><sup><a href="#source-4">[4]</a></sup> im Verzeichnis <strong>/etc/rc_keymaps</strong> angelegt werden.</p><p>Die Keymap fängt immer mit einer Kommentarzeile an, die den Namen der Tabelle und das zu nutzende Protokoll enthält. Danach folgen die Zeilen mit jeweils einem Scancode und dem Event der mit diesem Scancode ausgelöst werden soll. Beispiel X4-Tech TV-Karten FB an LogiLink DVB-T:</p><pre class="notranslate"># table meine_Keymap, type: NEC
0x05 KEY_CHANNELUP
0x02 KEY_CHANNELDOWN
0x0a KEY_VOLUMEDOWN
0x1e KEY_VOLUMEUP
0x14 KEY_ENTER
0x10 KEY_STOP</pre><p>Geändert für Kodi:
</p><pre class="notranslate"># table meine_Keymap, type: NEC
0x05 KEY_UP
0x02 KEY_DOWN
0x0a KEY_LEFT
0x1e KEY_RIGHT
0x14 KEY_ENTER
0x10 KEY_PLAY</pre><p>Jede Taste kann beliebig belegt werden. Statt "CHANNELUP" kann auch z.B. "KEY_I" oder "KEY_KPPLUS" eingetragen werden. Die Taste würde damit den gleichen Event wie der Druck von 
<span class="key">I</span>  oder 
<span class="key">+</span>  auf der Tastatur auslösen. Da mit der hier beschriebenen Methode die Fernbedienung Tastatureingaben emuliert, ist es notwendig, einige Codes anzupassen. Beispiel:  Aus KEY_INFO wird KEY_I, aus KEY_MENU wird KEY_M. Info in Kodi per Tastatur aufrufen: i, Menü per Tastatur aufrufen: m. Eine Liste möglicher KEYs liefert für 14.04:</p><div class="bash"><div class="contents"><pre class="notranslate">cat /usr/include/linux/input.h | grep '#define KEY' </pre></div></div><p>Für 16.04:</p><div class="bash"><div class="contents"><pre class="notranslate">cat /usr/include/linux/input-event-codes.h | grep '#define KEY' </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die von ir-keytable unterstützten Protokolle decken fast alle Fernbedienungen ab, die derzeit auf dem Markt sind. Der im LogiLink VG0002A DVB-T Stick eingebaute IR-Receiver versteht alle Protokolle. Erfolgreich getestete Fernbedienungen an diesem Stick: Haier TV FB, Terratec FB, x4-Tech FB, Samsung TV FB, Sony DVD Player FB und einige mehr. Es ändern sich jeweils die Scancodes. Was alles unterstützt wird, hängt nur von den Fähigkeiten des Receivers ab.
</p></div></div><p>Ist die Keymap zumindest mit Grundfunktionen fertig, kann getestet werden. Es bietet sich für den Test an, Kodi im Fenstermodus (
<span class="key">Alt Gr</span>  + 
<span class="key">ß</span> ) neben dem Editor mit der Keymap und einem Terminal zu legen. Aktivieren der Keymap:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ir-keytable -c -w /etc/rc_keymaps/meine_keymap </pre></div></div><p>Jetzt sollte die Fernbedienung mit allen definierten Tasten in Kodi funktionieren. Nach Ändern einer Zuordnung oder Hinzufügen neuer KEYs im Terminal den Aktivierungsbefehl erneut aufrufen. Die Änderungen können sofort in <a class="internal" href="./kodi.html">Kodi</a> getestet werden.</p><p>Damit das Mapping einen Neustart des Rechners überlebt, den Befehl ohne sudo in <a class="internal" href="./rc.local.html">/etc/rc.local</a> vor <code class="notranslate">exit 0</code> eintragen:</p><div class="bash"><div class="contents"><pre class="notranslate">ir-keytable -c -w /etc/rc_keymaps/meine_keymap </pre></div></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
Das System verfügt über mehr als ein Receiver oder auf Grund anderer Eingabegeräte verändert sich der Event des Recievers. In diesen Fällen <code class="notranslate">ir-keytable</code> mit <code class="notranslate">--device</code> oder <code class="notranslate">--sysdev</code> aufrufen:</p><ul><li><div class="bash"><div class="contents"><pre class="notranslate">sudo ir-keytable  --device /dev/input/eventX -c -w /etc/rc_keymaps/meine_keymap </pre></div></div><p> <code class="notranslate">X</code> ersetzen mit der entsprechenden Event-Nummer oder</p></li><li><div class="bash"><div class="contents"><pre class="notranslate">sudo ir-keytable  --sysdev rcX -c -w /etc/rc_keymaps/meine_keymap </pre></div></div><p> <code class="notranslate">X</code> ersetzen mit der entsprechenden rc Nummer aus <strong>/sys/class/rc</strong></p></li></ul><p>
Sogenannte "ghost repeat events" in Verbindung mit einem USB-Receiver können durch Verwendung eines anderen USB-Ports an einem anderem USB-Controller behoben werden (sprich: man probiert eine andere USB-Buchse aus).</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://forum.kodi.tv/showthread.php?tid=104541" rel="nofollow">How to get a seamless remote experience</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Kodi (XBMC) Forum, Grundlage für diesen Artikel</p></li><li><p><a class="external" href="http://kodi.wiki/view/Keyboards" rel="nofollow">Kodi (XBMC) Wiki</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Kodi-Tastenkürzel</p></li><li><p><a class="internal" href="./kodi.html">Kodi</a> - Hauptartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./kodi_remote/a/revision/945227.html">Diese Revision</a> wurde am 2. Dezember 2017 11:43 von <a href="https://ubuntuusers.de/user/Bleys/">Bleys</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./kodi_remote.html">Kodi Remote</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>