<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>lsof › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./lsof.html">lsof</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/lsof">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./lsof/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./lsof/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./lsof/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./lsof/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./lsof/a/backlinks.html">lsof</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li></ol></div></div><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Benutzung">Benutzung
</a></li><li><a class="crosslink" href="#Beispiele">Beispiele
</a></li><li><a class="crosslink" href="#Graphische-Oberflaeche">Graphische Oberfläche
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/terminal.png" class="image-left" src="./_/e81889fd6e485dd32e1cde611eabc18abced7993.png"/>
<a class="external" href="http://people.freebsd.org/~abe/" rel="nofollow">lsof</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> steht für <strong>l</strong>i<strong>s</strong>t <strong>o</strong>pen <strong>f</strong>iles und ist ein Hilfsprogramm, welches Informationen über geöffnete Dateien liefert. Dies hört sich im ersten Moment unspektakulär an, jedoch sollte man dabei bedenken, dass unter unixartigen Betriebssystemen, also auch (Ubuntu) Linux, alles eine Datei ist. So werden auch Blockgeräte (=Laufwerke), Netzwerkports usw. über Dateien angesprochen. D.h. lsof kann ein sehr mächtiges Tool zur Überwachung und Analyse des Systems sein.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
lsof ist normalerweise in der Standardinstallation enthalten, kann aber ansonsten über das Paket</p><ul><li><p><strong>lsof</strong></p></li></ul><p>
installiert werden <sup><a href="#source-1">[1]</a></sup>.</p></div><div class="section_1"><h2 id="Benutzung">Benutzung<a class="headerlink" href="#Benutzung">¶</a></h2><p>
Der Aufruf von lsof erfolgt im Terminal <sup><a href="#source-2">[2]</a></sup> mit folgendem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">lsof [Option] &lt;Format&gt; </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Ruft man lsof mit <a class="internal" href="./sudo.html">Root-Rechten</a> auf, so erhält man Informationen über die verwendeten Dateien von allen Benutzern. 
</p></div></div><p>Der Aufruf ohne Optionen und Formatangabe erzeugt eine sehr lange Ausgabe von offenen Dateien und ist daher nicht besonders sinnvoll oder hilfreich.</p><p>lsof kennt die folgenden Optionen:</p><table><tr><td colspan="2" style="background-color: #e2c890; text-align: center"><strong>Filteroptionen von lsof</strong> </td></tr><tr style="background-color: #f9eaaf"><td><strong>Format</strong> </td><td><strong>Beschreibung</strong> </td></tr><tr><td> <code class="notranslate">/Pfad/Datei</code> </td><td> Informationen über die Verwendung der angegebenen Datei </td></tr><tr><td> <code class="notranslate">/dev/cdrom</code> </td><td> Informationen über die Verwendung von z.B. dem CD-ROM-Laufwerk </td></tr><tr><td> <code class="notranslate">+D /home/benutzername</code> </td><td> Informationen über die Verwendung von Dateien z.B. des Home-Verzeichnisses des Anwenders </td></tr><tr><td> <code class="notranslate">+p PID</code> </td><td> Liefert die Informationen welche <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Process_identifier">PID</a> welche Datei benutzt </td></tr><tr><td> <code class="notranslate">-c Prozess Name</code> </td><td> Liefert die Informationen welcher Prozess welche Datei benutzt </td></tr><tr><td> <code class="notranslate">-u Anwender Name</code> </td><td> Liefert die Informationen welcher Anwender welche Datei benutzt </td></tr><tr><td> <code class="notranslate">-i TCP/UDP oder IP-Adresse oder Port-Nr.</code> </td><td> Liefert die Informationen welcher Netzwerkdienst von welchem Anwender, PID usw. benutzt wird </td></tr><tr><td> <code class="notranslate">+L1</code> </td><td> Liefert die Informationen über bereits gelöschte Dateien </td></tr><tr><td> <code class="notranslate">-a</code> </td><td> logische UND-Verknüpfung von Optionen; dies macht immer dann Sinn, wenn lsof mit zwei Optionen aufgerufen wird und beide angewendet werden sollen, da per Voreinstellung immer eine ODER-Verknüpfung angewendet wird. </td></tr></table><p>
Weiterhin kennt lsof die folgenden Ausgabeoptionen:</p><table><tr><td colspan="2" style="background-color: #e2c890; text-align: center"><strong>Optionen von lsof</strong> </td></tr><tr style="background-color: #f9eaaf"><td><strong>Option</strong> </td><td><strong>Beschreibung</strong> </td></tr><tr><td> <code class="notranslate">-r Sekunden</code> </td><td> Wiederholt die Ausgabe alle x Sekunden  </td></tr><tr><td> <code class="notranslate">-n</code> </td><td> Gibt IP-Adressen statt Hostnamen aus </td></tr><tr><td> <code class="notranslate">-l</code> </td><td> Gibt die Benutzer-ID statt des Benutzernamens aus </td></tr><tr><td> <code class="notranslate">-P</code> </td><td> Gibt Port-Nummern statt Service-Namen aus. </td></tr><tr><td> <code class="notranslate">-t</code> </td><td> Gibt nur eine <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Process_identifier">PID</a> Liste aus </td></tr><tr><td> <code class="notranslate">-F</code> </td><td> Gibt alle Ergebnisse in einer einzigen Spalte aus </td></tr></table><p>
lsof kennt noch eine Reihe von weiteren Optionen, die man in den <a class="internal" href="./shell/man.html">Manpages</a> nachlesen kann.</p></div><div class="section_1"><h2 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h2><p>
Im Folgenden einige (einfache) Beispiele für die Nutzung von lsof:</p><p>Im ersten Beispiel zeigt lsof, welche Prozesse gerade alle die Bash (genau genommen die Datei <strong>/bin/bash</strong>) nutzen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo lsof /bin/bash </pre></div></div><pre class="notranslate">COMMAND  PID   USER  FD   TYPE DEVICE   SIZE   NODE NAME
bash    7190 jochen txt    REG    8,6 702160 287787 /bin/bash</pre><p>
Im zweiten Beispiel werden alle Dateien angezeigt, die Root offen hält:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo lsof -u root </pre></div></div><p>Da diese Liste recht lang ist, wird auf die Ausgabe des Ergebnisses hier verzichtet.</p><p>Möchte man alle offenen Dateien anzeigen, die nicht von Root sondern jedem anderen beliebigen Benutzer offen gehalten werden, dann erledigt dies der Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">sudo lsof -u ^root </pre></div></div><p>Im dritten Beispiel werden alle Netzwerkports (=Netzwerkdateien) angezeigt, die vom Nutzer "www-data" offen gehalten werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo lsof -a -i -u www-data </pre></div></div><pre class="notranslate">COMMAND  PID     USER   FD   TYPE DEVICE SIZE NODE NAME
apache2 5990 www-data    3u  IPv6  15271       TCP *:www (LISTEN)
apache2 5991 www-data    3u  IPv6  15271       TCP *:www (LISTEN)
apache2 5993 www-data    3u  IPv6  15271       TCP *:www (LISTEN)
apache2 5995 www-data    3u  IPv6  15271       TCP *:www (LISTEN)
apache2 5996 www-data    3u  IPv6  15271       TCP *:www (LISTEN)</pre><p>lsof kann auch bei der Rettung von versehentlich gelöschten Dateien hilfreich sein. Mehr zu diesem Thema findet man <a class="internal" href="./datenrettung.html#Offene-Dateien">hier</a>.</p><p>Ebenso kann lsof sehr gute Dienste leisten, wenn man die Vermutung hat, dass auf dem eigenen Rechner (Server) Dienste laufen, die nicht laufen sollen bzw. die man gar nicht selber aktiviert hat. Mehr Informationen hierzu findet man auf den Seiten, die unter <a class="crosslink" href="#Links">Links</a> aufgeführt sind.</p></div><div class="section_1"><h2 id="Graphische-Oberflaeche">Graphische Oberfläche<a class="headerlink" href="#Graphische-Oberflaeche">¶</a></h2><p>
Es gibt mit <a class="external" href="http://glsof.sourceforge.net" rel="nofollow">Glsof</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> auch eine graphische Oberfläche für lsof. Diese wird aber unabhängig von lsof entwickelt und ist nicht offizieller Bestandteil. Glsof liegt noch nicht (Stand August 2008) in einer stabilen Version vor und wird eher langsam entwickelt.</p><p>Glsof gibt es nicht als fertiges Paket, man kann die aktuelle Version <a class="external" href="http://glsof.sourceforge.net/?q=node/3" rel="nofollow">hier</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> herunterladen; auf dieser Seite findet man auch eine Anleitung zum Selber-Kompilieren.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://mikiwiki.org/wiki/lsof" rel="nofollow">Weiterführende Links</a> zum Thema lsof mit Beispielen <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> </p></li><li><p><a class="external" href="ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/FAQ" rel="nofollow">FAQ</a> zu lsof vom Autor, sehr ausführlich <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.jfranken.de/homepages/johannes/vortraege/lsof_inhalt.de.html" rel="nofollow">Viele Beispiele</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> für den Einsatz von lsof</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./lsof/a/revision/388482.html">Diese Revision</a> wurde am 18. März 2012 18:13 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./lsof.html">lsof</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>