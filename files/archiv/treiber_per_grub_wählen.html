<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Treiber_per_Grub_wählen › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/treiber_per_grub_wählen.html">Treiber per Grub wählen</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Treiber_per_Grub_wählen">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/treiber_per_grub_wählen/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/treiber_per_grub_wählen/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/treiber_per_grub_wählen/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/treiber_per_grub_wählen/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/treiber_per_grub_wählen/a/backlinks.html">Treiber per Grub wählen</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../rechte.html">Rechte für Dateien und Ordner ändern</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#GRUB-vorbereiten">GRUB vorbereiten
</a></li><li><a class="crosslink" href="#Konfigurationsdateien-vorbereiten">Konfigurationsdateien vorbereiten
</a></li><li><a class="crosslink" href="#Startskript-erstellen">Startskript erstellen
</a></li></ol></div><p>Im diesem Artikel wird erklärt, wie man durch Hinzufügen eines GRUB Eintrages einzelne Konfigurationsdateien verändern kann. Dies wird am Beispiel der Xorg Grafiktreiber "nvidia" und "nv" erklärt. Eine Übertragung auf andere Dateien sollte nicht sehr schwer sein.</p><div class="section_1"><h2 id="GRUB-vorbereiten">GRUB vorbereiten<a class="headerlink" href="#GRUB-vorbereiten">¶</a></h2><p>
Als erstes muss man ein weiteren Eintrag im GRUB-Menü erstellen. Dazu sucht man in der <strong>/boot/grub/menu.lst</strong> die Zeile</p><pre class="notranslate"># altoptions=(recovery mode) single</pre><p>
und fügt eine zweite Zeile</p><pre class="notranslate"># altoptions=(nv) nvdriver</pre><p>
mit hinzu <sup><a href="#source-1">[1]</a></sup>. Die beiden führen später zu zwei getrennten Einträgen im <a class="internal" href="../grub.html">Grub</a>-Menu. Je nachdem, ob man den Booteintrag vor dem <a class="internal" href="../recovery_modus.html">Recovery Modus</a> oder danach haben will, fügt man die Zeile eben vor der bestehenden oder danach ein.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Möchte man beim Booten mit dem neuen Eintrag anstatt der Textausgabe das Ubuntu-Logo mit Fortschrittsbalken sehen, fügt man noch die Option <em>quiet</em> und <em>splash</em> hinzu, siehe auch <a class="internal" href="../menu.lst.html">menu.lst</a>.</p></div></div><p>
Die Änderungen werden automatisch beim nächsten Start übernommen. Ein update-grub ist nicht nötig im Gegensatz zu lilo.</p><p>Die Datei <strong>/proc/cmdline</strong> enthält die Kommandozeile, mit der GRUB den Kernel startet. Wenn man nun beim Booten den Eintrag mit <em>(nv)</em> am Ende auswählt, enthält diese u.a. <em>nvdriver</em>, was man sich im Folgenden zu Nutze macht.</p></div><div class="section_1"><h2 id="Konfigurationsdateien-vorbereiten">Konfigurationsdateien vorbereiten<a class="headerlink" href="#Konfigurationsdateien-vorbereiten">¶</a></h2><p>
Als nächstes muss man mit Rootrechten die Datei <strong>/etc/X11/xorg.conf</strong> nach <strong>/etc/X11/xorg.conf.nv</strong> und <strong>/etc/X11/xorg.conf.nvidia</strong> (die Namen können frei gewählt werden) kopieren. Die <strong>/etc/X11/xorg.conf.nv</strong> passt man so an, dass der <em>nv</em>-Treiber benutzt wird, die <strong>/etc/X11/xorg.conf.nvidia</strong> so, dass der <em>nvidia</em>-Treiber benutzt wird.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Änderungen an der normalen <strong>xorg.conf</strong> werden sich nur auf die zum Zeitpunkt der Änderung verwendeten Konfiguration auswirken!</p></div></div></div><div class="section_1"><h2 id="Startskript-erstellen">Startskript erstellen<a class="headerlink" href="#Startskript-erstellen">¶</a></h2><p>
Nun erstellt man mit Rootrechten die Datei <strong>/etc/init.d/DriverSelect.sh</strong> mit folgendem Inhalt <sup><a href="#source-1">[1]</a></sup>: 
</p><pre class="notranslate">#!/bin/sh
if grep -q nvdriver /proc/cmdline
then
        cp -lf /etc/X11/xorg.conf.nv /etc/X11/xorg.conf
else
        cp -lf /etc/X11/xorg.conf.nvidia /etc/X11/xorg.conf
fi</pre><p>
Als nächstes muss man die Datei ausführbar machen <sup><a href="#source-2">[2]</a></sup> und 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-rc.d DriverSelect.sh defaults 10 </pre></div></div><p>
ausführen. Dadurch wird das Skript bei jedem Start ausgeführt.</p><p>Beim nächsten Neustart, wird dann je nach Grub-Eintrag entweder der <em>nv</em>- oder <em>nvidia</em>-Treiber benutzt.</p><p></p></div></div>
<p class="meta">
<a href="../archiv/treiber_per_grub_wählen/a/revision/664417.html">Diese Revision</a> wurde am 5. Dezember 2013 18:33 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/treiber_per_grub_wählen.html">Treiber per Grub wählen</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>