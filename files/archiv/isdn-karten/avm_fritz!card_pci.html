<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/ISDN-Karten/AVM_FRITZ!Card_PCI › ubuntuusers statisches Wiki</title>
<link href="../../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../../archiv/isdn-karten/avm_fritz!card_pci.html">AVM FRITZ!Card PCI</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/ISDN-Karten/AVM_FRITZ!Card_PCI">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../../wiki/index.html">Index</a></li>
<li><a href="../../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../../wiki.html">Übersicht</a></li>
<li><a href="../../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../../kategorien.html">Kategorie</a></li>
<li><a href="../../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../../howto.html">Howto anlegen</a></li>
<li><a href="../../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../../baustelle.html">Baustellen</a></li>
<li><a href="../../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../../archiv/isdn-karten/avm_fritz!card_pci/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../../archiv/isdn-karten/avm_fritz!card_pci/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../../archiv/isdn-karten/avm_fritz!card_pci/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../../archiv/isdn-karten/avm_fritz!card_pci/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../../archiv/isdn-karten/avm_fritz!card_pci/a/backlinks.html">AVM FRITZ!Card PCI</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Das Modul <strong>capifs</strong> ist ab Kernel 3.x bzw. <a class="internal" href="../../oneiric.html">Ubuntu 11.10</a> nicht mehr in Ubuntu enthalten. Deshalb endet die Installation des für die Einrichtung der CAPI-Schnittstelle erforderlichen Pakets <strong>capiutils</strong> mit einer Fehlermeldung, die ignoriert werden kann.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../../editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../../metapakete.html">Restricted-Modules  Linux-Headers: welche Version?</a> </p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../../packprogramme.html">Archive entpacken</a> </p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="../../kernelmodule.html">Umgang mit Kernelmodulen (Treibern)</a></p></li><li><p><a class="crosslink anchor" href="#source-7" id="source-7"></a> <a class="internal" href="../../sudo.html">Root-Rechte</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Kernelmodul-installieren">Kernelmodul installieren
</a></li><li><a class="crosslink" href="#Kernelmodul-kompilieren">Kernelmodul kompilieren
</a><ol class="arabic"><li><a class="crosslink" href="#Vorbereitung">Vorbereitung
</a></li><li><a class="crosslink" href="#Ubuntu-10-04">Ubuntu 10.04
</a></li><li><a class="crosslink" href="#Ubuntu-10-10">Ubuntu 10.10
</a></li><li><a class="crosslink" href="#Ab-Ubuntu-11-10">Ab Ubuntu 11.10
</a></li><li><a class="crosslink" href="#Ubuntu-14-04">Ubuntu 14.04
</a></li></ol></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a><ol class="arabic"><li><a class="crosslink" href="#CAPI-einrichten">CAPI einrichten
</a></li><li><a class="crosslink" href="#Kernelmodule-laden">Kernelmodule laden
</a></li><li><a class="crosslink" href="#Funktionstest">Funktionstest
</a></li></ol></li><li><a class="crosslink" href="#Probleme-und-Loesungen">Probleme und Lösungen
</a><ol class="arabic"><li><a class="crosslink" href="#Ubuntu-8-04-64-Bit">Ubuntu 8.04 64-Bit
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/pci.png" class="image-left" src="../../_/6a030fdb04c663c73b86bca6e8fd7949a0a28389.png"/>
Diese Anleitung beschreibt die Einrichtung der <a class="external" href="http://www.avm.de/de/Produkte/Weitere/FRITZ_Card_PCI/index.php" rel="nofollow">AVM FRITZ!Card PCI</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>. Zusätzliche Informationen sind im Übersichtsartikel <a class="internal" href="../../isdn-karten.html">ISDN-Karten</a> zu finden.</p><p>Es ist ein Kernelmodul <strong>avmfritz</strong> enthalten, welches theoretisch in Kombination mit dem Programm <strong>ipppd</strong> für den Internet-Zugang genutzt werden kann. Praktische Erfahrungen liegen bisher nicht vor, daher wird im Folgenden der "klassische" Weg mittels CAPI beschrieben.</p><div class="section_1"><h2 id="Kernelmodul-installieren">Kernelmodul installieren<a class="headerlink" href="#Kernelmodul-installieren">¶</a></h2><p>
Es wird das <a class="internal" href="../../kernelmodule.html">Kernelmodul</a> <code class="notranslate">fcpci</code> benötigt, welches aus dem Paket entfernt wurde, weshalb man dieses nun  zwingend selbst übersetzen muss. Der dazu benötigte Quelltext ist ebenfalls nicht mehr enthalten, aber via Internet verfügbar.</p></div><div class="section_1"><h2 id="Kernelmodul-kompilieren">Kernelmodul kompilieren<a class="headerlink" href="#Kernelmodul-kompilieren">¶</a></h2><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Prinzipiell muss das Kompilieren des Kernelmoduls bei jedem Kernelupdate wiederholt werden! Um nach einem Kernelupdate nicht ohne Internet-Zugang dazustehen – die Paketverwaltung ist sich dieser Problematik nicht bewusst und es erfolgt keine Warnung – sollten man genau beachten, welche Pakete zur Aktualisierung vorgeschlagen werden und ein Kernelupdate gegebenenfalls aufschieben.</p><p>Eine elegante Lösung dieses Problems ist der Einsatz von <a class="internal" href="../../dkms.html">DKMS</a>. Eine entsprechende Anleitung für die FRITZ!Card PCI befindet sich in <a class="internal" href="../../archiv/isdn-karten/avm_fritz!card_pci/dkms.html">Archiv/ISDN-Karten/AVM FRITZ!Card PCI/DKMS</a>.
</p></div></div><div class="section_2"><h3 id="Vorbereitung">Vorbereitung<a class="headerlink" href="#Vorbereitung">¶</a></h3><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Zur Installation von Paketen wird vorausgesetzt, dass man bereits via Netzwerk (z.B. LAN oder WLAN) mit dem Internet verbunden ist. Eine Internet-Einwahl (via ISDN) ist erst nach Erledigung diverser Vorarbeiten möglich, die im Folgenden erläutert werden.
</p></div></div><p>Zunächst müssen folgenden Pakete installiert <sup><a href="#source-1">[1]</a></sup> werden, um den Quelltext kompilieren zu können:</p><ul><li><p><strong>build-essential</strong></p></li><li><p><strong>capiutils</strong> (<em>universe</em>)</p></li><li><p><strong>libcapi20-3</strong> (<em>universe</em>)</p></li><li><p><strong>libcapi20-dev</strong> (<em>universe</em>)</p></li><li><p><strong>pppdcapiplugin</strong> (optional, nur falls CAPI für die Internet-Einwahl genutzt werden soll, <em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install build-essential capiutils libcapi20-3 libcapi20-dev pppdcapiplugin </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install build-essential capiutils libcapi20-3 libcapi20-dev pppdcapiplugin </pre></div></div><p>
</p></div></div><p>
Außerdem wird das Paket <strong>linux-headers</strong> passend zur eigenen Kernel-Version und -Architektur (<code class="notranslate">-generic</code>, <code class="notranslate">-386</code>, <code class="notranslate">-generic-pae</code> usw.) benötigt. Dieses Paket lässt sich über den folgenden Befehl installieren:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install linux-headers-$(uname -r) </pre></div></div><div class="section_3"><h4 id="Quellcode-herunterladen">Quellcode herunterladen<a class="headerlink" href="#Quellcode-herunterladen">¶</a></h4><p>
Dann muss noch der Quellcode für das Kernelmodul <code class="notranslate">fcpci</code> heruntergeladen werden. Bitte darauf achten, exakt den zur eigenen Ubuntu-Version passenden zu verwenden. Die folgende Tabelle hilft hierbei weiter.</p><p>
</p><table><tr class="titel"><td colspan="4"> Quellcode für das Kernelmodul <code class="notranslate">fcpci</code> </td></tr><tr class="kopf"><td>Ubuntu-Version </td><td style="text-align: center">Kernel-Version </td><td style="text-align: center">Archivdatei </td><td style="text-align: center">alternative Quelle </td></tr><tr><td> <a class="internal" href="../../trusty.html">14.04</a> (experimentell) </td><td style="text-align: center">3.13 </td><td> <a class="external" href="https://belug.de/~lutz/pub/fcpci/fritz-fcpci-3.10.0.tar.bz2" rel="nofollow">fritz-fcpci-3.10.0.tar.bz2</a> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> </td><td> <a class="external" href="http://www.rimmek.de/downloads/fritz-fcpci-3.10.0.tar.bz2" rel="nofollow">fritz-fcpci-3.10.0.tar.bz2</a> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> </td></tr><tr><td> <a class="internal" href="../../raring.html">13.04</a> (experimentell) </td><td style="text-align: center">3.8 </td><td> <a class="external" href="https://belug.de/~lutz/pub/fcpci/fritz-fcpci-3.8.0.tar.bz2" rel="nofollow">fritz-fcpci-3.8.0.tar.bz2</a> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> </td><td> <a class="external" href="http://www.rimmek.de/downloads/fritz-fcpci-3.8.0.tar.bz2" rel="nofollow">fritz-fcpci-3.8.0.tar.bz2</a> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> </td></tr><tr><td> <a class="internal" href="../../quantal.html">12.10</a> (experimentell) </td><td style="text-align: center">3.5 </td><td> <a class="external" href="https://belug.de/~lutz/pub/fcpci/fritz-fcpci-3.4.0.tar.bz2" rel="nofollow">fritz-fcpci-3.4.0.tar.bz2</a> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> </td><td> <a class="external" href="http://www.rimmek.de/downloads/fritz-fcpci-3.4.0.tar.bz2" rel="nofollow">fritz-fcpci-3.4.0.tar.bz2</a> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> </td></tr><tr><td> <a class="internal" href="../../precise.html">12.04</a> </td><td style="text-align: center">3.2 </td><td> <a class="external" href="https://belug.de/~lutz/pub/fcpci/fritz-fcpci-3.2.0.tar.bz2" rel="nofollow">fritz-fcpci-3.2.0.tar.bz2</a> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> </td><td> <a class="external" href="http://www.rimmek.de/downloads/fritz-fcpci-3.2.0.tar.bz2" rel="nofollow">fritz-fcpci-3.2.0.tar.bz2</a> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> </td></tr></table><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
<a class="internal" href="../../fremdsoftware.html">Fremdsoftware</a> kann das System gefährden.
</p><hr/><p><strong>Anmerkung:</strong> Der Quellcode wurde von <a class="external" href="http://www.belug.de/hilfe-howtos-fcpci.html" rel="nofollow">Lutz Willek</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> angepasst (gepatcht) und entspricht nicht mehr dem Original-Treiber von AVM. Er bittet um Rückmeldung zu diesen <a class="external" href="https://belug.de/~lutz/pub/fcpci/" rel="nofollow">Quelltexten</a> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> – positive wie negative Erfahrungen sind nützlich. Bei Problemen auch die jeweils beiliegende <strong>liesmich.txt</strong> beachten.
</p></div></div><p>Die im folgenden beschriebene Kompilierung ist für ältere Ubuntu-Versionen identisch, es müssen aber
</p><ol class="arabic"><li><p>der entsprechende Quelltext verwendet und</p></li><li><p>die Pfadangaben korrigiert werden</p></li></ol><p>
</p></div></div><div class="section_2"><h3 id="Ubuntu-10-04">Ubuntu 10.04<a class="headerlink" href="#Ubuntu-10-04">¶</a></h3><p>
Folgende Schritte sind notwendig:</p><ol class="arabic"><li><p>Archivdatei ins Homeverzeichnis entpacken <sup><a href="#source-6">[6]</a></sup></p></li><li><p>Kompilieren vorbereiten: </p><div class="bash"><div class="contents"><pre class="notranslate">cd ~/fritz-fcpci-src-2.6.31/lib
rm fcpci-lib.o </pre></div></div></li><li><p>je nachdem, ob man ein 32- oder 64-Bit System <sup><a href="#source-5">[5]</a></sup> einsetzt, einen entsprechenden Link anlegen: </p><div class="bash"><div class="contents"><pre class="notranslate">ln -s 32_fcpci-lib.o fcpci-lib.o </pre></div></div><p> oder </p><div class="bash"><div class="contents"><pre class="notranslate">ln -s 64_fcpci-lib.o fcpci-lib.o </pre></div></div></li><li><p>Kompilieren starten: </p><div class="bash"><div class="contents"><pre class="notranslate">cd ~/fritz-fcpci-src-2.6.31/fcpci_src
sudo make clean
sudo make all </pre></div></div></li><li><p>Modul kopieren und einrichten: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /lib/modules/`uname -r`/extra
sudo cp fcpci.ko /lib/modules/`uname -r`/extra/
sudo depmod -a </pre></div></div></li><li><p>Modul entladen und neu laden: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe -rf fcpci
sudo modprobe -v fcpci </pre></div></div></li></ol><p>
Das Modul <code class="notranslate">fcpci</code> kann nicht geladen werden, wenn ein anderes das Gerät bereits in Betrieb genommen hat. Das ist bei Ubuntu von Haus aus aber der Fall. Sollte also eine Fehlermeldung (<code class="notranslate">...device or ressource busy...</code>) erscheinen, muss das blockierende Modul zuerst entladen werden: zB. <strong>rmmod avmfritz</strong>. Zum permanenten Unterbinden des automatischen Ladens dieses Kernelmodul <a class="internal" href="../../kernelmodule.html#Automatisches-Laden-verhindern-Blacklisting">blacklisten</a>. Dazu mit Root-Rechten die Datei <strong>/etc/modprobe.d/blacklist-avmfritz.conf</strong> erstellen und folgende Zeilen einfügen:
</p><pre class="notranslate">blacklist avmfritz</pre></div><div class="section_2"><h3 id="Ubuntu-10-10">Ubuntu 10.10<a class="headerlink" href="#Ubuntu-10-10">¶</a></h3><p>
Entweder wie bei Ubuntu 10.04 oder mit dem erneut von <a class="external" href="http://www.belug.de/hilfe/howtos/fcpci/" rel="nofollow">Lutz Willek</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> angepassten Quelltext. Das Kompilieren wurde gegenüber früheren Versionen vereinfacht und das manuelle Verlinken (je nach 32- oder 64-Bit System) entfällt:</p><ol class="arabic"><li><p>Archivdatei ins Homeverzeichnis entpacken und in den Ordner <strong>fritz-fcpci-2.6.34</strong> wechseln</p></li><li><p>Quelltext übersetzen: </p><div class="bash"><div class="contents"><pre class="notranslate">cd ./src
sudo make clean
sudo make all
sudo make install
sudo depmod -a </pre></div></div></li><li><p>Modul entladen und neu laden: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe -rf fcpci
sudo modprobe -v fcpci </pre></div></div><p> Bitte auch den Hinweis bei <a class="crosslink" href="#Ubuntu-10-04">Ubuntu 10.04</a> (Schritt 6) beachten, um Probleme mit dem Kernelmodul <code class="notranslate">avmfritz</code> zu beheben.</p></li></ol><p>
</p></div><div class="section_2"><h3 id="Ab-Ubuntu-11-10">Ab Ubuntu 11.10<a class="headerlink" href="#Ab-Ubuntu-11-10">¶</a></h3><p>
Für die ab <a class="internal" href="../../oneiric.html">Ubuntu 11.10</a> verwendeten Kernel-Versionen 3.x gibt es ebenfalls angepasste <a class="crosslink" href="#Quellcode-herunterladen">Quelltexte</a>. Da das Kernelmodul <strong>capifs</strong> nicht mehr im Kernel enthalten ist, führt dies zu Problemen mit dem Paket <strong>capiutils</strong> bzw. der Konfiguration/Nutzung der CAPI-Schnittstelle. Das Modul <code class="notranslate">fcpci</code> an sich bzw. ISDN allgemein funktioniert einwandfrei.</p></div><div class="section_2"><h3 id="Ubuntu-14-04">Ubuntu 14.04<a class="headerlink" href="#Ubuntu-14-04">¶</a></h3><p>
Die manuelle Installation ist identisch mit der unter <a class="crosslink" href="#Ubuntu-10-10">Ubuntu 10.10</a> beschriebenen Variante, einzig der Link zum Quelltext ist anzupassen. Empfohlen wird jedoch die Installation über ein Skript, das dieses Modul über DKMS etwas besser ins System integriert. Details können im Artikel <a class="internal" href="../../archiv/isdn-karten/avm_fritz!card_pci/dkms.html">Archiv/ISDN-Karten/AVM FRITZ!Card PCI/DKMS</a> nachgelesen werden.</p></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
</p><div class="section_2"><h3 id="CAPI-einrichten">CAPI einrichten<a class="headerlink" href="#CAPI-einrichten">¶</a></h3><p>
Dazu die Datei <strong>/etc/isdn/capi.conf</strong> mit <a class="internal" href="../../sudo.html">Root-Rechten</a> bearbeiten und die Fritz!Card PCI (<code class="notranslate">fcpci</code>) durch Entfernen des Zeichens <strong>#</strong> am Zeilenanfang aktivieren:</p><pre class="notranslate"># card		file		proto	io	irq	mem	cardnr	options
fcpci		-		-	-	-	-	-
#b1isa		b1.t4		DSS1	0x150	7	-	-	P2P
#b1pci		b1.t4		DSS1	-	-	-	-
#c4		c4.bin		DSS1	-	-	-	-
#c4		-		DSS1	-	-	-	-
#c4		-		DSS1	-	-	-	-	P2P
#c4		-		DSS1	-	-	-	-	P2P
#c2		c2.bin		DSS1	-	-	-	-
#c2		-		DSS1	-	-	-	-
#t1isa		t1.t4		DSS1	0x340	9	-	0
#t1pci		t1.t4		DSS1	-	-	-	-
#fcpcmcia	-		-	-	-	-	-
#fcusb		-		-	-	-	-	-
#fxusb		-		-	-	-	-	-
#fcclassic	-		-	0x150	10	-	-
#fcdsl		fdslbase.bin	DSS1	-	-	-	-
#fcdsl2		fds2base.bin	DSS1	-	-	-	-
#fcdslsl	fdssbase.bin	DSS1	-	-	-	-
#fcdslslusb	fdlubase.frm	DSS1	-	-	-	-
#fcdslusba	fdlabase.frm	DSS1	-	-	-	-
#fcdslusb2	fds2base.frm	DSS1	-	-	-	-
#fcdslusb	fdsubase.frm	DSS1	-	-	-	-</pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Unter neueren Ubuntu-Versionen wird die FRITZ!Card PCI automatisch erkannt. Ein manuelles Editieren der <strong>/etc/isdn/capi.conf</strong> ist nicht mehr zwingend notwendig, schadet aber auch nicht.
</p></div></div></div><div class="section_2"><h3 id="Kernelmodule-laden">Kernelmodule laden<a class="headerlink" href="#Kernelmodule-laden">¶</a></h3><p>
Mit einem Texteditor <sup><a href="#source-3">[3]</a></sup> und Root-Rechten <sup><a href="#source-8">[8]</a></sup> folgende Zeilen der Datei <strong>/etc/modules</strong> hinzufügen:  
</p><pre class="notranslate">capidrv
capi
fcpci</pre><p> 
Dadurch werden die notwendigen Kernelmodule beim Starten automatisch geladen (Anmerkung: <code class="notranslate">fcpci</code> muss nicht zwingend angegeben werden – es schadet aber auch nicht).</p></div><div class="section_2"><h3 id="Funktionstest">Funktionstest<a class="headerlink" href="#Funktionstest">¶</a></h3><p>
Nach der Installation des Kernelmoduls und der Konfiguration den Rechner neu starten. Jetzt zum Test folgendes eingeben:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo capiinit
capiinfo </pre></div></div><p>
Es sollte folgende Ausgabe erscheinen:</p><pre class="notranslate">Number of Controllers : 1
Controller 1:
Manufacturer: AVM GmbH
CAPI Version: 2.0
Manufacturer Version: 3.11-07  (49.23)
Serial Number: 1000001
BChannels: 2
Global Options: 0x00000039
   internal controller supported
   DTMF supported
   Supplementary Services supported
   channel allocation supported (leased lines)
B1 protocols support: 0x4000011f
   64 kbit/s with HDLC framing
   64 kbit/s bit-transparent operation
   V.110 asynconous operation with start/stop byte framing
   V.110 synconous operation with HDLC framing
   T.30 modem for fax group 3
   Modem asyncronous operation with start/stop byte framing
B2 protocols support: 0x00000b1b
   ISO 7776 (X.75 SLP)
   Transparent
   LAPD with Q.921 for D channel X.25 (SAPI 16)
   T.30 for fax group 3
   ISO 7776 (X.75 SLP) with V.42bis compression
   V.120 asyncronous mode
   V.120 bit-transparent mode
B3 protocols support: 0x800000bf
   Transparent
   T.90NL, T.70NL, T.90
   ISO 8208 (X.25 DTE-DTE)
   X.25 DCE
   T.30 for fax group 3
   T.30 for fax group 3 with extensions
   Modem

  0100
  0200
  39000000
  1f010040
  1b0b0000
  bf000080
  00000000 00000000 00000000 00000000 00000000 00000000
  01000001 00020000 00000000 00000000 00000000

Supplementary services support: 0x000003ff
   Hold / Retrieve
   Terminal Portability
   ECT
   3PTY
   Call Forwarding
   Call Deflection
   MCID
   CCBS</pre><p>
Bitte auch darauf achten, dass <span class="underline">2 B-Kanäle</span> (<code class="notranslate">BChannels</code>) erkannt werden! Ist bis hierhin alles erfolgreich verlaufen, kann man sich nun mit dem Thema <a class="internal" href="../../isdn-karten/internet-einwahl.html">Einwahl ins Internet</a> beschäftigen.</p></div></div><div class="section_1"><h2 id="Probleme-und-Loesungen">Probleme und Lösungen<a class="headerlink" href="#Probleme-und-Loesungen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Ubuntu-8-04-64-Bit">Ubuntu 8.04 64-Bit<a class="headerlink" href="#Ubuntu-8-04-64-Bit">¶</a></h3><p>
Mit dem Kernelupdate auf 2.6.24.24 unter Ubuntu 8.04 <a class="internal" href="../../64bit-architektur.html">64-Bit</a> konnte das Modul <strong>fcpci</strong> nicht mehr geladen werden. Der Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe fcpci </pre></div></div><p>lieferte folgende Meldung:</p><pre class="notranslate">FATAL: Module fcpci not found.</pre><p>
In Anlehnung an diesen <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/264697">Fehlerbericht</a> werden zuerst die Quellen des Kernelmoduls <a class="external" href="http://de.archive.ubuntu.com/ubuntu/pool/restricted/l/linux-restricted-modules-2.6.24/avm-fritz-kernel-source_3.11+2.6.24.18-27.5_amd64.deb" rel="nofollow">avm-fritz-kernel-source_3.11+2.6.24.18-27.5_amd64.deb</a> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> heruntergeladen. Diese <strong>.deb</strong>-Datei mit einem Entpacker öffnen und <span class="underline">erst</span> dann die darin enthaltene <strong>data.tar.gz</strong> entpacken. Wichtig ist aus dieser Archivdatei wiederum <span class="underline">nur</span> die Datei <strong>~/usr/src/avm-fritz.tgz</strong>. Nachdem man diese in das eigene <a class="internal" href="../../homeverzeichnis.html">Homeverzeichnis</a> kopiert hat, kann (und sollte!) man die Datei <strong>data.tar.gz</strong> und den Ordner <strong>~/usr/</strong> wieder löschen.</p><p>Nun <strong>avm-fritz.tgz</strong> entpacken (eine evtl. Fehlermeldung beim Entpacken kann übergangen werden) und in das Verzeichnis <strong>~/fritz64/fcpci/</strong> wechseln, den Quellcode übersetzen und abschließend mit Root-Rechten das Modul laden:</p><div class="bash"><div class="contents"><pre class="notranslate">cd ~/fritz64/fcpci
make
sudo make install
sudo depmod -a
sudo modprobe -v fcpci </pre></div></div><p> 
Jetzt mit dem <a class="crosslink" href="#Funktionstest">Funktionstest</a> überprüfen, ob alles geklappt hat.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="../../isdn-karten.html">ISDN-Karten</a> <img alt="{Übersicht}" src="../../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li><li><p><a class="external" href="http://www.janrufmonitor.de/" rel="nofollow">jAnrufmonitor</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Rufnummern-Protokoll (ehemals PowerISDN)</p></li><li><p><a class="external" href="http://www.pro-linux.de/artikel/2/1469/linux-als-isdn-telefon.html" rel="nofollow">Linux als ISDN-Telefon</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Pro-Linux 11/2010</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../../archiv/isdn-karten/avm_fritz!card_pci/a/revision/854053.html">Diese Revision</a> wurde am 26. November 2015 21:20 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../../startseite.html">Wiki</a></li>
<li><a href="../../archiv.html">Archiv</a></li>
<li><a href="../../archiv/isdn-karten.html">ISDN-Karten</a></li>
<li><a href="../../archiv/isdn-karten/avm_fritz!card_pci.html">AVM FRITZ!Card PCI</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>