<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Icon_210 › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/icon_210.html">Icon 210</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Icon_210">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/icon_210/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/icon_210/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/icon_210/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/icon_210/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/icon_210/a/backlinks.html">Icon 210</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Dieser Artikel bezieht sich nur auf den Verbindungsaufbau mit dem Provider o2, bei anderen Anbietern sollte das Vorgehen aber ähnlich sein.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../paketverwaltung.html">Programme installieren</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../udev.html">Verwaltung von Hotplug Ereignissen</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="../chmod.html">Datei-Rechte ändern</a></p></li></ol></div></div><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Initialisierung">Initialisierung
</a><ol class="arabic"><li><a class="crosslink" href="#Umschalten-auf-Modembetrieb">Umschalten auf Modembetrieb
</a></li><li><a class="crosslink" href="#Vorgehen-unter-Ubuntu-8-10">Vorgehen unter Ubuntu 8.10
</a></li><li><a class="crosslink" href="#Hinweise-zu-Kubuntu">Hinweise zu Kubuntu
</a></li></ol></li><li><a class="crosslink" href="#Optionales">Optionales
</a><ol class="arabic"><li><a class="crosslink" href="#Automatisieren">Automatisieren
</a></li><li><a class="crosslink" href="#PIN-Abfrage">PIN Abfrage
</a></li></ol></li><li><a class="crosslink" href="#Fehlerbehebung">Fehlerbehebung
</a><ol class="arabic"><li><a class="crosslink" href="#Geraete-dev-ttyUSB-nicht-vorhanden">Geräte /dev/ttyUSB* nicht vorhanden
</a></li><li><a class="crosslink" href="#Keine-Verbindung">Keine Verbindung
</a></li></ol></li><li><a class="crosslink" href="#Downloads">Downloads
</a><ol class="arabic"><li><a class="crosslink" href="#Skripte-herunterladen">Skripte herunterladen
</a></li><li><a class="crosslink" href="#Treiber-herunterladen">Treiber herunterladen
</a></li><li><a class="crosslink" href="#Alles-herunterladen">Alles herunterladen
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Dieser Artikel bezieht sich auf die Einrichtung des ICON 210 UMTS Modems von Option/Qualcom unter Verwendung des Prepaid-Daten-Tarifs von o2 und ist mit anderen Geräten des Herstellers sowie anderen Mobilfunk-Anbietern nicht getestet. Zu den anderen Geräten sind zum größten Teil bereits sehr gute Anleitungen vorhanden.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die in diesem Artikel zu erstellenden Skripte können auch <a class="crosslink" href="#Scripte-herunterladen">heruntergeladen</a> werden.
</p></div></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Folgende Programme sind notwendig:</p><ul><li><p><a class="internal" href="../usb_modeswitch.html">usb-modeswitch</a> - Programm zum Umschalten des Datenträgermodus bei USB-Modems</p></li></ul><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>usb-modeswitch ist als gleichnamiges Paket über die offiziellen Paketquellen verfügbar.
</p></div></div><p>Optional kann noch die folgende Software verwendet werden:</p><ul><li><p><a class="external" href="http://pharscape.org/comgt.html" rel="nofollow">comgt</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Kommandozeilentool für 3G- bzw. UMTS-Geräte.</p></li></ul><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Ab Ubuntu 10.04 <a class="internal" href="../lucid_lynx.html">Lucid Lynx</a> ist comgt als gleichnamiges Paket über die offiziellen Paketquellen verfügbar.</p><p>Alternativ lässt sich aus den Softwarequellen das Programm <strong><code class="notranslate">gcom</code></strong> installieren, welches eine frühere Version von <strong><code class="notranslate">comgt</code></strong> darstellt. Dabei ist allerdings zu beachten, das entweder die Skripte angepasst werden müssen oder eine entsprechende Verknüpfung angelegt wird. Dies ist im Rahmen dieses Artikels <span class="underline">nicht</span> getestet. 
</p></div></div><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
<a class="internal" href="../fremdquellen.html">Fremdpakete</a> können das System gefährden. 
</p><hr/><p><strong>Anmerkung:</strong> Die Programme <strong><code class="notranslate">usb_modeswitch</code></strong> und <strong><code class="notranslate">comgt</code></strong> sind Software von Drittanbietern und in älteren Ubuntu-Versionen nicht enthalten! Das Kernel Modul <strong>option.ko</strong> wurde vom Verfasser abgeändert und neu kompiliert und entspricht somit nicht mehr der Version der Distribution.
</p></div></div></div><div class="section_1"><h2 id="Initialisierung">Initialisierung<a class="headerlink" href="#Initialisierung">¶</a></h2><p>
Da der ICON 210 Stick auf den Betrieb unter Windows ausgelegt ist, sind ein paar Vorarbeiten zu leisten.</p><div class="section_2"><h3 id="Umschalten-auf-Modembetrieb">Umschalten auf Modembetrieb<a class="headerlink" href="#Umschalten-auf-Modembetrieb">¶</a></h3><p>
Da das Modem mit einer doppelten Funktionsweise belegt ist und standardmäßig im Datenträgermodus startet, muss hier eine zusätzliche Software zum Einsatz kommen, die das Gerät in den Modembetrieb schaltet. Dazu wird das Programm <a class="internal" href="../usb_modeswitch.html">USB ModeSwitch</a> verwendet.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Nach der Installation von usb-modeswitch kann es notwendig sein, den Befehl <strong><code class="notranslate">sudo udevadm control --reload-rules</code></strong> auszuführen oder das System neu zu Starten, damit die Änderung auch aktiv wird.
</p></div></div><p>Den Stick einstecken, kurz warten, ein Terminal öffnen und per <strong><code class="notranslate">lsusb</code></strong> die angeschlossenen USB-Geräte anzeigen lassen. Nun sollte ein Geräte mit folgender ID auftauchen:</p><pre class="notranslate">Bus 001 Device 005: ID 1e0e:9000  </pre><p>Das Gerät befindet sich nun im Modemmodus.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wenn die PIN-Abfrage deaktiviert ist, muss die LED nach kurzer Wartezeit von Rot auf Grün wechseln.
</p></div></div></div><div class="section_2"><h3 id="Vorgehen-unter-Ubuntu-8-10">Vorgehen unter Ubuntu 8.10<a class="headerlink" href="#Vorgehen-unter-Ubuntu-8-10">¶</a></h3><p>
</p><div class="section_3"><h4 id="USB-Serial-Treiber-laden">USB-Serial Treiber laden<a class="headerlink" href="#USB-Serial-Treiber-laden">¶</a></h4><p>
Nun muss der USB-Serial-Treiber geladen werden, damit sich das Modem auch ansprechen lässt. Mit der Eingabe von:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe usbserial vendor=0x1e0e product=0x9000 </pre></div></div><p>sollten die Devices <code class="notranslate">/dev/ttyUSBx</code> (x = <code class="notranslate">0,1 und 2</code>) aktiviert werden.</p><p>Zur Kontrolle</p><div class="bash"><div class="contents"><pre class="notranslate">ls /dev/ttyUSB* </pre></div></div><p>eingeben, woraufhin die drei Geräte angezeigt werden sollten.</p><pre class="notranslate">/dev/ttyUSB0  /dev/ttyUSB1  /dev/ttyUSB2</pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Ist dies nicht der Fall, ist wahrscheinlich ein Fehler aufgetreten, mit dem mehrere Benutzer zu kämpfen haben. Näheres hierzu im Bereich <a class="crosslink" href="#Fehlerbehebung">Fehlerbehebung</a>.
</p></div></div></div><div class="section_3"><h4 id="Einwahlskript-erstellen">Einwahlskript erstellen<a class="headerlink" href="#Einwahlskript-erstellen">¶</a></h4><p>
Mit einem Editor <sup><a href="#source-3">[3]</a></sup> folgendes Skript für <code class="notranslate">pppd</code> erstellen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>-detach
/dev/ttyUSB2
<span class="m">9600</span>
defaultroute
usepeerdns
mtu <span class="m">1492</span>

noauth

crtscts
lock
<span class="c1"># novj</span>
<span class="c1"># nobsdcomp</span>
nodeflate
<span class="c1"># nopcomp</span>

connect <span class="s1">'/usr/sbin/chat -v -t6 -f /etc/ppp/peers/gsm_chat'</span>
</pre></div>
</td></tr></table></div><p>und unter <strong>/etc/ppp/peers/o2-umts</strong> abspeichern. Dazu sind Root-Rechte <sup><a href="#source-4">[4]</a></sup> erforderlich!</p></div><div class="section_3"><h4 id="AT-Modembefehlsskript-erstellen">AT-Modembefehlsskript erstellen<a class="headerlink" href="#AT-Modembefehlsskript-erstellen">¶</a></h4><p>
Mit einem Editor folgendes Skript als Modembefehlssatz erstellen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>ABORT <span class="s1">'NO DIAL TONE'</span> ABORT <span class="s1">'NO ANSWER'</span> ABORT <span class="s1">'NO CARRIER'</span> ABORT DELAYED

SAY <span class="s1">'Initializing modem:\n'</span>
<span class="s1">''</span> AT
OK ATZ
OK <span class="se">\c</span>
SAY <span class="s1">'OK\n'</span>

SAY <span class="s2">"Checking PIN:\n"</span>
<span class="s1">''</span> AT+CPIN?
<span class="s2">"+CPIN: READY"</span> <span class="se">\c</span>
SAY <span class="s2">"OK\n"</span>

SAY     <span class="s1">'Setting APN:\n'</span>
<span class="s1">''</span>      AT+CGDCONT<span class="o">=</span><span class="m">1</span>,<span class="s2">"IP"</span>,<span class="s2">"surfo2"</span>
OK <span class="se">\c</span>
SAY <span class="s2">"OK\n"</span>

SAY     <span class="s1">'Dialing...\n'</span>
OK ATD*99#
CONNECT <span class="se">\c</span>
SAY <span class="s2">"Connected.\n"</span>
</pre></div>
</td></tr></table></div><p>und unter <strong>/etc/ppp/peers/gsm_chat</strong> abspeichern. Dazu sind Root-Rechte <sup><a href="#source-4">[4]</a></sup> erforderlich!</p></div><div class="section_3"><h4 id="Einwaehlen">Einwählen<a class="headerlink" href="#Einwaehlen">¶</a></h4><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Sollte eine andere Verbindung bestehen (LAN, WLAN), wird diese vom Networkmanager bevorzugt und die "default route" wird nicht auf die UMTS-Verbindung umgestellt. Daher ist es notwendig, erst im <a class="internal" href="../networkmanager.html">NetworkManager</a> die bestehenden Verbindungen zu trennen!
</p></div></div><p>Nun kann per Eingabe <sup><a href="#source-1">[1]</a></sup> eine Verbindung hergestellt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo pon o2-umts </pre></div></div><pre class="notranslate">Initializing modem:
OK
Checking PIN:
OK
Setting APN:
OK
Dialing...
Connected.
Serial connection established.
Using interface ppp0
Connect: ppp0 &lt;--&gt; /dev/ttyUSB2
PAP authentication succeeded
Could not determine remote IP address: defaulting to 10.64.64.64
Cannot determine ethernet address for proxy ARP
local  IP address 10.39.136.244
remote IP address 10.64.64.64
primary   DNS address 193.189.244.205
secondary DNS address 193.189.244.197</pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die LED auf dem Stick sollte Grün (2G = GPRS) oder Blau (3G = UMTS) blinken!
</p></div></div><p>Das System ist nun per UMTS online.</p></div></div><div class="section_2"><h3 id="Hinweise-zu-Kubuntu">Hinweise zu Kubuntu<a class="headerlink" href="#Hinweise-zu-Kubuntu">¶</a></h3><p>
Der KDE Networkmanager ist leider immer noch nicht der Lage, diese Verbindungen herzustellen. Daher muss entweder der GNOME <a class="internal" href="../networkmanager.html">NetworkManager</a> installiert und verwendet werden oder eine Einwahl per Skript umgesetzt werden.</p></div></div><div class="section_1"><h2 id="Optionales">Optionales<a class="headerlink" href="#Optionales">¶</a></h2><p>
Dieser Abschnitt widmet sich weitergehender Informationen und Möglichkeiten und ist für den Grundbetrieb nicht notwendig.</p><div class="section_2"><h3 id="Automatisieren">Automatisieren<a class="headerlink" href="#Automatisieren">¶</a></h3><p>
Natürlich kann man das ganze auch automatisch abarbeiten lassen. Dazu hier zwei Möglichkeiten.</p><div class="section_3"><h4 id="Per-Skript">Per Skript<a class="headerlink" href="#Per-Skript">¶</a></h4><p>
Einfach ein Skript mit folgendem Inhalt erstellen <sup><a href="#source-3">[3]</a></sup>:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/sh -e</span>
<span class="c1">#</span>
<span class="c1"># o2dialup</span>
<span class="c1">#</span>
modprobe usbserial <span class="nv">vendor</span><span class="o">=</span>0x1e0e <span class="nv">product</span><span class="o">=</span>0x9000 <span class="o">&amp;&amp;</span> sleep <span class="m">1</span> 
<span class="c1">#Die untere Zeile aktivieren sofern das Problem der nicht erkannten Geräte /dev/ttyUSB* auftritt.</span>
<span class="c1">#modprobe -r usbserial &amp;&amp; sleep 1 &amp;&amp; modprobe usbserial vendor=0x1e0e product=0x9000 &amp;&amp; sleep 1 </span>
pon o2-umts
<span class="nb">exit</span> <span class="m">0</span>
</pre></div>
</td></tr></table></div><p>und beispielweise als <strong>/usr/local/bin/o2dialup</strong> speichern.</p><p>Das Skript dann bei Bedarf mit <strong><code class="notranslate">sudo sh /usr/local/bin/o2dialup</code></strong> starten.</p></div><div class="section_3"><h4 id="Mit-Systemstart">Mit Systemstart<a class="headerlink" href="#Mit-Systemstart">¶</a></h4><p>
Man kann die oben genannten Befehle natürlich auch in der <strong>/etc/rc.local</strong> ablegen. Allerdings muss das Modem dann auch schon bei Systemstart eingesteckt sein, da dieses Skript beim Booten ausgeführt wird. Das sieht dann folgendermaßen aus:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/sh -e</span>
<span class="c1">#</span>
<span class="c1"># rc.local</span>
<span class="c1">#</span>
<span class="c1"># This script is executed at the end of each multiuser runlevel.</span>
<span class="c1"># Make sure that the script will "exit 0" on success or any other</span>
<span class="c1"># value on error.</span>
<span class="c1">#</span>
<span class="c1"># In order to enable or disable this script just change the execution</span>
<span class="c1"># bits.</span>
<span class="c1">#</span>
<span class="c1"># By default this script does nothing.</span>
modprobe usbserial <span class="nv">vendor</span><span class="o">=</span>0x1e0e <span class="nv">product</span><span class="o">=</span>0x9000 <span class="o">&amp;&amp;</span> sleep <span class="m">1</span> 
<span class="c1">#Die untere Zeile aktivieren sofern das Problem der nicht erkannten Geräte /dev/ttyUSB* auftritt.</span>
<span class="c1">#modprobe -r usbserial &amp;&amp; sleep 1 &amp;&amp; modprobe usbserial vendor=0x1e0e product=0x9000 &amp;&amp; sleep 1 </span>
pon o2-umts
<span class="nb">exit</span> <span class="m">0</span>
</pre></div>
</td></tr></table></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Das Skript <strong>rc.local</strong> wird automatisch mit Superuser-Rechten ausgeführt.
</p></div></div></div><div class="section_3"><h4 id="Per-Udev">Per Udev<a class="headerlink" href="#Per-Udev">¶</a></h4><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><p>Die wohl eleganteste Lösung ist die Einbindung über den <a class="internal" href="../udev.html">udev</a>-Daemon <sup><a href="#source-5">[5]</a></sup>, womit der Stick automatisch bei jedem Einstecken initialisiert und sogar die komplette Einwahl automatisiert werden kann. Hierzu ist das Erstellen von eigenen Regeln für udev sowie ein paar weitere Skripte notwendig.</p><p>Mit einem Editor<sup><a href="#source-3">[3]</a></sup> folgende Dateien erstellen, dazu sind Root-Rechte erforderlich <sup><a href="#source-4">[4]</a></sup>.
<strong>/usr/local/sbin/load_usbserial</strong></p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/sh</span>
/sbin/modprobe usbserial <span class="nv">vendor</span><span class="o">=</span>0x1e0e <span class="nv">product</span><span class="o">=</span>0x9000
<span class="nb">exit</span> <span class="m">0</span>
</pre></div>
</td></tr></table></div><p><strong>/usr/local/sbin/comgt_pin</strong> (Nur wenn die Pinabfrage verwendet wird.)</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="c1">#Dieser Abschnitt ist für die automatische Pin Freischaltung zuständig und kann bei Bedarf auskommentiert werden. Bei Verwendung sind die 4 "X" durch den PIN der SIM Karte zu ersetzten.</span>
<span class="nb">export</span> <span class="nv">COMGTPIN</span><span class="o">=</span>XXXX
/usr/local/bin/comgt PIN -d /dev/ttyUSB2 &gt;&gt;/tmp/switch_icon210.log <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
<span class="c1">#Dieser Abschnitt ist für die automatische Einwahl zuständig und kann bei Bedarf auskommentiert werden.</span>
pon o2-umts &gt;&gt;/tmp/o2-umts.log <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
<span class="nb">exit</span> <span class="m">0</span>
</pre></div>
</td></tr></table></div><p>Der Einfachheit halber sollten diese drei Dateien nun ausführbar gemacht werden <sup><a href="#source-6">[6]</a></sup>. Nun per Editor folgende Udev-Regel erstellen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1">#ICON 210 UMTS Modem - USB-Serial Treiber laden</span>
<span class="nv">ACTION</span><span class="o">==</span><span class="s2">"add"</span>, ATTRS<span class="o">{</span>idVendor<span class="o">}==</span><span class="s2">"1e0e"</span>, ATTRS<span class="o">{</span>idProduct<span class="o">}==</span><span class="s2">"9000"</span>, <span class="nv">RUN</span><span class="o">+=</span><span class="s2">"/usr/local/sbin/load_usbserial"</span>
<span class="c1">#ICON 210 UMTS Modem - Pin eingeben per comgt</span>
<span class="c1">#Die untere Zeile nur bei Verwendung des Pin, bzw. automatischer Einwahl aktivieren. </span>
<span class="c1">#ACTION=="add", KERNEL=="ttyUSB2", RUN+="/usr/local/sbin/comgt_pin"</span>
</pre></div>
</td></tr></table></div><p>und unter <strong>/etc/udev/rules.d/19-local.rules</strong> abspeichern.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Unter Umständen ist es notwendig, die udev-Regeln nach dem Ändern manuell neu einzulesen. Dazu ist folgender Befehl einzugeben: <strong><code class="notranslate">sudo udevadm control reload_rules</code></strong>
</p></div></div><p>Der Stick wird nun beim Verbinden automatisch in den Modemmodus geschaltet, der USB-Serial Treiber wird geladen und ggf. der PIN eingegeben sowie eingewählt. Um die automatische Verbindung manuell zu beenden, ist die Eingabe von <code class="notranslate">poff</code> notwendig, was dann <code class="notranslate">pppd</code> stoppt.</p></div></div><div class="section_2"><h3 id="PIN-Abfrage">PIN Abfrage<a class="headerlink" href="#PIN-Abfrage">¶</a></h3><p>
Mittels des Zusatzprogramms <a class="crosslink" href="#Installation">comgt</a> ist es möglich, den Stick auch mit aktivierter PIN-Abfrage zu aktivieren. Dazu muss vor der Einwahl per <a class="crosslink" href="#Einwahl">pon</a> das Tool aufgerufen werden <sup><a href="#source-1">[1]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">comgt -d /dev/ttyUSB2 </pre></div></div><p>Daraufhin muss die PIN-Nummer der SIM-Karte eingegeben werden.</p><pre class="notranslate">Enter PIN number: XXXX
Waiting for Registration..(120 sec max).......
Registered on Home network: "o2 - de",0
Signal Quality: 18,99</pre><p>Bei korrekter Eingabe wird der Stick entsperrt, im Netz registriert und kann nun per <a class="crosslink" href="#Einwahl">pon</a> weiterverwendet werden.</p></div></div><div class="section_1"><h2 id="Fehlerbehebung">Fehlerbehebung<a class="headerlink" href="#Fehlerbehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Geraete-dev-ttyUSB-nicht-vorhanden">Geräte <strong>/dev/ttyUSB*</strong> nicht vorhanden<a class="headerlink" href="#Geraete-dev-ttyUSB-nicht-vorhanden">¶</a></h3><p>
Bei den meisten Anwendern funktionierte der Stick nicht auf Anhieb, denn nach der Eingabe von:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe usbserial </pre></div></div><pre class="notranslate">vendor=0x1e0e product=0x9000</pre><p>waren die Geräte <strong>/dev/ttyUSB0 /dev/ttyUSB1 /dev/ttyUSB2</strong> nicht vorhanden.</p><p>Ein erneutes Laden von "<code class="notranslate">usbserial</code>":</p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe -r usbserial &amp;&amp; sleep 1 &amp;&amp; sudo modprobe usbserial vendor=0x1e0e product=0x9000 </pre></div></div><p>behebt das Problem.</p></div><div class="section_2"><h3 id="Keine-Verbindung">Keine Verbindung<a class="headerlink" href="#Keine-Verbindung">¶</a></h3><p>
Ein weiteres Problem ist, dass sich trotz des augenscheinlich Funktionieren des Sticks keine Verbindung aufbauen ließ und die Einwahl statt dessen einen "timeout" meldete.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo pon o2-umts </pre></div></div><pre class="notranslate">Initializing modem:
OK
Checking PIN:
OK
Setting APN:
OK
Dialing...
Connected.
Serial connection established.
Using interface ppp0
Connect: ppp0 &lt;--&gt; /dev/ttyUSB2
PAP authentication succeeded
IPCP: timeout sending Config-Requests
Connection terminated.
Modem hangup</pre><p>Ein Initialisieren des Modems per <strong><code class="notranslate">comgt</code></strong> schafft hier Abhilfe:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo comgt -d /dev/ttyUSB2 </pre></div></div><pre class="notranslate">SIM ready
Waiting for Registration..(120 sec max)
Registered on Home network: "o2 - de",0
Signal Quality: 12,99</pre><p>Der Stick lässt sich danach einwandfrei verwenden.</p></div></div><div class="section_1"><h2 id="Downloads">Downloads<a class="headerlink" href="#Downloads">¶</a></h2><p>
</p><div class="section_2"><h3 id="Skripte-herunterladen">Skripte herunterladen<a class="headerlink" href="#Skripte-herunterladen">¶</a></h3><p>
</p><ul><li><p><a class="interwiki interwiki-attachment" href="../archiv/icon_210.html">gsm_chat</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li><li><p><a class="interwiki interwiki-attachment" href="../archiv/icon_210.html">o2-umts</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li><li><p><a class="interwiki interwiki-attachment" href="../archiv/icon_210.html">o2dialup</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li><li><p><a class="interwiki interwiki-attachment" href="../archiv/icon_210.html">rc.local</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li><li><p><a class="interwiki interwiki-attachment" href="../archiv/icon_210.html">load_usbserial</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li><li><p><a class="interwiki interwiki-attachment" href="../archiv/icon_210.html">comgt_pin</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li><li><p><a class="interwiki interwiki-attachment" href="../archiv/icon_210.html">19-local.rules</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li><li><p><a class="interwiki interwiki-attachment" href="../archiv/icon_210.html">18-option.rules</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li></ul><p>
</p></div><div class="section_2"><h3 id="Treiber-herunterladen">Treiber herunterladen<a class="headerlink" href="#Treiber-herunterladen">¶</a></h3><p>
</p><ul><li><p><a class="interwiki interwiki-attachment" href="../archiv/icon_210.html">option.ko.tar.gz - Für den Icon 210 abgeänderte <span class="underline">nicht offizielle</span> Version (i386)</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li><li><p><a class="interwiki interwiki-attachment" href="../archiv/icon_210.html">option.ko.x64.tar.gz - Für den Icon 210 abgeänderte <span class="underline">nicht offizielle</span> Version (amd64)</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li></ul><p>
</p></div><div class="section_2"><h3 id="Alles-herunterladen">Alles herunterladen<a class="headerlink" href="#Alles-herunterladen">¶</a></h3><p>
</p><ul><li><p><a class="interwiki interwiki-attachment" href="../archiv/icon_210.html">ICON_210.tar.gz - Alle Scripte und Treiber in einem Download</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li></ul><p>
</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://marc.info/?l=linux-kernel&amp;m=124478992422348&amp;w=2" rel="nofollow">Kernelpatch für das Optionmodul</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Wenn man selbst kompilieren möchte/muss!</p></li><li><p><a class="internal" href="../usb_modeswitch.html">USB ModeSwitch</a></p></li><li><p><a class="external" href="http://pharscape.org/" rel="nofollow">Pharscape.org</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Hintergrundinformationen für Option Modems, Home of the comgt!</p></li></ul><p>
</p><hr/><p></p></div></div>
<p class="meta">
<a href="../archiv/icon_210/a/revision/387587.html">Diese Revision</a> wurde am 18. März 2012 10:34 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/icon_210.html">Icon 210</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>