<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Howto/Statusmonitor_Speedport_W921v › ubuntuusers statisches Wiki</title>
<link href="../../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../../archiv/howto/statusmonitor_speedport_w921v.html">Statusmonitor Speedport W921v</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Howto/Statusmonitor_Speedport_W921v">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../../wiki/index.html">Index</a></li>
<li><a href="../../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../../wiki.html">Übersicht</a></li>
<li><a href="../../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../../kategorien.html">Kategorie</a></li>
<li><a href="../../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../../howto.html">Howto anlegen</a></li>
<li><a href="../../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../../baustelle.html">Baustellen</a></li>
<li><a href="../../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../../archiv/howto/statusmonitor_speedport_w921v/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../../archiv/howto/statusmonitor_speedport_w921v/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../../archiv/howto/statusmonitor_speedport_w921v/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../../archiv/howto/statusmonitor_speedport_w921v/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../../archiv/howto/statusmonitor_speedport_w921v/a/backlinks.html">Statusmonitor Speedport W921v</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Verwendung dieses Howto geschieht auf eigene Gefahr. Bei Problemen mit der Anleitung melde dies bitte in der dazugehörigen Diskussion und wende dich zusätzlich an den Verfasser des Howtos.
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Diese Howto-Anleitung wurde zuletzt von <a class="crosslink user" href="https://ubuntuusers.de/user/Stepe/">Stepe</a> am 29.01.2015 unter <strong>Ubuntu 14.10</strong> erfolgreich getestet.
</p></div></div><div class="section_1"><h2 id="Problembeschreibung">Problembeschreibung<a class="headerlink" href="#Problembeschreibung">¶</a></h2><p>
Ziel ist es, die Statuswerte des Speedport W921v mit einem Skript auszulesen und je nach Bedarf weiter zu verarbeiten. Im folgenden Beispiel wird <a class="internal" href="../../php.html">PHP</a> in der Version 5.3.3-7 verwendet.</p><p>Anmerkung: Das ursprüngliche Ziel, die Statuswerte direkt mit den eigenen Funktionen des Speedport auszulesen, konnte bisher mangels Zugriff auf die Quelldaten nicht realisiert werden. Die Lösung hier verwendet die Statuswerte, welche auf einer <a class="external" href="https://speedport.ip/hidden/hidden_index.stm" rel="nofollow">versteckten Statusseite</a> des Herstellers Arcadyan generiert werden. Allerdings kann auf die Seite nur nach erfolgter Benutzeranmeldung zugegriffen werden. Da der Speedport doppelten administrativen Zugriff verweigert, darf keine weitere Webseite des Speedports geöffnet sein.</p></div><div class="section_1"><h2 id="Anleitung">Anleitung<a class="headerlink" href="#Anleitung">¶</a></h2><p>
Voraussetzungen:</p><ul><li><p>Ein lokaler Webserver (zum Beispiel Apache) mit PHP Modul (das Skript wurde mit der PHP-Version 5.3.3-7 getestet)</p></li><li><p>Die PHP-Datei muss in einem Verzeichnis liegen, auf welches der Webserver zugreifen kann (z.B. "/var/www") </p></li><li><p>Damit PHP die Daten von der Statusseite auslesen kann, wird die cUrl-Erweiterung benötigt: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install curl libcurl3 libcurl3-dev php5-curl 
sudo /etc/init.d/apache2 restart  </pre></div></div></li></ul><p>
Folgende Statusvariablen werden von der Statusseite ausgelesen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>"bWanConnected" - Verbindungsstatus (0/1)
"var download_rate" - DSL Downstream (kbps)
"var upload_rate"   - DSL Upstream  (kbps)
"var max_download_rate" - maximaler Downstream (?)
"var max_upload_rate" - maximaler Upstream (?)
"var download_noise_margin"
"var upload_noise_margin"
"wan_ip" öffentliche IP-Adresse
"wan_subnet_mask"
"wan_gateway"
"primary_dns"
"secondary_dns"
</pre></div>
</td></tr></table></div><p>
Das Skript:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="nv">$_PASS</span><span class="o">=</span><span class="s2">"&lt;PASSWORT DES SPEEDPORTS&gt;"</span><span class="p">;</span>
<span class="nv">$_REFERER</span><span class="o">=</span><span class="s2">"https://&lt;IP DES SPEEDPORTS&gt;/html/login/"</span><span class="p">;</span>
<span class="nv">$_REFEREE</span><span class="o">=</span><span class="s2">"https://&lt;IP DES SPEEDPORTS&gt;/data/Login.json"</span><span class="p">;</span>
<span class="nv">$_USERAGENT</span><span class="o">=</span><span class="s2">"Mozilla/4.73 [en] (X11; U; Linux 2.2.15 i686)"</span><span class="p">;</span>

<span class="nv">$cl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_COOKIESESSION</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span> 
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_COOKIEJAR</span><span class="p">,</span> <span class="s2">"/tmp/speedport.cookie"</span><span class="p">);</span> 
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_COOKIEFILE</span><span class="p">,</span> <span class="s2">"/tmp/speedport.cookie"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_USERAGENT</span><span class="p">,</span> <span class="nv">$_USERAGENT</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYHOST</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span><span class="nx">CURLOPT_NOBODY</span><span class="p">,</span><span class="k">false</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_REFERER</span><span class="p">,</span> <span class="nv">$_REFERER</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$_REFEREE</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="s2">"password=</span><span class="si">$_PASS</span><span class="s2">&amp;showpw=0"</span><span class="p">);</span>

<span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$cl</span><span class="p">);</span> 
<span class="c1">//echo "Info1: ".curl_getinfo($cl,CURLINFO_HTTP_CODE)."&lt;br&gt;"; </span>
<span class="c1">//echo "Error1: ".curl_error($cl)."&lt;br&gt;";</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span><span class="k">false</span><span class="p">);</span>
<span class="nv">$_REFERER</span><span class="o">=</span><span class="nv">$_REFEREE</span><span class="p">;</span>
<span class="nv">$_REFEREE</span><span class="o">=</span><span class="s2">"https://&lt;IP DES SPEEDPORTS&gt;/hidden/status_main.stm"</span><span class="p">;</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_REFERER</span><span class="p">,</span> <span class="nv">$_REFERER</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$_REFEREE</span><span class="p">);</span>

<span class="nv">$_webpage</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$cl</span><span class="p">);</span> 
<span class="c1">//echo "Info2: ".curl_getinfo($cl,CURLINFO_HTTP_CODE)."&lt;br&gt;"; </span>
<span class="c1">//echo "Error2: ".curl_error($cl)."&lt;br&gt;";</span>
<span class="k">if</span><span class="p">(</span><span class="nv">$_webpage</span><span class="p">){</span>

<span class="c1">//Array mit den relevanten Variablenbezeichnungen</span>
<span class="nv">$vars</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"bWanConnected"</span><span class="p">,</span><span class="s2">"var download_rate"</span><span class="p">,</span><span class="s2">"var upload_rate"</span><span class="p">,</span><span class="s2">"var max_download_rate"</span><span class="p">,</span><span class="s2">"var max_upload_rate"</span><span class="p">,</span><span class="s2">"var download_noise_margin"</span><span class="p">,</span><span class="s2">"var upload_noise_margin"</span><span class="p">,</span><span class="s2">"wan_ip"</span><span class="p">,</span><span class="s2">"wan_subnet_mask"</span><span class="p">,</span><span class="s2">"wan_gateway"</span><span class="p">,</span><span class="s2">"primary_dns"</span><span class="p">,</span><span class="s2">"secondary_dns"</span><span class="p">);</span>
<span class="c1">//Array mit Anzeigetexten</span>
<span class="nv">$text</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">"Verbindung:  "</span><span class="p">,</span><span class="s2">"Down:  "</span><span class="p">,</span><span class="s2">"Up:  "</span><span class="p">,</span><span class="s2">"Max Down:  "</span><span class="p">,</span><span class="s2">"Max up:  "</span><span class="p">,</span><span class="s2">"Noise margin down:  "</span><span class="p">,</span><span class="s2">"Noise margin up:  "</span><span class="p">,</span><span class="s2">"WAN-IP:  "</span><span class="p">,</span><span class="s2">"WAN-Subnetmaske:  "</span><span class="p">,</span><span class="s2">"WAN-Gateway:  "</span><span class="p">,</span><span class="s2">"Primary-DNS:  "</span><span class="p">,</span><span class="s2">"Secondary-DNS:  "</span><span class="p">);</span>

<span class="nv">$rows</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$_webpage</span><span class="p">);</span>
<span class="nv">$val</span><span class="o">=</span><span class="s2">""</span><span class="p">;</span>
<span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="cp">?&gt;</span>

<span class="cp">&lt;!DOCTYPE html PUBLIC "../../xhtml1-transitional-translate.dtd"&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">xmlns</span><span class="o">=</span><span class="s">"http://www.w3.org/1999/xhtml"</span> 
      <span class="na">xmlns:i18n</span><span class="o">=</span><span class="s">"../"</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Speedport Verbindungsstatus<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>

  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">"content-type"</span> <span class="na">content</span><span class="o">=</span><span class="s">"text/html; charset=utf-8"</span> <span class="p">/&gt;</span>

  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"author"</span> <span class="na">content</span><span class="o">=</span><span class="s">"Stepe"</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>

<span class="cp">&lt;?php</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$vars</span> <span class="k">as</span> <span class="nv">$var</span><span class="p">)</span>
<span class="p">{</span>
	<span class="nv">$pattern</span> <span class="o">=</span> <span class="s1">'/^'</span><span class="o">.</span><span class="nv">$var</span><span class="o">.</span><span class="s1">'/'</span><span class="p">;</span>

	<span class="nv">$matches</span> <span class="o">=</span> <span class="nb">preg_grep</span><span class="p">(</span><span class="nv">$pattern</span><span class="p">,</span> <span class="nv">$rows</span><span class="p">);</span>
	<span class="nv">$matches</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nv">$matches</span><span class="p">);</span> <span class="c1">//Array neu indizieren</span>
	<span class="k">if</span><span class="p">(</span><span class="nv">$matches</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span>
		<span class="nv">$val</span><span class="o">=</span><span class="nb">substr</span><span class="p">(</span><span class="nv">$matches</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$matches</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s2">"="</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$matches</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">-</span><span class="nb">strpos</span><span class="p">(</span><span class="nv">$matches</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s2">"="</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
		<span class="nv">$val</span><span class="o">=</span><span class="nb">str_replace</span><span class="p">(</span><span class="s2">"</span><span class="se">\"</span><span class="s2">"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="nv">$val</span><span class="p">);</span>		
		<span class="k">if</span><span class="p">(</span><span class="nv">$i</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">echo</span> <span class="nv">$text</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="o">.</span><span class="nv">$val</span><span class="o">.</span><span class="s2">" kbps&lt;br&gt;"</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="k">if</span><span class="p">(</span><span class="nv">$i</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
				<span class="nv">$val</span><span class="o">=</span> <span class="nv">$val</span><span class="o">==</span><span class="s2">"1"</span> <span class="o">?</span> <span class="s2">"verbunden"</span> <span class="o">:</span> <span class="s2">"getrennt"</span><span class="p">;</span>
			<span class="p">}</span>			
			<span class="k">echo</span> <span class="nv">$text</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span><span class="o">.</span><span class="nv">$val</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="nv">$i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>

<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>

<span class="cp">&lt;?php</span>
<span class="p">}</span>


<span class="nv">$_REFEREE</span><span class="o">=</span><span class="s2">"https://&lt;IP DES SPEEDPORTS&gt;/data/Login.json"</span><span class="p">;</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="s2">"logout=byby"</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$cl</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$_REFEREE</span><span class="p">);</span>

<span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$cl</span><span class="p">);</span> 
<span class="c1">//echo "Info3: ".curl_getinfo($cl,CURLINFO_HTTP_CODE)."&lt;br&gt;"; </span>
<span class="c1">//echo "Error3: ".curl_error($cl)."&lt;br&gt;";</span>

<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$cl</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</pre></div>
</td></tr></table></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="crosslink topic" href="https://forum.ubuntuusers.de/topic/reconnect-script-fuer-speedport-w921v/">Reconnect Script für Speedport W921v</a> - Forenbeitrag</p></li><li><p><a class="internal" href="../../howto.html">Howto</a> <img alt="{Übersicht}" src="../../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersicht aller Howto-Artikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../../archiv/howto/statusmonitor_speedport_w921v/a/revision/916443.html">Diese Revision</a> wurde am 31. Oktober 2016 18:28 von <a href="https://ubuntuusers.de/user/noisefloor/">noisefloor</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../../startseite.html">Wiki</a></li>
<li><a href="../../archiv.html">Archiv</a></li>
<li><a href="../../archiv/howto.html">Howto</a></li>
<li><a href="../../archiv/howto/statusmonitor_speedport_w921v.html">Statusmonitor Speedport W921v</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>