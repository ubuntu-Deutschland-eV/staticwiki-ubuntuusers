<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Howto/I2P_auf_dem_Raspberry_Pi_2 › ubuntuusers statisches Wiki</title>
<link href="../../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../../archiv/howto/i2p_auf_dem_raspberry_pi_2.html">I2P auf dem Raspberry Pi 2</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Howto/I2P_auf_dem_Raspberry_Pi_2">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../../wiki/index.html">Index</a></li>
<li><a href="../../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../../wiki.html">Übersicht</a></li>
<li><a href="../../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../../kategorien.html">Kategorie</a></li>
<li><a href="../../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../../howto.html">Howto anlegen</a></li>
<li><a href="../../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../../baustelle.html">Baustellen</a></li>
<li><a href="../../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../../archiv/howto/i2p_auf_dem_raspberry_pi_2/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../../archiv/howto/i2p_auf_dem_raspberry_pi_2/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../../archiv/howto/i2p_auf_dem_raspberry_pi_2/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../../archiv/howto/i2p_auf_dem_raspberry_pi_2/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../../archiv/howto/i2p_auf_dem_raspberry_pi_2/a/backlinks.html">I2P auf dem Raspberry Pi 2</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Verwendung dieses Howto geschieht auf eigene Gefahr. Bei Problemen mit der Anleitung melde dies bitte in der dazugehörigen Diskussion und wende dich zusätzlich an den Verfasser des Howtos.
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Diese Howto-Anleitung wurde zuletzt von <a class="crosslink user" href="https://ubuntuusers.de/user/Lock-3/">Lock-3</a> am 27.06.2014 unter <strong>Ubuntu 14.04</strong> und <strong>Ubuntu MATE 15.04</strong> erfolgreich getestet.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../../packprogramme.html">Archive entpacken</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../../pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../../passwd.html">Root-Passwort ändern</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Voraussetzungen">Voraussetzungen
</a></li><li><a class="crosslink" href="#Installation-des-Grundsystems">Installation des Grundsystems
</a><ol class="arabic"><li><a class="crosslink" href="#Herunterladen-und-Entpacken-des-ISO-Images">Herunterladen und Entpacken des ISO-Imag...</a></li><li><a class="crosslink" href="#Image-auf-microSD-Karte-uebertragen">Image auf microSD-Karte übertragen
</a></li><li><a class="crosslink" href="#Ext4-Partition-vergroessern">Ext4-Partition vergrößern
</a></li><li><a class="crosslink" href="#System-starten">System starten
</a></li></ol></li><li><a class="crosslink" href="#Einrichten-des-Grundsystems">Einrichten des Grundsystems
</a><ol class="arabic"><li><a class="crosslink" href="#Locale-Einstellungen-anpassen">Locale-Einstellungen anpassen
</a></li><li><a class="crosslink" href="#System-Updaten-und-Desktop-installieren">System Updaten und Desktop installieren
</a></li><li><a class="crosslink" href="#Zusaetzlichen-Grafiktreiber-installieren">Zusätzlichen Grafiktreiber installieren
</a></li><li><a class="crosslink" href="#Swap-Datei-erzeugen">Swap-Datei erzeugen
</a></li></ol></li><li><a class="crosslink" href="#Installation-von-Oracle-Java-JDK-8-fuer-ARM">Installation von Oracle Java JDK 8 für ARM...</a></li><li><a class="crosslink" href="#Installation-des-I2P-Routers">Installation des I2P-Routers
</a></li><li><a class="crosslink" href="#Neuinstallation-des-Java-Service-Wrappers">Neuinstallation des Java-Service-Wrappers
</a></li><li><a class="crosslink" href="#jbigi-Bibliothek-hinzufuegen">jbigi-Bibliothek hinzufügen
</a><ol class="arabic"><li><a class="crosslink" href="#Vorab-berpruefen-der-encryp-und-decrypt-time">Vorab: Überprüfen der encryp und decrypt...</a></li><li><a class="crosslink" href="#jbigi-Bibliothek-aus-dem-Archiv-verwenden">jbigi-Bibliothek aus dem Archiv verwende...</a></li><li><a class="crosslink" href="#jbigi-Bibliothek-selbst-bauen">jbigi-Bibliothek selbst bauen
</a></li><li><a class="crosslink" href="#berpruefen-der-nderung">Überprüfen der Änderung
</a></li></ol></li><li><a class="crosslink" href="#Tipps-zur-Optimierung">Tipps zur Optimierung
</a><ol class="arabic"><li><a class="crosslink" href="#I2P-Log-Dateien-in-Ram-auslagern">I2P Log-Dateien in Ram auslagern
</a></li><li><a class="crosslink" href="#Journaling-deaktivieren">Journaling deaktivieren
</a></li><li><a class="crosslink" href="#Swap-Datei-auslagern-deaktivieren-loeschen">Swap-Datei auslagern/deaktivieren/lösche...</a></li></ol></li><li><a class="crosslink" href="#Ubuntu-Mate-15-04-als-Grundsystem">Ubuntu Mate 15.04 als Grundsystem
</a></li><li><a class="crosslink" href="#Trivia">Trivia
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Dieses HowTo beschreibt, wie man Ubuntu 14.04 LTS auf einen <a class="external" href="https://www.raspberrypi.org/products/raspberry-pi-2-model-b/" rel="nofollow">Raspberry Pi 2 Modell B</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> installiert und einen <a class="internal" href="../../i2p.html">I2P-Router</a> darauf betreiben kann.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die auf den Pi portierte Ubuntu-Version wurde von Canonical-Mitarbeiter Ryan Finnie erstellt und ist nicht offiziell. Sie wird über den <a class="external" href="http://www.finnie.org/2015/02/16/raspberry-pi-2-update-ubuntu-14-04-image-available/" rel="nofollow">Blog</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> des Entwicklers sowie auf der Wiki-Seite von <a class="interwiki interwiki-ubuntu_doc" href="https://help.ubuntu.com/RaspberryPi">Raspberry Pi</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> zur Verfügung gestellt, jedoch mit dem ausdrücklichen Hinweis darauf, dass eine Versorgung mit Sicherheitsupdates im Gegensatz zum originalen LTS-Kernel nicht garantiert wird. Nähere Informationen finden sich auf den beiden genannten Seiten.
</p></div></div><p>Alternativ kann man <a class="external" href="https://ubuntu-mate.org/raspberry-pi/" rel="nofollow">Ubuntu-Mate 15.04</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> als Grundsystem installieren. Dies ist einfacher umzusetzen und wird deswegen nur kurz am Ende des Howtos beschrieben. Unabhängig davon, welches Grundsystem man wählt, ist das Vorgehen zur Installation des I2P-Routers ab dem Abschnitt <a class="crosslink" href="#Installation-von-JDK-8-für-ARM">Installation von JDK 8 für ARM</a> für beide Systeme identisch.</p><div class="section_1"><h2 id="Voraussetzungen">Voraussetzungen<a class="headerlink" href="#Voraussetzungen">¶</a></h2><p>
Für die Installation wird benötigt:</p><ul><li><p>Ein Raspberry Pi 2 Model B (die Vorgängermodelle der Raspberry Pi 1-Serie werden aufgrund der fehlenden ARM-v7 Architektur nicht von den beschriebenen Ubuntu-Versionen unterstützt)</p></li><li><p>Eine ausreichend große und schnelle microSD-Karte (Empfohlen: Class 10, &gt; 6 GiB bei Nutzung mit Desktop-Oberfläche und 2 GiB Swap-Datei) </p></li><li><p>Stromversorgung für den Pi</p></li><li><p>HDMI-Kabel zum Anschluss des Monitors</p></li><li><p>Falls kein Ethernet-Kabel genutzt werden soll, kann optional ein Wlan-Stick verwendet werden. Wer jedoch vor der Installation der grafischen Oberfläche die WLAN-Verbindung nicht über die Kommandozeile einrichten kann oder will, sollte solange eine Kabelverbindung zum Router herstellen, bis die grafische Oberfläche installiert ist.</p></li></ul><p>
</p></div><div class="section_1"><h2 id="Installation-des-Grundsystems">Installation des Grundsystems<a class="headerlink" href="#Installation-des-Grundsystems">¶</a></h2><p>
Die zugrunde liegende Ubuntu-Variante 14.04 LTS baut auf Ubuntu-Core auf und kommt out-of-the-box ohne grafische Oberfläche daher. Wahlweise kann jedoch Xfce, LXDE oder KDE nachinstalliert werden. KDE ist allerdings selbst mit abgeschalteten Desktop-Effekten sehr langsam und die Installation von Unity ist aufgrund der fehlenden 3D-Beschleunigung nicht möglich. Nach einem direkten Vergleich hat sich LXDE als performanteste Oberfläche herausgestellt (subjektiv).</p><p>Die Anleitung zur Installation und Einrichtung des Grundsystems ist größtenteils an die Beschreibung von <a class="external" href="http://www.mikrocontroller.net/topic/360793" rel="nofollow">Albrecht H.</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> angelehnt.</p><div class="section_2"><h3 id="Herunterladen-und-Entpacken-des-ISO-Images">Herunterladen und Entpacken des ISO-Images<a class="headerlink" href="#Herunterladen-und-Entpacken-des-ISO-Images">¶</a></h3><p>
Zunächst lädt man sich das Image auf Ryan Finnies <a class="external" href="http://www.finnie.org/software/raspberrypi/2015-04-06-ubuntu-trusty.zip" rel="nofollow">Blog</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> oder auf der Wiki-Seite von <a class="external" href="https://wiki.ubuntu.com/ARM/RaspberryPi" rel="nofollow">Ubuntu.com</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> herunter, welches später auf die microSD-Karte  gespielt wird. Optional, aber empfehlenswert ist die Prüfung der <a class="internal" href="../../hashfunktionen.html">PGP-Signatur</a>. Im Anschluss wird das Image entpackt und man erhält die Dateien <strong>2015-03-02-ubuntu-trusty.img</strong> und <strong>2015-03-02-ubuntu-trusty.bmap</strong>.</p></div><div class="section_2"><h3 id="Image-auf-microSD-Karte-uebertragen">Image auf microSD-Karte übertragen<a class="headerlink" href="#Image-auf-microSD-Karte-uebertragen">¶</a></h3><p>
Der Vorgang ist z.B. auf dem <a class="external" href="http://www.321linux.com/2014/02/13/raspberry-pi-raspbian-image-unter-linux-auf-sd-karte-kopieren-anleitung/" rel="nofollow">321linux-Blog</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> oder auf <a class="external" href="https://www.raspberrypi.org/documentation/installation/installing-images/linux.md" rel="nofollow">raspberrypi.org</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> sehr ausführlich beschrieben und ist nach dieser Anleitung durchzuführen.</p><p>Kurz zusammengefasst wird der Befehl <a class="internal" href="../../dd.html">dd</a> verwendet, um das Image auf die microSD-Karte zu schreiben. Dieser Vorgang kann vor allem bei größeren microSD-Karten sehr lange dauern:</p><div class="bash"><div class="contents"><pre class="notranslate">dd bs=4M if=/Pfad/zum/Image/yyyy-mm-dd-ubuntu-trusty.img of=/dev/sdx bs=1M </pre></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
</p><ul><li><p><code class="notranslate">dd</code> wird ohne weitere Rückfragen bzw. Sicherheitsabfragen ausgeführt. Bei unachtsamen Aufrufen könnten evtl. vorhandene Daten überschrieben werden! </p></li><li><p>Da sich die Geräte-Bezeichnungen nach jedem Bootvorgang ändern können, sind vor der Verwendung von dd stets die aktuellen Gerätedateien zu überprüfen. Dies kann man zum Beispiel mit <a class="internal" href="../../df.html"><code class="notranslate">df -h</code></a> machen.</p></li><li><p>Der <code class="notranslate">dd</code>-Befehl gibt keine Informationen aus. Falls man den Fortschritt der Operation sehen möchte, öffnet man ein zweites Terminal und führt dort den Befehl "<code class="notranslate">sudo pkill -USR1 -n -x dd</code>" aus. Alternativ nutzt man anstelle von <code class="notranslate">dd</code> den Befehl <a class="external" href="https://fotolinux.de/2012/12/dcfldd-dd-mit-zusatzlichen-features/" rel="nofollow"><code class="notranslate">dcfldd</code></a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>, welcher den Fortschritt direkt anzeigt.</p></li></ul></div></div><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Wer sich bei bei diesem Schritt etwas Zeit sparen und die Sache eleganter angehen will, kann die zuvor entpackte <strong>2015-03-02-ubuntu-trusty.bmap</strong> in Kombination mit <a class="external" href="http://manpages.ubuntu.com/manpages/vivid/man1/bmaptool.1.html" rel="nofollow"><code class="notranslate">bmap-tools</code></a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> verwenden. Dadurch werden beim Aufspielen des Images nur die benötigten Blöcke geschrieben. Der Befehl dazu lautet "<code class="notranslate">sudo bmaptool copy --bmap ubuntu-trusty.bmap ubuntu-trusty.img /dev/sdX</code>" und führt in der Praxis zum selben Ergebnis wie bei Benutzung des <code class="notranslate">dd</code>-Befehls.
</p></div></div></div><div class="section_2"><h3 id="Ext4-Partition-vergroessern">Ext4-Partition vergrößern<a class="headerlink" href="#Ext4-Partition-vergroessern">¶</a></h3><p>
Nachdem das Image auf die microSD-Karte übertragen ist, befindet sich dort eine kleine Ext4-Partition. Diese muss nun vergrößert werden, damit später genügend Platz für die Installation der grafischen Oberfläche vorhanden ist. Am einfachsten ist dies mit <a class="internal" href="../../gparted.html">GParted</a> zu realisieren. Falls keine weiteren Partitionen auf der microSD-Karte benötigt werden, kann die Ext4-Partition auf den gesamten verfügbaren Platz vergrößert werden.</p></div><div class="section_2"><h3 id="System-starten">System starten<a class="headerlink" href="#System-starten">¶</a></h3><p>
Nachdem das Image auf die microSD-Karte geschoben und die Ext4-Partition entsprechend vergrößert wurde, kann man die microSD-Karte in den Raspberry Pi einlegen und den Pi starten. Hierzu gibt es keinen Schalter. Der Start erfolgt, sobald man dem Pi Strom zuführt.</p><p>Nun kann man sich auf den Pi anmelden:</p><ul><li><p>Benutzername: <code class="notranslate">ubuntu</code></p></li><li><p>Passwort: <code class="notranslate">ubuntu</code></p></li></ul><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
</p><ul><li><p>Es wird dringend empfohlen, zuerst das Root-Passwort zu ändern! Details sind dem Artikel <a class="internal" href="../../passwd.html">passwd</a> zu entnehmen.</p></li><li><p>Zudem sollte man einen neuen <a class="internal" href="../../benutzer_und_gruppen.html">Benutzer anlegen</a>, den man der  Gruppe <code class="notranslate">sudo</code> hinzufügt und anschließend den voreingerichteten Benutzer <code class="notranslate">ubuntu</code> samt Homeverzeichnis über den Befehl "<code class="notranslate">deluser --remove-home ubuntu</code>" <a class="internal" href="../../deluser.html">löschen</a>.</p></li></ul><p>
</p></div></div></div></div><div class="section_1"><h2 id="Einrichten-des-Grundsystems">Einrichten des Grundsystems<a class="headerlink" href="#Einrichten-des-Grundsystems">¶</a></h2><p>
</p><div class="section_2"><h3 id="Locale-Einstellungen-anpassen">Locale-Einstellungen anpassen<a class="headerlink" href="#Locale-Einstellungen-anpassen">¶</a></h3><p>
Für die Benutzung des Englischen Desktops mit deutscher Tastaturbelegung sollte zunächst folgende Befehle ausgeführt werden.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo locale-gen en_US.UTF-8
sudo locale-gen de_DE.UTF-8
sudo dpkg-reconfigure keyboard-configuration </pre></div></div></div><div class="section_2"><h3 id="System-Updaten-und-Desktop-installieren">System Updaten und Desktop installieren<a class="headerlink" href="#System-Updaten-und-Desktop-installieren">¶</a></h3><p>
Nach einem Update mittels</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get update
sudo apt-get dist-upgrade </pre></div></div><p>
kann man sich je nach Wunsch eine grafische Oberfläche installieren. Dieser Vorgang kann einige Zeit in Anspruch nehmen. Für die Installation gibt man im Terminal folgendes ein:</p><ul><li><p>Für LXDE: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install lubuntu-desktop </pre></div></div></li><li><p>Für Xfce: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install xubuntu-desktop </pre></div></div></li><li><p>Für KDE (aus Gründen der Performance nicht empfohlen): </p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install kubuntu-desktop </pre></div></div></li></ul><p>
Nach der Installation kann der Pi mit dem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo shutdown -r now </pre></div></div><p>neu gestartet. Nach dem erneuten Hochfahren kann man sich wie gewohnt an der Benutzeroberfläche anmelden.</p></div><div class="section_2"><h3 id="Zusaetzlichen-Grafiktreiber-installieren">Zusätzlichen Grafiktreiber installieren<a class="headerlink" href="#Zusaetzlichen-Grafiktreiber-installieren">¶</a></h3><p>
Mit <a class="external" href="https://launchpad.net/~fo0bar/+archive/ubuntu/rpi2-staging/+build/7006288" rel="nofollow">fbturbo</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein beschleunigter Grafiktreiber <a class="external" href="http://www.x.org/wiki/" rel="nofollow">X.org</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> für den Pi verfügbar, den man installieren und nutzen sollte. Die Installation erfolgt mit:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install xserver-xorg-video-fbturbo </pre></div></div><p>Im Anschluss muss man eine <strong>xorg.conf</strong> erstellen und so konfigurieren, dass der Treiber auch verwendet wird. Dazu installiert man beispielsweise den Editor <a class="internal" href="../../nano.html">nano:</a></p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install nano </pre></div></div><p>und öffnet die <strong>/etc/X11/xorg.conf</strong>. (Zu diesem Zeitpunkt existiert die Datei noch nicht. Sie wird jedoch erzeugt, sobald man sie wie unten beschrieben abspeichert)</p><div class="bash"><div class="contents"><pre class="notranslate">sudo nano /etc/X11/xorg.conf  </pre></div></div><p>Nun fügt man die folgenden Zeilen in die Datei ein und speichert sie mit der Tastenkombination 
<span class="key">Strg</span>  + 
<span class="key">X</span> . Die Rückfrage wird nochmals mit 
<span class="key">Y</span> +
<span class="key">⏎</span>  bestätigt.</p><pre class="notranslate">Section "Device"
    Identifier "Raspberry Pi FBDEV"
    Driver "fbturbo"
    Option "fbdev" "/dev/fb0"
    Option "SwapbuffersWait" "true"
EndSection</pre><p>
Um zu prüfen, ob der Treiber auch verwendet wird, sucht man nach einem Neustart in der Datei <strong>/var/log/Xorg.0.log</strong> nach dem Eintrag.</p><pre class="notranslate">(II) FBTURBO(0): processor: ARM Cortex-A7</pre><p>
Ist dieser vorhanden, wird der Treiber verwendet.</p><p>Im Anschluss sind noch ein paar Raspberry-Pi spezifische Programme zu installieren und Links zu setzten. Details dazu finden sich auf der <a class="external" href="https://wiki.ubuntu.com/ARM/RaspberryPi#Installation" rel="nofollow">Download-Seite des Images</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install libraspberrypi-bin libraspberrypi-dev
sudo ln -s /usr /opt/vc
sudo apt-get install libraspberrypi-bin-nonfree </pre></div></div><p>
Nach einem zweiten Neustart ist der Pi fertig aufgesetzt und kann benutzt werden. Wer den Raspberry Pi von einem anderen Rechner aus steuern will, findet weiter unten <a class="external" href="http://www.mikrocontroller.net/topic/360793" rel="nofollow">auf dieser Seite</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> noch gute Hinweise dazu.</p></div><div class="section_2"><h3 id="Swap-Datei-erzeugen">Swap-Datei erzeugen<a class="headerlink" href="#Swap-Datei-erzeugen">¶</a></h3><p>
Nach der Installation besitzt das System keinen <a class="internal" href="../../swap.html">Auslagerungsspeicher</a>. Dieser kann optional z.B. mit dem Befehl <a class="external" href="http://manpages.ubuntu.com/manpages/trusty/man8/dphys-swapfile.8.html" rel="nofollow"><code class="notranslate">dphys</code></a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> als Datei angelegt werden. Zu beachten ist, dass bei der Installation von <code class="notranslate">dphys</code> automatisch eine Swap-Datei im Verzeichnis <strong>/var</strong> erzeugt wird, die die doppelte Größe des verfügbaren RAM-Speichers besitzt. Im Falle des Raspberry Pi Modell B also etwa 2 GiB. Man sollte sich zuvor vergewissern, dass ausreichend Speicherplatz auf der zuvor vergrößerten ext4-Partition vorhanden ist.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install dphys-swapfile </pre></div></div></div></div><div class="section_1"><h2 id="Installation-von-Oracle-Java-JDK-8-fuer-ARM">Installation von Oracle Java JDK 8 für ARM<a class="headerlink" href="#Installation-von-Oracle-Java-JDK-8-fuer-ARM">¶</a></h2><p>
</p><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
<a class="internal" href="../../fremdsoftware.html">Fremdsoftware</a> kann das System gefährden.
</p></div></div><p>Die Standard-Java Installation auf Ubuntu nutzt auf dem Raspberry Pi keine Just-in-Time Compilation (JIT) und interpretiert Java-Code byteweise. Dies führt dazu, dass der I2P-Router zwar betrieben werden kann, jedoch eine unnötig hohe Systemlast erzeugt. Aufgrund der begrenzten Ressourcen des Raspberry Pi empfiehlt es sich, Oracle Java JDK 8 für ARM zu installieren. Diese Empfehlung findet sich auch auf der <a class="external" href="https://geti2p.net/de/download" rel="nofollow">Projektseite von I2P</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Alternativ zur Installation von JDK 8 für ARM kann der I2P-Router auch mit der vorinstallierten Java-Version mit dem zusätzlichen Argument „<code class="notranslate">cacoa</code>“ betrieben werden. Nähere Informationen dazu finden sich <a class="external" href="http://www.irongeek.com/i.php?page=security/raspberry-pi-i2p-svartkast" rel="nofollow">hier</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Diese Variante wurde allerdings nicht getestet.
</p></div></div><p>
Vor der Installation muss Java SE von der <a class="external" href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-arm-downloads-2187472.html" rel="nofollow">Oracle-Seite</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> auf den Pi heruntergeladen werden (32bit-Version für ARM v6/v7 Hard Float ABI).</p><p>Im folgenden Beispiel erfolgt die Installation in den Ordner <strong>/opt/java/</strong>. Die heruntergeladene Datei <strong>jdk-8u33-linux-arm-vfp-hflt.tar.gz</strong> liegt im Homeverzeichnis des Benutzers. Falls abweichende Pfade gewünscht sind, diese in den folgenden Codezeilen bitte entsprechend anpassen (die heruntergeladene Datei kann später abweichende Namen besitzen).</p><p>Zunächst wird das Installationsverzeichnis erstellt:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir -p -v /opt/java </pre></div></div><p>
Im Anschluss wird das heruntergeladene Paket im Homeverzeichnis entpackt:</p><div class="bash"><div class="contents"><pre class="notranslate">tar xvzf ~/jdk-8u33-linux-arm-vfp-hflt.tar.gz -C /opt/java/ </pre></div></div><p>
Bei Bedarf kann die heruntergeladene <strong>jdk-8uVERSION-linux-arm32-vfp-hflt.tar.gz</strong> noch gelöscht werden, da sie nicht mehr benötigt wird:</p><div class="bash"><div class="contents"><pre class="notranslate">rm ~/jdk-8u33-linux-arm-vfp-hflt.tar.gz </pre></div></div><p>
Um die Installation des JDK abzuschließen, muss dem System noch mitgeteilt werden, dass eine neue JVM vorhanden ist und wo sich diese befindet.:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-alternatives --install "/usr/bin/java" "java" "/opt/java/jdk1.8.0_VERSION/bin/java" 1 </pre></div></div><p>
Zudem muss dem System mitgeteilt werden, dass die JDK der neue systemweite Standard sein soll:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-alternatives --set java /opt/java/jdk1.8.0_VERSION/bin/java </pre></div></div><p>
Damit ist die Installation abgeschlossen. Um zu testen, ob alles funktioniert hat, kann man sich die aktuell verwendete Java-Version anzeigen lassen:</p><div class="bash"><div class="contents"><pre class="notranslate">java -version </pre></div></div><p>
Beispiel:</p><pre class="notranslate">java version “1.8.0_60“
Java(TM) SE Runtime Enviroment (build 1.8.0_60-b27)
Java HotSpot(TM) Client VM (build 25.33-b05, mixed mode</pre><p>
Bei Problemen finden sich nähere Informationen zum Thema im Artikel zu <a class="internal" href="../../java.html">Java</a>.</p></div><div class="section_1"><h2 id="Installation-des-I2P-Routers">Installation des I2P-Routers<a class="headerlink" href="#Installation-des-I2P-Routers">¶</a></h2><p>
</p><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
<a class="internal" href="../../fremdsoftware.html">Fremdsoftware</a> kann das System gefährden.
</p></div></div><p>Grundlegendes zu I2P und seiner Installation wird im Artikel <a class="internal" href="../../i2p.html">I2P</a> beschrieben. Aufgrund der ARMv7-Architektur des Pi gibt es bei der Installation des I2P-Routers jedoch einiges zu beachten.</p><p>Im Folgenden wird I2P in dem Ordner <strong>~/i2pbin/</strong> im Homeverzeichnis des Benutzers installiert. Ist ein anderer Pfad gewünscht, diesen bitte entsprechend anpassen:</p><div class="bash"><div class="contents"><pre class="notranslate">mkdir ~/i2pbin </pre></div></div><p>Dann lädt man sich auf der <a class="external" href="https://geti2p.net/en/download" rel="nofollow">Projektseite</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> die Linux-Variante <strong>i2pinstall_VERSION.jar</strong> herunter und kopiert sie in den erzeugten Installationsordner (Abgleich der <a class="internal" href="../../hashfunktionen.html">PGP-Signatur</a> nach dem Herunterladen empfohlen). Alternativ kann die Datei über das Terminal heruntergeladen werden. (Versionsnummer anpassen):</p><div class="bash"><div class="contents"><pre class="notranslate">cd ~/i2pbin
wget http://mirror.i2p2.de/i2pinstall_VERSION.jar </pre></div></div><p>
Jetzt wird die Installation gestartet:</p><div class="bash"><div class="contents"><pre class="notranslate">cd ~/i2pbin
java -jar i2pinstall_VERSION.jar -console </pre></div></div><p>Die Installation erfolgt in den Ordner, in dem auch die <strong>.jar</strong> liegt, also <strong>~/i2pbin</strong>. Zudem wird im Homeverzeichnis ein Ordner <strong>~/.i2p</strong> angelegt. Theoretisch könnte der Router nun über den Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">~/i2pbin/i2prouter start </pre></div></div><p>
gestartet werden. Aufgrund der ARM-Architektur funktioniert jedoch der Java-Service-Wrapper nach der Standardinstallation nicht, weswegen man den Router zunächst nicht über <strong>~/i2pbin/i2prouter</strong> starten kann, sondern nur über die Datei <strong>~/i2pbin/runplain.sh</strong>. Hier ist also noch etwas Handarbeit nötig, um auch <strong>~/i2pbin/i2prouter</strong> zum Laufen zu bringen.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Bei Start des I2P-Routers über die <strong>runplain.sh</strong> wird der Java-Service-Wrapper nicht benutzt und somit vom Router die Einstellungen in der <strong>~/i2pbin/wrapper.config</strong> ignoriert. Ärgerlich ist das für diejenigen Nutzer, die z.B. aufgrund hoher Bandbreiteneinstellungen den Wert <code class="notranslate">wrapper.java.maxmemory</code> erhöhen wollen.) 
</p></div></div></div><div class="section_1"><h2 id="Neuinstallation-des-Java-Service-Wrappers">Neuinstallation des Java-Service-Wrappers<a class="headerlink" href="#Neuinstallation-des-Java-Service-Wrappers">¶</a></h2><p>
</p><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
<a class="internal" href="../../fremdsoftware.html">Fremdsoftware</a> kann das System gefährden.
</p></div></div><p>Hierzu geht man wie auf der <a class="external" href="https://geti2p.net/en/misc/manual-wrapper" rel="nofollow">Projektseite</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> von I2P beschrieben vor.
Zunächst lädt man sich <a class="external" href="http://wrapper.tanukisoftware.com/doc/english/download.jsp#stable" rel="nofollow">hier</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> die aktuelle Version des Java Service Wrappers für Linux herunter (armhf und aus lizenzrechtlichen Gründen die Community-Variante!) und kopiert sie in das Homeverzeichnis.</p><p>Anschließend wechselt man in einem Terminal in das Homeverzeichnis und entpackt den Wrapper (Versionsbezeichnung beachten):</p><div class="bash"><div class="contents"><pre class="notranslate">cd ~
tar xzf wrapper-linux-armhf-VERSION.tar.gz.tar.gz </pre></div></div><p>
Man erhält das Verzeichnis <strong>~/wrapper-linux-armhf</strong>. Jetzt werden einige Dateien aus dem neuen Wrapper-Verzeichnis in den Installationsordner von I2P kopiert (bei abweichenden I2P-Installationsverzeichnis Pfad anpassen):</p><div class="bash"><div class="contents"><pre class="notranslate">cp ~/wrapper-linux-armhf/bin/wrapper ~/i2pbin/i2psvc
cp ~/wrapper-linux-armhf/lib/wrapper.jar ~/i2pbin/lib
cp ~/wrapper-linux-armhf/lib/libwrapper.so ~/i2pbin/lib </pre></div></div><p>
Die Installation des Wrappers ist damit beendet. Vor dem Start des Routers muss man in der Datei <strong>~/i2pbin/wrapper.config</strong> noch den JDK 8 für ARM Installationspfad angeben. Dazu editiert man die Datei wie folgt:</p><p>Vorher:
</p><pre class="notranslate">#********************************************************************
# Java Application
wrapper.java.command=java
# Specify a specific java binary:
# set.JAVA_HOME=/path/to/java
# wrapper.java.command=%JAVA_HOME%/bin/java</pre><p>Nachher:
</p><pre class="notranslate">#********************************************************************
# Java Application
# wrapper.java.command=java
# Specify a specific java binary:
set.JAVA_HOME=/opt/java/jdk1.8.0_33
wrapper.java.command=%JAVA_HOME%/bin/java</pre><p>
Nun sollte der I2P-Router auch über den Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">~/i2pbin/i2prouter start </pre></div></div><p>
gestartet werden können.</p><p>Bei eventuell auftretenden Problemen kann ein Blick in die <strong>/tmp/wrapper.log</strong> hilfreich sein.</p></div><div class="section_1"><h2 id="jbigi-Bibliothek-hinzufuegen">jbigi-Bibliothek hinzufügen<a class="headerlink" href="#jbigi-Bibliothek-hinzufuegen">¶</a></h2><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Ab I2P-Version 0.9.22 kann dieser Schritt komplett übersprungen werden, da die jbigi-Bibliothek bei der Installation bereits korrekt eingebunden wird. Im Sinne einer Archivierung bleibt der Abschnitt jedoch noch einige Zeit erhalten.
</p></div></div><p>Startet man den I2P-Router jetzt, ist er theoretisch und praktisch voll einsatzbereit. Nach einiger Zeit wird man jedoch merken, dass Tunnelabfragen oft wegen hoher Nachrichtenlatenz abgelehnt werden und auch bei geringer genutzter Bandbreite die Systemressourcen (vor allem die CPU) schnell an ihre Grenzen kommen. Grund dafür ist die Bibliothek <code class="notranslate">jbigi</code>. Sie optimiert kryptografische Operationen innerhalb des I2P-Routers und beschleunigt diese deutlich. In der Standardinstallation sind etwa 25 Versionen der <code class="notranslate">jbigi</code> für verschiedene Architekturen enthalten. Nach Recherchen des I2P Mitentwicklers "zzz" hat sich ergeben, dass der I2P-Installer die CPU-Version des Raspberry Pi derzeit (Version 0.9.19) nicht korrekt ausliest und somit die falsche vorkonfigurierte ARM-Version der <code class="notranslate">jbigi</code>-Bibliothek verwendet.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Zu einem späteren Zeitpunkt (ab Version 0.9.22) ist dieses Problem evtl. bereits gefixt und die Bibliothek wird bei der Installtion korrekt angelegt. Deswegen sollte man auf der Seite <a class="external" href="http://localhost:7657/logs" rel="nofollow" title="http://localhost:7657/logs">http://localhost:7657/logs</a> (Seite ist nur bei aktivem I2P-Router erreichbar) prüfen, ob die jbigi-Bibliothek bereits optimiert ist. Falls ja, findet sich im oberen Teil der Seite der Hinweis "jbigi: Locally optimized native Biginterger library loaded from file" oder "Native BigInteger library libjbigi-linux-armv*.so loaded from source". Falls nicht, erscheint der Hinweis "Native BigInteger library jbigi not loaded - using pure java". Ist die jbigi bereits optimiert, kann dieser Abschnitt komplett übersprungen werden!
</p></div></div><p>
Um diesen Fehler zu beheben, gibt es 2 Möglichkeiten, welche nun beschrieben werden. Es genügt, einen der beiden Wege umzusetzen.</p><ol class="arabic"><li><p>jbigi-Bibliothek selbst kompilieren und in den I2P-Installationsordner kopieren</p></li><li><p>Die korrekte jbigi-Bibliothek aus den vorkonfigurierten Archiv entpacken, umbenennen und in den I2P-Installationsordner kopieren</p></li></ol><p>
</p><div class="section_2"><h3 id="Vorab-berpruefen-der-encryp-und-decrypt-time">Vorab: Überprüfen der encryp und decrypt time<a class="headerlink" href="#Vorab-berpruefen-der-encryp-und-decrypt-time">¶</a></h3><p>
Bevor man eine neue jbigi-Bibliothek verwendet, sollte man auf der Seite <a class="external" href="http://localhost:7657/stats" rel="nofollow">http://localhost:7657/stats</a> zwei Kennwerte auslesen die besagen, wie "effektiv" der Router Nachrichten ver- und entschlüsselt. Diese Werte sind <code class="notranslate">crypto.elGamal.decrypt</code> und <code class="notranslate">crypto.elGamal.encrypt</code> (in ms). Man sollte sich die beiden Werte notieren, um später überprüfen zu können, ob die gebaute jbigi auch eine Verbesserung mit sich bringt.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Laut I2P-Homepage sollte der Wert für encrypt unter 50ms liegen. In meinem Fall lag er nach der Standardinstallation bei 494ms und nach der Optimierung der <code class="notranslate">jbigi</code> bei 25ms!
</p></div></div></div><div class="section_2"><h3 id="jbigi-Bibliothek-aus-dem-Archiv-verwenden">jbigi-Bibliothek aus dem Archiv verwenden<a class="headerlink" href="#jbigi-Bibliothek-aus-dem-Archiv-verwenden">¶</a></h3><p>
Die für verschiedene Systeme vorkonfigurierten <code class="notranslate">jbigi</code>-Bibliotheken befinden sich in der Datei <strong>~/i2pbin/lib/jbigi.jar</strong>. Aktuell (I2P-Version 0.9.19) wird aus diesem Archiv die Datei "<strong>libjbigi-linux-armv6.so</strong>" benötigt. Die "<strong>libjbigi-linux-armv5.so</strong>" und "<strong>libjbigi-linux-armv7.so</strong>" funktionieren nicht!
Man entpackt das Verzeichnis, kopiert die <strong>libjbigi-linux-armv6.so</strong> in den I2P-Installationsordner und bennent die Datei dann in <strong>libjbigi.so</strong> um.</p><div class="bash"><div class="contents"><pre class="notranslate">mkdir ~/unpackedjar
mv ~/i2pbin/lib/jbigi.jar ~/unpackedjar
cd ~/unpackedjar
unzip jbigi.jar
mv libjbigi-linux-armv5.so ~/i2pbin/libjbigi.so
rmdir ~/unpackedjar </pre></div></div></div><div class="section_2"><h3 id="jbigi-Bibliothek-selbst-bauen">jbigi-Bibliothek selbst bauen<a class="headerlink" href="#jbigi-Bibliothek-selbst-bauen">¶</a></h3><p>
Dafür benötigt man zunächst <a class="external" href="https://gmplib.org/#DOWNLOAD" rel="nofollow">GMP</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> und installiert dazu folgendes Paket aus den Paketquellen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install libgmp3-dev </pre></div></div><p>Dann lädt man sich von der <a class="external" href="https://geti2p.net/en/download" rel="nofollow">Projektseite</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> den aktuellen Source-Code von I2P (<strong>i2psource_VERSION.tar.bz2</strong>) herunter und entpackt ihn in das Home-Verzeichnis (oder abweichend falls gewünscht).</p><p>Nun wird der Source-Code entpackt und im entstandenen Verzeichnis <strong>~/i2p-VERSION/core/c/jbigi/</strong> nach den folgenden zwei Dateien gesucht:</p><ul><li><p><strong>build.sh</strong></p></li><li><p><strong>build_jbigi.sh</strong></p></li></ul><p>
Diese öffnen man nun mit einem Editor. Den beiden Skripten muss über die Variablen <code class="notranslate">I2P</code> und <code class="notranslate">JAVA_HOME</code> mitgeteilt werden, wo der I2P-Router bzw. JDK installiert sind. Dazu fügt man die Variablen zunächst in der Datei <strong>build.sh</strong> ein:</p><p>Vorher:
</p><pre class="notranslate">#!/bin/sh
#
#  Build the jbigi library for i2p
#
#  To build a static library:
#     Set $I2P to point to your I2P installation
#     Set $JAVA_HOME to point to your Java SDK
#     build.sh
#       This script downloads gmp-4.3.2.tar.bz2 to this directory
#       (if a different version, change the VER= line below)
#
#  To build a dynamic library (you must have a libgmp.so somewhere in your system)
#     Set $I2P to point to your I2P installation
#     Set $JAVA_HOME to point to your Java SDK
#     build.sh dynamic
#
#  The resulting library is lib/libjbigi.so
#

rm -rf bin/local
mkdir -p lib bin/local

# Use 4.3.2 32bit CPUs.
# Use 5.0.2 64bit CPUs.
VER=4.3.2</pre><p>Nachher:
</p><pre class="notranslate">#!/bin/sh
#
#  Build the jbigi library for i2p
#
#  To build a static library:
#     Set $I2P to point to your I2P installation
#     Set $JAVA_HOME to point to your Java SDK
#     build.sh
#       This script downloads gmp-4.3.2.tar.bz2 to this directory
#       (if a different version, change the VER= line below)
#
#  To build a dynamic library (you must have a libgmp.so somewhere in your system)
#     Set $I2P to point to your I2P installation
#     Set $JAVA_HOME to point to your Java SDK
#     build.sh dynamic
#
#  The resulting library is lib/libjbigi.so
#

I2P=/home/serverd/i2pbin
JAVA_HOME=/opt/java/jdk1.8.0_33

rm -rf bin/local
mkdir -p lib bin/local

# Use 4.3.2 32bit CPUs.
# Use 5.0.2 64bit CPUs.
VER=4.3.2</pre><p>
In der <strong>build_jbigi.sh</strong> geht man analog vor. Hier genügt es allerdings, die Variable „<code class="notranslate">JAVA_HOME=/opt/java/jdk1.8.0_33</code>“ zu definieren. Jetzt wechselt man im Terminal in den Ordner und führt die <strong>build.sh</strong> mit dem Attribut <code class="notranslate">dynamic</code> aus:</p><div class="bash"><div class="contents"><pre class="notranslate">cd ~/i2p-VERSION/core/c/jbigi
sh build.sh dynamic </pre></div></div><p>
Am Ende der Ausgabe erhält man etwa folgende Zeilen:</p><pre class="notranslate">...
INFO: run time: 1474ms (14ms each)
INFO: 100 runs complete without any errors
native run time: 	1474ms (14ms each)
java run time:   	14989ms (148ms each)
native = 9.833878177330043% of pure java time
If the second run shows better performance, please use the jbigi that you have compiled so that I2P will work better!
(You can do that just by copying lib/libjbigi.so over the existing libjbigi.so file in $I2P)</pre><p>Die angegebene „native run time“ sollte um Faktor 5-10 schneller sein als die „java run time“. Ist dies der Fall, ist alles in Ordnung. Man folgt den Anweisungen und kopiert die erzeugte <strong>libjbigi.so</strong> in den I2P-Installationsordner.</p><div class="bash"><div class="contents"><pre class="notranslate">cp ~/i2p-VERSION/core/c/jbigi/lib/libjbigi.so ~/i2pbin/libjbigi.so </pre></div></div></div><div class="section_2"><h3 id="berpruefen-der-nderung">Überprüfen der Änderung<a class="headerlink" href="#berpruefen-der-nderung">¶</a></h3><p>
Wird der Router nun gestartet (vorheriges Abschalten, kein Neustart), wird die Bibliothek <code class="notranslate">jbigi</code> geladen und verwendet. Geprüft werden kann dies auf der Seite <code class="notranslate">http://localhost:7657/logs</code>. Findet sich dort die Zeile "jbigi: Locally optimized native Biginterger library loaded from file" war die Aktion erfolgreich.</p><p>Auf der Seite <a class="external" href="http://localhost:7657/stats" rel="nofollow">http://localhost:7657/stats</a> sollten nun die Werte <code class="notranslate">crypto.elGamal.decrypt</code> und <code class="notranslate">crypto.elGamal.encrypt</code> deutlich reduziert worden sein und der Router dadurch besser laufen. In meinem Fall etwa 25ms encrypt (vorher 450ms) und 140ms decrypt (vorher 2700ms).</p></div></div><div class="section_1"><h2 id="Tipps-zur-Optimierung">Tipps zur Optimierung<a class="headerlink" href="#Tipps-zur-Optimierung">¶</a></h2><p>
Die folgenden Tipps erläutern die gängisten Möglichkeiten, die Lese- und Schreibvorgänge auf die verwendete microSD-Karte durch das System zu reduzieren, um somit die Lebensdauer der Karte zu erhöhen. Ihre Umsetzung ist optional. Weiterführende Informationen zu dem Thema finden sich im Wiki-Artikel zur Nutzung von <a class="internal" href="../../ssd.html">SSD-Festplatten</a>.</p><div class="section_2"><h3 id="I2P-Log-Dateien-in-Ram-auslagern">I2P Log-Dateien in Ram auslagern<a class="headerlink" href="#I2P-Log-Dateien-in-Ram-auslagern">¶</a></h3><p>
Man kann man die Log-Dateien des I2P-Routers als <a class="internal" href="../../ram-disk_erstellen.html">RAM-Disk</a> auslagern. Entscheidet man sich dafür, muss man in der Datei <strong>~/i2pbin/i2prouter</strong> in der Variable <code class="notranslate">I2PTEMP</code> den Pfad angeben, in dem die zuvor angelegten Ram-Disk eingebunden wurde. Zudem werden die Variablen <code class="notranslate">PIDDIR</code> und <code class="notranslate">LOGDIR</code> angepasst.</p><pre class="notranslate">I2PTEMP="Pfad/zur/Ram-Disk"
PIDDIR="$I2PTEMP"
LOGDIR="$I2PTEMP/logs"</pre></div><div class="section_2"><h3 id="Journaling-deaktivieren">Journaling deaktivieren<a class="headerlink" href="#Journaling-deaktivieren">¶</a></h3><p>
Über den Sinn und Unsinn dieses Schrittes ist im Wiki-Artikel zum Thema <a class="internal" href="../../ssd/trim.html#Welches-Dateisystem-Journaling">TRIM</a> ausführlich berichtet. Letztendlich muss jeder Nutzer für sich entscheiden, ob er die Gefahr eines Datenverlustes für den (geringen) Performance-Vorteil in Kauf nehmen möchte.</p><p>Entscheidet man sich dafür, kann man das Journaling bei ausgebundener Raspberry-Pi-Systempartition wie folgt deaktivieren (Partitionsbezeichnung <code class="notranslate">sda1</code> entsprechend anpassen):</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -O ^has_journal /dev/sda1 </pre></div></div><p>
Anschließend überprüft man, ob das Journaling tatsächlich deaktiviert wurde. In diesem Fall sollte unter "Filesystem features" nun kein <code class="notranslate">has_journal</code> mehr aufgeführt sein.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -l /dev/sda1 </pre></div></div><p>
Abschließend wird das Filesystem noch auch Fehler überprüft.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo e2fsck -f /dev/sda1 </pre></div></div></div><div class="section_2"><h3 id="Swap-Datei-auslagern-deaktivieren-loeschen">Swap-Datei auslagern/deaktivieren/löschen<a class="headerlink" href="#Swap-Datei-auslagern-deaktivieren-loeschen">¶</a></h3><p>
Das Schreiben von Daten aus dem Arbeitsspeicher in die Swap-Datei verursacht viele Schreibvorgänge und verschlechtert die Perfomance des Systems. Nach Möglichkeit sollte man das System so betreiben, dass ein Auslagerungsspeicher nicht nötig ist. In diesem Fall kann man die Swap-Datei deaktivieren bzw. löschen. Sollen auf dem System jedoch weitere speicherhungrige Programme laufen, kann man die Swap-Datei auch auf eine externe Festplatte auslagern, um die microSD-Karte zu schonen.</p><p>Wie man diese 3 Varianten unter Verwendung von <code class="notranslate">dphys</code> realisiert, ist auf der <a class="external" href="http://manpages.ubuntu.com/manpages/trusty/man8/dphys-swapfile.8.html" rel="nofollow">manpage</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> beschrieben. Weitere Informationen und Möglichkeiten finden sich im Wiki-Artikel zu <a class="internal" href="../../swap.html">SWAP</a>.</p></div></div><div class="section_1"><h2 id="Ubuntu-Mate-15-04-als-Grundsystem">Ubuntu Mate 15.04 als Grundsystem<a class="headerlink" href="#Ubuntu-Mate-15-04-als-Grundsystem">¶</a></h2><p>
Seit März 2015 gibt es auch eine Version von <a class="external" href="https://ubuntu-mate.org/raspberry-pi/" rel="nofollow">Ubuntu-Mate 15.04</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> für den Raspberry Pi 2. Diese basiert auf der armhf-Version von Ubuntu und nicht auf Snappy Core. Seit April 2015 wird auch hier das PPA von Ryan Finnie benutzt.</p><p>Die Installation ist deutlich einfacher also die der oben beschriebenen Ubuntu 14.04-Variante. Wer also Ubuntu-Mate als Grundsystem aufsetzen möchte, schreibt sich das Image mittels <code class="notranslate">dd</code> auf die microSD-Karte und bootet das System. Der übrige Installationsprozess ist komplett in einer grafischen Oberfläche geführt. Sobald das System installiert ist und mit dem Update-Manager alle Updates durchgeführt wurden, kann man beginnen diesen Artikel ab dem Abschnitt <a class="crosslink" href="#Installation-von-JDK-8-für-ARM">Installation von JDK 8 für ARM</a> abzuarbeiten um den I2P-Router zu installieren. Im Abschnitt <a class="crosslink" href="#jbigi-Bibliothek-hinzufügen">jbigi-Bibliothek-hinzufügen</a> nutzt man hier die Variante <a class="crosslink" href="#jbigi-Bibliothek-aus-dem-Archiv-verwenden">jbigi-Bibliothek aus dem Archiv verwenden</a>.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
</p><ul><li><p>Der erste Boot-Vorgang und der Installationsprozess laufen sehr langsam. Ab dem ersten Start nach der Installation läuft das System deutlich flotter und die Performance ist durchaus vergleichbar mit der bei Installation von Ubuntu 14.04 samt LXDE-Desktopumgebung.</p></li><li><p>Es ist möglich, dass das Tastaturlayout nach der Installation auf Englisch gestellt ist, obwohl man bei der Installation Deutsch angegeben hat. In dem Fall kann man das Layout über "System-Einstellungen-Hardware-Tastatur" anpassen</p></li></ul></div></div></div><div class="section_1"><h2 id="Trivia">Trivia<a class="headerlink" href="#Trivia">¶</a></h2><p>
Unabhängig davon, was man in den Weiten des I2P-Netzwerkes vor hat, sollte man sich stets bewusst machen, dass auch hier keine 100 prozentige <a class="internal" href="../../sicherheit.html">Sicherheit und Anonymität</a> gewärleistet werden kann. Zum Einen befindet sich I2P noch in der Beta-Phase und ist mit (sehr grob geschätzten) 37000 Routern ein noch recht kleines Netzwerk.</p><p>Zum Anderen ist das Vorhaben, eine auf IP und TCP/UDP basierende Kommunikation komplett sicher und anonym zu gestalten m.E. eine Utopie. Diese Protokolle wurden schlicht nicht dafür geschaffen, dies zu gewährleisten. Es sind jedoch Ansätze wie beispielsweise I2P, die - richtig angewendet - das derzeit höchstmögliche Maß an Sicherheit und Anonymität gewährleisten können. Man kann also durchaus nach bestem Wissen und Gewissen dazu beitragen, diese (aktiv) zu unterstüzen. Dazu genügt bereits die bloße Teilnahme am Netzwerk.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p>I2P:</p><ul><li><p><a class="internal" href="../../i2p.html">I2P</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Wiki-Artikel zu I2P</p></li><li><p><a class="external" href="https://geti2p.net/en/" rel="nofollow">geti2p.net</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - offizielle I2P-Projektseite</p></li><li><p><a class="external" href="http://www.planetpeer.de/wiki/index.php/Das_deutsche_I2P-Handbuch" rel="nofollow">deutsches I2P-Handbuch</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> Einige grundlegende Erklärungen zum I2P-Netzwerk (teilweise veraltet)</p></li></ul></li></ul><p>
</p><ul><li><p>Ubuntu 14.04 LTS für den Raspberry Pi</p><ul><li><p><a class="external" href="http://www.finnie.org/2015/02/16/raspberry-pi-2-update-ubuntu-14-04-image-available/" rel="nofollow">Ryan Finnies Blog</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - mit zusätzliche Informationen und Release Notes</p></li><li><p><a class="external" href="https://wiki.ubuntu.com/ARM/RaspberryPi" rel="nofollow">wiki.buntu.com</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - enthält ebenfalls zusätzliche Informationen und Release Notes</p></li><li><p><a class="external" href="https://www.raspberrypi.org/forums/viewtopic.php?f=56&amp;t=100553" rel="nofollow">Raspberry Pi Forum</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Offizielles Diskussionsforum rund um die portierte Ubuntu-Version</p></li></ul></li></ul><p>
</p><ul><li><p>Ubuntu-Mate 15.04 für den Raspberry Pi</p><ul><li><p><a class="external" href="https://ubuntu-mate.org/raspberry-pi/" rel="nofollow">Offizielle Seite</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul></li></ul><p>
</p><ul><li><p><a class="internal" href="../../howto.html">Howto</a> <img alt="{Übersicht}" src="../../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> - Übersicht aller Howto-Artikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../../archiv/howto/i2p_auf_dem_raspberry_pi_2/a/revision/916393.html">Diese Revision</a> wurde am 31. Oktober 2016 18:21 von <a href="https://ubuntuusers.de/user/noisefloor/">noisefloor</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../../startseite.html">Wiki</a></li>
<li><a href="../../archiv.html">Archiv</a></li>
<li><a href="../../archiv/howto.html">Howto</a></li>
<li><a href="../../archiv/howto/i2p_auf_dem_raspberry_pi_2.html">I2P auf dem Raspberry Pi 2</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>