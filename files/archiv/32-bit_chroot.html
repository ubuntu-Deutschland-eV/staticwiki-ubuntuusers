<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/32-Bit_chroot › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/32-bit_chroot.html">32-Bit chroot</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/32-Bit_chroot">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/32-bit_chroot/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/32-bit_chroot/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/32-bit_chroot/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/32-bit_chroot/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/32-bit_chroot/a/backlinks.html">32-Bit chroot</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../paketquellen_freischalten.html">Paketquellen freischalten</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../editor.html">Textdateien bearbeiten</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Einrichten-des-chroots">Einrichten des chroots
</a></li><li><a class="crosslink" href="#apt-get-einrichten">apt-get einrichten
</a></li><li><a class="crosslink" href="#Die-chroot-Umgebung-konfigurieren">Die chroot-Umgebung konfigurieren
</a></li><li><a class="crosslink" href="#Installation-von-32-Bit-Programmen">Installation von 32-Bit-Programmen
</a></li><li><a class="crosslink" href="#Optional-Spracheinstellungen-konfigurieren">Optional: Spracheinstellungen konfiguriere...</a></li><li><a class="crosslink" href="#Deinstallation-der-chroot-Umgebung">Deinstallation der chroot-Umgebung
</a></li></ol></div><p>Als Benutzer der AMD64-Version von Ubuntu sieht man sich mitunter mit dem Problem konfrontiert, dass man bestimmte Programme benötigt, die jedoch nur in einer 32-Bit-Version vorliegen. Da die AMD64-Technologie in der Hinsicht abwärtskompatibel ist, dass auch unter einem 64-Bit-System gleichzeitig 32-Bit-Programme ausgeführt werden können, steht dem Einsatz derartiger Programme prinzipiell nichts im Weg. Häufig jedoch benötigen "größere" Programme (wie beispielsweise der Firefox-Browser) noch zusätzliche Systembibliotheksdateien, um tatsächlich funktionieren zu können (diese werden analog zu den DLL-Dateien unter Windows verwendet, um bestimmte Funktionalitäten bereitzustellen, die von mehreren Programmen gleichzeitig verwendet werden können, so dass diese nicht in jedem Programm eigens implementiert werden müssen), von diesen Bibliotheken muss dann ebenfalls eine 32-Bit-Version vorliegen. Wenngleich es zwar prinzipiell auch möglich ist, gleichzeitig 32-Bit-Versionen und 64-Bit-Versionen von Bibliotheksdateien auf dem System zu installieren, ist dies in der Praxis sehr umständlich und daher nur in individuellen Einzelfällen interessant. Viel eleganter ist hingegen die Lösung, stattdessen einen 32-Bit chroot einzurichten; was genau ein chroot ist, erläutert diese <a class="internal" href="../chroot.html">Wikiseite</a>. Diese Anleitung widmet sich speziell dem Szenario, dass man auf einem 64-Bit-System einen 32-Bit chroot einrichten möchte, sie entspricht einer deutschen Übersetzung <a class="external" href="http://cedegawiki.sweetleafstudios.com/wiki/Ubuntu" rel="nofollow">dieser englischen Version</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> . Der einzige Nachteil der chroot-Lösung liegt darin, dass man ein zusätzliches Speicherplatzvolumen von ~1,5 Gb dafür einplanen muss, da bei dem Vorgang nochmal ein komplettes Basis-System installiert wird, was aber aufgrund der Größe moderner Festplatten in den meisten Fällen leicht zu verschmerzen ist.</p><div class="section_1"><h2 id="Einrichten-des-chroots">Einrichten des chroots<a class="headerlink" href="#Einrichten-des-chroots">¶</a></h2><p>
Folgende Pakete müssen installiert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>dchroot</strong> (<em>universe</em> <sup><a href="#source-2">[2]</a></sup>) </p></li><li><p><strong>debootstrap</strong> </p></li></ul><p>Nun öffnet man ein Terminal <sup><a href="#source-3">[3]</a></sup> und legt im root-Verzeichnis das Verzeichnis an, welches die Daten der chroot-Umgebung aufnehmen wird:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /chroot </pre></div></div><p>
Dann wird die Datei <strong>/etc/schroot/schroot.conf</strong> mit einem Texteditor mit Root-Rechten <sup><a href="#source-4">[4]</a></sup> geöffnet. An deren Ende fügt man nun folgendes ein:</p><pre class="notranslate">[hardy]
description=Hardy (hardy32)
location=/chroot
priority=3
groups=[BENUTZER],root
root-groups=root
aliases=default,unstable,ia32
personality=linux32
type=plain
run-exec-scripts=true
run-setup-scripts=true</pre><p><em>[BENUTZER]</em> ersetzt man dabei durch den eigenen Benutzernamen. Falls eine andere Version als Hardy Heron verwendet wird, muss dieser Eintrag natürlich dementsprechend angepasst werden.</p><p>Das Herunterladen der benötigten Dateien des 32-Bit-Basissystems wird nun mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo debootstrap --arch i386 hardy /chroot/ http://de.archive.ubuntu.com/ubuntu/ </pre></div></div><p>
gestartet (auch hier gegebenenfalls den Distributionsnamen anpassen). Dieser Vorgang kann eine Weile dauern. Danach ist der 32-Bit-chroot bereits installiert, aber noch nicht konfiguriert.</p></div><div class="section_1"><h2 id="apt-get-einrichten">apt-get einrichten<a class="headerlink" href="#apt-get-einrichten">¶</a></h2><p>
Nun wird mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /etc/apt/sources.list /chroot/etc/apt/sources.list
sudo cp -R /etc/apt/sources.list.d /chroot/etc/apt/ </pre></div></div><p>
einfach die <strong>sources.list</strong> aus dem "normalen" System auch für den chroot übernommen. 
Da mittlerweile vermehrt Fremdquellen wie PPAs genutzt werden, für die man öffentliche Schlüssel importieren lassen hat, ist es ratsam, auch diese mitzunehmen, um sich das einzelne manuelle Hinzufügen zu ersparen. Folgendes gilt für Ubuntu 9.10:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /etc/apt/secring.gpg /chroot/etc/apt/secring.gpg
sudo cp /etc/apt/trustdb.gpg /chroot/etc/apt/trustdb.gpg
sudo cp /etc/apt/trusted.gpg /chroot/etc/apt/trusted.gpg </pre></div></div><p>Nun wechselt man mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo chroot /chroot </pre></div></div><p>
das erste Mal in die neueingerichtete Umgebung. Dort wird nun mit</p><div class="bash"><div class="contents"><pre class="notranslate">apt-get update </pre></div></div><p>
und</p><div class="bash"><div class="contents"><pre class="notranslate">apt-get upgrade </pre></div></div><p>
die neukopierte <strong>sources.list</strong> eingelesen und das System aktualisiert. Man darf übrigens nicht irritiert sein, wenn nun beim Starten von apt-get oder Synaptic in der chroot-Umgebung Fehlermeldungen über nicht gefundene Quellen auftauchen. Diese rühren lediglich daher, dass der Eintrag der kopierten <strong>sources.list</strong> natürlich auf die AMD64-Ubuntu-CD verweist. Diese Meldungen können daher getrost ignoriert werden.</p></div><div class="section_1"><h2 id="Die-chroot-Umgebung-konfigurieren">Die chroot-Umgebung konfigurieren<a class="headerlink" href="#Die-chroot-Umgebung-konfigurieren">¶</a></h2><p>
Zunächst wird mit</p><div class="bash"><div class="contents"><pre class="notranslate">exit </pre></div></div><p>
die chroot-Umgebung wieder verlassen (oder man öffnet ein neues Terminal). Weitere Einstellungen des Systems werden nun mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /etc/passwd /chroot/etc/
sudo cp /etc/shadow /chroot/etc/
sudo cp /etc/group /chroot/etc/
sudo cp /etc/sudoers /chroot/etc/
sudo cp /etc/hosts /chroot/etc/ </pre></div></div><p>
ebenfalls in die chroot-Umgebung übernommen. Für sprach-spezifische Einstellungen empfiehlt sich der Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp -r /usr/lib/locale/*  /chroot/usr/lib/locale/ </pre></div></div><p>
Dabei werden auf deutschsprachigen Systemen die Zeichensätze ins chroot kopiert. Somit vermeidet man bei Programmen, die aus dem chroot heraus gestartet werden, Probleme bei der Eingabe von Sonderzeichen. Alternativ können auch die gewünschten Sprachpakete über apt-get installiert werden. Desweiteren werden nun auch diverse Verzeichnisinhalte des Systems in die chroot-Umgebung eingeblendet, indem man ebenfalls wieder mit einem Texteditor mit Root-Rechten die Datei <strong>/etc/fstab</strong> bearbeitet und an deren Ende</p><pre class="notranslate">/home           /chroot/home            none bind 0 0

/tmp            /chroot/tmp             none bind 0 0

/dev            /chroot/dev             none bind 0 0
# Wenn es später im chroot diese Meldung gibt: 
# "Can not write log, openpty() failed (/dev/pts not mounted?)",
# sollte man folgende Zeile auskommentieren:
# /dev/pts        /chroot/dev/pts         none bind 0 0
# Für shared memory Unterstützung (empfohlen) auskommentieren:
# /dev/shm          /chroot/dev/shm       none bind 0 0

/proc           /chroot/proc            proc defaults 0 0
# Wenn es Probleme beim Zugriff auf USB-Geräta gibt, folgende Zeile auskommentieren
# /proc/bus/usb   /chroot/proc/bus/usb    none bind 0 0

/media/cdrom0   /chroot/media/cdrom0    none bind 0 0
# Wenn man das komplette /media Verzeichnis inklusive allen 
# automatisch eingebundenen CD-ROM, USB-Sticks oder externen 
# Festplatten einbinden möchte, stattdessen das hier nutzen:
# /media          /chroot/media           none rbind 0 0
# Man beachte das "rbind" statt "bind". Näheres: man mount</pre><p>
einfügt. Anzumerken ist hierbei, dass man auf diese Weise natürlich auch noch weitere Verzeichnisse wie z.B. ein zweites CD-Laufwerk einbinden kann. Noch nicht vorhandene Verzeichnisse müssen noch mit z.B.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /chroot/media/cdrom0 </pre></div></div><p>
erstellt werden. Letztendlich wird die <strong>fstab</strong> mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -a </pre></div></div><p>
neu eingelesen.</p><p><strong>Vorsicht: </strong>Das doppelte Einbinden von Wechselmedien kann zu Problemen mit dem automatischen Einbinden von Wechselmedien in das System führen. Sowohl Einbinden als auch Aushängen über die grafische Oberfläche Gnome werden unter Gutsy mit einem Verweis auf die doppelte Einbindung abgebrochen.</p><div class="section_2"><h3 id="dchroot-nutzen">dchroot nutzen<a class="headerlink" href="#dchroot-nutzen">¶</a></h3><p>
Um nun möglichst komfortabel Programme aus dem chroot aufrufen zu können, ohne dass man explizit dorthin wechseln muss, ist ein kleines Skript nötig. Zunächst öffnet man wieder einen Texteditor mit Root-Rechten und fügt dort in eine neue Datei die folgenden Zeilen ein:</p><pre class="notranslate">#!/bin/bash
/usr/bin/dchroot -d $1</pre><p>
Das Ergebnis speichert man als <strong>/usr/local/bin/do_chroot</strong>. Mittels</p><div class="bash"><div class="contents"><pre class="notranslate">sudo chmod 755 /usr/local/bin/do_chroot </pre></div></div><p>
wird das Skript noch ausführbar gemacht.</p><p>Man kann aber auch einfach nur</p><div class="bash"><div class="contents"><pre class="notranslate">dchroot -d &lt;befehl&gt; </pre></div></div><p>
nutzen.</p><p>Wenn es folgenden (oder einen ähnlichen) Fehler gibt:
</p><pre class="notranslate">user@host:~$ dchroot -d
I: [Chroot karmic-dbc18511-c81e-4c5b-bc91-5100efaad4c6] Starte Shell: »/bin/bash«
(karmic)user@host:~$ smplayer 
No protocol specified
smplayer: cannot connect to X server :0.0
(karmic)user@host:~$</pre><p>
schafft folgender Befehl (vorher chroot mit exit verlassen) Abhilfe:
</p><div class="bash"><div class="contents"><pre class="notranslate">xhost +local: </pre></div></div><p>
Nun akzeptiert der XServer die Verbindung und das Starten von Programmen mit graphischer Oberfläche aus dem chroot heraus funktioniert. (Bitte hier eine elegantere Methode als den normalen Autostart ergänzen, um diese Änderung permanent durchzuführen!)</p></div></div><div class="section_1"><h2 id="Installation-von-32-Bit-Programmen">Installation von 32-Bit-Programmen<a class="headerlink" href="#Installation-von-32-Bit-Programmen">¶</a></h2><p>
In die neuerstellte chroot-Umgebung kann nun einfach mit dem Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">dchroot -d </pre></div></div><p>
gewechselt werden. Neue Programme können nun bereits wie gewohnt per Aufruf von apt-get in der Umgebung installiert werden. Dabei wird es wahrscheinlich von Interesse sein, dass auch die 32-Bit-Version eines Paketmanagers (<a class="internal" href="../synaptic.html">Synaptic</a> für Ubuntu/Xubuntu, <a class="internal" href="../archiv/adept_manager.html">Adept Manager</a> für Kubuntu) für die Umgebung verfügbar ist. Die Installation erfolgt nun einfach mittels</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install synaptic </pre></div></div><p>
für Ubuntu/Xubuntu oder</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install adept </pre></div></div><p>
für Kubuntu.</p><p>Damit man nun diese Version des Paketmanagers auch außerhalb der chroot-Umgebung komfortabel starten kann, wird zunächst einmal mit folgendem Befehl auf diesen ein symbolischer Link innerhalb der chroot-Umgebung erstellt (die folgenden Befehle gehen von Synaptic aus, falls man stattdessen Adept installiert hat, einfach "synaptic" durch "adept" ersetzen):</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ln -s /usr/bin/synaptic /usr/local/bin/synaptic32 </pre></div></div><p>
für Ubuntu/Xubuntu oder</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ln -s /usr/bin/adept_manager /usr/local/bin/adept_manager32 </pre></div></div><p>
für Kubuntu.</p><p>Nun wird die Umgebung wieder mit</p><div class="bash"><div class="contents"><pre class="notranslate">exit </pre></div></div><p>
verlassen und (jetzt innerhalb des "normales" Systems) ebenfalls ein symbolischer Link (auf das eben erstellte Skript) erzeugt:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ln -s /usr/local/bin/do_chroot /usr/local/bin/synaptic32 </pre></div></div><p>
für Ubuntu/Xubuntu oder</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ln -s /usr/local/bin/do_chroot /usr/local/bin/adept_manager32 </pre></div></div><p>
für Kubuntu.</p><p>Das hat zur positiven Folge, dass man nun, auch ohne explizit in die chroot-Umgebung zu wechseln, den Paketmanager mittels z.B.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo synaptic32 </pre></div></div><p>
für Ubuntu/Xubuntu oder</p><div class="bash"><div class="contents"><pre class="notranslate">sudo adept_manager32 </pre></div></div><p>
für Kubuntu starten kann. Analog kann man diesbezüglich auch bei beliebigen anderen Programmen vorgehen.</p></div><div class="section_1"><h2 id="Optional-Spracheinstellungen-konfigurieren">Optional: Spracheinstellungen konfigurieren<a class="headerlink" href="#Optional-Spracheinstellungen-konfigurieren">¶</a></h2><p>
Wenn man des Englischen nicht mächtig sein sollte und/oder auch die chroot-Umgebung lieber auf Deutsch hätte, kann man innerhalb der Umgebung gemäß <a class="internal" href="../lokalisierung.html">dieser</a> Anleitung die deutschen Sprachpakete installieren.</p></div><div class="section_1"><h2 id="Deinstallation-der-chroot-Umgebung">Deinstallation der chroot-Umgebung<a class="headerlink" href="#Deinstallation-der-chroot-Umgebung">¶</a></h2><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
Die folgenden Anweisungen sollten sehr genau befolgt werden, um einen möglichen Datenverlust zu vermeiden!</p></div></div><p>
Wenn man den chroot wieder entfernen möchte, muss das Verzeichnis <strong>/chroot</strong> wieder gelöscht werden. Dabei ist es extrem wichtig, die in der <strong>/etc/fstab</strong> angelegten Mountpunkte <strong>vor</strong> der Löschoperation wieder zu entfernen, damit es nicht zu einem potentiellen Datenverlust beim Löschen kommt. Dazu öffnet man wieder die Datei <strong>/etc/fstab</strong> mit einem Texteditor mit Root-Rechten und entfernt dort die Einträge, die bei der chroot-Installation gemäß der obigen Anleitung angelegt wurden; etwa so sollten diese aussehen:</p><pre class="notranslate">/home           /chroot/home            none bind 0 0

/tmp            /chroot/tmp             none bind 0 0

/dev            /chroot/dev             none bind 0 0
# Wenn es später im chroot diese Meldung gibt: 
# "Can not write log, openpty() failed (/dev/pts not mounted?)",
# sollte man folgende Zeile auskommentieren:
# /dev/pts        /chroot/dev/pts         none bind 0 0
# Für shared memory Unterstützung (empfohlen) auskommentieren:
# /dev/shm          /chroot/dev/shm       none bind 0 0

/proc           /chroot/proc            proc defaults 0 0
# Wenn es Probleme beim Zugriff auf USB-Geräta gibt, folgende Zeile auskommentieren
# /proc/bus/usb   /chroot/proc/bus/usb    none bind 0 0

/media/cdrom0   /chroot/media/cdrom0    none bind 0 0
# Wenn man das komplette /media Verzeichnis inklusive allen 
# automatisch eingebundenen CD-ROM, USB-Sticks oder externen 
# Festplatten einbinden möchte, stattdessen das hier nutzen:
# /media          /chroot/media           none rbind 0 0
# Man beachte das "rbind" statt "bind". Näheres: man mount</pre><p>
Damit die Änderungen an der <strong>/etc/fstab</strong> wirksam werden, muss nun der Rechner neu gestartet werden. Ein <code class="notranslate">mount -a</code> reicht hier nicht!</p><p>Nach dem Neustart sollte man noch einmal überprüfen, ob wirklich nichts mehr unter <strong>/chroot</strong> eingebunden ist:</p><div class="bash"><div class="contents"><pre class="notranslate">mount </pre></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
Es ist sehr wichtig, dies zu überprüfen, da sonst Datenverlust droht.</p></div></div><p>
Das Löschen des Verzeichnisses kann nun z.B. mit einem mit Root-Rechten laufenden <a class="internal" href="../dateimanager.html">Dateimanager</a> oder mit dem Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">sudo rm -rf /chroot/ </pre></div></div><p>
im Terminal erfolgen. Desweiteren kann man zur kompletten Deinstallation natürlich auch noch alle Dateien/Links/Pakete löschen/deinstallieren, die man anhand der obigen Installationsanleitung außerhalb der chroot-Umgebung angelegt/installiert hat.</p><hr/><p></p></div></div>
<p class="meta">
<a href="../archiv/32-bit_chroot/a/revision/389167.html">Diese Revision</a> wurde am 19. März 2012 14:09 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/32-bit_chroot.html">32-Bit chroot</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>