<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Prozessorspannung_absenken › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/prozessorspannung_absenken.html">Prozessorspannung absenken</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Prozessorspannung_absenken">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/prozessorspannung_absenken/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/prozessorspannung_absenken/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/prozessorspannung_absenken/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/prozessorspannung_absenken/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/prozessorspannung_absenken/a/backlinks.html">Prozessorspannung absenken</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Für AMD K8 CPUs gibt es auch Patches, die Installation dieser sollte ebenfalls beschrieben werden. <a class="external" href="http://www.linux-phc.org/forum/viewtopic.php?f=13&amp;t=2." rel="nofollow" title="http://www.linux-phc.org/forum/viewtopic.php?f=13&amp;t=2."><span class="longlink_show">http://www.linux-phc.org/forum/viewt</span><span class="longlink_collapse">opic</span><span>.php?f=13&amp;t=2.</span></a> Ab Ubuntu 9.04 Jaunty kann der bereits gepatchte Kernel verwendet werden.
</p></div></div><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../packprogramme.html">Archive entpacken</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../kernelmodule.html">Umgang mit Kernelmodulen</a> </p></li></ol></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Maßnahmen in dieser Anleitung geschehen auf eigenes Risiko, da der Prozessor außerhalb der Herstellerspezifikationen betrieben wird. Es sind noch keine dadurch entstandene Schäden bekannt, können aber nicht ausgeschlossen werden! Diese Anleitung ist deshalb nur für fortgeschrittene Benutzer geeignet, die neben guten Linux-Kenntnissen auch etwas Hardware-Fachwissen besitzen. 
</p></div></div><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation-fuer-Ubuntu-Versionen-bis-Hardy-Heron-8-04">Installation für Ubuntu-Versionen bis Hard...</a></li><li><a class="crosslink" href="#Benutzung-von-Linux-PHC-ueber-das-Terminal">Benutzung von Linux-PHC über das Terminal
</a></li><li><a class="crosslink" href="#Herausfinden-moeglicher-Spannungseinstellungen">Herausfinden möglicher Spannungseinstellun...</a></li><li><a class="crosslink" href="#Verwendung-des-PHC-Tools">Verwendung des PHC-Tools
</a></li><li><a class="crosslink" href="#Problemloesungen">Problemlösungen
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="phc_icon.png" class="image-left" src="../_/aaf6bd47ab4ec36438f50ff917c9f94e2d4b8afe.png"/> Die hier beschriebenen Kernel-Patches haben das gleiche Ziel wie das verbreitete <a class="external" href="http://www.pbus-167.com/" rel="nofollow">NHC (Notebook Hardware Control)</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> unter Windows. Der Prozessor wird also mit weniger Spannung betrieben als das vom Hersteller vorgesehen ist. Die erzielbaren Verbesserungen hinsichtlich Akkulaufzeit und CPU-Temperatur sind vor allem unter Volllast sehr groß. Zur Zeit ist der Patch in dieser Anleitung allerdings nur für Intel Pentium-M (Centrino) und Core/Core 2 Solo/Duo CPUs geeignet!</p><p>Allgemeine Informationen zum Thema Stromsparen findet man unter <a class="internal" href="../strom_sparen.html">Strom sparen</a>.</p><div class="section_1"><h2 id="Installation-fuer-Ubuntu-Versionen-bis-Hardy-Heron-8-04">Installation für Ubuntu-Versionen bis Hardy Heron 8.04<a class="headerlink" href="#Installation-fuer-Ubuntu-Versionen-bis-Hardy-Heron-8-04">¶</a></h2><p>
Für den Ubuntu-Kernel benötigt man den Linux-PHC-Patch, der das Ändern der Spannungswerte durch Schreiben in eine Systemdatei erlaubt. Dabei wird lediglich das für die CPU-Steuerung zuständige Kernel-Modul (eine Datei) verändert.</p><div class="section_2"><h3 id="Welches-Kernel-Modul-wird-benoetigt">Welches Kernel-Modul wird benötigt?<a class="headerlink" href="#Welches-Kernel-Modul-wird-benoetigt">¶</a></h3><p>
Zuerst sollte man überprüfen ob vom System das Modul <code class="notranslate">acpi-cpufreq</code> oder <code class="notranslate">speedstep-centrino</code> verwendet wird. Man verwendet dazu folgende Befehle <sup><a href="#source-3">[3]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">lsmod | grep acpi_cpufreq
lsmod | grep speedstep_centrino </pre></div></div><p>In der Ausgabe des ersten Befehls sollte <code class="notranslate">acpi_cpufreq</code> vorkommen. Dies bedeutet, dass der Prozessor mit diesem Modul gesteuert wird (Standard). Die nachfolgende Anleitung kann dann ohne Änderungen befolgt werden.</p><p>Wenn das nicht der Fall ist und das im zweiten Befehl geprüfte Modul geladen ist, dann sollte eigentlich auf die speedstep-centrino-Variante von Linux-PHC zurückgegriffen werden. Dieser Patch ist allerdings nur für die Kernel-Version 2.6.22 (Ubuntu 7.10) verfügbar. In einigen Fällen kann aber trotzdem das Modul <code class="notranslate">acpi_cpufreq</code> verwendet werden. Näheres dazu im Abschnitt <a class="crosslink" href="#modul-erzwingen">Modul erzwingen</a>.</p><p>Da man für jede Kernel-Version den passenden Patch benötigt ist es außerdem noch wichtig zu wissen, welcher Kernel auf dem System installiert ist. Dies bekommt man mit dem Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">uname -r </pre></div></div><p>heraus. Entscheidend ist dabei der vordere Teil der Kernelbezeichnung.</p></div><div class="section_2"><h3 id="Modul-selbst-erstellen">Modul selbst erstellen<a class="headerlink" href="#Modul-selbst-erstellen">¶</a></h3><p>
Hier wird beschrieben, wie sich der Patch ohne Kompilieren des gesamten Kernels auf das Modul anwenden lässt.</p><p>Noch einfacher ist es allerdings ein <a class="crosslink" href="#Vorkompiliert">fertig kompiliertes Modul</a> (falls verfügbar) zu verwenden. Der Abschnitt "Modul selbst erstellen" kann dann übersprungen werden.</p><div class="section_3"><h4 id="Vorbereitung">Vorbereitung<a class="headerlink" href="#Vorbereitung">¶</a></h4><p>
Folgende Pakete sind notwendig und müssen gegebenenfalls installiert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>build-essential </strong></p></li><li><p><strong>linux-source</strong></p></li><li><p><strong>linux-headers-generic</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install build-essential  linux-source linux-headers-generic </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install build-essential  linux-source linux-headers-generic </pre></div></div><p>
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die eigene Kernel-Version muss in der nachfolgenden Anleitung an den mit Stern gekennzeichneten Stellen (z.B. bei Befehlen) berücksichtigt und entsprechend eingesetzt werden! 
</p></div></div><p>Der Quellcode des Ubuntu-Kernels liegt nun als <strong>linux-source-2.6.*.tar.bz2</strong> im Ordner <strong>/usr/src</strong>. Von dort lässt sich das Archiv öffnen und beispielsweise in den Home-Ordner entpacken <sup><a href="#source-2">[2]</a></sup>.</p><p>In den neu entstandenen Ordner muss dann noch der richtige Patch kopiert werden. Dazu wird die zum Kernel passende <strong>*.patch</strong>-Datei aus dem <a class="external" href="http://www.linux-phc.org/viewtopic.php?f=13&amp;t=2" rel="nofollow">linux-phc Entwicklerforum</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> heruntergeladen.</p></div><div class="section_3"><h4 id="Modul-kompilieren">Modul kompilieren<a class="headerlink" href="#Modul-kompilieren">¶</a></h4><p>
Nun startet man ein Terminal <sup><a href="#source-3">[3]</a></sup> und wechselt in das Verzeichnis mit dem Kernel-Quellcode und dem Patch:</p><div class="bash"><div class="contents"><pre class="notranslate">cd linux-source-2.6.* </pre></div></div><p>Zum Anwenden des Patchs muss folgender Befehl ausgeführt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">patch -p1 &lt; linux-phc*.patch </pre></div></div><p>Jetzt kann das Modul mit folgenden Befehlen kompiliert werden:</p><div class="bash"><div class="contents"><pre class="notranslate">cd arch/x86/kernel/cpu/cpufreq/
make -C /lib/modules/$(uname -r)/build SUBDIRS=$(pwd) modules </pre></div></div><p>Das fertige Modul namens <strong>acpi-cpufreq.ko</strong> (bzw. <strong>speedstep-centrino.ko</strong>) liegt nun im eben kompilierten Ordner <strong>arch/x86/kernel/cpu/cpufreq</strong>. Diese Datei sollte man getrennt abspeichern. Sie wird später noch benötigt, während man den Rest des Ordners löschen kann.</p><p><a class="crosslink anchor" href="#Vorkompiliert" id="Vorkompiliert"></a>
</p></div></div><div class="section_2"><h3 id="Alternative-Vorkompiliertes-Modul-auswaehlen">Alternative - Vorkompiliertes Modul auswählen<a class="headerlink" href="#Alternative-Vorkompiliertes-Modul-auswaehlen">¶</a></h3><p>
Um den vorherigen Schritt zu umgehen, kann auch ein fertiges Modul verwendet werden, das bereits für die verwendete Kernel-Version kompiliert wurde. Mögliche Quellen sind das <a class="external" href="http://phcpatches.googlecode.com/svn/trunk/acpi-cpufreq/modules/" rel="nofollow">Subversion-Verzeichnis von linux-phc</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> oder das Forum.</p></div><div class="section_2"><h3 id="Modul-installieren">Modul installieren<a class="headerlink" href="#Modul-installieren">¶</a></h3><p>
Das zuvor generierte oder heruntergeladene Modul kann man nun mit Root-Rechten in den richtigen Ordner kopieren. Zuvor sollte aber (für den Fall der Fälle) eine Sicherheitskopie der alten Datei angelegt werden.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp acpi-cpufreq.ko /lib/modules/$(uname -r)/kernel/arch/x86/kernel/cpu/cpufreq </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Nach jedem Kernel-Update muss dieser Schritt mit dem aufbewahrten Modul erneut ausgeführt werden.
</p></div></div><p>Nach einem Neustart des Systems sollte die Schnittstelle von Linux-PHC in Form der Datei <strong>/sys/devices/system/cpu/cpu0/cpufreq/phc_controls</strong> vorhanden sein. Alternativ kann man mit Hilfe von <a class="internal" href="../kernelmodule.html#modprobe">modprobe</a> das alte Modul aus dem Kernel entladen und das neue Modul laden.</p><p><a class="crosslink anchor" href="#Benutzung" id="Benutzung"></a>
</p></div></div><div class="section_1"><h2 id="Benutzung-von-Linux-PHC-ueber-das-Terminal">Benutzung von Linux-PHC über das Terminal<a class="headerlink" href="#Benutzung-von-Linux-PHC-ueber-das-Terminal">¶</a></h2><p>
</p><div class="section_2"><h3 id="Spannungen-auslesen">Spannungen auslesen<a class="headerlink" href="#Spannungen-auslesen">¶</a></h3><p>
Die aktuellen Frequenz- und Spannungsstufen können über das SysFS-Interface im Terminal <sup><a href="#source-3">[3]</a></sup> ausgelesen werden:</p><div class="bash"><div class="contents"><pre class="notranslate">cat /sys/devices/system/cpu/cpu0/cpufreq/phc_controls </pre></div></div><p>Es sollte eine Ausgabe in dieser Form erfolgen:</p><pre class="notranslate">13:38 10:30 8:24 6:18</pre><p>Der Wert vor dem Doppelpunkt entspricht der Frequenzstufe (FID), die Zahl dahinter der Spannungsstufe (VID). Im Gegensatz zu älteren Linux-PHC-Versionen werden hier keine absoluten Werte (Hz/V) mehr angezeigt. Dadurch können aber auch aktuelle und zukünftige Prozessoren unterstützt werden. Die FIDs/VIDs sind also lediglich die Werte, die der Prozessor intern in einem Bit-Register als Speicher verwendet.</p></div><div class="section_2"><h3 id="Spannungen-absenken">Spannungen absenken<a class="headerlink" href="#Spannungen-absenken">¶</a></h3><p>
Durch Schreiben in die selbe Datei können die Spannungen (hier nur beispielhaft) geändert werden. Dazu darf lediglich die Spannungsstufe hinter dem Doppelpunkt verkleinert werden:</p><div class="bash"><div class="contents"><pre class="notranslate">echo "13:22 10:10 8:5 6:0" | sudo tee /sys/devices/system/cpu/cpu0/cpufreq/phc_controls </pre></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Wenn sie zu niedrig gewählt sind, friert das System ein und es muss neugestartet werden. Deshalb vorher unbedingt alles sichern und Datenträger möglichst aushängen! 
</p></div></div><p>Zur Überprüfung können die Werte nochmals wie oben abgefragt werden. Da die Spannungen nach oben und unten von der Hardware beschränkt sind kann nicht jeder Wert übernommen werden. Bei Core/Core 2 Solo/Duo CPUs ist die standardmäßig für die niedrigste Taktfrequenz eingestellte VID die niedrigste zugelassene. Man kann dann also nur die Spannung für höhere Frequenzen absenken. Für Besitzer von Zwei-Kern Prozessoren sei noch gesagt, dass sich der zweite Kern automatisch nach der zuletzt eingestellten Spannung richtet.</p><p>Sobald die Spannungen ausreichend getestet sind, kann man mit der im Wiki-Artikel <a class="internal" href="../rc.local.html">rc.local</a> genannten Funktion die CPU-Spannung auch direkt beim Systemstart oder beim Eintritt in einen bestimmten Runlevel einstellen lassen. Dazu schreibt man einfach folgenden Befehl (Beispiel) zum Setzen der gewünschten Spannungen in die Datei hinein:</p><div class="bash"><div class="contents"><pre class="notranslate">echo "13:22 10:10 8:5 6:0" &gt; /sys/devices/system/cpu/cpu0/cpufreq/phc_controls </pre></div></div></div></div><div class="section_1"><h2 id="Herausfinden-moeglicher-Spannungseinstellungen">Herausfinden möglicher Spannungseinstellungen<a class="headerlink" href="#Herausfinden-moeglicher-Spannungseinstellungen">¶</a></h2><p>
Die Spannungswerte müssen (behutsam) für jede einzelne Taktstufe individuell ermittelt werden, da sie selbst bei gleichen Notebook-Modellen stark variieren können. Anhaltspunkte für mögliche Werte finden sich in den Links am Ende dieser Seite.</p><div class="section_2"><h3 id="Schrittweises-Austesten-bis-zum-Einfrieren-des-Systems">Schrittweises Austesten bis zum Einfrieren des Systems<a class="headerlink" href="#Schrittweises-Austesten-bis-zum-Einfrieren-des-Systems">¶</a></h3><p>
Bei noch unbekannter CPU-Spannungstoleranz muss man zum Ermitteln der "Schmerzgrenze" die Spannung Schritt für Schritt absenken, bis zum sogenannten "Einfrieren". Dazu kann z.B. folgendermaßen vorgegangen werden:</p><ol class="arabic"><li><p>Alle wichtigen Datenträger aushängen bzw. laufende Schreibvorgänge unbedingt vermeiden. </p></li><li><p>Die zugehörige Taktstufe des zu verändernden Spannungswertes fest einstellen. Wie das geht ist unter <a class="internal" href="../prozessortaktung.html">Prozessortaktung</a> beschrieben. </p></li><li><p>Nun kann Die VID um eine Stufe abgesenkt werden. </p></li><li><p>Auf Stabilität des Systems prüfen, möglichst mit prozessorlastigen Vorgängen (z.B. mittels <a class="external" href="http://www.mersenne.org/" rel="nofollow">Prime95</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> , <a class="external" href="http://users.bigpond.net.au/cpuburn/" rel="nofollow">CPUBurn</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> etc.) und zeitweise auch im Akkubetrieb. Falls keine Probleme auftreten Schritt 2 wiederholen. </p></li><li><p>Falls die 'Schmerzgrenze' erreicht wurde und das System einfriert, sollte dieser herausgefundene Wert um ein kleines 'Sicherheitspolster' erhöht werden, um ihn dann in Zukunft dauernd verwenden zu können. Nun kann mit der nächsten Frequenzstufe die selbe Prozedur wiederholt werden. </p></li></ol><p>
</p></div><div class="section_2"><h3 id="Einstellen-bereits-bekannter-Werte-in-Volt">Einstellen bereits bekannter Werte in Volt<a class="headerlink" href="#Einstellen-bereits-bekannter-Werte-in-Volt">¶</a></h3><p>
Da bereits vorhandene Werte meist in Form von direkten Spannungsangaben vorliegen, müssen die VIDs zur besseren Vergleichbarkeit in Volt umgerechnet werden. Dazu kann folgende Tabelle verwendet werden:</p><table style="width: 50%"><tr class="kopf"><td> Prozessortyp </td><td>Spannung</td></tr><tr><td> Intel Pentium M, Core, Core2 </td><td> 700.0 mV  +  VID * 16 mV</td></tr><tr><td> Core2 (alternativ) </td><td> 0.7125 V  +  VID * 0.0125 V</td></tr></table><p>
<span class="underline">Rechenbeispiel:</span> Der Abruf der aktuellen Default-VIDs im obigen Abschnitt ergab unter anderem das Pärchen <code class="notranslate">6:18</code>. Da <code class="notranslate">6</code> die niedrigste Frequenzstufe repräsentiert, möchte man dort als erstes die Spannung senken. Die Spannung beträgt nun laut Tabelle <code class="notranslate">700mV + 18*16mV = 988mV</code>. Da man aber aus Erfahrung weiß, dass der Wert 716mV auch für einen stabilen Betrieb reicht, stellt man dementsprechend die VID 1 ein. Andere Spannungen lassen sich analog berechnen. Die minimal einstellbare VID hängt übrigens vom Prozessortyp ab, es kann also nicht immer bis auf 0 abgesenkt werden.</p><p>Wer seinen mathematischen Grund-Rechenfähigkeiten nicht traut, dem sei das graphische <a class="crosslink" href="#PHC-Tool">PHC-Tool</a> mit automatischer Spannungsberechnung empfohlen.</p></div><div class="section_2"><h3 id="Ausgangswerte">Ausgangswerte<a class="headerlink" href="#Ausgangswerte">¶</a></h3><p>
Wenn man während dem Testen verschiedener Spannungen die Ausgangswerte des Prozessors vergessen hat, kann man sie mit folgendem Befehl abrufen:</p><div class="bash"><div class="contents"><pre class="notranslate">cat /sys/devices/system/cpu/cpu0/cpufreq/phc_default_controls </pre></div></div><p><a class="crosslink anchor" href="#PHC-Tool" id="PHC-Tool"></a>
</p></div></div><div class="section_1"><h2 id="Verwendung-des-PHC-Tools">Verwendung des PHC-Tools<a class="headerlink" href="#Verwendung-des-PHC-Tools">¶</a></h2><p>
<img alt="./PHC-Tool.png" class="image-right" src="../_/7c1b118a0ea14c54e2b5cd8982a66fadec32984e.png"/></p><p>Das Einstellen gewünschter Spannungsstufen kann auch bequem über das PHC-Tool erfolgen. Dies ist eine graphische Oberfläche für das installierte Kernel-Modul und eignet sich gut zum Austesten verschiedener Spannungen. Dabei werden die FIDs und VIDs passend zum CPU-Typ in verständliche Einheiten umgerechnet.</p><p>Hinweis: Besitzer von Zwei-Kern Prozessoren müssen für beide Prozessoren die gleiche VID für eine Spannung eingeben, damit die Einstellung Effekt hat.</p><p>Herunterladen kann man das Programm aus dem entsprechenden <a class="external" href="http://www.linux-phc.org/forum/viewtopic.php?f=14&amp;t=17" rel="nofollow">Thread im Entwicklerforum</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p><p>Nach dem Entpacken wird das PHC-Tool mit dem im neuen Ordner enthaltenen Skript <strong>phctool.sh</strong> gestartet. Weitere Hinweise zur Benutzung kann der beiliegenden Dokumentation im Ordner <strong>doc</strong> entnommen werden.</p><p>Zu beachten ist lediglich noch, dass zur Überprüfung der Spannungen mit dem PHC-Tool zuvor das Kernel-Modul <code class="notranslate">msr</code> geladen werden muss. Dies wird hiermit erledigt:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe msr </pre></div></div></div><div class="section_1"><h2 id="Problemloesungen">Problemlösungen<a class="headerlink" href="#Problemloesungen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Funktionstest">Funktionstest<a class="headerlink" href="#Funktionstest">¶</a></h3><p>
Wenn man sich nicht sicher ist, ob die Spannungssenkung erfolgreich war, kann man das mit folgenden Methoden testen.</p><div class="section_3"><h4 id="Indirekt">Indirekt<a class="headerlink" href="#Indirekt">¶</a></h4><p>
Im Artikel <a class="internal" href="../strom_sparen.html">Strom sparen</a> ist genau beschrieben, wie man den Stromverbrauch und die Temperatur messen kann. Nach dem Senken der Spannungen sollten hier vor allem bei hoher Last niedrigere Werte zu beobachten sein.</p></div><div class="section_3"><h4 id="Mit-dem-PHC-Tool">Mit dem PHC-Tool<a class="headerlink" href="#Mit-dem-PHC-Tool">¶</a></h4><p>
Das <a class="crosslink" href="#PHC-Tool">PHC-Tool</a> kann mit Hilfe des <code class="notranslate">msr</code>-Kernel-Moduls die tatsächlich in der CPU erreichten Spannungen ermitteln.</p></div><div class="section_3"><h4 id="Brutale-Variante">Brutale Variante<a class="headerlink" href="#Brutale-Variante">¶</a></h4><p>
Wenn man die Spannung bei höheren Taktraten absichtlich viel zu weit absenkt, wird das Notebook "einfrieren", sobald es diese Stufe erreicht.</p></div></div><div class="section_2"><h3 id="Fehler-beim-Abrufen-von-phc-controls">Fehler beim Abrufen von phc_controls<a class="headerlink" href="#Fehler-beim-Abrufen-von-phc-controls">¶</a></h3><p>
Zuerst sollte man überprüfen, ob die Datei <strong>/sys/devices/system/cpu/cpu0/cpufreq/phc_controls</strong> vorhanden ist. Danach kann man die folgenden Fälle unterscheiden.</p><div class="section_3"><h4 id="Die-Datei-phc-controls-fehlt">Die Datei phc_controls fehlt<a class="headerlink" href="#Die-Datei-phc-controls-fehlt">¶</a></h4><p>
Mit dem Befehl <code class="notranslate">lsmod</code> sollte man nun überprüfen, ob das gepatchte Modul überhaupt geladen wurde. Wenn dies nicht passiert ist, kann man das Modul manuell laden, um eventuelle Fehlermeldungen zu erhalten. <sup><a href="#source-4">[4]</a></sup></p></div><div class="section_3"><h4 id="Die-Datei-phc-controls-ist-vorhanden-laesst-sich-aber-nicht-lesen-No-such-device">Die Datei phc_controls ist vorhanden, lässt sich aber nicht lesen ("No such device")<a class="headerlink" href="#Die-Datei-phc-controls-ist-vorhanden-laesst-sich-aber-nicht-lesen-No-such-device">¶</a></h4><p>
Dies kann bei manchen Pentium-M-Systemen passieren, die keine korrekte ACPI-Implementierung haben und nicht mit <code class="notranslate">acpi-cpufreq</code> kompatibel sind. Zur Vermeidung dieses Problems muss auf das <code class="notranslate">speedstep-centrino</code>-Modul ausgewichen werden. Der Patch dazu lässt sich analog zu obiger Anleitung kompilieren. Teilweise kann die ACPI-Implementierung auch durch ein BIOS-Update korrigiert werden.</p><p><a class="crosslink anchor" href="#modul-erzwingen" id="modul-erzwingen"></a>
</p></div></div><div class="section_2"><h3 id="Ein-Kernel-Modul-erzwingen">Ein Kernel-Modul erzwingen<a class="headerlink" href="#Ein-Kernel-Modul-erzwingen">¶</a></h3><p>
Wenn man sich sicher ist, dass sein Laptop mit einem gepatchten <code class="notranslate">acpi_cpufreq</code> korrekt funktioniert, Ubuntu aber trotzdem <code class="notranslate">speedstep_centrino</code> verwendet (oder umgekehrt), dann hat man die Möglichkeit, das gewünschte Modul zu erzwingen. Im Einzelnen geschieht dies, durch <a class="internal" href="../kernelmodule.html#Automatisches-Laden-verhindern-Blacklisting">Blacklisting</a> des unerwünschten Moduls und <a class="internal" href="../kernelmodule.html#Module-automatisch-laden">automatisches Starten</a> des gewünschten Moduls. <sup><a href="#source-4">[4]</a></sup></p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.linux-phc.org/" rel="nofollow">Linux Processor Hardware Control</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Projektseite von linux-phc und PHC-Tool </p></li><li><p><a class="external" href="http://gentoo-wiki.com/HOWTO_Undervolt_a_Pentium_M_CPU" rel="nofollow">HOWTO Undervolt a Pentium-M</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Ursprünge des Kernelpatches (Gentoo-Community) mit Spannungstabellen für verschiedene Prozessoren </p></li><li><p><a class="external" href="http://www.computerbase.de/artikel/hardware/komplettsysteme/2005/anleitung_mehr_akkulaufzeit_centrino" rel="nofollow">Mehr Akkulaufzeit für Centrino</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Artikel mit einigen Grundlagen über Undervolting, allerdings für Windows </p></li><li><p><a class="external" href="http://openmindedbrain.info/09/05/2010/undervolting-in-ubuntu-10-04-lucid-lts" rel="nofollow">Undervolting in Ubuntu 10.04</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Anleitung mit Skript zur automatischen Anpassung der Prozessorspannung</p></li><li><p><a class="internal" href="../strom_sparen.html">Strom sparen</a> </p></li><li><p><a class="internal" href="../prozessortaktung.html">Prozessortaktung</a> </p></li><li><p><a class="internal missing" href="../granola.html">Granola</a> - Tool zur automatischen Anpassung der Prozessorfrequenz und -spannung, je nach jeweiliger Auslastung der CPU</p></li><li><p><a class="internal" href="../k10ctl.html">k10ctl</a> - Alternative Anleitung</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../archiv/prozessorspannung_absenken/a/revision/785298.html">Diese Revision</a> wurde am 27. Januar 2015 21:59 von <a href="https://ubuntuusers.de/user/cornix/">cornix</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/prozessorspannung_absenken.html">Prozessorspannung absenken</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>