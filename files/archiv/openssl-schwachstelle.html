<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/OpenSSL-Schwachstelle › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/openssl-schwachstelle.html">OpenSSL-Schwachstelle</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/OpenSSL-Schwachstelle">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/openssl-schwachstelle/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/openssl-schwachstelle/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/openssl-schwachstelle/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/openssl-schwachstelle/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/openssl-schwachstelle/a/backlinks.html">OpenSSL-Schwachstelle</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Technischer-Hintergrund">Technischer Hintergrund
</a></li><li><a class="crosslink" href="#SSH">SSH
</a></li><li><a class="crosslink" href="#OpenSSL">OpenSSL
</a></li><li><a class="crosslink" href="#OpenVPN">OpenVPN
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Am 13.05.2008 wurde eine schwerwiegende Schwachstelle in den OpenSSL-Paketen von Debian entdeckt. Diese Schwachstelle entstand auf Grund eines fehlerhaften Patches des Debian-Paketes. Von der Schwachstelle sind alle auf Debian aufbauenden Distributionen und somit auch Ubuntu betroffen. Da die Schwachstelle seit dem 17.09.2006 (OpenSSL Version 0.9.8c-1) existiert, ist die Ubuntu-Version Hardy Heron 8.04 betroffen. Alle Programme, die OpenSSL verwenden, sind von der Schwachstelle betroffen. Es stehen Updates bereit, die die Schwachstelle beheben und in der Regel automatisch während einer Aktualisierung installiert werden.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Von der Schwachstelle <strong>nicht</strong> betroffen ist GnuPG und die darauf aufbauende Verschlüsselung, da hier nicht OpenSSL verwendet wird!</p></div></div><div class="section_1"><h2 id="Technischer-Hintergrund">Technischer Hintergrund<a class="headerlink" href="#Technischer-Hintergrund">¶</a></h2><p>
Der fehlerhafte Patch betraf den Zufallszahlgenerator von OpenSSL. Mit Hilfe des Patches sollten Warnmeldungen des Debuggers Valgrind verhindert werden, die aussagten, dass auf nicht initialisierte Variablen lesend zugegriffen wurde (siehe <a class="external" href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=363516" rel="nofollow">Debian Bug 363516</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ). Generell können durch einen solchen Zugriff Programmfehler entstehen. Es wurde an zwei Stellen in den Quellcode eingegriffen und der lesende Zugriff auskommentiert. An einer Stelle war dies legitim und korrekt, an der anderen Stelle wurde der Zufallszahlengenerator damit de facto außer Betrieb gesetzt (siehe <a class="external" href="http://svn.debian.org/viewsvn/pkg-openssl/openssl/trunk/rand/md_rand.c?rev=141&amp;view=diff&amp;r1=141&amp;r2=140&amp;p1=openssl/trunk/rand/md_rand.c&amp;p2=/openssl/trunk/rand/md_rand.c" rel="nofollow">SVN Commit</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ).</p><p>Als Folge wurde nun nur noch die Prozess-ID zur Generierung von Zufallszahlen verwendet. Diese nur 16 Bit lange Zahl ist viel zu kurz, um wirklich zufällige Zahlen zu generieren. Pro Schlüsseltyp und -länge gibt es nur 32768 verschiedene Schlüssel (aber nur zwei dieser Kombinationen, nämlich DSA/1024 und RSA/2048, sind weit verbreitet), somit wurden alle mittels OpenSSL erzeugten Schlüssel berechenbar. Besonders SSH-Keys und SSL-Zertifikate, die mit einer fehlerhaften OpenSSL Version erzeugt wurden, sind somit aus einem berechenbaren Schlüsselpool und können per <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Brute-Force-Methode">Brute-Force</a> leicht und schnell gebrochen werden. Davon betroffen sind somit alle Anwendungen, die OpenSSL verwenden insbesondere Serveranwendungen.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
Durch Einspielen der Updates ist nicht sichergestellt, dass eine Kommunikation sicher ist. Verwendet der Server ein schwaches Zertifikat ist die Kommunikation nicht sicher! Das bedeutet, dass eine aufgezeichnete SSL-Verbindung entschlüsselt werden kann und ein Angreifer somit an den Klartext (z.B. Passwörter) gelangen kann! Leider ist es für einen Anwender nicht möglich, zu überprüfen, ob das Zertifikat schwach ist.</p></div></div><p>
Betroffen sind somit auch andere Systeme als Debian-basierte. Verwendet ein Server ein Zertifikat, dass unter Debian oder einem Derivat generiert wurde, so ist der Server verwundbar. Dabei ist das Betriebssystem des Servers irrelevant. Selbst ein Microsoft-Windows-Server kann durch ein fehlerhaftes Zertifikat betroffen sein. Somit sind prinzipiell alle Anwender durch diese Schwachstelle gefährdet. Hier ist der Adminstrator des Servers gefragt, Sicherheitsupdates und damit neue Zertifikate zu installieren.</p></div><div class="section_1"><h2 id="SSH">SSH<a class="headerlink" href="#SSH">¶</a></h2><p>
Für SSH-Server besteht die größte Gefahr. Hierbei ist es irrelevant, welche Linux-Distribution auf dem Server läuft. Verwendet einer der Nutzer einen schwachen Schlüssel zur Authentifizierung, so kann dieser Account geknackt werden. Brute-Force-Angriffe gegen SSH-Server sind bereits angelaufen! Daher ist es unabdingbar, alle SSH-Schlüssel auf einem SSH-Server zu überprüfen und unsichere zu sperren.</p><p>Verwendet man Ubuntu, wird dies automatisch erledigt. Die bereinigte Version überprüft bei jedem Anmeldevorgang automatisch, ob der verwendete Schlüssel verwundbar ist und verweigert in diesem Fall die Anmeldung und schreibt eine Meldung in <strong>/var/log/auth.log</strong>: 
</p><pre class="notranslate">sshd[26085]: Public key a3:80:be:45:83:71:38:dd:7f:06:77:70:c9:83:29:7a blacklisted (see ssh-vulnkey(1))</pre><p>
Für die vereinfachte Überprüfung existiert das Paket <strong>openssh-blacklist</strong>. Dieses wurde automatisch bei dem Update mitinstalliert. Das Paket enthält ein Programm zum Überprüfen der Schlüssel auf einem Server. Dieses muss man als root-Benutzer ausführen, um alle Benutzerkonten zu überprüfen <sup><a href="#source-1">[1]</a></sup>: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ssh-vulnkey -a </pre></div></div><p>
Dieses findet alle Schlüssel und zeigt an, ob diese <em>"Not blacklisted"</em> oder <em>"COMPROMISED"</em> sind. Ein solcher Schlüssel muss unbedingt sofort gesperrt werden, da über ihn ein nicht authorisierter Zugang erfolgen könnte. <em>"Not blacklisted"</em> bedeutet <strong>nicht</strong>, dass der Schlüssel sicher ist. Es existiert lediglich keine passende Blacklist, da der Schlüssel ein unübliches Format hat.</p></div><div class="section_1"><h2 id="OpenSSL">OpenSSL<a class="headerlink" href="#OpenSSL">¶</a></h2><p>
Auch SSL-Keys sind von der Schwachstelle betroffen. Hier gibt es ebenfalls ein Paket, welches eine Blacklist enthält: <strong>openssl-blacklist</strong>. Dieses wurde ebenfalls automatisch mit den Updates installiert. Hier gibt es das Programm <strong>openssl-vulnkey</strong>, welches verwendet werden kann, um einen SSL-Key zu überprüfen <sup><a href="#source-1">[1]</a></sup>. Dafür muss jedoch der Key im PEM-Format vorliegen und man muss das Passwort des Keys besitzen.</p><div class="bash"><div class="contents"><pre class="notranslate">openssl-vulnkey key.pem </pre></div></div></div><div class="section_1"><h2 id="OpenVPN">OpenVPN<a class="headerlink" href="#OpenVPN">¶</a></h2><p>
Auch OpenVPN ist von der Schwachstelle betroffen. Hier gibt es über das Paket <strong>openvpn-blacklist</strong> ebenfalls eine Blacklist und OpenVPN überprüft Schlüssel beim Verbindungsaufbau und lehnt eine Verbindung ggf. ab. Diese Blacklist bezieht sich jedoch nur auf einen statischen pre-shared Key. Mit folgendem Befehl <sup><a href="#source-1">[1]</a></sup>
</p><div class="bash"><div class="contents"><pre class="notranslate">openvpn-vulnkey </pre></div></div><p>
wird somit nur ein pre-shared Key überprüft. Wer Zertifikate zur Authentifizierung verwendet, muss diese mittels <strong>openssl-vulnkey</strong> überprüfen.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.debian.org/security/2008/dsa-1571" rel="nofollow">Debian Security Advisory 1571</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.ubuntu.com/usn/usn-612-1" rel="nofollow">Ubuntu Security Notice</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> (Updates: <a class="external" href="http://www.ubuntu.com/usn/usn-612-2" rel="nofollow">2</a> <a class="external" href="http://www.ubuntu.com/usn/usn-612-3" rel="nofollow">3</a> <a class="external" href="http://www.ubuntu.com/usn/usn-612-4" rel="nofollow">4</a> <a class="external" href="http://www.ubuntu.com/usn/usn-612-5" rel="nofollow">5</a> <a class="external" href="http://www.ubuntu.com/usn/usn-612-6" rel="nofollow">6</a> <a class="external" href="http://www.ubuntu.com/usn/usn-612-7" rel="nofollow">7</a> <a class="external" href="http://www.ubuntu.com/usn/usn-612-8" rel="nofollow">8</a>) </p></li><li><p><a class="external" href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=363516" rel="nofollow">Verursachender Debian-Bug-Report</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://it.slashdot.org/comments.pl?sid=551636&amp;cid=23392602" rel="nofollow">Zusammenfassung auf Slashdot</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://wiki.debian.org/SSLkeys" rel="nofollow">Infos im Debian-Wiki</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.heise.de/security/Der-kleine-OpenSSL-Wegweiser--/artikel/108001/" rel="nofollow">Wegweiser von heise.de</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> </p></li><li><p><a class="external" href="http://security.debian.org/project/extra/dowkd/dowkd.pl.gz" rel="nofollow">Detektor für schwache Schlüssel</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> </p></li><li><p><a class="external" href="http://www.metasploit.com/users/hdm/tools/debian-openssl/" rel="nofollow">Sämtliche möglichen Schlüssel</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.heise.de/netze/tools/chksslkey" rel="nofollow">Online Test für Webseiten bei heise.de</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> </p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../archiv/openssl-schwachstelle/a/revision/594597.html">Diese Revision</a> wurde am 3. Mai 2013 08:14 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/openssl-schwachstelle.html">OpenSSL-Schwachstelle</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>