<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/TrueCrypt/TC-Laufwerk_formatieren › ubuntuusers statisches Wiki</title>
<link href="../../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../../archiv/truecrypt/tc-laufwerk_formatieren.html">TC-Laufwerk formatieren</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/TrueCrypt/TC-Laufwerk_formatieren">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../../wiki/index.html">Index</a></li>
<li><a href="../../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../../wiki.html">Übersicht</a></li>
<li><a href="../../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../../kategorien.html">Kategorie</a></li>
<li><a href="../../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../../howto.html">Howto anlegen</a></li>
<li><a href="../../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../../baustelle.html">Baustellen</a></li>
<li><a href="../../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../../archiv/truecrypt/tc-laufwerk_formatieren/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../../archiv/truecrypt/tc-laufwerk_formatieren/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../../archiv/truecrypt/tc-laufwerk_formatieren/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../../archiv/truecrypt/tc-laufwerk_formatieren/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../../archiv/truecrypt/tc-laufwerk_formatieren/a/backlinks.html">TC-Laufwerk formatieren</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p></div></div><p> </p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../../sudo.html">Einen Befehl als Superuser ausführen</a> </p></li></ol></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Wegen eines Kernelbugs läuft Truecrypt in den Versionen &gt;= 5 nur ab Hardy Heron ohne weitere Eingriffe in das System. Der entsprechende Teil wurde daher auch nur unter Hardy Heron getestet, im Gegenzug wurde Truecrypt 4.3 nicht unter Hardy Heron getestet.</p></div></div><p>
Diese Seite gehört zu dem Beitrag <a class="internal" href="../../archiv/truecrypt.html">Archiv/TrueCrypt</a>. Sie beschreibt das nachträgliche Formatieren eines TC-Laufwerkes.</p><p>Anstatt des standardmäßig verwendeten FAT-Dateisystems sollte man - bei <span class="underline">ausschließlicher</span> Linuxbenutzung  - das TC-Laufwerk mit einem <a class="internal" href="../../dateisystem.html">Linux-Dateisystem</a> wie z. B. <em>ext3</em> oder <em>ReiserFS</em> formatieren. 
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
Beim Formatieren eines Dateisystems werden alle vorhandenen Daten gelöscht. Will man also das Dateisystem eines TC-Laufwerks ändern, (z. B. von <em>FAT</em>/<em>NTFS</em> auf <em>ext3</em>) müssen alle Daten in ein Verzeichnis außerhalb des TC-Laufwerkes kopiert werden. Erst wenn die Formatierung abgeschlossen wurde, können die Daten sicher zurückgespielt werden.</p></div></div><div class="section_1"><h2 id="Truecrypt-5-0-und-neuer">Truecrypt 5.0 und neuer<a class="headerlink" href="#Truecrypt-5-0-und-neuer">¶</a></h2><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
Bei allen hier angegebenen Pfaden handelt es sich um Beispiele. Um Datenverlust zu vermeiden dürfen diese auf keinen Fall ungeprüft übernommen werden.</p></div></div><p>
Das TC-Laufwerk wird zunächst als <em>gemapptes</em> Gerät mit folgendem Befehl <sup><a href="#source-1">[1]</a></sup> eingehängt: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo truecrypt --filesystem=none &lt;VolumenPfad&gt; </pre></div></div><p>
<code class="notranslate">&lt;VolumenPfad&gt;</code> gibt dabei an, wo das verschlüsselte Laufwerk liegt. Bei einem TC-Container (eine Datei) ist dies der Pfad zum Container, also z. B.: <code class="notranslate">~/truecrypt/container1.tc</code>, bei einer Partition ist es der Pfad zum Gerät, also z. B.: <code class="notranslate">/dev/sda5</code>.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Das Gerät darf nicht bereits eingebunden sein. Ansonsten öffnet sich ein Fenster mit der Fehlermeldung: <em>The volume "&lt;VolumenPfad&gt;" is already mounted</em>.</p></div></div><p>
Das Laufwerk ist jetzt eingebunden, nun muss der Pfad zum gemappten Laufwerk nachgeschlagen werden. Mit folgendem Befehl gibt Truecrypt den Pfad aus: 
</p><div class="bash"><div class="contents"><pre class="notranslate">truecrypt -t -l | grep &lt;VolumenPfad&gt; </pre></div></div><p>
Die Ausgabe sieht zum Beispiel so aus: <code class="notranslate">1: /dev/sda5 /dev/mapper/truecrypt1 -</code>. Der erste Pfad sollte dabei der <em>&lt;VolumenPfad&gt;</em> sein, für das weitere Vorgehen interessant ist aber der zweite Pfad. Im Folgenden wird er mit <em>&lt;GemappterPfad&gt;</em> bezeichnet. (Unter Truecrypt 5 kann <em>&lt;GemappterPfad&gt;</em> z. B. auch so aussehen: <code class="notranslate">/dev/loop0</code>) 
</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>
<code class="notranslate">-t</code> erwzingt den Textmodus. Erfolgt die Eingabe ohne X11-Unterstützung (z. B. über <a class="internal" href="../../ssh.html">SSH</a>) kann er weggelassen werden, ansonsten erscheint die Ausgabe in einem Fenster.</p></div></div><p>
Das entschlüsselte TC-Laufwerk kann nun über <em>&lt;GemappterPfad&gt;</em> angesprochen und somit auch formatiert werden. Hat man sich für ein <a class="internal" href="../../dateisystem.html">Dateisystem</a> entschieden (z. B. <em>ext3</em>) wird das Laufwerk mit folgendem Befehl formatiert: <sup><a href="#source-2">[2]</a></sup> (<strong>dabei gehen alle im TC-Laufwerk enthaltenen Daten verloren</strong>) 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkfs.&lt;Dateisystem&gt; &lt;GemappterPfad&gt; </pre></div></div><p>
In unserem Beispiel würde man also folgenden Befehl eingeben: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkfs.ext3 /dev/mapper/truecrypt1 </pre></div></div><p>
Da die Formatierung mit <a class="internal" href="../../sudo.html">Root-Rechten</a> durchgeführt wurde, ist der Besitzer des Dateisystems zunächst einmal <code class="notranslate">root</code>. Ändern lässt sich das folgendermaßen
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount /dev/mapper/truecrypt1 /mnt
sudo chown -R $(id -un):$(id -gn) /mnt </pre></div></div><p>
Dabei wird zuerst das gemappte Volume nach <code class="notranslate">/mnt</code> gemountet und anschließend allen Dateien und Ordnern der aktuell angemeldete Benutzer als Besitzer zugewiesen.</p><p>Sobald dies geschehen ist, kann das Laufwerk mit 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo umount /mnt
sudo truecrypt -d &lt;VolumenPfad&gt; </pre></div></div><p>
ausgehängt werden. Ab sofort kann das Dateisystem des TC-Laufwerks zum Lesen und Schreiben über die <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/GUI">GUI</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> oder aus dem Terminal <sup><a href="#source-1">[1]</a></sup> eingehängt werden.</p></div><div class="section_1"><h2 id="Truecrypt-bis-4-3">Truecrypt bis 4.3<a class="headerlink" href="#Truecrypt-bis-4-3">¶</a></h2><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
Bei allen hier angegebenen Pfaden handelt es sich um Beispiele. Um Datenverlust zu vermeiden dürfen diese auf keinen Fall ungeprüft übernommen werden.</p></div></div><p>
Das TC-Laufwerk wird zunächst als <em>gemapptes</em> Gerät mit folgendem Befehl <sup><a href="#source-1">[1]</a></sup> eingehängt.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo truecrypt --device-number 0 &lt;VolumenPfad&gt; </pre></div></div><p>
<code class="notranslate">&lt;VolumenPfad&gt;</code> gibt dabei an, wo das verschlüsselte Laufwerk liegt. Bei einem TC-Container (eine Datei) ist dies der Pfad zum Container, also z. B.: <code class="notranslate">~/truecrypt/container1.tc</code>, bei einer Partition ist es der Pfad zum Gerät, also z. B.: <code class="notranslate">/dev/sda5</code>. Die Nummer im Argument gibt die laufende Nummer des TrueCrypt-Laufwerks an. Die Zählung beginnt bei 0, d.h. das erste Laufwerk, das man mit TrueCrypt erstellt hat, trägt die Nummer <strong>0</strong>.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Das Gerät darf nicht bereits eingebunden sein. Ansonsten gibt es die Fehlermeldung: <em>device-mapper: reload ioctrl failed: Invalid argument</em>.</p></div></div><p>
Anschließend befindet sich im Verzeichnis <strong>/dev/mapper/</strong> ein neuer Eintrag <strong>truecrypt0</strong>. Auf dieses gemappte Gerät kann nun mit den <strong>mkfs.&lt;dateisystem&gt;</strong> Befehlen das gewünschte Dateisystem aufgesetzt werden. Mit dem nachfolgenden Befehl wird das gemappte Dateisystem z. B. mit <em>ext3</em> formatiert. Dabei werden <strong>alle bestehenden Daten gelöscht</strong>.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkfs.ext3 /dev/mapper/truecrypt0 </pre></div></div><p>
Nach der Formatierung wird das gemappte TC-Laufwerk wieder ausgehängt: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo truecrypt -d /dev/mapper/truecrypt0 </pre></div></div></div><div class="section_1"><h2 id="Versteckte-Laufwerke">Versteckte Laufwerke<a class="headerlink" href="#Versteckte-Laufwerke">¶</a></h2><p>
Ergänzend sei auf die Syntax für die Formatierung eines versteckten (hidden) TC-Laufwerke hingewiesen. Diese ist prinzipiell dieselbe wie oben beschrieben. Der Unterschied findet sich bei der Angabe des Passwortes: Hier ist bei Aufforderung von Truecrypt natürlich das Passwort des versteckten Laufwerkes anzugeben, nicht das des Äußeren.</p><p>Also bis Truecrypt 4.3:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo truecrypt -N [Ziffer] [-k] [/pfad/zu/schluesseldateien] [Geräte-/Dateiadresse] &amp;&amp; mkfs.[Filesystem] /dev/mapper/truecrypt[Ziffer] </pre></div></div><p>
Zur Erklärung:</p><table><tr><td style="background-color: #dddddd"><strong>Parameter</strong></td><td style="background-color: #dddddd"><strong>Funktion</strong></td></tr><tr><td><code class="notranslate">-N</code></td><td> Der Parameter N teilt Truecrypt mit, dass ein TC-Volumen zu mappen ist.</td></tr><tr><td> <code class="notranslate">[Ziffer]</code> </td><td> Definiert, um das wievielte Truecrypt-Volumen es sich handelt (s.o). Falls bereits TC-Volumen eingehängt sind, sollte man sich mit <code class="notranslate">truecrypt -vl</code> einen Überblick verschaffen und die erstbeste Ziffer nehmen, die von Truecrypt noch nicht verwendet wird. (I.d.R. ist diese die nächsthöhere, muss aber nicht sein.)</td></tr><tr><td> <code class="notranslate">-k</code></td><td> Option, falls man Schlüsseldateien nutzen will, gefolgt vom Pfad zu selbigen. Ansonsten weglassen.</td></tr><tr><td> <code class="notranslate">[Geräte/Dateiadresse]</code></td><td> Hier ist natürlich die entsprechende Geräteadresse bzw. Dateiadresse anzugeben, z. B. <strong>/dev/hda1</strong> oder <strong>/dev/sda1</strong>.</td></tr><tr><td> <code class="notranslate">&amp;&amp;</code> </td><td>verknüpft den Truecrypt-Mapping-Befehl mit dem Formatierungsaufruf (siehe <a class="internal" href="../../shell/operatoren.html">Shell/Operatoren</a>).</td></tr><tr><td> <code class="notranslate">mkfs.[Dateisystem]</code></td><td> z. B. mkfs.ext3, s.o. </td></tr><tr><td> <code class="notranslate">/dev/mapper/truecrypt[Ziffer]</code></td><td> korrespondiert mit <code class="notranslate">-N [Ziffer]</code>, s.o.</td></tr></table><p>
Nach 
<span class="key">⏎</span>  in der Shell fordert Truecrypt das Passwort - hier das des versteckten Laufwerks angeben!</p><p>Nach der Formatierung kann das versteckte TC-Laufwerk unter Angabe des Einhängepunktes wie gehabt eingehängt werden. Falls der obige Befehle mit einer Fehlermeldung abbrechen und nicht vollständig ausgeführt werden sollte, hilft es möglicherweise, die Befehle separat einzugeben.</p><hr/><p></p></div></div>
<p class="meta">
<a href="../../archiv/truecrypt/tc-laufwerk_formatieren/a/revision/120213.html">Diese Revision</a> wurde am 7. März 2009 15:29 von <a href="https://ubuntuusers.de/user/BigMc/">BigMc</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../../startseite.html">Wiki</a></li>
<li><a href="../../archiv.html">Archiv</a></li>
<li><a href="../../archiv/truecrypt.html">TrueCrypt</a></li>
<li><a href="../../archiv/truecrypt/tc-laufwerk_formatieren.html">TC-Laufwerk formatieren</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>