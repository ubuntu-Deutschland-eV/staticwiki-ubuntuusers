<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/TrueCrypt/Problembehebung › ubuntuusers statisches Wiki</title>
<link href="../../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../../archiv/truecrypt/problembehebung.html">Problembehebung</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/TrueCrypt/Problembehebung">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../../wiki/index.html">Index</a></li>
<li><a href="../../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../../wiki.html">Übersicht</a></li>
<li><a href="../../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../../kategorien.html">Kategorie</a></li>
<li><a href="../../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../../howto.html">Howto anlegen</a></li>
<li><a href="../../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../../baustelle.html">Baustellen</a></li>
<li><a href="../../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../../archiv/truecrypt/problembehebung/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../../archiv/truecrypt/problembehebung/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../../archiv/truecrypt/problembehebung/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../../archiv/truecrypt/problembehebung/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../../archiv/truecrypt/problembehebung/a/backlinks.html">Problembehebung</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p></div></div><p> </p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../../editor.html">Einen Editor öffnen</a> </p></li></ol></div></div><p>
Diese Seite gehört zu dem Beitrag <a class="internal" href="../../archiv/truecrypt.html">Archiv/TrueCrypt</a>. Es wird beschrieben, wie sich evtl. bei der Installation auftretende Probleme lösen lassen.</p><div class="section_1"><h2 id="Failed-to-load-TrueCrypt-kernel-module">Failed to load TrueCrypt kernel module<a class="headerlink" href="#Failed-to-load-TrueCrypt-kernel-module">¶</a></h2><p>
Dieser Fehler betrifft nur Ubuntu 7.10 <a class="internal" href="../../gutsy_gibbon.html">Gutsy Gibbon</a>.</p><pre class="notranslate">insmod: error inserting '/usr/share/truecrypt/kernel/truecrypt-2.6.22.ko': -1 Invalid module format
FATAL: Module truecrypt not found.
Failed to load TrueCrypt kernel module</pre><p>
Wenn dieser oder ein ähnlicher Fehler bei der Installation des TrueCrypt deb Paktes für Ubuntu 7.10 auftritt ist zunächst per</p><div class="bash"><div class="contents"><pre class="notranslate">uname -r </pre></div></div><p>
zu prüfen ob der Kernel "2.6.22-14-generic" verwendet wird, da das Modul nicht mit Kernel 2.6.22-14-386 lauffähig ist. Ist dem nicht so, muss man den generischen Kernel mit folgendem Befehl im Terminal installieren:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install linux-generic </pre></div></div><p>
Dies müsste den aktuellsten generischen Kernel auch automatisch im <a class="internal" href="../../grub.html">Bootmenü</a> eintragen. Danach muss das System neu gestartet werden! Anschließend sollten folgende Befehle ausgeführt werden</p><div class="bash"><div class="contents"><pre class="notranslate">mkdir -p /lib/modules/2.6.22-14-generic/kernel/misc
cp /usr/share/truecrypt/kernel/truecrypt-2.6.22.ko /lib/modules/2.6.22-14-generic/kernel/misc/truecrypt.ko
depmod -a
modprobe truecrypt </pre></div></div><p>
Wenn kein Fehler ausgegeben wurden konnte das TrueCrypt Modul erfolgreich geladen werden und das Problem ist behoben.</p></div><div class="section_1"><h2 id="header-file-dm-h-not-found">header file dm.h not found<a class="headerlink" href="#header-file-dm-h-not-found">¶</a></h2><p>
Mit Kernel 2.6.15 (Dapper Drake) erscheint bei der Installation aus dem Quellcode nach Aufruf des Befehls <strong>./build.sh</strong> möglicherweise die Fehlermeldung</p><pre class="notranslate">Checking build requirements...
Error: Kernel source code is incomplete - header file dm.h not found.</pre><p>
In diesem Fall wird als Lösung vorgeschlagen, die Datei <strong>build.sh</strong> mit einem Editor zu öffnen <sup><a href="#source-1">[1]</a></sup>, die Zeile 
</p><pre class="notranslate">KERNEL_SRC=/usr/src/linux-$(uname -r)</pre><p>
umzuändern in</p><pre class="notranslate">KERNEL_SRC=/usr/src/linux-source-2.6.15</pre><p>
und das Skript anschließend erneut aufzurufen.</p></div><div class="section_1"><h2 id="Error-in-source-file-line-35">Error in source file, line 35<a class="headerlink" href="#Error-in-source-file-line-35">¶</a></h2><p>
Mit Kernel 2.6.15 (Dapper Drake) erscheint bei der Installation aus dem Quellcode nach Aufruf des Befehls <strong>sudo ./build.sh</strong> möglicherweise die Fehlermeldung</p><pre class="notranslate">Building internal kernel modules (may take a long time)... In Datei, eingefügt von drivers/usb/net/zd1211/zdusb.c:41:
drivers/usb/net/zd1211/zddevlist.h:7:2: Fehler: #error "Error in source file, line 35"
make[4]: *** [drivers/usb/net/zd1211/zdusb.o] Fehler 1
make[3]: *** [drivers/usb/net/zd1211] Fehler 2
make[2]: *** [drivers/usb/net] Fehler 2
make[1]: *** [drivers/usb] Fehler 2
make: *** [drivers] Fehler 2</pre><p>
Hier sollte man die Datei <strong>/usr/src/linux-source-2.6.15/drivers/usb/net/zd1211/zddevlist.h</strong> in einem Editor mit Root-Rechten öffnen <sup><a href="#source-1">[1]</a></sup> und Zeile 7 auskommentieren: 
</p><pre class="notranslate">/*
 * This is auto generated file, do not edit manualy.
 *
 * Source file version:
 *      $Id: zddevlist,v 1.5 2005/08/20 10:21:47 sagamore Exp $
 *
 * #error "Error in source file, line 35"
 */
#define VENDOR_
...</pre><p>
Danach wieder <strong>sudo ./build.sh</strong> ausführen und TrueCrypt installieren. Im Nachhinein empfiehlt es sich, die Änderung an der Datei wieder rückgängig zu machen.</p></div><div class="section_1"><h2 id="Sekundenlange-Aussetzer-beim-Schreiben-auf-ein-Truecrypt-Laufwerk">Sekundenlange Aussetzer beim Schreiben auf ein Truecrypt-Laufwerk<a class="headerlink" href="#Sekundenlange-Aussetzer-beim-Schreiben-auf-ein-Truecrypt-Laufwerk">¶</a></h2><p>
Falls es bei Verwendung von ext3 in einem Truecrypt-Container (Datei oder Partition) alle paar Sekunden zu sekundenlangen "Hängern" des gesamten Systems kommt, bringt die Aktivierung eines Schreibpuffers (writeback buffer) für das Journal Linderung.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Der Schreibpuffer hält Veränderungen des Journals einige Zeit im Speicher und schreibt sie nur sporadisch auf die Platte. Bei Abstürzen, Stromausfall o.ä. kann es dadurch zu einer Inkonsistenz zwischen Journal und Daten auf der Platte kommen, welche man jedoch durch eine Reparatur durch <strong>fsck.ext3</strong> wieder beheben kann. Aus dem gleichen Grund sollte man externe Platten und Sticks mit aktiviertem Schreibpuffer auch <span class="underline">immer</span> korrekt aushängen/auswerfen, bevor man sie abzieht!</p></div></div><p>
Den Schreibpuffer kann man auf zwei Arten aktivieren:</p><p>1. Beim Mounten des Containers: 
</p><div class="bash"><div class="contents"><pre class="notranslate">truecrypt -M journal_data_writeback &lt;container&gt; &lt;mountpoint&gt; </pre></div></div><p>
Für &lt;container&gt; und &lt;mountpoint&gt; müssen wie gewohnt der Truecrypt-Container und der gewünschte Einhängepunkt im Verzeichnisbaum angegeben werden.</p><p>2. Permanent mittels <strong>tune2fs</strong> im Superblock des Containers eintragen: 
</p><div class="bash"><div class="contents"><pre class="notranslate">truecrypt -N 0 &lt;container&gt;
sudo tune2fs -o journal_data_writeback /dev/mapper/truecrypt0
truecrypt -d /dev/mapper/truecrypt0 </pre></div></div><p>
Bei der Variante mit tune2fs schließt man zuerst den Truecrypt-Container auf, ohne ihn zu mounten (die Option <code class="notranslate">-N x</code> mappt den entschlüsselten Container als <strong>/dev/mapper/truecryptx</strong>), da tune2fs nicht auf eingehängte Partitionen angewendet werden darf. Nach getaner Arbeit schließt man den Container wieder und kann ihn danach ganz normal einhängen. Der Journal-Schreibpuffer bleibt aktiv, auch ohne dass beim Einhängen die Option <code class="notranslate">-M journal_data_writeback</code> angegeben werden muss.</p><p>Fortan sollten keine Aussetzer mehr auftreten.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Truecrypt vergibt die Nummern fortlaufend. Wenn also z.B. bereits zwei Truecrypt-Container eingehangen sind, würden diese unter <strong>/dev/mapper/truecrypt0</strong> und <strong>/dev/mapper/truecrypt1</strong> gemappt sein. In diesem Fall müsste man für einen weiteren Container, bei dem mittels obiger Methode der writeback buffer aktiviert werden soll, <span class="underline">jede</span> "0" in obigem Beispiel mit einer "2" ersetzen, da der nächste freie Mapper-Eintrag <strong>/dev/mapper/truecrypt2</strong> wäre.</p></div></div><p>
Den im Superblock gespeicherten Writeback-Puffer kann man mittels eines <code class="notranslate">^</code> vor der Option wieder deaktivieren: 
</p><div class="bash"><div class="contents"><pre class="notranslate">truecrypt -N 0 container
sudo tune2fs -o ^journal_data_writeback /dev/mapper/truecrypt0
truecrypt -d /dev/mapper/truecrypt0 </pre></div></div><div class="section_2"><h3 id="text-mode">text mode<a class="headerlink" href="#text-mode">¶</a></h3><p>
Insbesondere unter KDE kann es zu der folgenden Fehlermeldung kommen:
<code class="notranslate">"This feature is currently supported only in text mode."</code>
In diesem Fall muß man lediglich zusätzlich den Parameter <strong>-t</strong> angeben. Der Vorgang läuft dann über das Terminal ab.</p><hr/><p></p></div></div></div>
<p class="meta">
<a href="../../archiv/truecrypt/problembehebung/a/revision/120207.html">Diese Revision</a> wurde am 7. März 2009 15:15 von <a href="https://ubuntuusers.de/user/BigMc/">BigMc</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../../startseite.html">Wiki</a></li>
<li><a href="../../archiv.html">Archiv</a></li>
<li><a href="../../archiv/truecrypt.html">TrueCrypt</a></li>
<li><a href="../../archiv/truecrypt/problembehebung.html">Problembehebung</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>