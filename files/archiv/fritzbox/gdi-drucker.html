<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/FritzBox/GDI-Drucker › ubuntuusers statisches Wiki</title>
<link href="../../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../../archiv/fritzbox/gdi-drucker.html">GDI-Drucker</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/FritzBox/GDI-Drucker">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../../wiki/index.html">Index</a></li>
<li><a href="../../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../../wiki.html">Übersicht</a></li>
<li><a href="../../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../../kategorien.html">Kategorie</a></li>
<li><a href="../../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../../howto.html">Howto anlegen</a></li>
<li><a href="../../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../../baustelle.html">Baustellen</a></li>
<li><a href="../../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../../archiv/fritzbox/gdi-drucker/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../../archiv/fritzbox/gdi-drucker/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../../archiv/fritzbox/gdi-drucker/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../../archiv/fritzbox/gdi-drucker/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../../archiv/fritzbox/gdi-drucker/a/backlinks.html">GDI-Drucker</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../../terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../../rechte.html">Rechte für Dateien und Ordner ändern</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#GDI-Drucker-einrichten">GDI-Drucker einrichten
</a></li><li><a class="crosslink" href="#Automatisierung">Automatisierung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Einen Drucker mit USB-Anschluss kann man einfach an eine Fritzbox anschließen, dort freigeben und er lässt sich via <a class="internal" href="../../cups.html">CUPS</a> über die Fritzbox erreichen bzw. nutzen. Im Prinzip stellt die Fritzbox einen primitiven Druckserver dar (nur den Drucker bereitstellen, keine Auftragsverwaltung usw.). Bei ausschließlich für den Betrieb unter Windows gedachten <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Graphics_Device_Interface">GDI</a>-Druckern gestaltet sich die Inbetriebnahme schwieriger. Bevor diese Drucker drucken können, muss zuerst eine spezielle Firmware in den Drucker geladen werden. Dies betrifft beispielsweise verschiedene Modelle des <a class="internal" href="../../archiv/hp_laserjet_10xx.html">HP LaserJet 10xx</a>.</p><p>Natürlich kann man einen GDI-Drucker auch einfach an die Fritzbox anschließen und freigeben. Vielleicht findet ihn CUPS auch, aber ohne Firmware kann er mit Druckbefehlen nichts anfangen. Und CUPS kümmert sich nicht darum, ihn "intelligent zu machen" und erst danach zu drucken. Für weitere Informationen siehe auch <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Laserdrucker#Softwaretreiber">hier</a>.</p><p>Eine alternative Vorgehensweise mit mehr Möglichkeiten - aber auch mehr Aufwand - findet sich im Artikel <a class="internal" href="../../nicht_unterstützte_drucker_als_windows-freigabe.html">Nicht unterstützte Drucker als Windows-Freigabe</a></p><div class="section_1"><h2 id="GDI-Drucker-einrichten">GDI-Drucker einrichten<a class="headerlink" href="#GDI-Drucker-einrichten">¶</a></h2><p>
Auch mit einem GDI-Drucker (z.B. HP Laserjet 1020) kann man über die Fritzbox drucken und damit von mehreren PCs auf den Drucker zugreifen. Dafür wird normalerweise beim Einschalten des Druckers erst die Firmware über die USB-Schnittstelle aufgespielt. Dies muss natürlich auch beim Anschluss über die Fritzbox erfolgen.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die nachfolgende Anleitung bezieht sich zwar auf eine Fritzbox und einen HP Laserjet 1020, sollte sich aber auf andere (vergleichbare) Router und andere GDI-Drucker sinngemäß übertragen lassen. Auf jeden Fall sollte man sie zuerst komplett lesen, da es zeitliche Abhängigkeiten in der Ausführung gibt.
</p></div></div><p>Zuerst den Drucker lokal an einem USB-Port einrichten (z.B. wie in <a class="internal" href="../../archiv/hp_laserjet_10xx.html">HP LaserJet 10xx</a> beschrieben). Hierbei wird u.a. ein Verzeichnis <strong>/usr/share/foo2zjs/firmware/</strong> erstellt, in dem sich z.B. die Datei <strong>sihp1020.dl</strong> (für HP Laserjet 1020) befindet. Das ist die angesprochene Firmwaredatei. Danach den Drucker an die Fritzbox anschließen und dort über die Weboberfläche nach Herstellerangabe freigeben (dabei aber keinen USB-Fernanschluss für den Drucker aktivieren). Anschließend ein Terminal <sup><a href="#source-1">[1]</a></sup> öffnen und Folgendes eingeben - aber ohne abschließendes 
<span class="key">⏎</span>  (zu den Details siehe <a class="internal" href="../../netcat.html">netcat</a>):</p><div class="bash"><div class="contents"><pre class="notranslate">cat /usr/share/foo2zjs/firmware/sihp1020.dl | netcat -w 1 192.168.178.1 9100 </pre></div></div><p>Dabei sind der Pfad und Name der Firmwaredatei an den eigenen Drucker anzupassen. <code class="notranslate">192.168.178.1</code> ist die Werks-IP der Fritzbox und ist ggf. anzupassen. Sie kann über die Web-Oberfläche der Fritzbox ermittelt werden. <code class="notranslate">9100</code> ist der Port, der sich bei Druckereinrichtung durch CUPS ergibt. Jetzt den Drucker einschalten und nach dessen Initialisierungsphase 
<span class="key">⏎</span>  drücken.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Nach dem 
<span class="key">⏎</span>  versucht das System, die Firmwaredatei hochzuladen. Dieses kann einen Moment dauern. Erfolg stellt man fest, wenn der Drucker ein Walzengeräusch von sich gibt, ggf. mehrfach ausführen. Im Terminal erscheint danach wieder der Prompt.</p><p>Mögliche Fehlerquelle im Ablauf:</p><p>Der Drucker geht nach einer gewissen Zeit in Standby (erkennbar an einem kurzen Geräusch). Es kann sein, dass er nach dieser Zeit nichts mehr annimmt. Dann muss man ihn zuerst einmal aus- und wieder einschalten, daher erst kurz vor dem Terminalbefehl einschalten. Ggf. kann man mit dem Parameter <code class="notranslate">-w 1</code> (= 1 Sekunde warten) experimentieren.
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Der Befehl ist immer nur einmal nach dem Einschalten des Druckers auszuführen. Drucken kann man dann beliebig oft - auch von anderen Rechnern aus.
</p></div></div><p>Jetzt kann man den Drucker auch noch als Netzwerkdrucker in CUPS einrichten (am besten einen anderen Namen als bei der lokalen Einrichtung, z.B. Laserjet-Fritzbox), ggf. einen Testdruck anfertigen. Danach kann man den Drucker auch im Standarddruckdialog auswählen. Alternativ kann man mit dem obigen Befehl durch Austausch des Firmware-Dateinamens gegen eine binäre Druckdatei (kein Postscript!) diese direkt drucken.</p></div><div class="section_1"><h2 id="Automatisierung">Automatisierung<a class="headerlink" href="#Automatisierung">¶</a></h2><p>
Zur Vereinfachung kann man eine Skriptdatei mit obiger Befehlszeile erstellen und diese ausführbar <sup><a href="#source-2">[2]</a></sup> machen. Leider muss man die Übertragung der Firmware nach jedem Ausschalten des Druckers erneut durchführen - oder den Drucker anlassen.</p><p>Umgehen kann man das nur, wenn man eine modifizierte Firmware für die Fritzbox verwendet (da diese für die Druckererkennung primär zuständig ist), Hinweise dafür finden sich im <a class="external" href="http://www.ip-phone-forum.de/showthread.php?t=184953" rel="nofollow">ip.phone-forum.de</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>. Andersherum könnte man auf dem eigenen PC einen Dienst laufen lassen, welcher permanent versucht, die Datei hoch zu laden.</p><p>Für Windows müsste man bei solchen Druckern eigentlich den <em>"USB-Fernanschluss"</em> von AVM installieren und in der Box aktivieren. Leider geht dort entweder <em>"Netzwerkdrucker"</em> oder <em>"Fernanschluss"</em> - beides zusammen nicht. Damit würde man auf Möglichkeiten des Fernanschlusses verzichten (Statusmeldungen des Druckers usw.).</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="../../fritzbox.html">FritzBox</a> - Weitere Artikel zum Thema FritzBox</p></li><li><p><a class="external" href="http://www.ip-phone-forum.de/showthread.php?t=184953" rel="nofollow">Hauptquelle dieses Beitrags</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="internal" href="../../nicht_unterstützte_drucker_als_windows-freigabe.html">Nicht unterstützte Drucker als Windows-Freigabe</a></p></li><li><p><a class="internal" href="../../archiv/hp_laserjet_10xx.html">HP LaserJet 10xx</a></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../../archiv/fritzbox/gdi-drucker/a/revision/785688.html">Diese Revision</a> wurde am 29. Januar 2015 13:52 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../../startseite.html">Wiki</a></li>
<li><a href="../../archiv.html">Archiv</a></li>
<li><a href="../../archiv/fritzbox.html">FritzBox</a></li>
<li><a href="../../archiv/fritzbox/gdi-drucker.html">GDI-Drucker</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>