<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/nxtvepg › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/nxtvepg.html">nxtvepg</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/nxtvepg">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/nxtvepg/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/nxtvepg/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/nxtvepg/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/nxtvepg/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/nxtvepg/a/backlinks.html">nxtvepg</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../sudo.html">Root-Rechte erlangen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#Fremdpaket">Fremdpaket
</a></li></ol></li><li><a class="crosslink" href="#Einrichtung">Einrichtung
</a></li><li><a class="crosslink" href="#Export">Export
</a><ol class="arabic"><li><a class="crosslink" href="#Automatisieren">Automatisieren
</a></li></ol></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a><ol class="arabic"><li><a class="crosslink" href="#Kompilieren-aus-dem-Quellcode">Kompilieren aus dem Quellcode
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./nxtv_logo.png" class="image-left" src="../_/a8f612917b31a128e775ec545c7bfb50a66f13ee.png"/> 
NexTView ist zentraleuropäischer Standard für einen EPG (elektronischen Programmführer), der über das Teletext-/Videotext- sowohl im analogen wie im digitalen TV-Signal übertragen wird. Mit der <a class="external" href="http://nxtvepg.sourceforge.net/index-de.html" rel="nofollow">nexTView EPG-Dekodersoftware</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> lassen sich diese Daten auswerten und in das <a class="internal" href="../xmltv.html">xmltv</a>-Format exportieren.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>nxtvepg ist nicht in der Lage, digitale EPGs zu dekodieren, kann also nicht mit DVB verwendet werden!
</p></div></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Die nexTView EPG-Dekodersoftware ist in der Version 2.7.6 in den offiziellen Paketquellen enthalten und kann hierüber installiert <sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>nxtvepg</strong> (<em>universe</em> )</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install nxtvepg </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install nxtvepg </pre></div></div><p>
</p></div></div><div class="section_2"><h3 id="Fremdpaket">Fremdpaket<a class="headerlink" href="#Fremdpaket">¶</a></h3><p>
In den offiziellen Paketquellen sind nur Pakete für <a class="internal" href="../lucid.html">Ubuntu 10.04</a> enthalten. Über die <a class="external" href="http://nxtvepg.sourceforge.net/download-de.html" rel="nofollow">Downloadseite</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> kann jedoch ein Fremdpaket heruntergeladen werden. Alternativ kann auch der Quellcode kompiliert werden.</p><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
<a class="internal" href="../fremdquellen.html">Fremdpakete</a> können das System gefährden. 
</p></div></div></div></div><div class="section_1"><h2 id="Einrichtung">Einrichtung<a class="headerlink" href="#Einrichtung">¶</a></h2><p>
Zuerst muss nxtvepg so eingerichtet werden, dass es auch die richtigen Fernsehsender findet, die in Deutschland die EPG-Informationen ausstrahlen. Dazu muss die grafische Oberfläche (GUI) gestartet werden. Dazu startet man ein Terminalfenster <sup><a href="#source-2">[2]</a></sup> und gibt folgenden Befehl ein:</p><div class="bash"><div class="contents"><pre class="notranslate">nxtvepg </pre></div></div><p>Anschließend startet man über <em>"Configure -&gt; Provider Scan -&gt; Start scan"</em> den Suchlauf nach EPG-Sendern. Nach dem Scan sollte sich das Fenster mit Sendungen füllen. Somit ist nxtvepg eigentlich ausreichend konfiguriert.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>In diesem Wiki ist öfters vom Verzeichnis <strong>.nxtvepg</strong> im eigenen <a class="internal" href="../homeverzeichnis.html">Homeverzeichnis</a> die Rede. Bei manchen Versionen heißt dieser Ordner allerdings <strong>.nxtvdb</strong>. In dem Fall ist dieser Ordner zu verwenden. 
</p></div></div><p><img alt="./nextview.png" class="image-right" src="../_/671d887a21ac9416219a66784aeb6524b75230fc.png"/></p></div><div class="section_1"><h2 id="Export">Export<a class="headerlink" href="#Export">¶</a></h2><p>
Nun müssen die EPG-Daten als XML exportiert werden. Dieses Format kann von <a class="internal" href="../xmltv.html">xmltv</a>-kompatiblen Programmen anschließend eingelesen werden. Dazu öffnet man im Nextview-Menü <em>"Control -&gt; Export as XMLTV..."</em>. Als Speicherort wählt man das Verzeichnis <strong>.nxtvepg</strong> aus dem eigenen Homeverzeichnis und als Dateinamen <strong>listings.xml</strong>.</p><div class="section_2"><h3 id="Automatisieren">Automatisieren<a class="headerlink" href="#Automatisieren">¶</a></h3><p>
Nun wäre es sehr aufwendig, die Daten des EPGs manuell auf dem aktuellen Stand zu halten; dies lässt sich mit einem <a class="internal" href="../cron.html">Cronjob</a> automatisieren.</p><p>Schritt eins dazu ist, beim Start des Computers Nextview EPG als Daemon zu starten. Da Nextview keine Skripte mitbringt, um direkt aus den Runlevels heraus gestartet zu werden, macht es Sinn das Programm über das Skript <strong>/etc/init.d/bootmisc.sh</strong> zu starten, da der Inhalt dieses Skriptes bei jedem Bootvorgang ausgefüht wird. Man fügt also an das Ende dieser Datei (<em>jedoch noch vor exit 0</em>) in einem Editor <sup><a href="#source-3">[3]</a></sup> mit Root-Rechten <sup><a href="#source-4">[4]</a></sup> folgende Zeilen an:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1">## EPG Starten</span>
su BENUTZERNAME -c <span class="s2">"/usr/bin/nxtvepg -daemon"</span>
</pre></div>
</td></tr></table></div><p>
<em>BENUTZERNAME</em> muss dabei gegen den Benutzer ausgetauscht werden, unter dem nexTView laufen soll. Am sinnvollsten ist es den Benutzer zu wählen, mit dem Nextview EPG bereits konfiguriert wurde.</p><p>Nextview wird also beim Systemstart als Daemon ausgeführt und sammelt im Hintergrund fleißig die EPG-Daten ein. Diese müssen jedoch noch regelmäßig in die <strong>listings.xml</strong> wandern. Über einen Cronjob werden nun stündlich (täglich, oder wie immer man will), die EPG-Daten ins XML-Format konvertiert.</p><p>Dazu muss ein Skript mit einem Editor <sup><a href="#source-4">[4]</a></sup> erstellt werden:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/bash</span>
/usr/bin/nxtvepg -provider d92 -dump xml &gt; ~/.nxtvepg/listings.xml
</pre></div>
</td></tr></table></div><p>Dies speichert man z.B. als <strong>update-epg</strong> im Verzeichnis <strong>.nxtvepg</strong> des eigenen Homeverzeichnisses ab. Möchte man die XMLTV-Daten in einer Anwendung verwenden, in der sich für die Zeitzone kein Offset einstellen lässt (z.B. bei <a class="internal" href="../archiv/ontv.html">OnTV</a>), kann es sinnvoll sein, gleich mit der Option <em>xml5ltz</em> statt <em>xml</em> die Uhrzeiten für die lokale Zeitzone zu exportieren.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die drei Zeichen identifizieren den <a class="external" href="http://nxtvepg.sourceforge.net/provnets.html" rel="nofollow">nexTView Provider</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - "man nxtvepg" sagt: -provider CNI Select a provider by its hexadecimal CNI (Country and Network Identifier), e.g. -provider d92 for Kabel1. You can find out the provider's CNI during a provider scan or from the database file names. Use the code FF for the merged database (in the last used configuration as saved in the rc/ini file). Man könnte also auch "FF" wählen, um die beiden EPG-Daten von RTL2 und Kabel1 zusammenzufügen, doch damit kann es zu Problemen kommen, da die Sendernamen von beiden Quellen unterschiedlich sind. 
</p></div></div><p>Nun muss das neu erstellte Skript noch ausführbar gemacht werden <sup><a href="#source-3">[3]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">chmod +x ~/.nxtvepg/update-epg </pre></div></div><p>
Schließlich und endlich fehlt nur noch ein Cronjob, der den Export automatisch aufruft:</p><div class="bash"><div class="contents"><pre class="notranslate">crontab -e </pre></div></div><p>
öffnet den im System eingestellten Standardeditor mit der Crontabelle für den aktuellen User. Dort fügt man dann folgenden Text ein, um den EPG z.B. zu jeder Stunde zu aktualisieren.</p><pre class="notranslate">## EPG stuendlich Updaten
0 * * * * ~/.nxtvepg/update-epg</pre><p>
Von nun an sollten immer die aktuellen EPG-Daten für <a class="internal" href="../xmltv.html">xmltv</a>-basierte Anwendungen zur Verfügung stehen. Wenn man gerade fernsieht und den Sender wechselt, kann Nextview EPG seine Daten nicht mehr aktualisieren.</p></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Kompilieren-aus-dem-Quellcode">Kompilieren aus dem Quellcode<a class="headerlink" href="#Kompilieren-aus-dem-Quellcode">¶</a></h3><p>
Möchte man eine aktuelle Version von der <a class="external" href="http://nxtvepg.sourceforge.net/download-de.html" rel="nofollow">Downloadseite</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> selbst kompilieren, erhält man unter Umständen folgende Fehlermeldung: 
</p><blockquote><p>"/usr/lib/tcl8.x is not a valid Tcl/Tk library directory".</p></blockquote><p>
Der Pfad der Bibliotheken ist unter Ubuntu ein anderer. Im <strong>makefile</strong> ändert man den Pfad wie folgt:</p><pre class="notranslate">## Falscher Pfad
TK_LIBRARY_PATH  = /usr/lib/tk$(TCL_VER)
TCL_LIBRARY_PATH = /usr/lib/tcl$(TCL_VER)
## Korrekter Pfad
TK_LIBRARY_PATH  = /usr/share/tcltk/tk$(TCL_VER)
TCL_LIBRARY_PATH = /usr/share/tcltk/tcl$(TCL_VER)</pre><p>
<a class="internal" href="../tcl.html">Tcl/Tk</a> 8.5 wie für die Version 2.8.1 empfohlen ist in den Paketquellen von Ubuntu enthalten.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="../tv-programmführer.html">TV-Programmführer</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Programmübersicht</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../archiv/nxtvepg/a/revision/658537.html">Diese Revision</a> wurde am 22. November 2013 08:05 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/nxtvepg.html">nxtvepg</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>