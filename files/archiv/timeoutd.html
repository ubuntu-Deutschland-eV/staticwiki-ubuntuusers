<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/timeoutd › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/timeoutd.html">timeoutd</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/timeoutd">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/timeoutd/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/timeoutd/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/timeoutd/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/timeoutd/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/timeoutd/a/backlinks.html">timeoutd</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Dienst-steuern">Dienst steuern
</a></li></ol></div><p>timeoutd ist ein Dienst, der Benutzer nach einer bestimmten Zeit der Aktivität bzw. Inaktivität automatisch ausloggen kann. So ist es möglich, die Länge einer Sitzung eines Benutzers oder die maximale Länge aller Sitzungen des Benutzers pro Tag zu limitieren. Oder auch die Zeit festlegen, nach der der Benutzer bei Inaktivität automatisch abgemeldet. Ebenso kann man Zeiten definieren, an denen Benutzer nicht angemeldet sein dürfen.</p><p>Hierbei ist es egal, ob der Benutzer in einer Desktopumgebung angemeldet ist, ob er eine virtuelle Konsole nutzt oder sich gar per <a class="internal" href="../ssh.html">SSH</a> auf dem Rechner eingeloggt hat. Zusätzlich kann es Benutzern auch verboten werden, sich überhaupt erst anzumelden.</p><p>Mit timeoutd lassen sich also effektiv Zugangsbedingungen zum Rechner definieren. Es wäre denkbar, beispielsweise den Zugang für Kinder auf eine definierte Anzahl von Stunden pro Tag zu begrenzen und nach einer bestimmten Uhrzeit eine Anmeldung unmöglich zu machen.</p><p><img alt="./timeoutd.jpg" class="image-right" src="../_/8395f78f2e3de891e85a4e190505cfcf2fde8685.png"/></p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Der Dienst ist bis <a class="internal" href="../natty.html">Ubuntu 11.04</a> in den Paketquellen von Ubuntu verfügbar. Es muss nur das folgende Paket installiert <sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>timeoutd</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install timeoutd </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install timeoutd </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Nach der Installation muss timeoutd konfiguriert werden. Dies geschieht über die Datei <strong>/etc/timeouts</strong>, die mit Root-Rechten <sup><a href="#source-3">[3]</a></sup> bearbeitet werden kann. Hier müssen Regeln hinzugefügt werden. Eine Regel besteht aus einer Zeile in der Art</p><pre class="notranslate">Gültigkeit:TTYS:User:Gruppe:Inaktivität:Sitzungsdauer:Gesamtsitzungsdauer:Warnung</pre><p>
bzw.</p><pre class="notranslate">Gültigkeit:TTYS:User:Gruppe:NOLOGIN</pre><p>wobei folgende Definitionen gelten.</p><table style="width: 95%"><tr><td colspan="3" style="text-align: center; background-color: #E2C890"><strong>Optionswerte für eine Regel des timeoutd</strong></td></tr><tr style="background-color: #F9EAAF"><td> <strong>Option</strong> </td><td> <strong>Allgemein</strong> </td><td> <strong>Erklärung</strong> </td></tr><tr><td> <code class="notranslate">Gültigkeit</code> </td><td> <code class="notranslate">DD[DD...][SSSS-EEEE]</code> </td><td> <code class="notranslate">DD</code> steht für die Tage an denen die Regel aktiv sein soll. Möglich sind <code class="notranslate">Mo</code>, <code class="notranslate">Tu</code>, <code class="notranslate">We</code>, <code class="notranslate">Th</code>, <code class="notranslate">Fr</code>, <code class="notranslate">Sa</code>, <code class="notranslate">Su</code>, <code class="notranslate">Wk</code> und <code class="notranslate">Al</code>. Wk steht für Werktage, Al für die ganze Woche. <br/> <code class="notranslate">SSSS</code> sowie <code class="notranslate">WWWW</code> für die Uhrzeit, in der die Regel aktiv sein soll. Die Zeit wird im 24h Format angegeben.</td></tr><tr style="background-color: #EEEEEE"><td> <code class="notranslate">TTYS</code> </td><td> <code class="notranslate">ttyS*</code> </td><td> Hier kann der Zugang pro Terminal reglementiert werden. In Zeiten, in denen Rechner nur mehr selten über Terminalrechner bedient werden, sollte man hier einfach nur "*" eintragen. </td></tr><tr><td> <code class="notranslate">User</code> </td><td> <code class="notranslate">otto,paul,anna</code> </td><td> Kommagetrennte Liste der Benutzer, die die Regel betreffen soll. </td></tr><tr style="background-color: #EEEEEE"><td> <code class="notranslate">Gruppe</code> </td><td> <code class="notranslate">schueler,kinder</code> </td><td> Kommagetrennte Liste der Gruppen, die die Regel betreffen soll. </td></tr><tr><td> <code class="notranslate">Inaktivität</code> </td><td> <code class="notranslate">&lt;zeit in min&gt;</code> </td><td> Zeit bei Inakativität, bis der Benutzer ausgeloggt wird. </td></tr><tr style="background-color: #EEEEEE"><td> <code class="notranslate">Sitzungsdauer</code> </td><td> <code class="notranslate">&lt;zeit in min&gt;</code> </td><td> Zeit, die eine Sitzung maximal dauern darf. </td></tr><tr><td> <code class="notranslate">Gesamtsitzungsdauer</code> </td><td> <code class="notranslate">&lt;zeit in min&gt;</code> </td><td> Zeit, die ein Benutzer maximal am Tag eingeloggt sein darf. </td></tr><tr style="background-color: #EEEEEE"><td> <code class="notranslate">Warnung</code> </td><td> <code class="notranslate">&lt;zeit in min&gt;</code> </td><td> Blendet eine Warnung ein, die dem Benutzer mitteilt, dass seine Sitzung in X Minuten beendet wird. </td></tr></table><p>
Ein Spezialfall ist die Option <code class="notranslate">NOLOGIN</code>. Hier werden keine weiteren Angaben mehr zur Sitzungsdauer usw. gemacht. NOLOGIN definiert eine Zeit, an der die betroffenen Benutzer/Gruppen nicht mehr angemeldet sein bzw. sich auch nicht mehr anmelden dürfen. Bestehende Sitzungen werden beendet und falls sich ein Benutzer neu anmeldet, so wird die Sitzung umgehend wieder geschlossen.</p><p>Wenn diese Option für Benutzer/Gruppen genutzt werden soll, es für diese aber noch eine weitere Regel geben soll, so muss diese nach den Zeilen mit <code class="notranslate">NOLOGIN</code> stehen (s. Beispiel 4).</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Unter <a class="internal" href="../natty.html">Ubuntu 11.04</a> verhält sich timeoutd etwas anders, wenn man versucht, sich in den mit der Option <code class="notranslate">NOLOGIN</code> gekennzeichneten Zeiten anzumelden. Die Anmeldung wird nicht sofort verhindert, sondern es ist ein Login möglich. Der Benutzer wird erst nach 30-60 Sekunden darauf hingewiesen, dass er sich nicht anmelden darf und dann automatisch abgemeldet.
</p></div></div><p>Damit eine neue Regel aktiv wird, darf man nicht vergessen, den Dienst die Konfiguration neu einlesen zu lassen. Informationen hierzu findet man weiter unten bei <a class="crosslink" href="#Dienst-steuern">Steuerung</a>.</p><div class="section_2"><h3 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h3><p>
Im folgenden sollen ein paar Beispiele den Einsatz von timeoutd erklären.</p><pre class="notranslate"># Beispiel 1: Otto darf insgesamt nicht mehr als 180 Minuten am Tag angemeldet sein
# fünf Minuten vor Ende dieser Zeit wird er gewarnt. Die Beschränkung gilt jeden Tag.
Al:*:otto:*:*:*:180:5

# Beispiel 2: Alle Mitglieder der Gruppe "user" werden automatisch nach 15 Minuten
# Inaktivität abgemeldet. 
Al:*:*:user:15:*:*:*

# Beispiel 3: Alle Mitglieder der Gruppe "kinder" dürfen sich Werktags nach 22
# Uhr nicht mehr anmelden. Am Freitag und Samstag bis 24 Uhr. Bestehende
# Sitzungen werden um 22 bzw. 23:59 Uhr beendet.
Wk2200-0700:*:*:kinder:NOLOGIN
FrSa2359-0700:*:*:kinder:NOLOGIN

# Beispiel 4: Benutzer Fred darf sich Werktags und am Wochenende vor 14 Uhr und 
# nach 20 Uhr nicht mehr anmelden.
# Zu den anderen Zeiten darf er maximal 2 Stunden pro Tag angemeldet sein.
Wk2000-1400:*:fred:*:NOLOGIN
FrSa2000-1400:*:*:kinder:NOLOGIN
Al:*:fred:*:*:*:120:10</pre></div></div><div class="section_1"><h2 id="Dienst-steuern">Dienst steuern<a class="headerlink" href="#Dienst-steuern">¶</a></h2><p>
Wie alle anderen <a class="internal" href="../dienste.html">Dienste</a> bringt timeoutd Start/Stop-Skripte mit. Diese Skripte lassen sich natürlich auch zum Kontrollieren des Dienstes gebrauchen. In einem Terminal <sup><a href="#source-2">[2]</a></sup> muss dazu folgendes eingegeben werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/timeoutd </pre></div></div><p>
Beispiele:
</p><ul><li><p><em>"start"</em> - Startet den Dienst </p></li><li><p><em>"stop"</em> - Stoppt den Dienst </p></li><li><p><em>"restart"</em> - Startet den Dienst neu </p></li><li><p><em>"reload"</em> bzw. <em>"force-reload"</em> - Liest die Konfigurationsdateien neu ein</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../archiv/timeoutd/a/revision/796278.html">Diese Revision</a> wurde am 3. März 2015 15:04 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/timeoutd.html">timeoutd</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>