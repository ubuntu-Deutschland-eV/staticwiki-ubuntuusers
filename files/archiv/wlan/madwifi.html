<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/WLAN/MadWifi › ubuntuusers statisches Wiki</title>
<link href="../../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../../archiv/wlan/madwifi.html">MadWifi</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/WLAN/MadWifi">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../../wiki/index.html">Index</a></li>
<li><a href="../../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../../wiki.html">Übersicht</a></li>
<li><a href="../../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../../kategorien.html">Kategorie</a></li>
<li><a href="../../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../../howto.html">Howto anlegen</a></li>
<li><a href="../../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../../baustelle.html">Baustellen</a></li>
<li><a href="../../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../../archiv/wlan/madwifi/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../../archiv/wlan/madwifi/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../../archiv/wlan/madwifi/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../../archiv/wlan/madwifi/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../../archiv/wlan/madwifi/a/backlinks.html">MadWifi</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../../paketquellen_freischalten/ppa.html">Verwenden eines PPAs</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../../terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../../kernelmodule.html">Umgang mit Kernelmodulen (Treibern)</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../../packprogramme.html">Archive entpacken</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#PPA">PPA
</a></li><li><a class="crosslink" href="#Manuell">Manuell
</a></li></ol></li><li><a class="crosslink" href="#Besonderheiten-an-Madwifi">Besonderheiten an Madwifi
</a><ol class="arabic"><li><a class="crosslink" href="#Schnittstelle-einrichten">Schnittstelle einrichten
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./madwifi_logo.png" class="image-left" src="../../_/03b01d695dae91e84e3e9d67a8fc38b3acd7d85d.png"/>
<a class="external" href="http://madwifi-project.org/" rel="nofollow">Madwifi</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein Treiberprojekt für auf Chipsätzen von Atheros basierenden <a class="internal" href="../../wlan.html">WLAN</a>-Karten. Das Kernelmodul unterstützt nicht nur den normalen Client-Modus, sondern auch einige andere nette <a class="crosslink" href="#Besonderheiten-an-Madwifi">Funktionen</a> wie virtuelle Schnittstellen. Damit kann man bspw. eine WLAN-Verbindung (z.B. zu einem Hotspot im Flughafen) aufbauen und über die gleiche WLAN-Karte einen eigenen Access Point anbieten, um diese Verbindung weiterzureichen.</p><p>In den meisten Fällen sind die vom selben Projekt entwickelten, offenen Treiber ath5k und ath9k vorzuziehen. Diese sollten automatisch genutzt werden. Gerade bei älteren Chipsätzen wie dem AR5001 erreicht man mit den MadWifi-Treibern allerdings eine deutlich bessere Verbindungsqualität. Bei der Entscheidung hilft eine <a class="external" href="http://madwifi-project.org/wiki/Compatibility" rel="nofollow">Liste unterstützter Netzwerkkarten</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> weiter.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Laut der offiziellen <a class="external" href="http://madwifi-project.org/wiki/UserDocs/Distro/Ubuntu" rel="nofollow">Anleitung</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> für Ubuntu reicht es aus, in der <a class="internal" href="../../restricted-manager.html">Verwaltung eingeschränkter Treiber</a> (Jockey) das Kernelmodul zu aktivieren.</p><div class="section_2"><h3 id="PPA">PPA<a class="headerlink" href="#PPA">¶</a></h3><p>
Es gibt ein "Personal Package Archiv" (PPA) <sup><a href="#source-1">[1]</a></sup>, das den MadWifi-Treiber via <a class="internal" href="../../dkms.html">DKMS</a> einbindet. Das hat gegenüber der manuellen Installation den großen Vorteil, dass der Treiber bei jedem Kernel-Update automatisch neu kompiliert wird. Leider ist das PPA nur für <a class="internal" href="../../precise.html">Ubuntu 12.04</a> verfügbar.</p><p>Adresszeile zum <a class="internal" href="../../paketquellen_freischalten/ppa.html#PPA-hinzufuegen">Hinzufügen</a> des PPAs:
</p><ul><li><p><strong>ppa:smoser/madwifi</strong> </p></li></ul><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
Zusätzliche <a class="internal" href="../../fremdquellen.html">Fremdquellen</a> können das System gefährden. 
</p><hr/><p>Ein PPA unterstützt nicht zwangsläufig alle Ubuntu-Versionen. Weitere Informationen sind der <img alt="Wiki/Vorlagen/PPA/ppa.png" class="image-default" src="../../_/237f3a0f00c3091056c1a912d81e924e8391ed6b.png"/> <a class="external" href="https://launchpad.net/~smoser/+archive/madwifi" rel="nofollow">PPA-Beschreibung</a> des Eigentümers/Teams <a class="interwiki interwiki-lpuser" href="https://launchpad.net/~smoser">smoser</a> zu entnehmen.
</p></div></div><p>
Damit Pakete aus dem PPA genutzt werden können, müssen die Paketquellen <a class="internal" href="../../paketquellen_freischalten.html">neu eingelesen</a> werden.</p><p>Nach dem Aktualisieren der Paketquellen kann das folgende Paket installiert <sup><a href="#source-2">[2]</a></sup> werden:
</p><ul><li><p><strong>madwifi-dkms</strong> (<em>ppa</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install madwifi-dkms </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install madwifi-dkms </pre></div></div><p>
</p></div></div><p>Der neue Treiber muss anschließend noch mit der "Verwaltung eingeschränkter Treiber" aktiviert werden.</p><p>Will man den Treiber ohne Neustart nutzen, müssen zuvor genutzte Module entfernt werden und das MadWifi-Modul manuell geladen werden. Zuerst findet man heraus, welches Modul gerade genutzt wird <sup><a href="#source-3">[3]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">lsmod | grep ath </pre></div></div><p>
Im Folgenden muss <code class="notranslate">KERNELMODUL</code> durch das Ergebnis ersetzt werden (<strong>ath5k</strong> oder <strong>ath9k</strong>). Danach wird das soeben ermittelte Modul entfernt werden und das MadWifi-Modul geladen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe -r KERNELMODUL
sudo modprobe ath_pci </pre></div></div></div><div class="section_2"><h3 id="Manuell">Manuell<a class="headerlink" href="#Manuell">¶</a></h3><p>
Alternativ kann das Kernelmodul selbst kompiliert werden. Als Vorbereitung braucht man das folgende Paket:</p><ul><li><p><strong>build-essential</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install build-essential </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install build-essential </pre></div></div><p>
</p></div></div><p>
Außerdem wird das Paket <strong>linux-headers</strong> passend zur eigenen Kernel-Version und -Architektur (<code class="notranslate">-generic</code>, <code class="notranslate">-386</code>, <code class="notranslate">-generic-pae</code> usw.) benötigt. Dieses Paket lässt sich über den folgenden Befehl installieren:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install linux-headers-$(uname -r) </pre></div></div><p>Nun lädt man die <a class="external" href="http://snapshots.madwifi-project.org/" rel="nofollow">aktuellste Version</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> <img alt="{dl}" src="../../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> des Quellcodes herunter, kompiliert und installiert diese. Das Kompilieren und Installieren muss nach jedem Kernel-Update wiederholt werden. Daher empfiehlt es sich, den Sourcecode des Kernelmoduls in einem Verzeichnis wie <strong>~/.source</strong> zu behalten. In einem Terminal gibt man folgendes ein:</p><div class="bash"><div class="contents"><pre class="notranslate">mkdir -p $HOME/.source
cd $HOME/.source
wget http://snapshots.madwifi-project.org/madwifi-0.9.4-current.tar.gz
tar xzf madwifi-0.9.4-current.tar.gz
cd madwifi-0.9.4-r*
make &amp;&amp; sudo make install </pre></div></div><p>Zur Aktivierung der neuen Treiber (und Deaktivierung der ath5k/ath9k-Treiber) nutzt man am besten die "Verwaltung eingeschränkter Treiber. Sollte dieses aus irgendeinem Grund nicht klappen, muss man von Hand die Kernelmodule <code class="notranslate">ath5k</code> bzw. <code class="notranslate">ath9k</code> <a class="internal" href="../../kernelmodule.html#blacklisting">blacklisten</a> und dafür sorgen, dass <code class="notranslate">ath_pci</code> nicht geblacklistet ist.</p><div class="section_3"><h4 id="Kernel-Update">Kernel-Update<a class="headerlink" href="#Kernel-Update">¶</a></h4><p>
Nach einem Kernel-Update wird der madwifi-Treiber in der Regel nicht mehr funktionieren und muss neu kompiliert werden. Dies geht - wenn man dem Tipp von oben gefolgt ist - ganz schnell im Terminal:</p><div class="bash"><div class="contents"><pre class="notranslate">cd $HOME/.source
make clean &amp;&amp; make &amp;&amp; sudo make install </pre></div></div><p>
Nun kann man den Treiber mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe ath_pci
sudo restart networking </pre></div></div><p>
laden. Alternativ kann man natürlich auch den Rechner neu starten.</p></div></div></div><div class="section_1"><h2 id="Besonderheiten-an-Madwifi">Besonderheiten an Madwifi<a class="headerlink" href="#Besonderheiten-an-Madwifi">¶</a></h2><p>
Das Besondere an Madwifi ist, dass es ein direktes Hardwareinterface bereitstellt, welches <code class="notranslate">wifi0</code> (für die 1. Karte, <code class="notranslate">wifi1</code> für die 2. usw.) heißt und auf diesem erst die normalen Interfaces hinzufügt. Diese Interfaces heißen dann normalerweise <code class="notranslate">ath0</code>, <code class="notranslate">ath1</code>, ...!</p><div class="section_2"><h3 id="Schnittstelle-einrichten">Schnittstelle einrichten<a class="headerlink" href="#Schnittstelle-einrichten">¶</a></h3><p>
Als erstes muss die "alte" Schnittstelle (interface) entfernt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">wlanconfig ath0 destroy </pre></div></div><p>
Dann kann man eine neue hinzufügen. Die Befehle für den jeweiligen Modus lauten:</p><ul><li><p>Client-Modus: </p><div class="bash"><div class="contents"><pre class="notranslate">wlanconfig ath0 create wlandev wifi0 wlanmode sta </pre></div></div></li><li><p>Access Point-Modus: </p><div class="bash"><div class="contents"><pre class="notranslate">wlanconfig ath0 create wlandev wifi0 wlanmode ap </pre></div></div></li><li><p>Monitor-Modus: </p><div class="bash"><div class="contents"><pre class="notranslate">wlanconfig ath0 create wlandev wifi0 wlanmode monitor </pre></div></div></li></ul><p>
So lassen sich auch mehrere virtuelle Interfaces (<code class="notranslate">ath1</code>, <code class="notranslate">ath2</code>, usw.) einrichten. Setzt man eines davon in den Client-Modus und ein weiteres in AP-Modus, kann man über eine Netzwerkbrücke und hostapd die WLAN-Verbindung über einen Access Point auf derselben Karte weiterreichen. Details sind dem Artikel <a class="internal" href="../../wlan_router.html">WLAN Router</a> zu entnehmen.</p><p>Damit die virtuellen Interfaces automatisch beim Systemstart erzeugt werden, können die notwendigen Befehle in der Datei <strong>/etc/rc.local</strong> eingetragen werden. Dann genügt es, über den <a class="internal" href="../../networkmanager.html">NetworkManager</a> eine Verbindung aufzubauen und danach einen Access Point zu starten.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://madwifi-project.org/" rel="nofollow">Projektseite</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="internal" href="../../wlan.html">WLAN</a> <img alt="{Übersicht}" src="../../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../../archiv/wlan/madwifi/a/revision/939598.html">Diese Revision</a> wurde am 5. Mai 2017 16:53 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../../startseite.html">Wiki</a></li>
<li><a href="../../archiv.html">Archiv</a></li>
<li><a href="../../archiv/wlan.html">WLAN</a></li>
<li><a href="../../archiv/wlan/madwifi.html">MadWifi</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>