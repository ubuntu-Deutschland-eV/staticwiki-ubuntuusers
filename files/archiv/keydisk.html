<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Keydisk › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/keydisk.html">Keydisk</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Keydisk">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/keydisk/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/keydisk/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/keydisk/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/keydisk/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/keydisk/a/backlinks.html">Keydisk</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../paketquellen_freischalten.html">Bearbeiten von Paketquellen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../pakete_installieren.html">Installation von Paketen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../editor.html">Einen Texteditor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../datenträger.html">Datenträger</a> </p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="../home_umziehen.html">Home umziehen</a> </p></li><li><p><a class="crosslink anchor" href="#source-7" id="source-7"></a> <a class="internal" href="../notfall.html">"Betreten" des installierten Systems von einer Live-CD aus</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Voraussetzungen">Voraussetzungen
</a></li><li><a class="crosslink" href="#Backup-der-Daten">Backup der Daten
</a></li><li><a class="crosslink" href="#Partitionen-anlegen">Partitionen anlegen
</a></li><li><a class="crosslink" href="#Schluesseldiskette-erstellen">Schlüsseldiskette erstellen
</a></li><li><a class="crosslink" href="#Partitionen-mit-Schluessel-verschluesseln">Partitionen mit Schlüssel verschlüsseln:
</a></li><li><a class="crosslink" href="#Dateisystem-auf-Cryptpartitionen-anlegen">Dateisystem auf Cryptpartitionen anlegen
</a></li><li><a class="crosslink" href="#crypttab-editieren">crypttab editieren
</a></li><li><a class="crosslink" href="#fstab-anpassen">fstab anpassen
</a></li><li><a class="crosslink" href="#Cryptpartitionen-einbinden-und-Backup-zurueckspielen">Cryptpartitionen einbinden und Backup zurü...</a></li><li><a class="crosslink" href="#md5sum-vom-keyfile-erstellen">md5sum vom keyfile erstellen
</a></li><li><a class="crosslink" href="#Initscript-erstellen">Initscript erstellen
</a></li><li><a class="crosslink" href="#Optional-Kennwort-fuer-root-vergeben">(Optional) Kennwort für root vergeben
</a></li><li><a class="crosslink" href="#Verzeichnisse-anlegen-und-Berechtigungen-anpassen">Verzeichnisse anlegen und Berechtigungen a...</a></li><li><a class="crosslink" href="#Erster-Test">Erster Test
</a></li></ol></div><p>Die folgende Anleitung wendet sich an fortgeschrittene Benutzer, die bereits mit der Einrichtung von Dateisystemen vertraut sind. 
</p><div class="section_1"><h2 id="Voraussetzungen">Voraussetzungen<a class="headerlink" href="#Voraussetzungen">¶</a></h2><p>
</p><ul><li><p>Es wird das Paket <strong>cryptsetup</strong> (<em>universe</em>) benötigt. </p></li><li><p>Diese Kernel-Module müssen zum Start geladen sein: </p><ul><li><p><strong>aes</strong> </p></li><li><p><strong>dm-mod</strong> </p></li><li><p><strong>dm-crypt</strong> </p></li></ul></li></ul><p>Die in dieser Anleitung angebenen Gerätedateien <strong>/dev/hdXY</strong>, <strong>/dev/hdXZ</strong> usw. stehen als Variablen und sind durch die tatsächliche Bezeichnung der Partitionen (z.B. <strong>/dev/hda2</strong>, <strong>/dev/hda5</strong>, <strong>/dev/sda3</strong> o.a.) zu ersetzen.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Es empfielt sich VOR der Durchführung der folgenden Schritte in den Single-User Betrieb (Runlevel 1) zu wechseln und den Xserver sowie alle nicht benötigen Systemdienste zu stoppen. Bis auf den letzten Schritt, für den die Verwendung einer Live-CD zwingend erforderlich ist, können alle Schritte aus dem Runlevel 1 ausgeführt werden.</p></div></div></div><div class="section_1"><h2 id="Backup-der-Daten">Backup der Daten<a class="headerlink" href="#Backup-der-Daten">¶</a></h2><p>
Als erstes muss eine Sicherung der Daten unter <strong>/var</strong> und <strong>/home</strong> erfolgen. Mit diesen Befehlen werden die Verzeichnisse <strong>/var</strong> und <strong>/home</strong> gesichert. Achtung! Den Punkt am Ende des Befehls nicht vergessen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -s 
cd  /var    
tar -cpjvf /root/bak_var.tar.bz2 . 
cd /home 
tar -cpjvf /root/bak_home.tar.bz2 .  </pre></div></div></div><div class="section_1"><h2 id="Partitionen-anlegen">Partitionen anlegen<a class="headerlink" href="#Partitionen-anlegen">¶</a></h2><p>
Falls noch nicht vorhanden, jeweils eine separate Partition für <strong>/tmp</strong>, <strong>/var</strong>, <strong>/swap</strong> und <strong>/home</strong> anlegen. Siehe dazu auch <a class="internal" href="../daten_verschlüsseln.html">hier</a>.</p><p>Wer ganz sicher gehen will, kann vor dem Anlegen des Dateisystems die Partition mit Zufallsdaten beschreiben. So kann ein Angreifer nicht ermitteln, wieviel Prozent der Platte mit Daten belegt und wieviel Prozent noch frei sind. Abhilfe schafft folgender Befehl, der die Partition mit Zufallsdaten auffüllt: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dd if=/dev/urandom of=/dev/hdxY </pre></div></div><p>
Weitere Infos sind hier zu finden: <a class="external" href="http://www.linuxjournal.com/article/7743" rel="nofollow">Encrypt Your Root Filesystem</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></div><div class="section_1"><h2 id="Schluesseldiskette-erstellen">Schlüsseldiskette erstellen<a class="headerlink" href="#Schluesseldiskette-erstellen">¶</a></h2><p>
Eine leere Diskette einlegen, dann ein ext2-Dateisystem (kein ext3-Dateisystem!)und einen zufällig generierten Schlüssel erzeugen.  Aus Sicherheitsgründen ist darauf zu achten, dass das Dateisystem auf der Diskette kein journaling Dateisystem ist.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -s 
mkfs.ext2 /media/floppy 
mount /media/floppy 
cat /dev/random &gt; /media/floppy/keyfile  </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Je nach Rechnerleistung kann das erstellen der Keyfile lange Ladezeiten beanspruchen</p></div></div></div><div class="section_1"><h2 id="Partitionen-mit-Schluessel-verschluesseln">Partitionen mit Schlüssel verschlüsseln:<a class="headerlink" href="#Partitionen-mit-Schluessel-verschluesseln">¶</a></h2><p>
Nun verschlüsselte Partitionen anlegen (für die Gerätedateien <strong>/dev/hdXY</strong> bzw. <strong>/dev/hdXZ</strong> die Geräte-Bezeichnung der <strong>/home</strong> bzw. <strong>/var</strong>-Partition angeben)</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -s
cryptsetup create -d /media/floppy/keyfile home /dev/hdXY 
cryptsetup create  -d /media/floppy/keyfile var /dev/hdXZ </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Der obige Befehl erzeugt je ein neues Mapper-Device pro Cryptdisk (<strong>/dev/mapper/xxx</strong>), wobei xxx der Bezeichnung entpricht, die bei der Erstellung des Cryptdevices angegeben wurde, in diesem Falle also home und var.</p></div></div></div><div class="section_1"><h2 id="Dateisystem-auf-Cryptpartitionen-anlegen">Dateisystem auf Cryptpartitionen anlegen<a class="headerlink" href="#Dateisystem-auf-Cryptpartitionen-anlegen">¶</a></h2><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">mkfs.ext3 /dev/mapper/home
mkfs.ext3 /dev/mapper/var </pre></div></div></div><div class="section_1"><h2 id="crypttab-editieren">crypttab editieren<a class="headerlink" href="#crypttab-editieren">¶</a></h2><p>
Jetzt solle die <strong>/etc/crypttab</strong> bearbeitet werden <sup><a href="#source-4">[4]</a></sup> und folgende Einträge vorgenommen werden (Gerätedateien wieder entsprechend anpassen):</p><pre class="notranslate"># &lt;target device&gt; &lt;source device&gt; &lt;key file&gt; &lt;options&gt; 
swap    /dev/hdXW       /dev/random     swap 
tmp     /dev/hdXV       /dev/random      tmp       
home  /dev/hdXY       /media/floppy/keyfile 
var     /dev/hdXZ       /media/floppy/keyfile </pre><p>
Die ersten beiden Einträge erzeugen bei jedem Start jeweils ein mit einem zufälligen Schlüssel verschlüsseltes swap-Dateisystem auf der angegebenen Swap-Partition  und ein ext2-Dateisystem auf der angegebenen tmp-Partition. Zu beachten ist, dass diese Partitionen bei jedem Neustart neu formatiert werden, da der Schlüssel jedesmal anders ist.  Die letzten zwei Einträge starten die von uns angelegten Cryptpartitionen für <strong>/home</strong> und <strong>/var</strong> und lesen dabei den Schlüssel von der Diskette (die Diskette nicht verlieren, sonst kommt man nicht mehr an die Daten ran).</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Evtl. ist es besser die verschluesselten Partitionen mit</p><p>cryptsetup -c aes-cbc-essiv:sha256 -y luksFormat /dev/hdXY</p><p>die optionen sind nur als Beispiel anzusehen) anzulegen und ein Passwort (fuer den Notfall) anzugeben. Danach kann das Keyfile mit</p><p>cryptsetup luksAddKey /dev/hdXY /media/floppy/keyfile</p><p>eingebunden werden, dann kann man jederzeit auch wenn die keydisk im Eimer ist wieder an die Daten rankommen.
Wenn man noch auf den md5 check des keyfiles verzichten kann und will muss einfach in /etc/default/cryptdisks ein
CRYPTDISKS_MOUNT="/media/floppy" angeben. dann kann man das einbinden des Scripts ins init.d getrost vergessen. 
</p></div></div></div><div class="section_1"><h2 id="fstab-anpassen">fstab anpassen<a class="headerlink" href="#fstab-anpassen">¶</a></h2><p>
In der Datei <strong><a class="internal" href="../fstab.html">/etc/fstab</a></strong> sind die Einträge für <strong>/tmp</strong>, <strong>/var</strong> <strong>/home</strong> und <strong>swap</strong> entsprechend ergänzen bzw. anpassen <sup><a href="#source-4">[4]</a></sup>:</p><pre class="notranslate">/dev/mapper/swap              swap                  swap    defaults        0 0 
/dev/mapper/home             /home                ext3    defaults        1 2 
/dev/mapper/tmp               /tmp                   ext2    defaults        0 0 
/dev/mapper/var                /var                    ext3    defaults        1 2 </pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Das Dateisystem von <strong>/home</strong> und <strong>/var</strong> berücksichtigen. Falls ein anderes Dateisystem als ext3 gewählt wurde, muss dies auch in der fstab geändert werden.</p></div></div></div><div class="section_1"><h2 id="Cryptpartitionen-einbinden-und-Backup-zurueckspielen">Cryptpartitionen einbinden und Backup zurückspielen<a class="headerlink" href="#Cryptpartitionen-einbinden-und-Backup-zurueckspielen">¶</a></h2><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">mount /dev/mapper/home /home 
mount /dev/mapper/var /var 
cd  /var    
tar -xpjvf /root/bak_var.tar.bz2 
cd /home 
tar -xpjvf /root/bak_home.tar.bz2  </pre></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
Diese Daten im Backup sind unverschlüsselt und könnten wiederhergestellt werden, wenn das Backup sich auf einem Journaling Dateisystem befindet.  Es ist dafür zu sorgen, dass die Backupdateien unter <strong>/root</strong> anschließend sicher gelöscht (shred) werden. Sicheres Löschen funktioniert übrigens nicht, wenn die Daten sich auf einem Filesystem mit Journalfunktion befinden.</p></div></div></div><div class="section_1"><h2 id="md5sum-vom-keyfile-erstellen">md5sum vom keyfile erstellen<a class="headerlink" href="#md5sum-vom-keyfile-erstellen">¶</a></h2><p>
An Hand einer Prüfsumme kann das folgende Initscript erkennen, ob sich auf der eingelegten Diskette wirklich der richtige Key befindet.</p><div class="bash"><div class="contents"><pre class="notranslate">cd /root 
md5sum /media/floppy/keyfile &gt; .key_md5sum 
chmod 400 .key_md5sum  </pre></div></div></div><div class="section_1"><h2 id="Initscript-erstellen">Initscript erstellen<a class="headerlink" href="#Initscript-erstellen">¶</a></h2><p>
Es muss das folgende Initscript erstellt werden <sup><a href="#source-4">[4]</a></sup>, das unter <strong>/etc/init.d</strong>  als <strong>keymount.sh</strong> gespeichert wird:</p><pre class="notranslate">#!/bin/sh 
######################################################################## 
## This script is used to mount a floppy disk containing a keyfile                    
## to decrypt encrypted partitions on startup                                            
## Please make sure to execute it before cryptdisk are started      
## (c) 2006 by mdkuser, published under the GPL v2                  
######################################################################## 
  
case "$1" in 
   start) 
   modprobe floppy
   if [ ! -e /dev/fd0 ]; then 
         mknod /dev/fd0 b 2 0 
         chown root:floppy /dev/fd0 
         chmod 660 /dev/fd0 
   fi 
   if $( grep -q /media/floppy /etc/mtab ); then 
           umount /media/floppy 
   fi 
   echo -n "waiting for key file media... " 
   mount -o ro /dev/fd0 /media/floppy &gt; /dev/null 2&gt;&amp;1 
   md5sum -c /root/.key_md5sum &gt; /dev/null 2&gt;&amp;1 
   retval="$?" 
           while [ ! "$retval" -eq "0" ]; do 
              echo "ERROR: No key file media!" 
                  if $( grep -q /media/floppy /etc/mtab ); then 
                  umount /media/floppy 
                  fi 
             read $a 
             mount -o ro /dev/fd0 /media/floppy &gt; /dev/null 2&gt;&amp;1 
             md5sum -c /root/.key_md5sum &gt; /dev/null 2&gt;&amp;1 
             retval="$?" 
           done 
   echo "Key file found." 
   ;; 
  
   stop) 
   if $( grep -q /media/floppy /etc/mtab ); then 
           umount /media/floppy 
   fi 
   ;; 
  
esac 

exit 0 </pre><p>
Dieses Script muss ausführbar gemacht werden:</p><div class="bash"><div class="contents"><pre class="notranslate">chmod 755 /etc/init.d/keymount.sh  </pre></div></div><p>
Danach ist ein  symbolischer Link unter <strong>/etc/rcS.d</strong> zu erzeugen</p><div class="bash"><div class="contents"><pre class="notranslate">cd /etc/rcS.d 
ln -s ../init.d/keymount.sh S27keymount.sh  </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Das Keymount Initscript muss VOR dem Initscript cryptdiscs gestartet werden! Der Symlink mit Nummer <strong>S27keymount.sh</strong> startet das Script unmittelbar vor dem cryptdisc Init Script, evtl. anpassen.</p></div></div><p>
Damit die Diskette nach erfolgreichem Booten wieder entfernt werden kann, ist folgenden Eintrag in <strong>/etc/rc.local</strong> zu erzeugen:</p><pre class="notranslate">/etc/init.d/keymount.sh stop </pre></div><div class="section_1"><h2 id="Optional-Kennwort-fuer-root-vergeben">(Optional) Kennwort für root vergeben<a class="headerlink" href="#Optional-Kennwort-fuer-root-vergeben">¶</a></h2><p>
Dieser Schritt ist optional, aber dafür sicherer, da man sonst ohne Passwortabfrage auf der Rootshell landet, falls die Cryptdisks nicht gestartet werden können.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo passwd root  </pre></div></div></div><div class="section_1"><h2 id="Verzeichnisse-anlegen-und-Berechtigungen-anpassen">Verzeichnisse anlegen und Berechtigungen anpassen<a class="headerlink" href="#Verzeichnisse-anlegen-und-Berechtigungen-anpassen">¶</a></h2><p>
Im leeren Verzeichnis <strong>/var</strong> auf der Rootpartition (<strong>/</strong>) sind noch einige Verzeichnisse anzulegen und die Berechtigungen entsprechend zu setzen. Dies ist wichtig, da unter Dapper bei jedem Start unter <strong>/var</strong> Aktionen ausgeführt werden, bevor die Cryptpartitionen gestartet werden. Hierzu ist es unbedingt notwendig mit einer <strong>Live-CD</strong> zu arbeiten, um die <strong>/</strong> Partition zu mounten ohne das <strong>/var</strong> eingehangen ist, da <strong>/var</strong> im laufenden Betrieb nicht ausgehangen werden kann.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -s
mount /dev/hdXU /mnt
mkdir /mnt/var/tmp
chmod 1777 /mnt/var/tmp
mkdir /mnt/var/lock
chmod 1777 /mnt/var/lock
mkdir /mnt/var/run
chmod 755 /mnt/var/run </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
<strong>/dev/hdXU</strong> ist hier durch die Gerätebezeichnung der Rootpartition (<strong>/</strong>) zu ersetzen.</p></div></div></div><div class="section_1"><h2 id="Erster-Test">Erster Test<a class="headerlink" href="#Erster-Test">¶</a></h2><p>
Nun das System rebooten, Live-CD entfernen und das neu erzeugte Cryptosystem kann getestet werden.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Es wird an dieser Stelle ausdrücklich darauf hingewiesen, dass der Autor keine Verantwortung für die Richtigkeit und Vollständigkeit dieser Kurzanleitung und auch nicht für eventuell sich daraus ergebende Probleme übernehme. Die hier beschriebene Konfiguration wurde unter Dapper getestet und für funktional befunden und wird auf einer as-is Basis zur Verfügung gestellt, allerdings wurde die vorliegende Dokumentation dazu nachträglich aus dem Gedächtnis heraus aufgeschrieben, es könnten also hier und da noch einige Anpassungen vorzunehmen sein. Benutzung auf eigene Gefahr!</p></div></div><hr/><p></p></div></div>
<p class="meta">
<a href="../archiv/keydisk/a/revision/157414.html">Diese Revision</a> wurde am 9. November 2009 20:31 von <a href="https://ubuntuusers.de/user/RvD/">RvD</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/keydisk.html">Keydisk</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>