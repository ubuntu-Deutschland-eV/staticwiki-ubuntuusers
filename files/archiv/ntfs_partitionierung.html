<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/NTFS_Partitionierung › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/ntfs_partitionierung.html">NTFS Partitionierung</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/NTFS_Partitionierung">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/ntfs_partitionierung/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/ntfs_partitionierung/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/ntfs_partitionierung/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/ntfs_partitionierung/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/ntfs_partitionierung/a/backlinks.html">NTFS Partitionierung</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Grafische-Werkzeuge">Grafische Werkzeuge
</a></li><li><a class="crosslink" href="#Konsole">Konsole
</a></li><li><a class="crosslink" href="#ndern-der-Partitionstabelle">Ändern der Partitionstabelle
</a></li><li><a class="crosslink" href="#Festplatten-benennen">Festplatten benennen
</a></li></ol></div><p>Dieser Artikel beschäftigt sich mit dem Anlegen und Bearbeiten von <a class="internal" href="../ntfs.html">NTFS</a>-Partitionen. Eine allgemeine Anleitung zum Anlegen und Formatieren von Partitionen findet man im Artikel <a class="internal" href="../partitionierung.html">Partitionierung</a>, in dem auch grafische Werkzeuge erwähnt werden.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Das Anlegen und Verändern von Partitionen ist immer mit einem gewissen Risiko verbunden. Daher sollte man vor einem solchen Eingriff ins System eine <a class="internal" href="../sicherheit.html">Sicherung</a> aller wichtigen Daten vornehmen. 
</p></div></div><div class="section_1"><h2 id="Grafische-Werkzeuge">Grafische Werkzeuge<a class="headerlink" href="#Grafische-Werkzeuge">¶</a></h2><p>
Die Programme <a class="internal" href="../gparted.html">GParted</a> und <a class="internal missing" href="../qtparted.html">QtParted</a> können natürlich auch zum Vergrößern/Verkleinern einer NTFS-Partition verwendet werden. Dabei einfach die NTFS-Partition markieren und <em>"Größe ändern/Verschieben"</em> auswählen. Anschließend die gewünschte neue Größe angeben und die Änderungen <em>"Anwenden"</em> lassen. Will man die Partition vergrößern, muss natürlich noch entsprechend freier Speicherplatz vorhanden sein.</p><p>Falls nach dem Vergrößern/Verkleinern der Partition weiterhin die alte Größe angezeigt wird, muss noch die <a class="crosslink" href="#Partitionstabelle">Partitionstabelle</a> angepasst werden.</p></div><div class="section_1"><h2 id="Konsole">Konsole<a class="headerlink" href="#Konsole">¶</a></h2><p>
Eine Partition lässt sich auch über die Kommandozeile <sup><a href="#source-1">[1]</a></sup> bequem anpassen. Dies hat den Vorteil, dass man Rückmeldungen bekommt und evtl. Fehlermeldungen auswerten kann.</p><p>Zuerst sollte man die Bezeichnung (z.B. <strong>/dev/hda</strong>) der NTFS-Partition ermitteln. Eine Anleitung dazu findet man im Artikel <a class="internal" href="../windows-partitionen_einbinden.html">Windows-Partitionen einbinden</a>. In dem nachfolgenden Beispiel wird immer die Partition <strong>/dev/hda</strong> verwendet und muss gegebenenfalls auf anderen Systemen angepasst werden.</p><p>Der nächste Befehl zeigt weitere Informationen über die gefundene NTFS-Partition an. 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ntfsresize --info /dev/hda1 </pre></div></div><p>
Die Ausgabe könnte so aussehen: 
</p><pre class="notranslate">ntfsresize v1.9.4
NTFS volume version: 3.0
Cluster size : 4096 bytes
Current volume size: 6292300288 bytes (6293 MB)
Current device size: 6292306944 bytes (6293 MB)
Checking filesystem consistency ...
100.00 percent completed
Accounting clusters ...
Space in use : 3678 MB (58,4%)
Collecting shrinkage constrains ...
Estimating smallest shrunken size supported ...
File feature Last used at By inode
$MFT : 485 MB 0
Multi-Record : 5334 MB 2677
You might resize at 3677433856 bytes or 3678 MB (freeing 2615 MB).
Please make a test run using both the -n and -s options before real resizing!</pre><p>
Der Ausgabe kann man die tatsächliche Größe der Partition (<em>volume size</em>) und die Größe, die in der Partitionstabelle eingetragen ist (<em>device size</em>), entnehmen. Weiter unten sieht man, wieviel Prozent bzw. MB der Partition momentan mit Daten belegt sind (<em>Space in use</em>) und um welche Größe die Partition verkleinert werden kann (<em>freeing</em>).</p><p>Die Verkleinerung kann mit dem folgenden Befehl geprüft werden: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ntfsresize --no-action --size 3690M /dev/hda1 </pre></div></div><p>
Hierbei sorgt der Parameter <em>--no-action</em> dafür, dass die Änderung nur getestet wird. Die neue Größe soll 3690 MB betragen. Hier eine gekürzte Fassung der Bildschirmausgabe:</p><pre class="notranslate">...
Current volume size: 6292300288 bytes (6293 MB)
Current device size: 6292306944 bytes (6293 MB)
New volume size : 3689992704 bytes (3690 MB)
...
Relocating needed data ...
ERROR: Extended record needed (2456 &gt; 1024), not yet supported!
Please try to free less space.</pre><p>
Man sieht hier eine Fehlermeldung, da nicht genug Speicherplatz für die Durchführung der Aktion zur Verfügung steht. Da einiger Speicherplatz zur Umspeicherung der Daten benötigt wird, muss man einen kleineren Wert angeben.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ntfsresize --no-action --size 5500M /dev/hda1 </pre></div></div><p>
Damit hätten wir die Partition um rund 700 MB verkleinert. Die Ausgabe hierzu lautet:</p><pre class="notranslate">...
Current volume size: 6292300288 bytes (6293 MB)
Current device size: 6292306944 bytes (6293 MB)
New volume size : 5499994624 bytes (5500 MB)
...
Relocating needed data ...
100.00 percent completed
Updating $BadClust file ...
Updating $Bitmap file ...
Updating Boot record ...
The read-only test run ended successfully.</pre><p>
Der Test wurde erfolgreich durchgeführt und es kann nun der Parameter <em>--no-action</em> beim nächsten Aufruf weggelassen werden. Hier erfolgt eine Sicherheitsabfrage, die man mit 
<span class="key">Y</span>  bestätigen muss. Die reale Umwandlung dauert ein wenig und sollte folgende Ausgabe liefern:</p><pre class="notranslate">...
100.00 percent completed
Updating $BadClust file ...
Updating $Bitmap file ...
Updating Boot record ...
Syncing device ...
Successfully resized NTFS on device '/dev/hda1'.
You can go on to shrink the device e.g. with 'fdisk'.
IMPORTANT: When recreating the partition, make sure you
  1) create it with the same starting disk cylinder
  2) create it with the same partition type (usually 7, HPFS/NTFS)
  3) do not make it smaller than the new NTFS filesystem size
  4) set the bootable flag for the partition if it existed before
Otherwise you may lose your data or can't boot your computer from the disk!</pre><p>
Es wurde nun die reale Größe der Partition verändert. Dies muss allerdings noch in die Partitionstabelle eingetragen werden, damit die Informationen auch richtig verarbeitet werden können.</p><p><a class="crosslink anchor" href="#Partitionstabelle" id="Partitionstabelle"></a>
</p></div><div class="section_1"><h2 id="ndern-der-Partitionstabelle">Ändern der Partitionstabelle<a class="headerlink" href="#ndern-der-Partitionstabelle">¶</a></h2><p>
Zuerst sollte man sich die Informationen über die NTFS-Partition anzeigen lassen <sup><a href="#source-1">[1]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ntfsresize --info /dev/hda1 </pre></div></div><p>
Die Partitionstabelle muss angepasst werden, falls die Werte von "Current volume size" und "Current device size" unterschiedlich sind.</p><pre class="notranslate">...
Current volume size: 5499994624 bytes (5500 MB)
Current device size: 6292306944 bytes (6293 MB)
...</pre><p>
Aus Sicherheitsgründen sollte man vorher die alte Partitionstabelle und den Master Boot Record mit den folgenden Befehlen sichern:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sfdisk -d /dev/hda &gt; hda.pt
sudo dd if=/dev/hda of=hda.mbr bs=512 count=1 </pre></div></div><p>
Die Anpassung der Partitionstabelle erfolgt mittels des Programmes <strong>fdisk</strong>.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo fdisk /dev/hda </pre></div></div><p>
Nach dem Start des Programms kann man über bestimmte Buchstaben und der Taste 
<span class="key">⏎</span>  verschiedene Kommandos ausführen lassen. Eine Übersicht über die verschiedenen Kommandos erhält man mit 
<span class="key">M</span>  (<em>"menu"</em>).</p><p>Die Partition mit der falschen Größe muss nun gelöscht und danach mit der korrekten Größe neu erstellt werden. Dabei werden natürlich nicht die Partitionen geändert, sondern lediglich die Einträge der Partitionstabelle. Die Änderungen werden erst durch ein Schreiben der Partitionstabelle mittels 
<span class="key">W</span>  (<em>"write"</em>) übernommen. Falsche Eingaben können also jederzeit durch das Beenden des Programmes mit 
<span class="key">Q</span>  (<em>"quit without saving"</em>) rückgängig gemacht werden.</p><p>Die Partitionen kann man sich mit 
<span class="key">P</span>  (<em>"print"</em>) anzeigen lassen. Man sollte sich nun den Start- und Endzylinder der zu löschenden Partition merken, da diese Informationen eventuell später noch einmal benötigt werden. Mit der Taste 
<span class="key">D</span>  (<em>"delete"</em>) und der Nummer der zu löschenden Partition wird der Eintrag gelöscht. Mit 
<span class="key">N</span>  (<em>"new"</em>) legt man einen neuen Eintrag in der Tabelle an.</p><p>Nun wird man nach dem ersten und letzten Zylinder gefragt. Bei Start sollte der Wert der alten Partition eingetragen werden. Der Endpunkt wird am einfachsten durch eine Größenangabe angegeben, z.B. bei dem obigen Beispiel wäre dies <em>+5500M</em>. Diese Angabe berechnet automatisch den korrekten Endzylinder für eine bestimmte Größe. Natürlich kann auch direkt der Endzylinder angegeben werden.</p><p>Der Typ der Partition muss anschließend mit 
<span class="key">T</span>  (<em>"type"</em>) festgelegt werden. Für eine NTFS-Partition muss hierfür 
<span class="key">7</span>  gedrückt werden. Fall es sich bei der Partition um eine primäre handelt (was bei NTFS sehr oft der Fall ist), muss man sie mit 
<span class="key">A</span>  (<em>"active"</em>) noch auf aktiv setzen.</p><p>Eine erneute Ausgabe der Partitionsübersicht mit 
<span class="key">P</span>  ermöglicht eine letzte Kontrolle der Änderungen, welche dann mit 
<span class="key">W</span>  (<em>"write"</em>) wirklich in die Partitionstabelle geschrieben werden.</p><p>Damit ist alles komplett und der Rechner kann neu gestartet werden.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Ein Windows-System startet beim ersten Hochfahren eine Überprüfung der Partition. Nach dieser Überprüfung ändert Windows seine eigenen Einträge und startet den Rechner neu. Wenn alles funktioniert hat, sollte auch unter Windows die neue Größe der Partition angezeigt werden.</p></div></div></div><div class="section_1"><h2 id="Festplatten-benennen">Festplatten benennen<a class="headerlink" href="#Festplatten-benennen">¶</a></h2><p>
Partitionierungsprogramme können die erstellten Partitionen nicht benennen, d.h. Labels setzen. Diese Labels werden in den <a class="internal" href="../dateimanager.html">Dateimanagern</a> sichtbar, sobald das Laufwerk (z.B. USB-Stick) eingehängt ist. Labels repräsentieren so zu sagen die Laufwerksbezeichnung an den Endnutzer.</p><p>Wie man die Labels von Datenträgern setzt erklärt der Artikel <a class="internal" href="../labels.html">Labels</a>.</p><hr/><p></p></div></div>
<p class="meta">
<a href="../archiv/ntfs_partitionierung/a/revision/389127.html">Diese Revision</a> wurde am 19. März 2012 14:01 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/ntfs_partitionierung.html">NTFS Partitionierung</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>