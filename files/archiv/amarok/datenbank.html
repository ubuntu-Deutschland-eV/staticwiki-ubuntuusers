<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Amarok/Datenbank › ubuntuusers statisches Wiki</title>
<link href="../../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../../archiv/amarok/datenbank.html">Datenbank</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Amarok/Datenbank">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../../wiki/index.html">Index</a></li>
<li><a href="../../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../../wiki.html">Übersicht</a></li>
<li><a href="../../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../../kategorien.html">Kategorie</a></li>
<li><a href="../../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../../howto.html">Howto anlegen</a></li>
<li><a href="../../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../../baustelle.html">Baustellen</a></li>
<li><a href="../../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../../archiv/amarok/datenbank/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../../archiv/amarok/datenbank/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../../archiv/amarok/datenbank/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../../archiv/amarok/datenbank/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../../archiv/amarok/datenbank/a/backlinks.html">Datenbank</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../../paketquellen_freischalten.html">Bearbeiten von Paketquellen</a> </p></li></ol></div></div><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Dieser Artikel ist nur für Amarok 1.4 Fast Forward. Amarok 2 wird eine MySQL Embedded verwenden und bietet daher nicht mehr die Möglichkeit eine andere Datenbank zu verwenden.
</p></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Datenbankengines-in-Amarok">Datenbankengines in Amarok
</a></li><li><a class="crosslink" href="#MySQL">MySQL
</a><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Einrichten-der-Datenbank">Einrichten der Datenbank
</a></li><li><a class="crosslink" href="#Erreichbarkeit-im-Netz">Erreichbarkeit im Netz
</a></li><li><a class="crosslink" href="#Verwendung-von-MySQL-in-Amarok">Verwendung von MySQL in Amarok
</a></li></ol></li><li><a class="crosslink" href="#PostgreSQL">PostgreSQL
</a><ol class="arabic"><li><a class="crosslink" href="#Installation-2">Installation
</a></li><li><a class="crosslink" href="#Einrichten-der-Datenbank-2">Einrichten der Datenbank
</a></li><li><a class="crosslink" href="#Verwendung-von-PostgreSQL-in-Amarok">Verwendung von PostgreSQL in Amarok
</a></li></ol></li></ol></div><div class="section_1"><h2 id="Datenbankengines-in-Amarok">Datenbankengines in Amarok<a class="headerlink" href="#Datenbankengines-in-Amarok">¶</a></h2><p>
<a class="internal" href="../../amarok.html">Amarok</a> bietet die Möglichkeit die eingebaute Datenbankengine <a class="internal" href="../../sqlite.html">SQLite</a> durch die externen Datenbanksysteme <a class="internal" href="../../mysql.html">MySQL</a> oder <a class="internal" href="../../postgresql.html">PostgreSQL</a> zu ersetzen. SQLite ist im Vergleich zu MySQL oder PostgreSQL nicht so mächtig und auch nicht so stark auf die Anforderungen eines großen Datenbanksystems optimiert. Der Zielbereich ist ganz klar die Integration in eine Anwendung für kleinere Datenabfragen wie dies bei Amarok der Fall ist. Wird der Datenbestand jedoch groß, hat SQLite deutlich mehr Probleme damit zurecht zu kommen als ein vollwertiges Datenbanksystem. Dies sieht man auch bei Amarok an hoher CPU-Last und Speicherverbrauch. In einem solchen Fall empfiehlt sich die Verwendung eines externen Datenbanksystems. Dadurch wird Amarok entlastet und die Arbeit einem Profi übergeben. Jedoch bedeutet es auch, dass mit dem Datenbanksystem ein komplexer und großer Server-Dienst installiert wird, der auch Ressourcen benötigt und beim Systemstart gestartet werden muss. Man muss daher genau abwägen, ob es sinnvoll ist, SQLite durch MySQL oder PostgreSQL zu ersetzen. Einen Richtwert wann man umstellen sollte, kann man nicht geben, da dies von der Anzahl der verwalteten Lieder und den Hardwareressourcen abhängt.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Durch die Umstellung der Datenbankengine könnte es sein, dass Amarok die Sammlung neu erfasst. In diesem Fall gehen alle Metainformationen zu Liedern (wie häufig gespielt, welche Lieblingslieder) verloren. Die eigentlichen Lieder und ID3-Tags sind davon natürlich nicht betroffen.</p></div></div></div><div class="section_1"><h2 id="MySQL">MySQL<a class="headerlink" href="#MySQL">¶</a></h2><p>
</p><div class="section_2"><h3 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h3><p>
Für MySQL muss das Paket</p><ul><li><p><strong>mysql-server</strong> </p></li></ul><p>installiert werden <sup><a href="#source-1">[1]</a></sup>. Mehr Informationen zur Installation und Konfiguration findet man <a class="internal" href="../../mysql.html">hier</a>.</p></div><div class="section_2"><h3 id="Einrichten-der-Datenbank">Einrichten der Datenbank<a class="headerlink" href="#Einrichten-der-Datenbank">¶</a></h3><p>
Nach der Installation muss man für Amarok eine Datenbank und einen Nutzer einrichten. Dazu öffnet man ein Terminal <sup><a href="#source-2">[2]</a></sup> und verbindet sich mit der Datenbank als <em>root</em>-Benutzer der Datenbank, der nicht mit dem <em>root</em>-Benutzer von Linux verwechselt werden sollte. MySQL hat eine eigene Benutzerverwaltung, die unabhängig von der Benutzerverwaltung des Betriebsystems ist.</p><p>MySQL verwendet in der Standardkonfiguration kein Passwort für den <em>root</em>-Benutzer (sollte aus Sicherheitsgründen geändert werden). Wenn kein Passwort verwendet wird, gibt man im Terminal folgenden Befehl ein:</p><div class="bash"><div class="contents"><pre class="notranslate">mysql -u root </pre></div></div><p>
Mit Passwort ist folgender Befehl zu verwenden:</p><div class="bash"><div class="contents"><pre class="notranslate">mysql -u root -p </pre></div></div><p>
Nun hat man einen Terminal Zugang zu der Datenbank und kann Befehle auf der Datenbank ausführen. Zuerst muss eine Datenbank für Amarok angelegt werden. Diese erhält in dem folgenden Beispiel den Namen <code class="notranslate">amarok</code>. Ebenso wird ein Benutzer mit dem Namen <code class="notranslate">amarok</code> und Passwort <code class="notranslate">strenggeheim</code> angelegt:</p><div class="bash"><div class="contents"><pre class="notranslate">mysql&gt; CREATE DATABASE amarok;
mysql&gt; GRANT ALL ON amarok.* TO amarok@localhost IDENTIFIED BY 'strenggeheim'; </pre></div></div><p>
Nun kann man mit <code class="notranslate">exit</code> das Terminal der Datenbank wieder verlassen. Man sollte nun noch den Zugang testen. Dazu im Terminal mysql als der neuangelegte Benutzer starten und zur neu angelegten Datenbank verbinden:</p><div class="bash"><div class="contents"><pre class="notranslate">mysql -u amarok -p amarok </pre></div></div><p>
Beim Passwortprompt das vergebene Passwort eingeben. Wenn alles funktioniert, kann man mit <code class="notranslate">exit</code> das Terminal wieder verlassen.</p></div><div class="section_2"><h3 id="Erreichbarkeit-im-Netz">Erreichbarkeit im Netz<a class="headerlink" href="#Erreichbarkeit-im-Netz">¶</a></h3><p>
Soll die Datenbank von anderen Rechnern im Netzwerk erreicht werden, so müssen in der Datei <strong>/etc/mysql/my.cnf</strong> der Eintrag</p><pre class="notranslate">bind-adress = 127.0.0.1</pre><p>
auskommentiert und die Rechte der angelegten Datenbank angepasst werden.</p><div class="bash"><div class="contents"><pre class="notranslate">mysql -u root -p

mysql&gt; USE amarok;
mysql&gt; GRANT ALL ON amarok.* TO amarok@'%' IDENTIFIED BY 'strenggeheim';
mysql&gt; EXIT </pre></div></div></div><div class="section_2"><h3 id="Verwendung-von-MySQL-in-Amarok">Verwendung von MySQL in Amarok<a class="headerlink" href="#Verwendung-von-MySQL-in-Amarok">¶</a></h3><p>
Um nun Amarok dazu zu bewegen MySQL anstatt SQLite zu verwenden, muss man die Einstellungen öffnen (<em>"Einstellungen -&gt; Amarok einrichten"</em>) und den Punkt <em>"Sammlung"</em> auswählen. Hier gibt es einen Punkt namens <em>"Sammlungs-Datenbank"</em> mit einem Dropdown <em>"Datenbank"</em>, in dem man MySQL auswählen kann. Nun werden weitere Eingabefelder angezeigt:</p><ul><li><p><em>"Rechner"</em>: localhost (default-Einstellung) </p></li><li><p><em>"Port"</em>: 3306 (default-Einstellung) </p></li><li><p><em>"Datenbank"</em>: amarok (hier den Namen der oben angelegten Datenbank eingeben. Falls die Datenbank <em>"amarok"</em> heißt, braucht nichts verändert zu werden.) </p></li><li><p><em>"Benutzername"</em>: (hier den Namen des oben angelegten Benutzers eingeben. In dem Beispiel <em>"amarok"</em>) </p></li><li><p><em>"Passwort"</em>: (hier das Passwort des oben angelegten Benutzers eingeben. In dem Beispiel <em>"strenggeheim"</em>) </p></li></ul><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Es könnte sein, dass Amarok eine Fehlermeldung anzeigt, dass der eigene Benutzer (Linux) nicht mit der Datenbank verbinden kann. In diesem Fall muss man Amarok neustarten, danach wird die Verbindung zu MySQL korrekt hergestellt.</p></div></div></div></div><div class="section_1"><h2 id="PostgreSQL">PostgreSQL<a class="headerlink" href="#PostgreSQL">¶</a></h2><p>
</p><div class="section_2"><h3 id="Installation-2">Installation<a class="headerlink" href="#Installation-2">¶</a></h3><p>
Für PostgreSQL müssen die Pakete</p><ul><li><p><strong>postgresql</strong> (vor Gutsy in <em>universe</em> <sup><a href="#source-3">[3]</a></sup>) </p></li><li><p><strong>postgresql-client</strong> (vor Gutsy in <em>universe</em> <sup><a href="#source-3">[3]</a></sup>) </p></li></ul><p>installiert werden <sup><a href="#source-1">[1]</a></sup>.  Mehr Informationen zur Installation und Konfiguration findet man <a class="internal" href="../../postgresql.html">hier</a>.</p></div><div class="section_2"><h3 id="Einrichten-der-Datenbank-2">Einrichten der Datenbank<a class="headerlink" href="#Einrichten-der-Datenbank-2">¶</a></h3><p>
Die Einrichtung der Datenbank verläuft analog zu der von MySQL. Es empfiehlt sich ebenfalls eine eigene Datenbank und eigenen Benutzer für Amarok anzulegen. Dazu muss man ein Terminal öffnen <sup><a href="#source-2">[2]</a></sup> und sich als Datenbank-Admin mit PostgreSQL über den Konsolen-Client <strong>psql</strong> verbinden. Dies geschieht mit folgendem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres psql template1 </pre></div></div><p>
Nun kann man die Datenbank für Amarok anlegen:</p><div class="bash"><div class="contents"><pre class="notranslate">template1=# CREATE DATABASE amarok; </pre></div></div><p>
Dies wird von psql mit einem "CREATE DATABASE" bestätigt. Nun kann man den Benutzer anlegen:</p><div class="bash"><div class="contents"><pre class="notranslate">template1=# CREATE USER amarok WITH PASSWORD 'strenggeheim'; </pre></div></div><p>
Dies wird von psql mit einem "CREATE ROLE" bestätigt. Last but not least muss nun dem neuen Benutzer Vollzugriff auf die Datenbank gegeben werden:</p><div class="bash"><div class="contents"><pre class="notranslate">template1=# GRANT ALL PRIVILEGES ON DATABASE amarok TO amarok; </pre></div></div><p>
Dies wird von psql mit einem "GRANT" bestätigt. Den Terminal-Modus von psql kann man nun mit <code class="notranslate">\q</code> beenden.</p></div><div class="section_2"><h3 id="Verwendung-von-PostgreSQL-in-Amarok">Verwendung von PostgreSQL in Amarok<a class="headerlink" href="#Verwendung-von-PostgreSQL-in-Amarok">¶</a></h3><p>
Um nun Amarok dazu zu bewegen PostgreSQL anstatt SQLite zu verwenden muss man die Einstellungen öffnen (<em>"Einstellungen -&gt; Amarok einrichten"</em>) und den Punkt <em>Sammlung</em> auswählen. Hier gibt es einen Punkt namens <em>"Sammlungs-Datenbank"</em> mit einem Dropdown <em>"Datenbank"</em>, in dem man Postgresql auswählen kann. Nun werden weitere Eingabefelder angezeigt:</p><ul><li><p><em>"Rechner"</em>: localhost (default-Einstellung) </p></li><li><p><em>"Port"</em>: 5432 (default-Einstellung) </p></li><li><p><em>"Datenbank"</em>: amarok (hier den Namen der oben angelegten Datenbank eingeben. Falls die Datenbank <em>"amarok"</em> heißt, braucht nichts verändert zu werden.) </p></li><li><p><em>"Benutzername"</em>: (hier den Namen des oben angelegten Benutzers eingeben. In dem Beispiel <em>"amarok"</em>) </p></li><li><p><em>"Passwort"</em>: (hier das Passwort des oben angelegten Benutzers eingeben. In dem Beispiel <em>"strenggeheim"</em>) </p></li></ul><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Es könnte sein, dass Amarok eine Fehlermeldung anzeigt, dass der eigene Benutzer (Linux) nicht mit der Datenbank verbinden kann. In diesem Fall muss man Amarok neustarten, danach wird die Verbindung zu PostgrSQL korrekt hergestellt.</p></div></div><p></p></div></div></div>
<p class="meta">
<a href="../../archiv/amarok/datenbank/a/revision/227072.html">Diese Revision</a> wurde am 13. April 2011 17:55 von <a href="https://ubuntuusers.de/user/Shakesbier/">Shakesbier</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../../startseite.html">Wiki</a></li>
<li><a href="../../archiv.html">Archiv</a></li>
<li><a href="../../archiv/amarok.html">Amarok</a></li>
<li><a href="../../archiv/amarok/datenbank.html">Datenbank</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>