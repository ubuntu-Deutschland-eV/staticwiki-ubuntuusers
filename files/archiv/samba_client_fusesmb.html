<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Samba_Client_FuseSMB › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/samba_client_fusesmb.html">Samba Client FuseSMB</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Samba_Client_FuseSMB">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/samba_client_fusesmb/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/samba_client_fusesmb/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/samba_client_fusesmb/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/samba_client_fusesmb/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/samba_client_fusesmb/a/backlinks.html">Samba Client FuseSMB</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Pakete installieren</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Texteditor öffnen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Grundlegende-Funktionsweise">Grundlegende Funktionsweise
</a></li><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Vorbereitung">Vorbereitung
</a><ol class="arabic"><li><a class="crosslink" href="#Benutzer-in-die-Gruppe-fuse-uebernehmen">Benutzer in die Gruppe fuse übernehmen
</a></li><li><a class="crosslink" href="#Mountpunkt-erstellen">Mountpunkt erstellen
</a></li></ol></li><li><a class="crosslink" href="#Einbinden-und-Aushaengen">Einbinden und Aushängen
</a><ol class="arabic"><li><a class="crosslink" href="#Einbinden-mit-sudo">Einbinden mit "sudo"
</a></li><li><a class="crosslink" href="#Einbinden-als-gewoehnlicher-Benutzer">Einbinden als gewöhnlicher Benutzer
</a></li><li><a class="crosslink" href="#Vereinfachtes-Einbinden">Vereinfachtes Einbinden
</a></li><li><a class="crosslink" href="#Aushaengen">Aushängen
</a></li></ol></li><li><a class="crosslink" href="#Konfigurieren-und-Personalisieren">Konfigurieren und Personalisieren
</a><ol class="arabic"><li><a class="crosslink" href="#Die-Datei-fusesmb-conf">Die Datei fusesmb.conf
</a></li><li><a class="crosslink" href="#Optionen-von-FuseSMB">Optionen von FuseSMB
</a></li><li><a class="crosslink" href="#Individuelle-Zugriffsrechte">Individuelle Zugriffsrechte
</a></li><li><a class="crosslink" href="#Praktische-Beispiele">Praktische Beispiele
</a></li></ol></li><li><a class="crosslink" href="#Probleme-und-Loesungen">Probleme und Lösungen
</a><ol class="arabic"><li><a class="crosslink" href="#Die-Aktualisierung-bleibt-aus">Die Aktualisierung bleibt aus
</a></li><li><a class="crosslink" href="#Warnungen-und-Hinweise">Warnungen und Hinweise
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><strong>FuseSMB</strong> kann ein Netzwerk nach Samba- und Windows-Freigaben durchsuchen ("browsen") und diese über das Kernelmodul <a class="internal" href="../fuse.html">fuse</a> ins Dateisystem des Client einbinden. Dies ist unter anderem dann sinnvoll, wenn die Desktop-Umgebung bzw. deren <a class="internal" href="../dateimanager.html">Dateimanager</a> keinen Zugriff auf Freigaben bietet (z.B. bei <a class="internal" href="../xfce.html">Xfce</a> oder <a class="internal" href="../lxde.html">LXDE</a>), oder wenn man auch mit solchen Programmen auf die Freigaben zugreifen möchte, die mit den virtuellen Dateisystemen der Desktop-Umgebungen GNOME und KDE (gvfs, KIO) nicht umgehen können (siehe <a class="internal" href="../samba_client_gnome.html">Samba Client GNOME</a>).</p><p>Anspruchsvolleren Anwendern bietet FuseSMB aber auch die Möglichkeit, für jeden Benutzer eine persönliche Auswahl aus den Freigaben zu treffen und die Zugriffsrechte individuell festzulegen. Bei Mehrbenutzer-Systemen ist so eine weitgehende Personalisierung möglich. Dafür ist es nötig, die Datei <strong>/etc/fusesmb.conf</strong> zu editieren und die wichtigsten Optionen des Kernelmoduls <a class="internal" href="../fuse.html">fuse</a> zu kennen.</p><p>Praktisch an FuseSMB ist, dass alle verfügbaren Freigaben zwar angezeigt werden, dass aber die Verbindung zum Server nur hergestellt wird, solange man auf eine Freigabe zugreift.</p><p>Für kleinere Netzwerke ist oftmals das einfachere Tool <a class="internal" href="../samba_client_smbnetfs.html">SMBNetFS</a> besser geeignet. Dieses baut ebenfalls auf dem Kernelmodul <strong>fuse</strong> auf, stellt aber bereits beim Aufruf eine dauerhafte Verbindung zum Server her und bietet weniger Möglichkeiten zur Differenzierung und Personalisierung.</p><div class="section_1"><h2 id="Grundlegende-Funktionsweise">Grundlegende Funktionsweise<a class="headerlink" href="#Grundlegende-Funktionsweise">¶</a></h2><p>
FuseSMB besteht aus zwei Programmteilen. Ein Teil stellt in Verbindung mit dem Kernelmodul <a class="internal" href="../fuse.html">fuse</a> ein virtuelles Dateisystem zur Verfügung, und der andere Teil durchsucht in regelmäßigen Zeitintervallen das LAN nach verfügbaren Servern und Freigaben (der sog. "Crawler"). Die Ausgabe des Crawlers wird über die Datei <strong>~/.smb/fusesmb.conf</strong> gefiltert und in die einfache Textdatei <strong>~/.smb/fusesmb.cache</strong> geschrieben, die dann von dem anderen Programmteil gelesen wird. Die beiden Dateien befinden sich im Homeverzeichnis des jeweils eingeloggten Benutzers im versteckten Ordner <strong>~/.smb</strong>. In der Default-Einstellung sind sie trotzdem Eigentum von Root und nur mit Root-Rechten zugänglich.</p></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Das benötigte Kernelmodul <strong>fuse</strong> ist bereits in der Standardinstallation enthalten.</p><p>Zusätzlich muss noch folgendes Paket aus den <a class="internal" href="../paketquellen.html">Paketquellen</a> installiert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>fusesmb</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install fusesmb </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install fusesmb </pre></div></div><p>
</p></div></div><p>Um FuseSMB anwenden zu können, muss das Kernelmodul "<code class="notranslate">fuse</code>" geladen sein (siehe <a class="internal" href="../fuse.html">FUSE</a>).</p></div><div class="section_1"><h2 id="Vorbereitung">Vorbereitung<a class="headerlink" href="#Vorbereitung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Benutzer-in-die-Gruppe-fuse-uebernehmen">Benutzer in die Gruppe <em>fuse</em> übernehmen<a class="headerlink" href="#Benutzer-in-die-Gruppe-fuse-uebernehmen">¶</a></h3><p>
Weil FuseSMB das Kernelmodul <strong>fuse</strong> verwendet, müssen alle User, denen der Zugriff auf Freigaben mittels FuseSMB erlaubt werden soll, der Gruppe <strong>fuse</strong> angehören. Ab Ubuntu 7.10 Gutsy Gibbon ist dies automatisch der Fall. In früheren Versionen muss man diese User erst zur Gruppe <strong>fuse</strong> hinzufügen. In GNOME kann man hierfür in</p><ul><li><p><em>"System -&gt; Systemverwaltung -&gt; Benutzer und Gruppen -&gt; Eigenschaften -&gt; Benutzerrechte"</em> </p></li></ul><p>
vor <em>"Verwendung von FUSE-Dateisystemen"</em> ein Häkchen setzen. Die Zuordnung des Benutzers zur Gruppe wird erst nach einem erneuten Anmelden aktiviert!</p></div><div class="section_2"><h3 id="Mountpunkt-erstellen">Mountpunkt erstellen<a class="headerlink" href="#Mountpunkt-erstellen">¶</a></h3><p>
Das Einbinden oder Einhängen (einer Freigabe) in ein bestehendes Dateisystem bezeichnet man auch als "Mounten". Der Ort, an dem dies erfolgt, wird auch "Mountpunkt" genannt. Als Mountpunkt muss ein <span class="underline">leerer</span> Ordner eingerichtet werden. Dafür kann jede beliebige Stelle in der Dateihierarchie gewählt werden. Sollen die Freigaben allgemein zugänglich gemacht werden, sind folgende Verzeichnisse üblich:</p><ul><li><p><strong>/media</strong> (es erscheint ein Icon auf dem Desktop) </p></li><li><p><strong>/mnt</strong> (es erscheint kein Icon auf dem Desktop) </p></li></ul><p>
Sollen die Freigaben hingegen nur für einen bestimmten User verfügbar sein (siehe unten), so wählt man als  Mountpunkt einen leeren Ordner in dessen Heimverzeichnis oder auf dessen Desktop. Mehr Informationen dazu findet man in den Artikeln <a class="internal" href="../mount.html">mount</a> und <a class="internal" href="../datenverwaltung.html">Datenverwaltung</a>.</p><p>Im Folgenden wird dieser Ordner mit <em>"&lt;mountpoint&gt;"</em> bezeichnet.</p></div></div><div class="section_1"><h2 id="Einbinden-und-Aushaengen">Einbinden und Aushängen<a class="headerlink" href="#Einbinden-und-Aushaengen">¶</a></h2><p>
Hat man FuseSMB aus den Paketquellen installiert, dann ist es die Standard-Einstellung, dass man zum Einbinden mittels <em>FuseSMB</em> Root-Rechte benötigt. Dazu wird <em>"<a class="internal" href="../sudo.html">sudo</a>"</em> verwendet:</p><div class="section_2"><h3 id="Einbinden-mit-sudo">Einbinden mit "sudo"<a class="headerlink" href="#Einbinden-mit-sudo">¶</a></h3><p>
</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Der <a class="crosslink" href="#Optionen-von-FuseSMB">Parameter</a> <code class="notranslate">-s</code> ist  zwingend erforderlich.
</p></div></div><p>Mit dem Befehl</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein:
sudo fusesmb -s &lt;mountpoint&gt;

# Beispiele:
sudo fusesmb -s /media/Samba-Shares
sudo fusesmb -s ~/Samba-Shares
sudo fusesmb -s ~/Desktop/Samba-Shares </pre></div></div><p>(im Terminal auszuführen) werden alle verfügbaren Samba- und Windows-Freigaben auf einmal in den als Mountpoint vorbereiteten Ordner übernommen. Dort sind sie dann aber Besitz von Root und nur für Root zugänglich. Gewöhnlich will man aber auch anderen Benutzern den Zugang erlauben. Dies geschieht durch den Zusatz <code class="notranslate">-o allow_other</code> .</p><div class="bash"><div class="contents"><pre class="notranslate"># Beispiel:
sudo fusesmb -s ~/Samba-Shares -o allow_other </pre></div></div><p>Nun kann man auf Freigaben mit einem Dateimanager oder mit beliebigen Programmen genau so zugreifen, wie wenn es sich um Dateien im lokalen Dateisystem des Clients handeln würde.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Freigaben, die mittels <code class="notranslate">sudo</code> ohne den Zusatz <code class="notranslate">allow_other</code> eingebunden wurden, sind nur mit Root-Rechten sichtbar und erscheinen deshalb auch nicht im Auswahlfenster des Datei-Managers. 
</p></div></div></div><div class="section_2"><h3 id="Einbinden-als-gewoehnlicher-Benutzer">Einbinden als gewöhnlicher Benutzer<a class="headerlink" href="#Einbinden-als-gewoehnlicher-Benutzer">¶</a></h3><p>
Muss man keinen unberechtigten Zugriff auf sensible Daten befürchten, so kann man FuseSMB auch leicht so konfigurieren, dass man Freigaben auch ohne Root-Rechte (ohne <code class="notranslate">sudo</code>) einbinden darf.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Gewöhnlichen Benutzern das Einbinden mittels FuseSMB zu gestatten, kann ein Sicherheitsrisiko darstellen, weil diese Benutzer dann über die Dateien <strong>~/.smb/fusesmb.conf</strong> und <strong>~/.smb/fusesmb.cache</strong> möglicherweise Zugriff auf sensible Daten (z.B. Passwörter) erhalten. 
</p></div></div><div class="section_3"><h4 id="Zugriffsrechte-fuer-den-Mountpunkt-anpassen">Zugriffsrechte für den Mountpunkt anpassen<a class="headerlink" href="#Zugriffsrechte-fuer-den-Mountpunkt-anpassen">¶</a></h4><p>
Befindet sich der Mountpunkt nicht im Heimverzeichnis des Benutzers, sondern z.B. in <strong>/media</strong> oder in <strong>/mnt</strong>, so muss man diesem zunächst die Besitzer-Rechte übergeben:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo chown &lt;benutzername&gt; &lt;mountpoint&gt; </pre></div></div></div><div class="section_3"><h4 id="Die-Dateien-fusesmb-conf-und-fusesmb-cache-vorbereiten">Die Dateien "fusesmb.conf" und "fusesmb.cache" vorbereiten<a class="headerlink" href="#Die-Dateien-fusesmb-conf-und-fusesmb-cache-vorbereiten">¶</a></h4><p>
FuseSMB braucht zum Funktionieren Zugriff auf die Dateien <strong>fusesmb.conf</strong> und <strong>fusesmb.cache</strong>. Diese Dateien werden beim ersten Aufruf von FuseSMB automatisch angelegt und befinden sich im versteckten Ordner <strong>~/.smb</strong> im Heimverzeichnis des jeweils eingeloggten Benutzers. Falls man FuseSMB beim ersten Aufruf als Root gestartet hat (z.B. mittels <code class="notranslate">sudo</code>), ist Root auch der Dateieigentümer. In diesem Fall müssen die Rechte für diese Dateien nun durch folgende Befehlszeilen auf den jeweiligen Benutzer übertragen werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo chown &lt;benutzername&gt; ~/.smb/fusesmb.conf
sudo chown &lt;benutzername&gt; ~/.smb/fusesmb.cache </pre></div></div><p>Nun lassen sich die Freigaben auch ohne <code class="notranslate">sudo</code> einbinden:</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein:
fusesmb -s &lt;mountpoint&gt;
#Beispiele:
fusesmb -s ~/Samba-Shares </pre></div></div><p>Der Mountpoint und die eingebundenen Freigaben sind dann Besitz des Benutzers. Dieser kann sie sofort mit einem Dateimanager betrachten oder mit beliebigen Programmen auf sie zugreifen.</p></div><div class="section_3"><h4 id="Zugriff-auch-fuer-andere-Benutzer-erlauben">Zugriff auch für andere Benutzer erlauben<a class="headerlink" href="#Zugriff-auch-fuer-andere-Benutzer-erlauben">¶</a></h4><p>
Per Default sind die Freigaben nur für denjenigen Benutzer sichtbar und verfügbar, der sie eingebunden hat. Das Recht, sie mit dem Zusatz <code class="notranslate">allow_other</code> auch für andere Benutzer der Gruppe <em>"fuse"</em> zugänglich zu machen, steht nur Root zu. Durch folgende Zeile  in der Konfigurationsdatei <strong>/etc/fuse.conf</strong> (nur mit Root-Rechten einsehbar)</p><pre class="notranslate">user_allow_other</pre><p>wird dieses Recht auch auf andere Benutzer ausgedehnt.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Das Mounten mittels FuseSMB hat keinerlei Einfluss auf die echten Besitz- und Zugriffsrechte auf dem Server. Die beim Mounten festgelegten Rechte sind nur auf dem Client für die betreffende Sitzung gültig (simuliert) und lassen sich bis zum Aushängen der Freigaben (s.u.) nicht mehr ändern. Die Befehle <a class="internal" href="../chown.html">chown</a> und <a class="internal" href="../chmod.html">chmod</a> sowie die Dialoge von Gnome oder KDE zur Verwaltung der Zugriffsrechte sind hier unwirksam. 
</p></div></div></div></div><div class="section_2"><h3 id="Vereinfachtes-Einbinden">Vereinfachtes Einbinden<a class="headerlink" href="#Vereinfachtes-Einbinden">¶</a></h3><p>
</p><div class="section_3"><h4 id="Starter-im-Panel-anlegen">Starter im Panel anlegen<a class="headerlink" href="#Starter-im-Panel-anlegen">¶</a></h4><p>
Das Einbinden mittels FuseSMB kann man durch einen Starter im Panel wesentlich vereinfachen. Zum Mounten genügt es dann, diesen anzuklicken.</p><p>Zum Einbinden <span class="underline">ohne</span> <code class="notranslate">sudo</code> genügt es, dort den Befehl <code class="notranslate">fusesmb -s &lt;mountpoint&gt;</code> und eventuell noch einen Namen und Kommentar einzutragen.</p><p>Fürs Einbinden <span class="underline">mit</span> <code class="notranslate">sudo</code> muss zusätzlich noch "Ausführen im Terminal" gewählt werden, damit man dort dann das Passwort verdeckt eingeben kann.</p></div><div class="section_3"><h4 id="Automatisches-Einbinden">Automatisches Einbinden<a class="headerlink" href="#Automatisches-Einbinden">¶</a></h4><p>
Besonders praktisch ist es, die verfügbaren Samba- und Windows-Freigaben bereits beim Einloggen des Benutzers (automatisch) einzubinden. Weil die Verbindung zum Server erst beim Zugriff auf die Freigaben hergestellt wird, benötigt dies weder zusätzliche Prozessorleistung noch unnötigen Speicherplatz.</p><p>Fürs Einbinden ohne <code class="notranslate">sudo</code> ist dies ganz einfach möglich. Zuerst erstellt man einen Mountpunkt (siehe oben).</p><p>In <a class="internal" href="../gnome.html">GNOME</a> genügt es, in 
 <em>"System --&gt; Einstellungen --&gt; Sitzungen --&gt; Startprogramme --&gt; Hinzufügen"</em> 
die (bereits bekannte) Befehlszeile <code class="notranslate">fusesmb -s &lt;mountpoint&gt;</code> einzutragen und den Eintrag noch mit einem Namen und evtl. Kommentar zu versehen.</p><p>In <a class="internal" href="../kde.html">KDE</a> muss man die Befehlszeile <code class="notranslate">fusesmb -s &lt;mountpoint&gt;</code> in den Ordner <strong>~/.kde/Autostart</strong> als Textdatei mit geeignetem Namen eintragen und diese dann ausführbar machen.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Bei dem Eintrag für den <a class="internal" href="../autostart.html">Autostart</a> kann es nötig sein, den Pfad zum Mountpunkt vollständig auszuschreiben.</p><p>Beispiel: <code class="notranslate">fusesmb -s /home/otto/Samba-Shares</code>
</p></div></div></div></div><div class="section_2"><h3 id="Aushaengen">Aushängen<a class="headerlink" href="#Aushaengen">¶</a></h3><p>
Mittels FuseSMB gemountete Freigaben werden beim Ausloggen des Benutzers sowie beim Herunterfahren oder Neustart des Rechners automatisch wieder ausgehängt. Deshalb braucht man sich normalerweise um das Aushängen nicht zu kümmern.</p><p>Manchmal möchte man jedoch die gemounteten Freigaben von Hand wieder aushängen, z.B. um bei der Verwendung von Suchprogrammen (Media-Player, Virenscanner usw.) zu vermeiden, dass das gesamte Netzwerk durchsucht wird.</p><p>Zum Aushängen gibt man im Terminal folgende Befehlszeile ein:</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein:
fusermount -u &lt;mountpoint&gt;
# Beispiel:
fusermount -u ~/Samba-Shares </pre></div></div><p>Freigaben können nur von demjenigen Benutzer ausgehängt werden, der sie auch eingebunden hat. Insbesondere heißt das, dass mit Root-Rechten (mit <code class="notranslate">sudo</code>) gemountete Freigaben auch nur genau so wieder ausgehängt werden dürfen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo fusermount -u &lt;mountpoint&gt; </pre></div></div><p>Sonst erhält man die etwas irritierende Fehlermeldung, der Mountpunkt sei nicht in der Datei <strong>/etc/mtab</strong> vorhanden.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Möchte man nach dem Aushängen der Freigaben diese mit veränderten Besitz- oder Zugriffsrechten wieder einhängen, so kann es sein, dass dies erst nach einem Neustart des Rechners zuverlässig funktioniert. 
</p></div></div></div></div><div class="section_1"><h2 id="Konfigurieren-und-Personalisieren">Konfigurieren und Personalisieren<a class="headerlink" href="#Konfigurieren-und-Personalisieren">¶</a></h2><p>
Dieser Abschnitt betrifft vor allem die Verwaltung von Mehrbenutzer-Systemen und den Zugriff auf mittels Passwort geschützte Freigaben.</p><div class="section_2"><h3 id="Die-Datei-fusesmb-conf">Die Datei fusesmb.conf<a class="headerlink" href="#Die-Datei-fusesmb-conf">¶</a></h3><p>
</p><div class="section_3"><h4 id="Funktion-der-Dateien-fusesmb-conf-und-fusesmb-cache">Funktion der Dateien "fusesmb.conf" und "fusesmb.cache"<a class="headerlink" href="#Funktion-der-Dateien-fusesmb-conf-und-fusesmb-cache">¶</a></h4><p>
Ergänzend zu den auf dem Server in der Datei <strong><a class="internal" href="../samba_server/smb.conf.html">smb.conf</a></strong> eingetragenen und für alle Clients verbindlichen Zugriffsrechten können in der Datei <strong>fusesmb.conf</strong> für den jeweiligen Benutzer weitere Festlegungen getroffen werden.</p><p>Die Datei <strong>fusesmb.conf</strong> befindet sich im versteckten Ordner <strong>~/.smb</strong>. Sie regelt das Durchsuchen des Netzwerks und filtert die gefundenen Freigaben. Das Ergebnis wird im gleichen Ordner in die Datei <strong>fusesmb.cache</strong> eingetragen und dient dem Kernelmodul FUSE als Grundlage für das Dateisystem, auf das die verfügbaren Freigaben abgebildet werden. Damit das Durchsuchen des Netzwerks (der "Crawler", s.o.) funktioniert, muss diese Datei unbedingt für FuseSMB lesbar sein. Dies gilt auch, wenn diese völlig leer ist; es werden dann die Default-Einstellungen verwendet. Außerdem muss FuseSMB in die Datei <strong>fusesmb.cache</strong> schreiben können.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Weil die Datei <strong>~/.smb/fusesmb.conf</strong> persönliche Einstellungen und auch Benutzernamen und Passwörter enthalten kann, muss der Zugriff auf deren Besitzer begrenzt sein (Datei-Modus 0600). 
</p></div></div></div><div class="section_3"><h4 id="Die-Struktur-von-fusesmb-conf">Die Struktur von fusesmb.conf<a class="headerlink" href="#Die-Struktur-von-fusesmb-conf">¶</a></h4><p>
In Anlehnung an <strong>smb.conf</strong> ist auch <strong>fusesmb.conf</strong> in Bereiche eingeteilt, die in eckigen Klammern angegeben werden:</p><ol class="arabic"><li><p><code class="notranslate">[global]</code> Wie der Name sagt, werden hier globale, d.h. für alle Freigaben gültige Parameter eingetragen </p></li><li><p><code class="notranslate">[ignore]</code> Hier kann man Server oder einzelne Freigaben eintragen, die <span class="underline">nicht</span> gemountet werden sollen </p></li><li><p><code class="notranslate">[&lt;Server&gt;]</code> &lt;Server&gt; steht für den Namen oder die IP eines bestimmten Servers. Die Eintragungen in diesem Bereich betreffen nur diesen Server. &lt;Server&gt; muss mit einem Slash (/) beginnen, darf aber nicht mit einem Slash enden. </p></li><li><p><code class="notranslate">[&lt;Server/Share&gt;]</code> &lt;Server/Share&gt; steht für den Namen einer bestimmten Freigabe. Die Eintragungen in diesem Bereich betreffen nur diese Freigabe. Auch &lt;Server/Share&gt; muss mit einem Slash (/) beginnen, darf aber nicht mit einem Slash enden. </p></li></ol><p>
</p></div><div class="section_3"><h4 id="Eintragungen-im-Bereich-global">Eintragungen im Bereich [global]<a class="headerlink" href="#Eintragungen-im-Bereich-global">¶</a></h4><p>
</p><ul><li><p><code class="notranslate">interval = &lt;value&gt;</code>  Zeitintervall zwischen den Aktualisierungen von <strong>smb.cache</strong>. &lt;value&gt;: Zahlenwert für Minuten. Beim Wert 0 (oder negativ) unterbleibt die Aktualisierung. Defaultwert: 10 </p></li><li><p><code class="notranslate">timeout = &lt;value&gt;</code>  Timeout für die Herstellung einer Verbindung zum Server. &lt;value&gt;: Zahlenwert für Sekunden. Defaultwert: 10 </p></li><li><p><code class="notranslate">username = &lt;username&gt;</code> Ein für alle Freigaben gültiger Benutzername. </p></li><li><p><code class="notranslate">password = &lt;passwort&gt;</code> Ein für alle Freigaben gültiges Samba-Passwort. Siehe &lt;Link&gt; </p></li><li><p><code class="notranslate">showhiddenshares  = &lt;true/false&gt;</code> Versteckte Freigaben anzeigen/nicht anzeigen. Defaultwert: false </p></li></ul><p>
</p></div><div class="section_3"><h4 id="Eintragungen-im-Bereich-ignore">Eintragungen im Bereich [ignore]<a class="headerlink" href="#Eintragungen-im-Bereich-ignore">¶</a></h4><p>
</p><ul><li><p><code class="notranslate">servers</code> Alle Server, von denen keine Freigaben eingebunden werden sollen (Servernamen durch Kommas getrennt) </p></li><li><p><code class="notranslate">workgroups</code> Arbeitsgruppen, von denen keine Freigaben eingebunden werden sollen, ebenfalls durch Kommas getrennt </p></li></ul><p>Einzelne Freigaben vom Einbinden auszuschließen ist (derzeit noch) nicht möglich.</p></div><div class="section_3"><h4 id="Eintragungen-im-Bereich-Server">Eintragungen im Bereich [&lt;Server&gt;]<a class="headerlink" href="#Eintragungen-im-Bereich-Server">¶</a></h4><p>
</p><ul><li><p><code class="notranslate">username = &lt;username&gt;</code> Ein für diesen Server gültiger Benutzername. </p></li><li><p><code class="notranslate">password = &lt;passwort&gt;</code> Ein für diesen Server gültiges Samba-Passwort. </p></li><li><p><code class="notranslate">showhiddenshares  = &lt;true/false&gt;</code> Versteckte Freigaben dieses Servers anzeigen/nicht anzeigen. Defaultwert: false </p></li><li><p><code class="notranslate">ignore = &lt;true/false&gt;</code> Den Server nicht einbinden/einbinden. Defaultwert: false (d.h. einbinden) </p></li></ul><p>
</p></div><div class="section_3"><h4 id="Eintragungen-im-Bereich-Server-Share">Eintragungen im Bereich [&lt;Server/Share&gt;]<a class="headerlink" href="#Eintragungen-im-Bereich-Server-Share">¶</a></h4><p>
</p><ul><li><p><code class="notranslate">username = &lt;username&gt;</code> Ein für diese Freigabe gültiger Benutzername. </p></li><li><p><code class="notranslate">password = &lt;passwort&gt;</code> Ein für diese Freigabe gültiges Samba-Passwort. </p></li></ul><p>Eintragungen im Bereich [&lt;Server/Share&gt;] überschreiben konkurrierende Eingaben im Bereich [&lt;Server&gt;] und diese wiederum ünerschreiben solche im Bereich [global].</p><p>Zeilen, die mit "#" oder ";" beginnen, sind Kommentarzeilen. Sie werden nicht ausgeführt.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Für viele Windows-Freigaben und für Samba-Freigaben mit dem Eintrag <code class="notranslate">public = yes</code> in <strong>smb.conf</strong> auf dem Server braucht man <code class="notranslate">username</code> und <code class="notranslate">passwort</code> nicht einzutragen. 
</p></div></div></div></div><div class="section_2"><h3 id="Optionen-von-FuseSMB">Optionen von FuseSMB<a class="headerlink" href="#Optionen-von-FuseSMB">¶</a></h3><p>
FuseSMB unterstützt eine große Zahl von <a class="internal" href="../fuse.html">Optionen des Kernelmoduls FUSE</a>. Über den Befehl 
</p><div class="bash"><div class="contents"><pre class="notranslate">fusesmb -h </pre></div></div><p>
werden diese im Terminal aufgelistet. Weil die meisten davon nur für spezielle Anwendungen von Bedeutung sind, wird hier nicht weiter auf sie eingegangen. Allgemein wichtig sind jedoch folgende Parameter:</p><ul><li><p><code class="notranslate">-s</code> deaktiviert den sog. "Multi-Threading"-Zugriff (ab Ubuntu 8.10 <a class="internal" href="../intrepid_ibex.html">Intrepid Ibex</a> erforderlich)</p></li><li><p><code class="notranslate">-o allow_other</code> den Zugriff für alle Mitglieder der Gruppe <strong>fuse</strong> erlauben </p></li><li><p><code class="notranslate">-o uid=&lt;uid&gt;,gid=&lt;gid&gt;</code> Die auf dem Client gültigen Besitzrechte an einen Benutzer und eine Gruppe übertragen. Die Kennungen &lt;uid&gt; und &lt;gid&gt; müssen als Zahlenwerte eingetragen werden (siehe <a class="internal" href="../benutzer_und_gruppen.html">Benutzer und Gruppen</a>) </p></li><li><p><code class="notranslate">-o umask=&lt;mask&gt;</code> Durch bitweises Maskieren die Zugriffsrechte weiter einschränken. Siehe <a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/umask">umask</a>. </p></li></ul><p>Mehrere Parameter können durch Kommas getrennt aneinander gefügt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">#Allgemein:
fusesmb -s &lt;mountpoint&gt; -o &lt;Parameter1&gt;[,&lt;Parameter2&gt;,...]
#Beispiel
fusesmb -s ~/Samba-Shares -o allow_other,umask=033 </pre></div></div></div><div class="section_2"><h3 id="Individuelle-Zugriffsrechte">Individuelle Zugriffsrechte<a class="headerlink" href="#Individuelle-Zugriffsrechte">¶</a></h3><p>
</p><div class="section_3"><h4 id="Variante-fuer-statische-Netzwerke">Variante für statische Netzwerke<a class="headerlink" href="#Variante-fuer-statische-Netzwerke">¶</a></h4><p>
In statischen Netzwerken kann man oftmals auf das Durchsuchen des Netzwerks (den "Crawler") und auf regelmäßige Aktualisierungen verzichten. Dies geschieht folgendermaßen:</p><ol class="arabic"><li><p>In die Datei <strong>~/.smb/fusesmb.conf</strong> trägt man <code class="notranslate">interval = 0</code> ein. </p></li><li><p>In die Datei <strong>~/.smb/fusesmb.cache</strong> trägt man von Hand alle Freigaben ein, die eingebunden werden sollen. So kann man die Auswahl sogar noch stärker differenzieren, als dies beim automatischen Eintrag durch den Crawler möglich ist. </p></li><li><p>Nun verändert man die Zugriffsrechte für <strong>~/.smb/fusesmb.cache</strong> so, dass FuseSMB diese Datei zwar lesen, nicht aber beschreiben kann, z.B. </p><div class="bash"><div class="contents"><pre class="notranslate">sudo chmod 0400 ~/.smb/fusesmb.cache  </pre></div></div></li></ol><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Das regelmäßige Aktualisieren erfolgt durch Rundspruch ("Broadcast"). Dieser belastet das Netz und verlangsamt andere Zugriffe. Deshalb ist es sinnvoll, auf überflüssige Aktualisierungen zu verzichten. 
</p></div></div></div></div><div class="section_2"><h3 id="Praktische-Beispiele">Praktische Beispiele<a class="headerlink" href="#Praktische-Beispiele">¶</a></h3><p>
Beispiel einer Datei <strong>~/.smb/fusesmb.conf</strong>:</p><pre class="notranslate">    ; Allgemeine (globale) Festlegungen:
    [global]

    ; Default Username and Passwort
    username=user
    password=hoechstgeheim
    ; Auch versteckte Freigaben anzeigen
    showhiddenshares=true

    ; Timeout für die Verbindung zum Server in Sekunden
    timeout = 10

    ; Intervall für die Aktualisierung der Freigaben in Minuten
    interval = 10

    ; Server und Arbeitsgruppen, von denen keine Freigaben eingebunden werden sollen
    [ignore]
    servers=PC-2,PC-3
    workgroups=BUERO,WG2

    ; Festlegungen für einzelne(n) Server
    [/PC-1]
    username=jane
    password=geheim
    showhiddenshares=true
    ignore=true

    ; Festlegungen für einzelne Freigabe(n)
    [/NOTEBOOK/Musik]
    username=john
    password=privat
</pre></div></div><div class="section_1"><h2 id="Probleme-und-Loesungen">Probleme und Lösungen<a class="headerlink" href="#Probleme-und-Loesungen">¶</a></h2><p>
Berühmt-berüchtigt ist die folgende Fehlermeldung (ab Ubuntu 8.10 <a class="internal" href="../intrepid_ibex.html">Intrepid Ibex</a>):</p><pre class="notranslate">"Transport endpoint is not connected"</pre><p>
Ursache ist die Verwendung der Bibliothek <code class="notranslate">libsmbclient</code> ab Version 3.2.x. Zur Lösung ist es erforderlich, FuseSMB mit einem Parameter zu starten:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo fusesmb -s &lt;mountpoint&gt; </pre></div></div><p>
Root-Rechte (<code class="notranslate">sudo</code>) sind je nach Konfiguration (siehe oben) nicht zwangsläufig erforderlich, entscheidend ist die Angabe von <strong><code class="notranslate">-s</code></strong>!</p><div class="section_2"><h3 id="Die-Aktualisierung-bleibt-aus">Die Aktualisierung bleibt aus<a class="headerlink" href="#Die-Aktualisierung-bleibt-aus">¶</a></h3><p>
Wenn das Durchsuchen des Netzwerks nach verfügbaren Freigaben und die Aktualisierung der Einträge nicht funktionieren, sind dafür folgende Ursachen möglich:</p><ol class="arabic"><li><p>FuseSMB kann die Datei <strong>~/.smb/fusesmb.conf</strong> nicht lesen und/oder in die Datei <strong>~/.smb/fusesmb.cache</strong> nicht schreiben. Überprüfen Sie die Zugriffsrechte! </p></li><li><p>In der Datei <strong>~/.smb/fusesmb.conf</strong> ist über den Eintrag <code class="notranslate">interval = 0</code> (oder negativ) die Aktualisierung abgeschaltet. Entfernen Sie den Eintrag (Default=10) oder tragen Sie einen anderen positiven Wert für das Zeitintervall (in Minuten) ein. </p></li><li><p>FuseSMB war in der gleichen Sitzung vorher bereits mit anderen Zugriffsrechten gestartet worden. Starten Sie den Rechner neu oder melden Sie sich neu an. </p></li></ol><p>
</p></div><div class="section_2"><h3 id="Warnungen-und-Hinweise">Warnungen und Hinweise<a class="headerlink" href="#Warnungen-und-Hinweise">¶</a></h3><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Hat man mit FuseSMB viele Freigaben eingebunden, dann sollte man mit Anwendungen, die Verzeichnisse automatisch durchsuchen (Media-Player, Bildbetrachter oder auch z.B. Virenscanner), besonders vorsichtig sein. Sonst kann es leicht geschehen, dass unbeabsichtigt das gesamte Netzwerk durchsucht und dieses damit über Gebühr belastet wird! 
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die <a class="internal" href="../shell/man.html">Manpage</a> enthält weiterführende Informationen und genaue Erklärungen der einzelnen Parameter und sollte auf jeden Fall bei Problemen gelesen werden. 
</p></div></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.ricardis.tudelft.nl/~vincent/fusesmb/" rel="nofollow">FuseSMB-Homepage</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="https://help.ubuntu.com/community/FuseSmb" rel="nofollow">User documentation FuseSMB</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://doc.ubuntu-fr.org/fusesmb" rel="nofollow">Anleitung im französischen Wiki</a> <img alt="{fr}" src="../_/a4d7caed6af30e5c7549b4de45c71ed5f7036425.png"/> </p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../archiv/samba_client_fusesmb/a/revision/778618.html">Diese Revision</a> wurde am 6. Januar 2015 16:12 von <a href="https://ubuntuusers.de/user/cornix/">cornix</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/samba_client_fusesmb.html">Samba Client FuseSMB</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>