<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/LTSP/Installation_bis_Natty › ubuntuusers statisches Wiki</title>
<link href="../../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../../archiv/ltsp/installation_bis_natty.html">Installation bis Natty</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/LTSP/Installation_bis_Natty">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../../wiki/index.html">Index</a></li>
<li><a href="../../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../../wiki.html">Übersicht</a></li>
<li><a href="../../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../../kategorien.html">Kategorie</a></li>
<li><a href="../../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../../howto.html">Howto anlegen</a></li>
<li><a href="../../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../../baustelle.html">Baustellen</a></li>
<li><a href="../../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../../archiv/ltsp/installation_bis_natty/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../../archiv/ltsp/installation_bis_natty/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../../archiv/ltsp/installation_bis_natty/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../../archiv/ltsp/installation_bis_natty/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../../archiv/ltsp/installation_bis_natty/a/backlinks.html">Installation bis Natty</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../../editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../../isc-dhcpd.html">DHCPD konfigurieren</a> </p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../../nfs.html">NFS konfigurieren</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li style="list-style: none"><ol class="arabic"><li><a class="crosslink" href="#Pakete-installieren">Pakete installieren
</a></li><li><a class="crosslink" href="#LTSP-Umgebung-installieren">LTSP-Umgebung installieren
</a></li><li><a class="crosslink" href="#Dienste-konfigurieren">Dienste konfigurieren
</a><ol class="arabic"><li><a class="crosslink" href="#Trivial-File-Transfer-Protocol-tftp">Trivial File Transfer Protocol (tftp)
</a></li><li><a class="crosslink" href="#Dynamic-Host-Configuration-Daemon-dhcpd">Dynamic Host Configuration Daemon (dhc...</a></li><li><a class="crosslink" href="#NFS-NBD">NFS / NBD
</a></li><li><a class="crosslink" href="#Dienste-neu-starten">Dienste neu starten
</a></li></ol></li></ol></li><li><a class="crosslink" href="#Installationen">Installationen
</a><ol class="arabic"><li><a class="crosslink" href="#Ubuntu-10-04-und-8-04-2">Ubuntu 10.04 und 8.04
</a></li><li><a class="crosslink" href="#Heterogen">Heterogen
</a></li></ol></li><li><a class="crosslink" href="#Konfiguration-der-Clienten">Konfiguration der Clienten
</a><ol class="arabic"><li><a class="crosslink" href="#Spezielle-Softwarepakete">Spezielle Softwarepakete
</a><ol class="arabic"><li><a class="crosslink" href="#Ubuntu-8-04">Ubuntu 8.04
</a></li></ol></li><li><a class="crosslink" href="#Kerneloptionen">Kerneloptionen
</a></li><li><a class="crosslink" href="#UTF-8-in-Dateinamen">UTF-8 in Dateinamen
</a></li></ol></li><li><a class="crosslink" href="#Nachwort">Nachwort
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="LTSP/ltsp_logo.png" class="image-left" src="../../_/73a4b228cdf70f8c1b19e2455c2c7d934d43f606.png"/>
Dieser Artikel beschreibt die Installation eines <a class="internal" href="../../ltsp.html">LTSP</a>-Servers bis Ubuntu 11.04.  Zur Installation mit neueren Ubuntu-Versionen siehe <a class="internal" href="../../ltsp/installation_ab_oneiric.html">LTSP/Installation ab Oneiric</a>.</p><div class="section_1"><div class="section_2"><h3 id="Pakete-installieren">Pakete installieren<a class="headerlink" href="#Pakete-installieren">¶</a></h3><p>
Folgende Pakete müssen installiert <sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>ltsp-server</strong> </p></li><li><p><strong>ltsp-server-standalone</strong> (nur falls kein geeigneter DHCP-Server im LAN bereits aktiv ist) </p></li><li><p><strong>openssh-server</strong> </p></li><li><p><strong>nbd-server</strong> (siehe <a class="interwiki interwiki-ubuntu_doc" href="https://help.ubuntu.com/community/UbuntuLTSP/LTSPWithoutNFS">LTSP without NFS</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>) </p></li><li><p><strong>ltspfs</strong> und <strong>ltspfsd</strong> (falls man an die Clienten lokale Geräte anbinden will, z.B. USB-Sticks) </p></li></ul><p>
</p></div><div class="section_2"><h3 id="LTSP-Umgebung-installieren">LTSP-Umgebung installieren<a class="headerlink" href="#LTSP-Umgebung-installieren">¶</a></h3><p>
Die bereits installierten LTSP-Pakete enthalten nur Werkzeuge, um eine LTSP-Umgebung zu installieren. Um die für LTSP benötigten Dateien nun zu installieren, ruft man in einem Terminal <sup><a href="#source-2">[2]</a></sup> folgenden Befehl auf:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ltsp-build-client </pre></div></div><p>
Der Befehl <code class="notranslate">ltsp-build-client</code> installiert ein Client-Betriebssystem. Je nachdem, welche Architektur das Serversystem hat, wird das Client-System entweder in <strong>/opt/ltsp/i386</strong> oder <strong>/opt/ltsp/amd64</strong> installiert. Die zu bootenden Kernel und die Unterstützung für PXE wird analog in <strong>/var/lib/tftp-boot/ltsp/i386</strong> oder <strong>/var/lib/tftp-boot/ltsp/amd64</strong> installiert.</p><p>Will man unter einem 64-Bit Server zusätzlich ein System für 32-Bit Clienten installieren, so tut man dies mit dem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ltsp-build-client --arch i386 </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Erfolgt der Zugriff auf das Internet über einen Proxy, so muss dieser bekanntgegeben werden; siehe dazu <a class="internal" href="../../proxyserver.html">Proxyserver</a>. Eine alternative Methode ist in diesem <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/236008">Fehlerbericht</a>  beschrieben. 
</p></div></div><p>Anschliessend muss für die Clienten der Zugriff auf den Server per <code class="notranslate">ssh</code> erlaubt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ltsp-update-sshkeys </pre></div></div></div><div class="section_2"><h3 id="Dienste-konfigurieren">Dienste konfigurieren<a class="headerlink" href="#Dienste-konfigurieren">¶</a></h3><p>
Damit aber die Clients die installierten Kernel auch booten können, müssen die nachfolgenden Schritte ausgeführt werden.</p><div class="section_3"><h4 id="Trivial-File-Transfer-Protocol-tftp">Trivial File Transfer Protocol (tftp)<a class="headerlink" href="#Trivial-File-Transfer-Protocol-tftp">¶</a></h4><p>
Der tftpd-hpa wird in der normalen Ubuntu-Konfiguration über <code class="notranslate">inetd</code> als Dämon gestartet (Ausschnitt aus der Datei <strong>/etc/inetd.conf</strong> siehe Kasten), somit ist keine weitere Anpassung erforderlich. Wichtig ist die Zahl 4 hinter udp (siehe Kasten).</p><pre class="notranslate">tftp           dgram   udp4     wait    root  /usr/sbin/in.tftpd /usr/sbin/in.tftpd -s /var/lib/tftpboot</pre><p>Ab Ubuntu 10.04 muss die Datei <strong>/etc/default/tftpd-hpa</strong> wie folgt modifiziert werden (siehe auch <a class="internal" href="../../pxe-installation.html">Artikel über PXE-Installation</a>):</p><pre class="notranslate">TFTP_USERNAME="tftp"
TFTP_DIRECTORY="/var/lib/tftpboot"
TFTP_ADDRESS="0.0.0.0:69"
TFTP_OPTIONS="-l -s"</pre><p>Wenn in einem Netzwerk ein anderer Rechner als der LTSP-Server die Rolle des TFTP-Servers übernehmen soll, dann ist einfach der Ordner <strong>/var/lib/tftpboot</strong> auf diesen Rechner zu kopieren. Damit anschließend der richtige NBD-Server gefunden wird, muss man in der Datei <strong>/var/lib/tftpboot/ltsp/amd64/pxelinux.cfg/default</strong> (bzw. i386) die Parameter abändern, die über <code class="notranslate">append</code> angehängt werden:</p><pre class="notranslate"> append ro initrd=initrd.img nbdroot=xxx.xxx.xxx.xxx:2000 </pre><p>Die bis dahin vorhandene Option <strong>nbdport=2000</strong> muss weg gelassen werden.</p></div><div class="section_3"><h4 id="Dynamic-Host-Configuration-Daemon-dhcpd">Dynamic Host Configuration Daemon (dhcpd)<a class="headerlink" href="#Dynamic-Host-Configuration-Daemon-dhcpd">¶</a></h4><p>
Jetzt muss noch die Datei <strong>/etc/ltsp/dhcpd.conf</strong> an das lokale Netzwerk angepasst<sup><a href="#source-4">[4]</a></sup> werden. Hier gibt es mehrere Möglichkeiten, eine relativ sichere Konfiguration gibt nur Rechner frei, welche über ihre MAC-Adresse bekannt sind. Dazu definieren wir eine Gruppe von Rechnern (z.B. mit den Rechner "alice" und "bob"), welche zum LTSP weitergeleitet werden. Unbekannte Rechner erhalten zwar eine IP-Adresse, jedoch keinen Zugriff auf das LTSP.</p><pre class="notranslate"># Der LTSP-Server hat die IP 192.168.1.100, und und legt außerdem den DNS,
# den Router und das TFTP- und das LTSP-Verzeichnis fest.

option domain-name "netzwerk.local";
option domain-name-servers dns.com;
option broadcast-address 192.168.1.255;
option routers 192.168.1.1;
option subnet-mask 255.255.255.0;
authoritative;
allow booting;
allow bootp;

group {
  next-server 192.168.1.100;
  server-name "192.168.1.100";
  use-host-decl-names on;
  host alice {
    # Pfad zum Wurzelverzeichnis des zu bootenden Systems
    option root-path "/opt/ltsp/i386";
    # Pfad zum TFTP-Verzeichnis (relativ zur TFTP-Konfiguration)
    filename "/ltsp/i386/pxelinux.0";
    # MAC-Adresse des Client-Rechners
    hardware ethernet 00:e0:4c:c8:de:ad;
    # IP-Adresse, welche zugewiesen wird
    fixed-address 192.168.1.32;
    }
  host bob {
    option root-path "/opt/ltsp/amd64";
    filename "/ltsp/amd64/pxelinux.0";
    hardware ethernet 00:16:36:10:b3:61;
    fixed-address 192.168.1.33;
    }
}

subnet 192.168.1.0 netmask 255.255.255.0 {
    range 192.168.1.101 192.168.1.250;
}</pre><p>
In diesem Fall bootet "alice" in eine 32-Bit-, und "bob" in eine 64-Bit-Umgebung. Die Pfade auf das zu bootende PXE müssen natürlich angepasst werden. Die Rechner für das LTSP bekommenen IP-Adressen von <code class="notranslate">192.168.1.2</code> bis <code class="notranslate">192.168.1.99</code>. Unbekannte Rechner werden in den Bereich von <code class="notranslate">192.168.1.101</code> bis <code class="notranslate">192.168.1.250</code> verbannt.</p></div><div class="section_3"><h4 id="NFS-NBD">NFS / NBD<a class="headerlink" href="#NFS-NBD">¶</a></h4><p>
</p><div class="section_4"><h5 id="Ubuntu-10-04-und-8-04">Ubuntu 10.04 und 8.04<a class="headerlink" href="#Ubuntu-10-04-und-8-04">¶</a></h5><p>
Ab Ubuntu 8.04 übernimmt der <strong>nbd</strong> die Bereitstellung des LTSP-Images. Der Befehl <strong>sudo ltsp-update-image</strong> erstellt diese in <strong>/opt/ltsp/images</strong>. Bei Client-Rechnern, die nicht dem Hostsystem entsprechen, muss dem Befehl die Architektur mitgeteilt werden, z.B.:</p><div class="bash"><div class="contents"><pre class="notranslate">ltsp-update-image --arch i386 </pre></div></div><p>
Nach Änderungen mittels <strong>chroot</strong> in z.B. <strong>/opt/ltsp/i386</strong> (Setzen des root-Passwortes, Installation von neuen Paketen, ...) muss obiger Befehl erneut ausgeführt werden, damit die Änderungen im Image übernommen werden. Der <strong>nbd</strong> stellt seine Dienste via des <strong>inetd</strong> bereit. In der Konfigurationsdatei <strong>/etc/inetd.conf</strong> muss ergo ein Eintrag für diese Freigabe vorhanden sein. Ein Eintrag für zwei unterschiedliche Architekturen sieht so aus:</p><pre class="notranslate">2000    stream  tcp     nowait  nobody /usr/sbin/tcpd /usr/sbin/nbdrootd /opt/ltsp/images/amd64.img
2001    stream  tcp     nowait  nobody /usr/sbin/tcpd /usr/sbin/nbdrootd /opt/ltsp/images/i386.img</pre><p>
In dieser Konfiguration werden die Images an die Ports <code class="notranslate">2000</code> und <code class="notranslate">2001</code> gebunden.</p><p>Zugriffsbeschränkungen auf den <strong>nbd</strong> legt man am einfachsten in der Datei <strong>/etc/hosts.allow</strong> fest. Näheres dazu steht bei <a class="internal" href="../../inetd.html">tcpwrapper</a>. Alternativ kann man mittels <a class="internal" href="../../iptables.html">iptables</a> eine Firewall damit beschäftigen.</p></div></div><div class="section_3"><h4 id="Dienste-neu-starten">Dienste neu starten<a class="headerlink" href="#Dienste-neu-starten">¶</a></h4><p>
Nachdem alle Anpassungen durchgeführt wurden, müssen sämtliche Dienste, die zum Betrieb eines LTSP-Servers nötig sind, neu gestartet werden:</p><ul><li><p>ab <a class="internal" href="../../maverick.html">Ubuntu 10.10</a>: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/isc-dhcp-server restart
sudo /etc/init.d/tftpd-hpa restart </pre></div></div></li><li><p>bis <a class="internal" href="../../lucid.html">Ubuntu 10.04</a>: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/dhcp3-server restart
sudo /etc/init.d/tftpd-hpa restart </pre></div></div></li></ul><p>
</p></div></div></div><div class="section_1"><h2 id="Installationen">Installationen<a class="headerlink" href="#Installationen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Ubuntu-10-04-und-8-04-2">Ubuntu 10.04 und 8.04<a class="headerlink" href="#Ubuntu-10-04-und-8-04-2">¶</a></h3><p>
Ab Ubuntu 8.04 läuft die Installation ohne Probleme durch, auch die Clients starten erfolgreich. Da bei einem neu angelegten User auf dem Server <a class="internal" href="../../pulseaudio.html">PulseAudio</a> standardmäßig aktiviert ist, funktioniert die Soundausgabe auf dem Client problemlos. Um am Clienten zum Beispiel USB-Sticks nutzen zu können, müssen die Pakete <strong>ltspfs</strong> und <strong>ltspfsd</strong> installiert werden.</p><p><a class="crosslink anchor" href="#Hetero" id="Hetero"></a>
</p></div><div class="section_2"><h3 id="Heterogen">Heterogen<a class="headerlink" href="#Heterogen">¶</a></h3><p>
Dieses Szenario ist häufig anzutreffen. Da man einen "dicken" Server braucht, bietet sich die Verwendung einer 64-Bit-Version mit Unterstützung für Mehrkern-Prozessoren an. Als Clienten können jedoch ältere 32-Bit-Rechner verwendet werden. Allerdings muss dann für die Clienten eine extra 32-Bit-Installation verwendet werden (s.o.). Unter Ubuntu 8.04 muss man lediglich die entsprechende Clienten-Umgebung installieren.</p></div></div><div class="section_1"><h2 id="Konfiguration-der-Clienten">Konfiguration der Clienten<a class="headerlink" href="#Konfiguration-der-Clienten">¶</a></h2><p>
Da auch dies sehr komplex werden kann, wurde diese Thematik nach <a class="internal" href="../../ltsp/lts.conf.html">LTSP/lts.conf</a> ausgelagert. Bei Ubuntu 8.04 liegt die Datei unter <strong>/var/lib/tftpboot/ltsp/i386/lts.conf</strong>.</p><p><a class="crosslink anchor" href="#SpeAnf" id="SpeAnf"></a>
</p><div class="section_2"><h3 id="Spezielle-Softwarepakete">Spezielle Softwarepakete<a class="headerlink" href="#Spezielle-Softwarepakete">¶</a></h3><p>
Benötigen die Clienten proprietäre Treiber, so müssen diese installiert werden. Das Vorgehen wird hier für eine 386er-Architektur am Beispiel des <code class="notranslate">nvidia-glx</code>-Treibers dargestellt:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo chroot /opt/ltsp/i386 apt-get install nvidia-glx </pre></div></div><p>
Mit dieser Methode lassen sich beliebige Pakete aus den Paketquellen installieren.</p><div class="section_3"><h4 id="Ubuntu-8-04">Ubuntu 8.04<a class="headerlink" href="#Ubuntu-8-04">¶</a></h4><p>
Ab Ubuntu 8.04 müssen Änderungen, die man am LTSP-Filesystem vornimmt, ins Image übernommen werden. Dazu ruft man den den Befehl <strong>ltsp-update-image</strong> auf, der ein neues Image generiert. Bei heterogenen Installationen muss man dem Befehl die Architektur mitteilen. Beispiel:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ltsp-update-image --arch i386 </pre></div></div></div></div><div class="section_2"><h3 id="Kerneloptionen">Kerneloptionen<a class="headerlink" href="#Kerneloptionen">¶</a></h3><p>
Eventuell booten manche Clients nicht, da sie mit dem jeweiligen Kernel nicht zurechtkommen. Probleme treten häufig im Zusammenspiel mit sehr alter oder sehr neuer Hardware der Clienten auf; dies betrifft insbesondere die Anforderungen für <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/APIC">APIC</a> und <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/ACPI">ACPI</a>. Sollte so ein Fall auftreten, so kann man dem Kernel die passenden Bootparameter (zum Beispiel in der Datei <strong>/var/lib/tftpboot/ltsp/i386/pxelinux.cfg/default</strong> für i386er-Systeme) übergeben:</p><pre class="notranslate">DEFAULT vmlinuz ro initrd=initrd.img noapic acpi=off</pre><p>
Wenn man sehr unterschiedliche Clients benutzt, so kann es nötig werden, dass man ihnen unterschiedliche Kerneloptionen übergeben muss. In diesem Fall kommt man nicht umhin, den zuständigen <strong>tftp</strong>-Baum zu klonen, und die Clienten mittels des <strong>dhcpd</strong> in den richtigen Ast zu schicken, damit er dort die passenden Bootparameter vorfindet.</p></div><div class="section_2"><h3 id="UTF-8-in-Dateinamen">UTF-8 in Dateinamen<a class="headerlink" href="#UTF-8-in-Dateinamen">¶</a></h3><p>
Via <strong>ltspfs</strong> kann man an die Clients zum Beispiel USB-Stick einhängen. Wenn diese jedoch Dateinamen mit UTF-8-Zeichen enthalten, so werden statt dessen nur Fragezeichen ausgegeben. Dies ist ein bekannter <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/164508">Fehler</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> . In so einem Fall tauscht man in der Datei <strong>/opt/ltsp/i386/lib/udev/add_fstab_entry</strong> die Zeile</p><pre class="notranslate">echo "/dev/${DEVICENAME} ${MOUNTPOINT} ${FSTYPE} defaults 0 0" &gt;&gt; ${FSTAB}</pre><p>
gegen diese aus:</p><pre class="notranslate">echo "/dev/${DEVICENAME} ${MOUNTPOINT} ${FSTYPE} utf8 0 0" &gt;&gt; ${FSTAB}</pre></div></div><div class="section_1"><h2 id="Nachwort">Nachwort<a class="headerlink" href="#Nachwort">¶</a></h2><p>
Jetzt ist der LTSP Server konfiguriert und man kann mit einem beliebigen PC oder Thin Client, der über das Netzwerk booten kann, eine LTSP Umgebung starten. Informationen zu weiteren Konfiguration findet man im Artikel <a class="internal" href="../../ltsp/lts.conf.html">LTSP/lts.conf</a>.</p><p>Bei der Ubuntu Implementierung von LTSP 5.0 werden alle Verbindungen zum X-Server des Servers durch einen SSH-Tunnel geführt. Das bedeutet, dass man eine verschlüsselte Verbindung zwischen Server und Client hat, was im Vergleich zum ansonsten üblichen X Display Manager Control Protocol (XDMCP) - welches üblicherweise verwendet wird - auch höheren Sicherheitsanforderungen gerecht wird. Dies gilt allerdings nur für die Daten des X-Servers - die Daten, die mittels NFS übertragen werden, werden unverschlüsselt über das Netzwerk geschickt.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.linux-schulserver.de/index.php?name=Sections&amp;req=viewarticle&amp;artid=55&amp;page=1" rel="nofollow">Vor- und Nachteile verschiedener Thin-Client Lösungen</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="internal" href="../../ltsp.html">LTSP</a> <img alt="{Übersicht}" src="../../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../../archiv/ltsp/installation_bis_natty/a/revision/800733.html">Diese Revision</a> wurde am 19. März 2015 11:17 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../../startseite.html">Wiki</a></li>
<li><a href="../../archiv.html">Archiv</a></li>
<li><a href="../../archiv/ltsp.html">LTSP</a></li>
<li><a href="../../archiv/ltsp/installation_bis_natty.html">Installation bis Natty</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>