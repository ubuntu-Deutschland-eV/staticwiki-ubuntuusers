<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Ubuntu_auf_dem_Smartphone › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/ubuntu_auf_dem_smartphone.html">Ubuntu auf dem Smartphone</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Ubuntu_auf_dem_Smartphone">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/ubuntu_auf_dem_smartphone/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/ubuntu_auf_dem_smartphone/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/ubuntu_auf_dem_smartphone/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/ubuntu_auf_dem_smartphone/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/ubuntu_auf_dem_smartphone/a/backlinks.html">Ubuntu auf dem Smartphone</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../chroot.html">Funktionsweise von Chroot</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../vnc.html">Bedienung von VNC</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../mount.html">Funktionsweise von mount</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Voraussetzungen">Voraussetzungen
</a></li><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Bedienung">Bedienung
</a></li><li><a class="crosslink" href="#Tipps-und-Tricks">Tipps und Tricks
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/Oxygen/phone.png" class="image-left" src="../_/948799fdfdee932ce5356c216fd7cf1b52f73c95.png"/>
Inzwischen sind Smartphones und Tablets extrem leistungsfähig geworden. Somit stellt sich auch die Frage, ob es denn möglich ist, ein solches mobiles Gerät (ein Smartphone oder Tablet mit <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Android_(Betriebssystem)">Android</a>) mit Ubuntu zu betreiben. Hier soll ein Weg, dies zu realisieren, aufgezeigt werden, der die ursprüngliche Funktionalität des Gerätes nicht mindert und man somit das Originalbetriebssystem weiterhin nutzen kann.</p><p>Welche Möglichkeiten offenbart die hier gezeigte Ubuntu-Installation:
</p><ul><li><p>Nutzen einer grafischen Arbeitsumgebung, beispielsweise <a class="internal" href="../lxde.html">LXDE</a></p></li><li><p>Nutzen der meisten Programme, beispielsweise <a class="internal" href="../firefox.html">Firefox</a>, <a class="internal" href="../pidgin.html">Pidgin</a>, <a class="internal" href="../libreoffice.html">LibreOffice</a></p></li></ul><p>
Was mit dieser Methode leider nicht möglich ist:
</p><ul><li><p>Tonausgabe funktioniert nicht, somit sind Multimediaprogramme weitgehend nutzlos</p></li><li><p>Nutzen von telefonspezifischen Schnittstellen wie Telefonieren, SMS, GPS, ...</p></li></ul><p>
</p><div class="section_1"><h2 id="Voraussetzungen">Voraussetzungen<a class="headerlink" href="#Voraussetzungen">¶</a></h2><p>
<img alt="GalaxyS2_Ubuntu.jpg" class="image-right" src="../_/3d19d59cee5bcafd118c9152b1a86e45ad755080.png"/>
</p><ul><li><p>Das Smartphone sollte einigermaßen leistungsfähig sein, schließlich wurde Ubuntu für PCs entwickelt. Ein Dualcore-Prozessor, der mit 800Mhz getaktet ist, sowie 512MB Arbeitsspeicher sollten grundlegenden Anforderungen bereits gewachsen sein.</p></li></ul><p>
</p><ul><li><p>Der Kernel des Android-Systems muss "gerootet" sein. Das bedeutet, man spielt einen neuen Linux-Kernel auf das Handy, der <a class="internal" href="../sudo.html">Root</a>-Zugriff und erweiterte Funktionalität bietet.</p></li></ul><p>
</p><ul><li><p>Der Kernel muss mit loop-Devices umgehen können. Dies ist bei den meisten Root-Kerneln der Fall.</p></li></ul><p>
</p><ul><li><p>Auf dem Telefon sollte genug Speicherplatz vorhanden sein, um in der Ubuntu-Umgebung viele Programme installieren zu können. Hier sind 4GB ein sehr guter Wert. Eine durchschnittliche Installation mit <a class="internal" href="../lxde.html">LXDE</a> als Oberfläche, Browser, Officepaket und ein paar weiteren Kleinigkeiten benötigt etwa 2-3 GiB an Speicherplatz.</p></li></ul><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Installation von Ubuntu setzt die Installation eines ROOT-Kernels voraus. Dieser Schritt lässt jedoch üblicherweise die Herstellergarantie des Smartphones verfallen!
</p></div></div><ul><li><p>Erfolgreich getestete Android-Geräte:</p><ul><li><p>Samsung GalaxyTab 10.1</p></li><li><p>Samsung Galaxy S2 GT-I9100</p></li><li><p>Sony Xperia S (LT26I)</p></li></ul></li></ul><p>
</p></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
</p><div class="section_2"><h3 id="Ubuntu-herunterladen">Ubuntu herunterladen<a class="headerlink" href="#Ubuntu-herunterladen">¶</a></h3><p>
Es gibt spezielle Ubuntu-Abbilder, die für Server gedacht sind und inklusive der <a class="internal" href="../paketquellen.html">Paketquellen</a> für die ARM-Plattform übersetzt sind. Somit stellen sie eine ideale Basis für das Vorhaben dar. Herunterladen kann man sie <a class="external" href="http://cdimage.ubuntu.com/releases/" rel="nofollow">Downloadseite</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Dort die gewünschte Version auswählen, auf "release" klicken und dann in der Liste eine Datei auswählen, die die Worte <strong>server</strong> und <strong>arm</strong> enthält, als auch auf <strong>.img.gz</strong> endet.</p></div><div class="section_2"><h3 id="Abbild-aufteilen">Abbild aufteilen<a class="headerlink" href="#Abbild-aufteilen">¶</a></h3><p>
Das heruntergeladene Abbild ist noch komprimiert. Um es zu entpacken macht man am einfachsten im Dateimanager einen Rechtsklick auf die heruntergeladene Datei und wählt dort die entsprechende Option. Das entpackte Abbild besteht aus zwei Partitionen: Eine FAT32-Partition für den Bootvorgang und eine <a class="internal" href="../ext.html">ext</a>3-Partition, die das eigentlich gewünschte System enthält. Nähere Informationen dazu können mit dem Programm <a class="internal" href="../gnu_parted.html">GNU Parted</a> angezeigt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">parted ubuntu-11.10-preinstalled-server-armel+omap4.img </pre></div></div><pre class="notranslate">WARNUNG: Sie sind nicht root. Achten Sie auf Ihre Rechte.
GNU Parted 3.0
Verwende /home/username/Downloads/ubuntu-11.10-preinstalled-server-armel+omap4.img
Willkommen zu GNU Parted! Geben Sie 'help' ein, um eine Liste der verfügbaren Kommados zu 	erhalten.
(parted) unit                                                             
Einheit?  [compact]? B                                                    
(parted) print                                                            
Modell:  (file)
Festplatte  /home/simon/Downloads/ubuntu-11.10-preinstalled-server-armel+omap4.img:  	1548746752B
Sektorgröße (logisch/physisch): 512B/512B
Partitionstabelle: msdos

Nummer  Anfang     Ende         Größe        Typ      Dateisystem  Flags
 1      16384B     75497471B    75481088B    primary  fat32        boot, lba
 2      75497472B  1548746751B  1473249280B  primary  ext4
	
(parted) quit</pre><p>
Um die Systempartition aus dem Abbild zu extrahieren wird dd benutzt:</p><div class="bash"><div class="contents"><pre class="notranslate">dd if=ubuntu-11.10-preinstalled-server-armel+omap4.img of=ubuntu_small.img bs=512 skip=147456 count=368312320 </pre></div></div><p>Die Werte für "skip" und "count" errechnen sich dabei wie folgt und weichen eventuell von dem hier gezeigten Beispiel ab:
</p><ul><li><p>skip = (Anfang der Systempartition 75497472) / 512 = 147456</p></li><li><p>count = (Größe der Systempartition 1473249280) / 4 = 368312320</p></li></ul><p>
</p></div><div class="section_2"><h3 id="Groesse-des-Abbildes-anpassen">Größe des Abbildes anpassen<a class="headerlink" href="#Groesse-des-Abbildes-anpassen">¶</a></h3><p>
Um auf dem Ubuntu auch große Programme installieren zu können, muss Platz gewonnen werden, indem man das Abbild vergrößert. Dazu wird zuerst ein neues leeres Abbild erzeugt. Als Größe bietet sich 4GB an, da dies die maximale Dateigröße ist, die das FAT32-Dateisystem, das auf den meisten mobilen Datenträgern verwendet wird, verwalten kann:</p><div class="bash"><div class="contents"><pre class="notranslate">dd if=/dev/zero of=/pfad/zum/image/ubuntu.img bs=1000 count=4000000 </pre></div></div><p>
Bis das neue Abbild erstellt ist, dauert es einen Moment. Im nächsten Schritt wird darauf ein EXT3-Dateisystem erzeugt:</p><div class="bash"><div class="contents"><pre class="notranslate">mkfs -t ext3 -q /pfad/zum/image/ubuntu.img </pre></div></div><p>
Jetzt müssen die Dateien des zu kleinen Abbildes auf das neue kopiert werden. Dazu muss man zu allererst beide Abbilder einbinden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /mnt/ubuimgold
sudo mkdir /mnt/ubuimgnew
sudo mount -o loop /pfad/zum/image/ubuntu_small.img /mnt/ubuimgold
sudo mount -o loop /pad/zum/image/ubuntu.img /mnt/ubuimgnew </pre></div></div><p>
Jetzt können die Dateien kopiert werden:</p><div class="bash"><div class="contents"><pre class="notranslate">cd /mnt/ubuimgold
sudo cp -a ./* /mnt/ubuimgnew/ </pre></div></div><p>
Dies kann je nach Schnelligkeit der Fesplatte etwas Zeit in Anspruch nehmen.</p></div><div class="section_2"><h3 id="Konfiguration-anpassen">Konfiguration anpassen<a class="headerlink" href="#Konfiguration-anpassen">¶</a></h3><p>
Um verschiedene Funktionen von Ubuntu innerhalb der <a class="internal" href="../chroot.html">chroot</a>-Umgebung gewährleisten zu können, müssen noch einige Konfigurationsdateien bearbeitet werden. Da das neue Abbild immer noch eingebunden ist, bietet es sich an, die Dateien jetzt gleich am Computer zu bearbeiten.</p><p>Zuerst werden die <a class="internal" href="../paketquellen.html">Paketquellen</a> angepasst. Dazu bewegt man sich mit dem Dateimanager nach <strong>/mnt/ubuimgnew/etc/apt/</strong> und bearbeitet dort die Datei <strong>sources.list</strong>. Die Originalquellen werden auskommentiert und neue hinzugefügt; somit ergibt sich folgender Inhalt:</p><pre class="notranslate"># This is a sources.list entry for a small pool of packages
# provided on your preinstalled filesystem for your convenience.
#
# It is perfectly safe to delete both this entry and the directory
# it references, should you want to save disk space and fetch the
# packages remotely instead.
#
deb file:/var/lib/preinstalled-pool/ ./
#
# /etc/apt/sources.list

#deb http://ports.ubuntu.com/ubuntu-ports/ oneiric main restricted
#deb http://ports.ubuntu.com/ubuntu-ports/ oneiric-security main restricted
#deb http://ports.ubuntu.com/ubuntu-ports/ oneiric-updates main restricted

deb http://ports.ubuntu.com/ubuntu-ports oneiric-backports universe main multiverse restricted
deb-src http://ports.ubuntu.com/ubuntu-ports oneiric-backports universe main multiverse restricted #Added by software-properties
deb http://ports.ubuntu.com/ubuntu-ports oneiric-proposed universe main multiverse restricted
deb-src http://ports.ubuntu.com/ubuntu-ports oneiric-proposed universe main multiverse restricted #Added by software-properties
deb http://ports.ubuntu.com/ubuntu-ports oneiric-updates universe main multiverse restricted
deb-src http://ports.ubuntu.com/ubuntu-ports oneiric-updates universe main multiverse restricted #Added by software-properties
deb http://ports.ubuntu.com/ubuntu-ports/ oneiric-security universe main multiverse restricted
deb-src http://ports.ubuntu.com/ubuntu-ports/ oneiric-security universe main multiverse restricted #Added by software-properties
deb http://ports.ubuntu.com/ubuntu-ports oneiric main universe multiverse restricted
deb-src http://ports.ubuntu.com/ubuntu-ports oneiric main universe multiverse restricted #Added by software-properties</pre><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Das "<code class="notranslate">oneiric</code>" muss überall durch den Namen der Version ersetzt werden, die man heruntergeladen hat!
</p></div></div><p>Damit der Internetzugang funktioniert, muss der Inhalt der Datei <strong>/mnt/ubuimgnew/etc/resolv.conf</strong> durch folgenden Text ersetzt werden:
</p><pre class="notranslate">nameserver 8.8.8.8
nameserver 8.8.4.4</pre><p>Auch die Datei <strong>/mnt/ubuimgnew/etc/hosts</strong> muss angepasst werden:
</p><pre class="notranslate">127.0.0.1	localhost </pre></div><div class="section_2"><h3 id="Bearbeitung-abschliessen">Bearbeitung abschließen<a class="headerlink" href="#Bearbeitung-abschliessen">¶</a></h3><p>
Das Abbild ist somit fertig und muss nun wieder ausgehängt werden:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo umount /mnt/ubuimgold
sudo umount /mnt/ubuimgnew </pre></div></div></div><div class="section_2"><h3 id="Smartphone-vorbereiten">Smartphone vorbereiten<a class="headerlink" href="#Smartphone-vorbereiten">¶</a></h3><p>
Nun müssen noch einige Vorbereitungen am Smartphone selbst getroffen werden:</p><ul><li><p><em>"Root-Zugriff erlangen"</em> - Wie das genau geht, ist von Gerät zu Gerät verschieden. Aufgrund dessen kann hier nicht näher darauf eingegangen werden. Dafür finden sich im Internet sehr viele Anleitungen dazu, da diese Vorgehensweise sehr beliebt ist, um die Funktionalität des Smartphones zu erweitern. Es sei nochmals darauf hingewiesen, dass durch diesen Schritt üblicherweise die Herstellergarantie verfällt.</p></li></ul><p>
</p><ul><li><p><em>"Speicherort wählen"</em> - Es muss irgendwo auf dem Handy ein Ordner namens "ubuntu" erstellt werden. Als Speicherort sollt das Wurzelverzeichnis einer wechselbaren Speicherkarte bevorzugt werden. Das bietet folgende Vorteile:</p><ul><li><p>Der Pfad zum Ordner ist relativ kurz; das erspart wiederum lästige Tipparbeit auf dem Handy</p></li><li><p>Man kann die Speicherkarte direkt an den Computer anschließen. Das bietet im Gegensatz zum Handy oder Tablet als Adapter meistens höheren Datendurchsatz. Das ist besonders praktisch, wenn man verschiedene Abbilder erstellt und diese oft tauscht oder Sicherheitskopien anfertigt.</p></li><li><p>Falls man das Ubuntu sehr oft nutzt, könnte es vorkommen, dass Ubuntu sehr oft sehr viele Daten speichert. Da die Anzahl der Schreibvorgänge auf Flash-Speichermedien physikalisch durch "Abnutzung" begrenzt ist, könnte es sein, dass der Speicher nach längerer Nutzung eventuell beschädigt wird. Dass dies eintritt, ist zwar sehr unwarscheinlich, aber eine Speicherkarte lässt sich in diesem Fall sehr einfach und unkompliziert wechseln und durch eine neue tauschen. Bei im Handy oder Tablet integriertem Speicher ist dies nicht möglich und somit würde das Gerät an sich beschädigt werden.</p></li></ul></li></ul><p>
</p><ul><li><p><em>"Dateien auf das Smartphone kopieren"</em> - In den Ubuntu-Ordner müssen folgende Dateien kopiert werden:</p><ul><li><p>Das 4GB große Ubuntu-Abbild "ubuntu.img", das erstellt wurde</p></li><li><p>Ein Skript, mit dem man sich in die Ubuntu-Umgebung auf Konsolenbasis einloggen kann. Es heißt "ubushell.sh" und der Inhalt des Skripts ist folgender: </p><pre class="notranslate">#!/bin/sh
##################################################################
# Ubuntu/LXDE bootscript for Samsung Galaxy S (and others)       #
##################################################################
# by Martin Rhodes (fire314)- martin.rhodes@gmail.com            # 
# compiled with trial and error and help from a number of blogs. #
# credits: coralic, David Jensen, debdroid, blog commenters, XDA # 
# Tested on Ultimate 7.0 and Darky 9.3				 #
##################################################################
# This script is modified by Simon Schumann                     #
# (simon.schumann@web.de). The changes result in loading the     #
# ubuntu-shell instead of loading a start-script which loads     #
# a vnc-server. Thanks alot to Martin Rhodes for this very good  #
# work :-D							 #
###################################################################

echo "WARNING: If you have more than 255 apps installed on the SDCard, then mounting the ubuntu.img will fail!" 
echo
echo "Apps on the SDCard associate with an encrypted loop device, and there are only 256 available to the system." 
echo
echo "You have to go to Settings -&gt; Manage Applications -&gt; On SDCard, and move some apps back to phone storage in order to free up a loop device for ubuntu. Make sure you reboot the phone after doing this, then try again."
echo
echo "Please wait while entering the chroot-environment..."
echo
###################################################################################
# export environment variables													  #
###################################################################################
export ANDROIDTMP=$TMPDIR
export TMPDIR=/tmp
export HOME=/root
export USER=root
export PATH=/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/bin:/sbin:$PATH
export TERM=vt100
###################################################################################


########################################################
#  make directories required by the chroot environment #
########################################################
busybox mkdir /data/local/mnt
busybox mkdir /data/local/mnt/proc 
busybox mkdir /data/local/mnt/sys 
busybox mkdir /data/local/mnt/dev 
busybox mkdir /data/local/mnt/dev/pts 
busybox mkdir /data/local/mnt/sdcard 
busybox mkdir /data/local/mnt/external_sd 
########################################################


###########################################################
# create a loop far, far away and mount ubuntu.img on it  #
###########################################################
busybox mknod /dev/block/loop255 b 7 255
busybox losetup /dev/block/loop255 ./ubuntu.img
busybox mount -o noatime /dev/block/loop255 /data/local/mnt
###########################################################


######################################################################
# mount the phone's sdcard storage so it's accessible from ubuntu    #
######################################################################
busybox mount -o bind /sdcard /data/local/mnt/sdcard   
busybox mount -o bind /sdcard/external_sd /data/local/mnt/external_sd
busybox mkdir $ANDROIDTMP/ubuntutmp
busybox mount -o bind /data/local/mnt/tmp $ANDROIDTMP/ubuntutmp
#######################################################################


#################################################################
# mount linux system on our chroot environment and chroot to it #
#################################################################
busybox mount -t proc proc /data/local/mnt/proc
busybox mount -t devpts devpts /data/local/mnt/dev/pts
busybox mount -t sysfs sysfs /data/local/mnt/sys
busybox mount -o bind /dev /data/local/mnt/dev 
echo "******* Your chroot-environment is starting now - welcome to ubuntu! ********"
busybox chroot /data/local/mnt /bin/bash
echo "******* You exited the chroot-environment... please wait ********"
#################################################################


#########################################
# chroot exited: umount everything      #
#########################################
echo
echo "Exiting chroot environment and sync'ing memory to storage.."
echo "DO NOT EXIT until finished - doing so may corrupt the ubuntu.img!"
echo
busybox sync 
busybox umount -f /data/local/mnt/sys
busybox umount -f /data/local/mnt/dev/pts
busybox umount -f /data/local/mnt/proc
busybox umount -f /data/local/mnt/sdcard 
busybox umount -f /data/local/mnt/external_sd
echo "Everything is shot down - you can exit the terminal now. Have a nice day :)"
##########################################</pre></li></ul></li></ul><p>
</p><ul><li><p><em>"Apps installieren"</em> - Für den Betrieb von Ubuntu werden noch folgende Apps benötigt. Sie sind alle kostenlos im Android-Market verfügbar:</p><ul><li><p><a class="external" href="https://market.android.com/details?id=stericson.busybox&amp;feature=search_result#?t=W251bGwsMSwxLDEsInN0ZXJpY3Nvbi5idXN5Ym94Il0." rel="nofollow">BusyBox</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/><br/>Die Installation von BusyBox ist ein wenig trickreich: Wenn man die Busybox installieren will, kommt ein Hinweis, dass bestimmte Bedingungen (gerootetes Gerät, genügend Speicherplatz etc.) erfüllt sein müssen. Es gibt allerdings keinen "Weiter"-Button, man kann das Fenster nur schließen. Man muss noch ein zweites Mal auf den Install-Button drücken, um die Installation durchzuführen.</p></li><li><p><a class="external" href="https://market.android.com/details?id=android.androidVNC&amp;feature=search_result#?t=W251bGwsMSwxLDEsImFuZHJvaWQuYW5kcm9pZFZOQyJd" rel="nofollow">VNC-Client</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="https://market.android.com/details?id=jackpal.androidterm#?t=W251bGwsMSwxLDIxMiwiamFja3BhbC5hbmRyb2lkdGVybSJd" rel="nofollow">Terminal Emulator</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p>Optional, aber empfohlen: <a class="external" href="https://market.android.com/details?id=berserker.android.apps.sshdroid&amp;feature=search_result#?t=W251bGwsMSwxLDEsImJlcnNlcmtlci5hbmRyb2lkLmFwcHMuc3NoZHJvaWQiXQ." rel="nofollow">SSH-Server</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p>Optional, aber empfohlen: <a class="external" href="https://market.android.com/details?id=org.pocketworkstation.pckeyboard&amp;feature=search_result#?t=W251bGwsMSwxLDEsIm9yZy5wb2NrZXR3b3Jrc3RhdGlvbi5wY2tleWJvYXJkIl0." rel="nofollow">Vollständige Tastatur</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul></li></ul><p>
Somit ist die Installation von Ubuntu auf dem Smartphone abgeschlossen und man kann es nun starten und einrichten.</p></div></div><div class="section_1"><h2 id="Bedienung">Bedienung<a class="headerlink" href="#Bedienung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Ubuntu-starten">Ubuntu starten<a class="headerlink" href="#Ubuntu-starten">¶</a></h3><p>
Dazu wird die Terminal-Emulator-App auf dem Smartphone gestartet. Es erscheint eine Eingabezeile. Das ist das GNU/Linux, das die Basis für Android bildet. Grundelegende Funktionen wie zum Beispiel "uname -a" um Systeminformationen anzuzeigen funktionieren auch. Jetzt muss man folgendes eintippen:</p><div class="bash"><div class="contents"><pre class="notranslate">su </pre></div></div><p>
Das wird benötigt um Root-Rechte <sup><a href="#source-2">[2]</a></sup> zu erlangen. Es erscheint ein Popup der Root-App (wird bei einem Root-Kernel mitinstalliert), die eine Bestätigung möchte, dass der Terminal-Emulator Root-Rechte erhalten darf. Dies mit <em>"OK"</em> bestätigen.</p><div class="bash"><div class="contents"><pre class="notranslate">cd /sdcard
cd external_sd
cd ubuntu </pre></div></div><p>
Jetzt hat man in den ubuntu-Ordner gewechselt, in dem das Ubuntu-Image und das Startskript liegen. Diese Kommandos kann man natürlich nur aus diesem Beispiel hier übernehmen, wenn der ubuntu-Ordner wie oben vorgeschlagen im Wurzelverzeichnis der Speicherkarte liegt. Ansonsten muss der Pfad entsprechend angepasst werden. Um Ubuntu nun zu starten, führt man folgendes aus:</p><div class="bash"><div class="contents"><pre class="notranslate">sh ubushell.sh </pre></div></div><p>
Es erscheint etwas Text und dann die Meldung, dass man sich nun in der Chroot-Umgebung befindet. Kurz darauf erscheint wieder ein Prompt. Dieses Prompt ist bereits ein Teil von Ubuntu. Hier kann man nun Ubuntu-spezifische Befehle wie "apt-get update" und "apt-get upgrade" durchführen.</p></div><div class="section_2"><h3 id="Ubuntu-einrichten">Ubuntu einrichten<a class="headerlink" href="#Ubuntu-einrichten">¶</a></h3><p>
Zuerst sollte das System mit</p><div class="bash"><div class="contents"><pre class="notranslate">apt-get update
apt-get upgrade </pre></div></div><p>
auf den aktuellen Stand gebracht werden. Des weiteren empfiehlt sich, für das Ubuntu eine grafische Oberfläche zu installieren. Dabei sollte man darauf achten, eine Oberfläche zu wählen, die sowohl klein und schnell ist als auch nicht sehr tastaturlastig in der Bedienung ist, da dies auf dem Touchscreen doch sehr lästig ist. Beispielsweise wäre hier LXDE eine gute Wahl. Zusätzlich wird noch ein VNC-Server benötigt:</p><div class="bash"><div class="contents"><pre class="notranslate">apt-get install tightvncserver lxde </pre></div></div><p>Anschließend müssen im Root-Ordner noch zwei Skripte angelegt werden. Das erste mit dem Namen <strong>xinit.sh</strong> und dem Inhalt:</p><pre class="notranslate">rm /root/.vnc/localhost*
rm /tmp/.X0-lock
rm /tmp/.X11-unix/X0
tightvncserver :0 -geometry 800x480</pre><p>Damit kann die grafische Oberfläche gestartet werden. Ein weiteres Skript stopt die grafische Oberfläche wieder. Es heißt <strong>xkill.sh</strong> und hat den Inhalt:</p><pre class="notranslate">tightvncserver -kill :0</pre><p>Um die grafische Oberfläche nun zu starten, tippt man in den Ubuntu-Prompt folgendes ein:</p><div class="bash"><div class="contents"><pre class="notranslate">cd /root
sh xinit.sh </pre></div></div><p>Zuerst wird man aufgefordert, ein Passwort für den VNC-Server einzugeben. Man muss es zur Verfizierung ein zweites Mal eintippen.
Jetzt wird man sich vielleicht wundern, warum keine grafische Oberfläche erscheint. Das liegt daran, dass diese auf dem VNC-Server läuft. Um jetzt auf die Oberfläche zu gelangen, muss man die vorher installierte VNC-App starten; dort gibt man folgende Verbindungsparameter ein:</p><ul><li><p>Nickname: einfach leer lassen</p></li><li><p>Passwort: Das Passwort, das man beim ersten Start der <strong>xinit.sh</strong> festgelegt hat</p></li><li><p>Address: localhost</p></li><li><p>Port: 5900</p></li><li><p>Color Format: 24bit</p></li></ul><p>Mit einem Klick auf <em>"Connect"</em> kann man nun schon die grafische Oberfläche sehen. Um den Bedienkomfort zu erhöhen öffnet man das Optionen-Menü der VNC-App und wählt bei "Input Mode" die Option "Touchpad" aus. Mit dieser Option bedient sich die Maus folgendermaßen:</p><ul><li><p>Um die Maus in eine bestimmte Richtung zu bewegen, legt man den Finger an einer beliebigen Postition auf dem Bildschirm auf und bewegt den Finger in die gewünschte Richtung (wie bei einem Touchpad eines Laptops). Das hat den Vorteil, dass man den Mauszeiger immer sehen kann und er nicht vom Finger verdeckt wird</p></li></ul><p>
</p><ul><li><p>Ein einfacher Klick wird mit einem einfachen Berühren des Bildschirms ausgelöst</p></li></ul><p>
</p><ul><li><p>Ein Rechtsklick wird mit einem Doppelklick auf den Bildschirm ausgelöst</p></li></ul><p>
</p><ul><li><p>Ein Doppelklick ist leider nicht direkt möglich, denn wenn man zu schnell klickt, öffnet sich das Rechtsklick-Menü. Als Abhilfe kann man in der Desktopumgebung das Zeitintervall für einen Doppelklick auf etwa 1 Sekunde erhöhen.</p></li></ul><p>
</p><ul><li><p>Für Drag&amp;Drop, Text markieren usw. lässt man die Maustaste auf dem entsprechenden Objekt gedrückt, bis das Handy kurz vibriert. Dann kann man den Finger und somit das Objekt in die gewünschte Richtung bewegen. Es ist allerdings nicht möglich, das Objekt unterwegs abzusetzen, weil der Bildschirm zu Ende ist. Deshalb sollte man bei langen Mauswegen den Finger schnell bewegen, somit kann man eine längere Strecke zurücklegen.</p></li></ul><p>
Um einen Text einzugeben, geht man wie bei Drag&amp;Drop vor, nur dass man den Finger dann nicht wegbewegt sondern wieder vom Display nimmt und auf das unten erscheinende Tastatursymbol (zwischen den Zoom-Buttons) drückt. Es erscheint eine Tastatur auf dem Bildschirm, die im ungünstigen Fall den Bereich verdeckt, in dem man etwas eingeben möchte. Wenn man aber die oben vorgeschlagene alternativ-Tastatur benutzt, kann man innerhalb der ersten zwei Sekunden, nachdem man die Tastatur geöffnet hat, Pfeil-oben 
<span class="key">↑</span>  drücken. Dann verschiebt sich der Desktop um die Größe der Tastatur nach oben und man kann den gewünschten Ausschnitt wieder sehen. Eine andere, aber umständlichere Methode der Texteingabe besteht darin, im Optionen-Menü des VNC-Viewers "Send Text" auswählen. Um Tastenkürzel zu senden, kann man im Optionen-Menü des VNC-Viewers "Send keys" auswählen.</p><p><img alt="libreoffice.png" class="image-right" src="../_/0a34bba61445d470996b5ce40f255d940ea132f0.png"/><br/>
Wenn das alles läuft, können weitere Programme wie FireFox, Thunderbird, Libreoffice, Gimp usw. wie üblich mit apt-get nachinstalliert und genutzt werden. Es bietet sich auch an, beispielsweise für Pidgin den Konfigurationsordner vom Computer in das Ubuntu auf dem Smartphone zu kopieren, um so einfach und schnell die Konteneinstellungen zu übernehmen.</p></div></div><div class="section_1"><h2 id="Tipps-und-Tricks">Tipps und Tricks<a class="headerlink" href="#Tipps-und-Tricks">¶</a></h2><p>
</p><div class="section_2"><h3 id="PC-Tastatur-und-Maus-anschliessen">PC-Tastatur und Maus anschließen<a class="headerlink" href="#PC-Tastatur-und-Maus-anschliessen">¶</a></h3><p>
Um eine Computertastatur oder -maus, USBSticks, externe Festplatten und vieles mehr am Smartphone oder Tablet benutzen zu können, benötigt man ein sogenanntes OTG-Kabel. Das ist ein Adapter mit einem MicroUSB-Stecker (Handyseite) und einer USB-Buchse, wie sie am Computer zu finden ist (Tastatur-/Mausseite). Möchte man kein solches Kabel kaufen kann, man sich auch sehr einfach selbst eines basteln. Dazu muss man nur auf dem MicroUSB-Stecker die Pins 4 und 5 kurzschließen und die USB-Buchse 1:1 mit dem MicroUSB-Stecker verbinden. Eine ausführliche Anleitung dazu findet sich beispielsweise hier: <a class="external" href="http://www.sleeplessninja.com/?p=493" rel="nofollow">Anleitung</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Weitere Informationen über OTG sind in der englischsprachigen Wikipedia hinterlegt: <a class="external" href="http://en.wikipedia.org/wiki/USB_On-The-Go" rel="nofollow">Wikiartikel</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></div><div class="section_2"><h3 id="Computer-als-Tastatur-nutzen">Computer als Tastatur nutzen<a class="headerlink" href="#Computer-als-Tastatur-nutzen">¶</a></h3><p>
Wenn man in der Kommandozeile die Tastatur des Computers nutzen möchte, so kann man mit SSH auf das Handy zugreifen. Voraussetzung dafür ist allerdings, dass die oben empfohlene SSH-App läuft und sich das Handy in einem gemeinsamen Netzwerk mit einem Computer befindet. Um den Zugriff zu starten, führt man auf dem Computer in einem Terminal folgenden Befehl aus:
</p><div class="bash"><div class="contents"><pre class="notranslate">ssh root@xxx.xxx.xxx.xxx </pre></div></div><p>
Die 'x' sind dabei die IP-Adresse des Handys (diese wird von der SSH-App angezeigt)</p></div><div class="section_2"><h3 id="Ubuntu-mit-dem-Computer-bedienen">Ubuntu mit dem Computer bedienen<a class="headerlink" href="#Ubuntu-mit-dem-Computer-bedienen">¶</a></h3><p>
Man kann sich vom Computer aus in den VNC-Server des Handys oder Tablets einloggen. Voraussetzung dafür ist wieder, dass sich Computer und Handy in einem gemeinsamen Netzwerk befinden. Die Zugangsdaten sind die selben wie unter <a class="crosslink" href="#Ubuntu-einrichten">Ubuntu einrichten</a> beschrieben, lediglich als Adresse muss nicht "localhost" sondern die IP des Smartphones eingegeben werden. Geeignete VNC-Clients für den Computer finden sich im Artikel <a class="internal" href="../vnc.html">VNC</a></p></div><div class="section_2"><h3 id="Speicherplatz-sparen">Speicherplatz sparen<a class="headerlink" href="#Speicherplatz-sparen">¶</a></h3><p>
Da Ubuntu mithilfe Chroot benutzt wird, wird der mitinstallierte Linux-Kernel nicht benutzt. Um Speicherplatz zu sparen kann man ihn folgendermaßen deinstallieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">apt-get autoremove linux-image* linux-omap* linux-header* </pre></div></div><p>
Ausserdem sollte man, wenn der Speicherplatz knapp wird, noch folgendes ausführen:
</p><div class="bash"><div class="contents"><pre class="notranslate">apt-get clean </pre></div></div><p>
Das löscht die von apt heruntergeladenen *.deb-Installationspakete</p></div><div class="section_2"><h3 id="Dateien-drahtlos-austauschen">Dateien drahtlos austauschen<a class="headerlink" href="#Dateien-drahtlos-austauschen">¶</a></h3><p>
Dateien kann man einfach drahtlos zwischen Computer und Smartphone bzw. Tablet austauschen, auch während Ubuntu läuft. Voraussetzung ist dafür wieder, dass sich das Gerät und der Computer im selben Netzwerk beziehungweise WLAN befinden und dass die SSH-App läuft. Dann kann man in der Adresszeile des Dateimanagers auf dem Computer 
</p><pre class="notranslate">sftp://root@xxx.xxx.xxx.xxx</pre><p>
eingeben, wobei die 'x' wieder die IP-Adresse des Smartphones bzw. Tablets darstellen. Das Wurzelverzeichnis von Ubuntu befindet sich unter <strong>/data/local/mnt</strong>.</p></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
Im folgenden werden bekannte Fehler sowie deren Lösung aufgezeigt.</p><div class="section_2"><h3 id="Partitionsgroesse-wird-nicht-erkannt">Partitionsgröße wird nicht erkannt<a class="headerlink" href="#Partitionsgroesse-wird-nicht-erkannt">¶</a></h3><p>
Im Moment hat Ubuntu noch Schwierigkeiten zu erkennen, wieviel Platz auf dem Abbild noch frei und wieviel schon belegt ist. Allerdings ist bekannt, dass das grundsätzlich möglich ist, es fehlt also nur noch an der Konfiguration.</p></div><div class="section_2"><h3 id="Drag-Drop-in-Firefox-Tunderbird">Drag&amp;Drop in Firefox/Tunderbird<a class="headerlink" href="#Drag-Drop-in-Firefox-Tunderbird">¶</a></h3><p>
Leider kann man über den VNC-Server das Menü von Firefox und Thunderbird nicht mit Drag&amp;Drop anpassen. Als als provisorische Lösung kann man die Einstellungen auf dem Computer vornehmen und dann den Konfigurationsordner <strong>~/.mozilla/</strong> beziehungsweise <strong>~/.thunderbird/</strong> auf das Handy kopieren</p></div><div class="section_2"><h3 id="Kein-aktueller-Ubuntu-Kernel">Kein aktueller Ubuntu-Kernel<a class="headerlink" href="#Kein-aktueller-Ubuntu-Kernel">¶</a></h3><p>
Bei der hier gezeigten Methode wechselt man mithilfe von Chroot in das Ubuntu, das bedeutet, dass nicht der Ubuntu-Kernel sondern der Android-Kernel benutzt wird. Das liegt in der Natur von Chroot und kann nicht geändert werden. Das hat allerdings den Vorteil, dass androidseitig eingebaute Mechanismen wie Stromsparfunktionen und ähnliches schon installiert und initialisiert sind, wenn Ubuntu startet</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="../unyaffs.html">unyaffs</a> - YAFFS-Abbilder von Android-Smartphones entpacken</p></li><li><p><a class="internal" href="../hardware.html">Hardware</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsseite</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../archiv/ubuntu_auf_dem_smartphone/a/revision/665137.html">Diese Revision</a> wurde am 6. Dezember 2013 21:09 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/ubuntu_auf_dem_smartphone.html">Ubuntu auf dem Smartphone</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>