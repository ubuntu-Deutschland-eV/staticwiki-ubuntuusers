<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Live-USB_Apple › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/live-usb_apple.html">Live-USB Apple</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Live-USB_Apple">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/live-usb_apple/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/live-usb_apple/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/live-usb_apple/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/live-usb_apple/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/live-usb_apple/a/backlinks.html">Live-USB Apple</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a> </p></li></ol></div></div><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Vorbereitung">Vorbereitung
</a><ol class="arabic"><li><a class="crosslink" href="#rEFIt">rEFIt
</a></li><li><a class="crosslink" href="#USB-Stick">USB-Stick
</a></li><li><a class="crosslink" href="#GRUB2EFI">GRUB2EFI
</a></li><li><a class="crosslink" href="#64-Bit">64-Bit
</a></li><li><a class="crosslink" href="#32-Bit">32-Bit
</a></li><li><a class="crosslink" href="#grub-cfg">grub.cfg
</a><ol class="arabic"><li><a class="crosslink" href="#Ab-Ubuntu-9-10-Karmic-Koala">Ab Ubuntu 9.10 Karmic Koala
</a></li></ol></li><li><a class="crosslink" href="#Bootparameter">Bootparameter
</a><ol class="arabic"><li><a class="crosslink" href="#Standardkonfiguration">Standardkonfiguration
</a></li><li><a class="crosslink" href="#Anpassung-1">Anpassung 1
</a></li></ol></li></ol></li><li><a class="crosslink" href="#Probleme">Probleme
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Derzeit ist es nur mit etwas Aufwand möglich einen Intel-Mac per <a class="internal" href="../live-usb.html">Live-USB</a> zu booten, da die EFI-USB Boot-Implementierung lediglich Mac OS X Startmedien unterstützt. Aus diesem Grund ist das <a class="external" href="http://grub.enbug.org" rel="nofollow">GRUB2EFI-Projekt</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> gestartet worden, welches einen EFI-Bootloader mit GRUB2 kombiniert. So können prinzipiell alle Distributionen gestartet werden, die einen Kernel &gt;= 2.6.25 verwenden.</p><div class="section_1"><h2 id="Vorbereitung">Vorbereitung<a class="headerlink" href="#Vorbereitung">¶</a></h2><p>
</p><div class="section_2"><h3 id="rEFIt">rEFIt<a class="headerlink" href="#rEFIt">¶</a></h3><p>
Unter OS X sollte das Tool <a class="external" href="http://refit.sourceforge.net/" rel="nofollow">rEFIt</a> installiert werden. Beim Start des Macs zeigt rEFIt eine Übersicht aller startfähigen Partitionen und Laufwerke an. Die kann zwar auch durch das Drücken der 
<span class="key">Alt</span> -Taste währen des Startvorgangs erreicht werden, jedoch bietet rEFIt die Möglichkeit, zusätzliche Informationen über bootbare Partitionen auszugeben. Bei einer neuen Installation von rEFIt kann es vorkommen, dass der Mac erst nach dem zweiten Neustart das rEFIt-Menü anzeigt.</p></div><div class="section_2"><h3 id="USB-Stick">USB-Stick<a class="headerlink" href="#USB-Stick">¶</a></h3><p>
Nun wird ein USB-Stick komplett mit einer FAT32 Partition formatiert. Hierbei ist für ein Ubuntu-Live-System schon ein 1 GB Stick ausreichend.</p></div><div class="section_2"><h3 id="GRUB2EFI">GRUB2EFI<a class="headerlink" href="#GRUB2EFI">¶</a></h3><p>
Als nächstes benötigt man einen aktuellen GRUB2EFI-Bootloader. Ein komplettes Paket steht z.B. als <strong>bootusb.tar.gz</strong> im <a class="external" href="http://ubuntuforums.org/showpost.php?p=7926629&amp;postcount=7" rel="nofollow">englischen Ubuntuforum</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> zur Verfügung. Informationen über die aktuelle Entwicklung sowie zur Problemlösung erhält man ebenfalls auf der englischen Seite <a class="external" href="http://ubuntuforums.org/showthread.php?t=995704" rel="nofollow">ubuntuforums.com</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Wer den Bootloader selber kompilieren möchte erhält auf der <a class="external" href="http://grub.enbug.org/TestingOnEFI" rel="nofollow">englischen Projektseite</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> die notwendigen Informationen.</p><p>Das Paket <strong>bootusb.tar.gz</strong> enthält den Ordner <strong>efi</strong>, welcher wiederum den Unterordner <strong>boot</strong> mit drei Dateien enthält. Die Datei <strong>bootx64.efi</strong> ist der eigentliche Bootloader. Die Datei <strong>bootx64.icns</strong> entspricht dem Icon, welches im rEFIt-Menü angezeigt wird, und die Datei <strong>grub.cfg</strong> enthält Bootparamenter, welche evtl. noch auf die eigene Mac-Hardware angepasst werden muss (siehe <a class="crosslink" href="#grub-cfg">grub.cfg</a>).</p><p>Der gesamte Ordner <strong>efi</strong> wird nun auf den USB-Stick kopiert.</p><p>Jetzt kommt es darauf an, für welchen Intel-Mac der Stick erstellt werden soll.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die neueren Modelle sind alle <a class="crosslink" href="#64-Bit">64bit</a>-fähig. Ältere Modelle wie das Macbook(Pro)1,1 und das MacBookPro1,2 benötigen ein <a class="crosslink" href="#32-Bit">32bit</a>-Image.
</p></div></div><p><img alt="Wiki/Icons/ubuntu64.png" class="image-right" src="../_/80e139fd980fa475b63a452112298482dddacaf8.png"/>
</p></div><div class="section_2"><h3 id="64-Bit">64-Bit<a class="headerlink" href="#64-Bit">¶</a></h3><p>
Man lädt nun ein aktuelles 64bit-Ubuntu-ISO-Image herunter, z.B. <strong>ubuntu-9.10-desktop-amd64.iso</strong>, siehe <a class="internal" href="../downloads.html">Downloads</a>. Die ISO-Datei wird genau so wie sie ist (also ohne sie zu entpacken) auf den USB-Stick kopiert. Der Stick enthält nun also das ISO-Image und den efi-Ordner.</p><p>Im Unterordner <strong>/efi/boot/</strong> liegt die Datei <strong>grub.cfg</strong>. Diese Datei öffnet man mit einem Editor und schaut nach, ob die Einträge mit dem Namen des ISO-Images übereinstimmen (voreingestellt ist <strong>ubuntu-9.10-desktop-amd64.iso</strong>). Wenn der ISO-Name abweicht (z.B. weil eine andere Ubuntuversion verwendet werden soll), müssen die Einträge in <strong>grub.cfg</strong> entsprechend angepasst werden.</p><p>Jetzt kann der Mac bei eingestecktem USB-Stick neu gestartet werden. Im rEFIt-Menü wird der USB-Stick als Startmedium angezeigt. Wenn man diesen auswählt und mit 
<span class="key">⏎</span>  bestätigt, wird das GRUB2-Menü angezeigt. Hier kann nun das Bootsystem auswählt werden (standardmäßig sollte “A” gewählt werden). 
Wenn der Bootvorgang nicht korrekt abläuft, muss die Datei <strong>grub.cfg</strong> angepasst werden (siehe <a class="crosslink" href="#grub.cfg">grub.cfg</a>).</p></div><div class="section_2"><h3 id="32-Bit">32-Bit<a class="headerlink" href="#32-Bit">¶</a></h3><p>
Für 32bit-Systeme kopiert man auch erst den <strong>efi</strong>-Ordner auf den USB-Stick. Allerdings muss nun im Unterordner <strong>boot</strong> die Datei <strong>bootx64.efi</strong> in <strong>bootia32.efi</strong> umbenannt werden. Das selbe gilt für eine etwaige Icon Datei. Auch diese muss von <strong>bootx64.icns</strong> in <strong>bootia32.icns</strong> umbenannt werden.</p><p>Nun lädt man sich ein aktuelles 32bit-ISO-Image herunter, z.B. <strong>ubuntu-9.10-desktop-i386.iso</strong> (<a class="internal" href="../downloads.html">Downloads</a>). Auch hier muss das ISO-Image (ohne es zu entpacken!) in den Hauptordner des USB-Sticks geschoben werden.</p><p>Anschließend editiert man auf dem Stick im Ordner <strong>efi/boot/</strong> die Datei <strong>grub.cfg</strong>. Dort werden alle “<em>ubuntu-9.10-desktop-amd64.iso</em>”-Einträge durch den Dateinamen des ISO-Images, also z.B. durch <em>ubuntu-9.10-desktop-i386.iso</em>, ersetzt.</p><p>Jetzt kann der Mac bei eingestecktem USB-Stick neu gestartet werden. Im rEFIt-Menü wird der USB-Stick als Startmedium angezeigt. Wenn man diesen auswählt und mit 
<span class="key">⏎</span>  bestätigt, wird das GRUB2-Menü angezeigt. Hier kann nun das Bootsystem auswählt werden (standardmäßig sollte "A" gewählt werden).</p></div><div class="section_2"><h3 id="grub-cfg">grub.cfg<a class="headerlink" href="#grub-cfg">¶</a></h3><p>
Wenn der Mac in das GRUB2-Menü startet, ist dies ein sicheres Zeichen, dass man einen kompatiblen Bootloader verwendet. Dennoch kann es notwendig sein, die Datei <strong>grub.cfg</strong> auf die Hardware des Apple-Rechners anzupassen.</p><p>Die Standardversion von <strong>grub.cfg</strong> hat den folgenden Inhalt:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1">## grub.cfg</span>

<span class="nv">menuviewer</span><span class="o">=</span><span class="s2">"text"</span>

<span class="nv">timeout</span><span class="o">=</span><span class="m">20</span>
<span class="nv">default</span><span class="o">=</span><span class="m">0</span>

<span class="nb">set</span> <span class="nv">F1</span><span class="o">=</span>ctrl-x

<span class="nb">set</span> <span class="nv">color_normal</span><span class="o">=</span>yellow/red

menuentry <span class="s2">"reboot from grub.cfg fat usb "</span> <span class="o">{</span>
reboot
<span class="o">}</span>
menuentry <span class="s2">"use /grub2.cfg"</span> <span class="o">{</span>
 search --set -f /grub2.cfg
 configfile /grub2.cfg
<span class="o">}</span>
menuentry <span class="s2">"OSX"</span> <span class="o">{</span>
	search --set -f /usr/standalone/i386/boot.efi
	chainloader /usr/standalone/i386/boot.efi
<span class="o">}</span>
menuentry <span class="s2">"A ubuntu-9.10-desktop-amd64.iso "</span> <span class="o">{</span>
 fakebios
 search --set -f /ubuntu-9.10-desktop-amd64.iso
 loopback loop /ubuntu-9.10-desktop-amd64.iso
 linux <span class="o">(</span>loop<span class="o">)</span>/casper/vmlinuz <span class="nv">boot</span><span class="o">=</span>casper iso-scan/filename<span class="o">=</span>/ubuntu-9.10-desktop-amd64.iso noefi
 initrd <span class="o">(</span>loop<span class="o">)</span>/casper/initrd.gz
<span class="o">}</span>
menuentry <span class="s2">"B ubuntu-9.10-desktop-amd64.iso fbdev "</span> <span class="o">{</span>
 fakebios
 search --set -f /ubuntu-9.10-desktop-amd64.iso
 loopback loop /ubuntu-9.10-desktop-amd64.iso
 linux <span class="o">(</span>loop<span class="o">)</span>/casper/vmlinuz <span class="nv">boot</span><span class="o">=</span>casper iso-scan/filename<span class="o">=</span>/ubuntu-9.10-desktop-amd64.iso <span class="nv">video</span><span class="o">=</span>efifb fbdev noefi single
 initrd <span class="o">(</span>loop<span class="o">)</span>/casper/initrd.gz
<span class="o">}</span>
menuentry <span class="s2">"C ubuntu-9.10-desktop-amd64.iso fbdev persistent"</span> <span class="o">{</span>
 fakebios
 search --set -f /ubuntu-9.10-desktop-amd64.iso
 loopback loop /ubuntu-9.10-desktop-amd64.iso
 linux <span class="o">(</span>loop<span class="o">)</span>/casper/vmlinuz <span class="nv">boot</span><span class="o">=</span>casper iso-scan/filename<span class="o">=</span>/ubuntu-9.10-desktop-amd64.iso persistent <span class="nv">video</span><span class="o">=</span>efifb fbdev noefi
 initrd <span class="o">(</span>loop<span class="o">)</span>/casper/initrd.gz
<span class="o">}</span>
menuentry <span class="s2">"D slax iso console"</span> <span class="o">{</span>
	fakebios
	search --set -f /slax-6.1.2.iso
	loopback iso /slax-6.1.2.iso
	linux <span class="o">(</span>iso<span class="o">)</span>/boot/vmlinuz <span class="nv">from</span><span class="o">=</span>/slax-6.1.2.iso  <span class="nv">ramdisk_size</span><span class="o">=</span><span class="m">6666</span> <span class="nv">root</span><span class="o">=</span>/dev/ram0 rw 
	initrd <span class="o">(</span>iso<span class="o">)</span>/boot/initrd.gz
<span class="o">}</span>
menuentry <span class="s2">"E slax iso console persistent"</span> <span class="o">{</span>
	fakebios
	search --set -f /slax-6.1.2.iso
	loopback iso /slax-6.1.2.iso
	linux <span class="o">(</span>iso<span class="o">)</span>/boot/vmlinuz <span class="nv">from</span><span class="o">=</span>/slax-6.1.2.iso  <span class="nv">ramdisk_size</span><span class="o">=</span><span class="m">6666</span> <span class="nv">root</span><span class="o">=</span>/dev/ram0 rw <span class="nv">changes</span><span class="o">=</span>slaxper.dat
	initrd <span class="o">(</span>iso<span class="o">)</span>/boot/initrd.gz
<span class="o">}</span>
menuentry <span class="s2">"CD"</span> <span class="o">{</span>
   appleloader CD
<span class="o">}</span>
menuentry <span class="s2">"MBR1"</span> <span class="o">{</span>
   appleloader HD
<span class="o">}</span>
menuentry <span class="s2">"REBOOT"</span> <span class="o">{</span>
	reboot
<span class="o">}</span>
</pre></div>
</td></tr></table></div><p>Die Einträge <em>A</em>-<em>C</em> beziehen sich auf Ubuntu, die Einträge <em>D</em> und <em>E</em> werden bei einer Slax-Distribution verwendet.</p><p>Beispielsweise kann es vorkommen, dass nach der Auswahl der Bootoption <em>A</em> der Mac nicht richtig ins Live-System bootet. Das Auswahlmenü wird hierbei permanent angezeigt, und der Rechner hängt scheinbar. Auch der USB-Stick blinkt nicht mehr. Dennoch ist es möglich in diesem Stadium Befehle einzugeben. Diese werden allerdings nicht am Bildschirm zurückgegeben. Es ist aber trotzdem möglich, den Rechner z.B. per</p><div class="bash"><div class="contents"><pre class="notranslate">sudo reboot  </pre></div></div><p>neuzustarten.</p><p>Das Problem liegt in den meisten Fällen an den Grafikchipsätzen der Appel-Rechner, so dass X nicht richtig gestartet werden kann.</p><p>Wählt man die Bootoption "<em>B *.iso fbdev</em>", werden alle Systemmeldung während des Startvorgangs am Bildschirm ausgegeben, und der Mac bootet in eine Root-Shell. Diese kann dann zur Problembehebung verwendet werden.</p><div class="section_3"><h4 id="Ab-Ubuntu-9-10-Karmic-Koala">Ab Ubuntu 9.10 Karmic Koala<a class="headerlink" href="#Ab-Ubuntu-9-10-Karmic-Koala">¶</a></h4><p>
Ab Version 9.10 ist die <strong>initrd</strong> mit <em>lz</em> gepackt und hat daher nicht mehr die Endung <strong>.gz</strong> sondern <strong>.lz</strong>. Die Datei <strong>grub.cfg</strong> muss daher wie folgt angepasst werden:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>menuentry “A ubuntu-9.10-desktop-amd64.iso ” <span class="o">{</span>
fakebios
fix_video
search –set -f /ubuntu-9.10-desktop-amd64.iso
loopback loop /ubuntu-9.10-desktop-amd64.iso
linux <span class="o">(</span>loop<span class="o">)</span>/casper/vmlinuz <span class="nv">boot</span><span class="o">=</span>casper iso-scan/filename<span class="o">=</span>/ubuntu-9.10-desktop-amd64.iso noefi
initrd <span class="o">(</span>loop<span class="o">)</span>/casper/initrd.lz
<span class="o">}</span>
</pre></div>
</td></tr></table></div><p>
</p></div></div><div class="section_2"><h3 id="Bootparameter">Bootparameter<a class="headerlink" href="#Bootparameter">¶</a></h3><p>
Im Folgenden werden die Bootparameter nach Mac-Modellen aufgelistet. Um herauszufinden welches Modell vorliegt, tippt man unter Ubuntu folgendes in die Kommandozeile:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dmidecode -s system-product-name </pre></div></div><div class="section_3"><h4 id="Standardkonfiguration">Standardkonfiguration<a class="headerlink" href="#Standardkonfiguration">¶</a></h4><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Folgende Modelle booten mit dem Paket <strong>bootusb.tar.gz</strong> aus dem <a class="external" href="http://ubuntuforums.org/showpost.php?p=7926629&amp;postcount=7" rel="nofollow">Ubuntuforum</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ohne weitere Konfiguration ins Live-System:
</p><ul><li><p>MacPro1,1</p></li></ul></div></div></div><div class="section_3"><h4 id="Anpassung-1">Anpassung 1<a class="headerlink" href="#Anpassung-1">¶</a></h4><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Diese Anpassung funktioniert auf folgenden Modellen:
</p><ul><li><p>Macbook1,1</p></li><li><p>MacbookPro4,1</p></li></ul><p>Andere Modelle werden eventuell auch unterstützt (bitte nachtragen).
</p></div></div><p>Zunächst muss in <strong>grub.cfg</strong> für die Einträge A-C jeweils unter <em>fakebios</em> zusätzlich <em>fix_video</em> geschrieben werden. Somit sieht Eintrag A für 64bit-Systeme beispielsweise so aus:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>menuentry <span class="s2">"A ubuntu-9.10-desktop-amd64.iso "</span> <span class="o">{</span>
 fakebios
 fix_video
 search --set -f /ubuntu-9.10-desktop-amd64.iso
 loopback loop /ubuntu-9.10-desktop-amd64.iso
 linux <span class="o">(</span>loop<span class="o">)</span>/casper/vmlinuz <span class="nv">boot</span><span class="o">=</span>casper iso-scan/filename<span class="o">=</span>/ubuntu-9.10-desktop-amd64.iso noefi
 initrd <span class="o">(</span>loop<span class="o">)</span>/casper/initrd.gz
<span class="o">}</span>
</pre></div>
</td></tr></table></div><p>Man Startet den Mac mittels USB-Stick und der Auswahl "<em>B *.iso fbdev</em>". Wenn Ubuntu in die Kommandozeile gestartet ist, sollte zunächst der GNOME Display Manager gestoppt werden:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/gdm stop </pre></div></div><p>Jetzt muss die Datei <strong>/etc/X11/xorg.conf</strong> mit einem Editor mit Root-Rechten <sup><a href="#source-2">[2]</a></sup> angepasst werden.</p><p>Nun ergänzt man die <em>Section "Device"</em> um den Eintrag <em>Driver "fbdev"</em>:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>Section <span class="s2">"Device"</span>
 <span class="o">(</span>...<span class="o">)</span>
Driver <span class="s2">"fbdev"</span>
 <span class="o">(</span>...<span class="o">)</span>
EndSection
</pre></div>
</td></tr></table></div><p>Die Datei wird gespeichert und der Editor beendet. Anschließend wird der GNOME Display Manager neu gestartet <sup><a href="#source-1">[1]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/gdm restart </pre></div></div><p>Das graphische Live-System fährt hoch.</p><div class="section_4"><h5 id="Skript">Skript<a class="headerlink" href="#Skript">¶</a></h5><p>
Man kann diesen Vorgang mit etwas Aufwand auch automatisieren. Hierfür startet man den Mac vom USB-Stick und wählt im GRUB2-Menü den Eintrag "<em>C *.iso fbdev persistent</em>". Der Mac bootet nun vom USB-Stick in eine Live-Root-Shell. Das Live-System mountet den USB-Stick automatisch ins Verzeichnis <strong>/isodevice</strong>. Man wechselt in dieses Verzeichnis und erstellt ein 512MB große <em>casper-rw</em> Partition:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo su
cd /isodevice
dd if=/dev/zero of=casper-rw bs=1M count 512
mkfs.ext3 -F casper-rw </pre></div></div><p>Anschließend wird die Datei <strong>/etc/X11/xorg.conf</strong> unter neuem Namen abgespeichert <sup><a href="#source-1">[1]</a></sup>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /etc/X11/xorg.conf /etc/X11/xorg.conf-fbdev </pre></div></div><p>und mit einem Editor mit Root-Rechten <sup><a href="#source-2">[2]</a></sup> bearbeitet</p><p>Hier ergänzt man die <em>Section "Device"</em> um den Eintrag <em>Driver "fbdev"</em>: 
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>Section <span class="s2">"Device"</span>
 <span class="o">(</span>...<span class="o">)</span>
Driver <span class="s2">"fbdev"</span>
 <span class="o">(</span>...<span class="o">)</span>
EndSection
</pre></div>
</td></tr></table></div><p>
Die Datei wird gespeichert  und der Editor beendet.</p><p>Nun erstellt man sich im Live-Benutzerverzeichnis mit Hilfe eines Editors ein Hilfsskript mit dem Namen <strong>swxconfig</strong></p><p>Diese erhält den folgenden Inhalt:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="nb">cd</span> /etc/X11
grep fbdev /proc/cmdline &gt;/dev/null <span class="o">&amp;&amp;</span> cp xorg.conf-fbdev xorg.conf
</pre></div>
</td></tr></table></div><p>
Das Skript überschreibt beim Bootvorgang die Live-Datei <strong>xorg.conf</strong> mit der eben erstellten Version <strong>xorg.conf-fbdev</strong>. Ausgelöst wird das Skript immer dann, wenn im GRUB2-Menü eine Bootoption den Parameter "fbdev" enthält. Dies ist beispielweise bei Option <em>B</em> und <em>C</em> in <strong>grub.cfg</strong> der Fall.</p><p>Das Skript wird nun ausführbar gemacht und in den Ordner <strong>/etc/init.d/</strong> kopiert:
</p><div class="bash"><div class="contents"><pre class="notranslate">chmod +x swxconfig
cp swxconfig /etc/init.d/ </pre></div></div><p>Im Ordner <strong>/etc/rc2.d/</strong> wird nun ein symbolischer Link auf das Skript gesetzt:
</p><div class="bash"><div class="contents"><pre class="notranslate">cd /etc/rc2.d/
ln -s ../init.de/swxconfig S20swxconfig </pre></div></div><p>Jetzt kann der Mac mit dem USB-Stick gestartet werden. Im GRUB2-Menü muss die Option "<em>C *.iso fbdev persistent</em>" gewählt werden. Nun startet der Mac ins grafische Live-System.</p></div></div></div></div><div class="section_1"><h2 id="Probleme">Probleme<a class="headerlink" href="#Probleme">¶</a></h2><p>
Es kann passieren, dass im rEFIt-Menü der Stick nicht angezeigt wird. Hier kann es helfen, den Mac mit gedrückter 
<span class="key">Alt</span> -Taste zu booten.
Dies hat zwei mögliche Resultate:</p><ul><li><p>Es wird der USB-Stick direkt angezeigt</p></li><li><p>Es werden "nur" die bootbaren Partitionen der Festplatte angezeigt. Wenn hier die Platte "rEFIt" ausgewählt wird, erscheint das rEFIt-Menü, welches nun auch den USB-Stick erkannt hat</p></li></ul><p>
Weiterhin treten Probleme mit der Grafik auf dem MacBook Pro Modell 1,1 auf. Auch beim Start in die Root Shell tretten Verzerrungen auf sodass keine Bedienung möglich ist (Sowohl mit fix_video als auch ohne).</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://ubuntuforums.org/showthread.php?t=995704" rel="nofollow">grub2 EFI boot loader internal/external booting</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://blog.christophersmart.com/2009/07/23/linux-on-an-apple-xserve-efi-only-machine/" rel="nofollow">Linux on an apple xserve efi only machine</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../archiv/live-usb_apple/a/revision/387772.html">Diese Revision</a> wurde am 18. März 2012 10:49 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/live-usb_apple.html">Live-USB Apple</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>