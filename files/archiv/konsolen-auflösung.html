<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Konsolen-Auflösung › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/konsolen-auflösung.html">Konsolen-Auflösung</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Konsolen-Auflösung">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/konsolen-auflösung/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/konsolen-auflösung/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/konsolen-auflösung/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/konsolen-auflösung/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/konsolen-auflösung/a/backlinks.html">Konsolen-Auflösung</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../shell/einführung.html">Shell-Grundlagen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../booten.html">Kernelparameter ausprobieren</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../pakete_installieren.html">Pakete installieren</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Vorbereitung">Vorbereitung
</a><ol class="arabic"><li><a class="crosslink" href="#Auswahl-eines-Kernelmoduls">Auswahl eines Kernelmoduls
</a></li><li><a class="crosslink" href="#Laden-des-Moduls">Laden des Moduls
</a></li><li><a class="crosslink" href="#Kernel-Parameter-ermitteln">Kernel-Parameter ermitteln
</a></li><li><a class="crosslink" href="#915resolution">915resolution
</a></li><li><a class="crosslink" href="#GRUB-Konfiguration">GRUB-Konfiguration
</a></li></ol></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a><ol class="arabic"><li><a class="crosslink" href="#vesafb-auf-ATI-Bildwiederholrate-zu-hoch">vesafb auf ATI - Bildwiederholrate zu ho...</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Dieser Artikel beschreibt die speziellen Boot-Parameter zur Änderung der Konsolen-Auflösung. Eine Übersicht über alle Bootparameter findet man im Artikel <a class="internal" href="../booten.html">Booten</a>.</p><p>Die Auflösung beim Booten beträgt nach der Installation immer 640x480 Pixel. In den <a class="internal" href="../terminal.html">virtuellen Konsolen</a> wird dabei der <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Textmodus">VGA-Textmodus</a> mit 80x25 Zeichen verwendet. Möchte man hier eine höhere Auflösung einstellen, so müssen die Terminals im Grafikmodus betrieben werden. Dies geschieht über ein sogenanntes "Framebuffer-Kernelmodul", welches dem System den Zugriff auf den <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Framebuffer">Bildspeicher</a> (Framebuffer) der Grafikkarte ermöglicht.</p><p>Dazu muss wie oben beschrieben ein Parameter hinzugefügt werden. Je nach eingesetzter Ubuntu-Version lauten diese Parameter anders.</p><div class="section_1"><h2 id="Vorbereitung">Vorbereitung<a class="headerlink" href="#Vorbereitung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Auswahl-eines-Kernelmoduls">Auswahl eines Kernelmoduls<a class="headerlink" href="#Auswahl-eines-Kernelmoduls">¶</a></h3><p>
Zunächst muss man sich für eines der Framebuffer-Module entscheiden.</p><ul><li><p>Für die meisten Anwender dürfte das Modul <code class="notranslate">uvesafb</code> das Optimum darstellen. Es ist der Nachfolger des älteren <code class="notranslate">vesafb</code>-Moduls. Genau wie dieses unterstützt es praktisch alle Grafikkarten, ermöglicht es im Gegensatz zum Vorgänger aber auch, die Bildwiederholfrequenz einzustellen. Außerdem ist es einfacher zu konfigurieren und funktioniert auch auf nicht-x86-Rechnern. Allerdings benötigt es das Programm v86d, welches erst ab Ubuntu 8.10 in den Paketquellen enthalten ist. </p></li><li><p><code class="notranslate">vesafb</code> ist unter Ubuntu 8.04 etwas einfacher einzurichten als <code class="notranslate">uvesafb</code>, da es v86d nicht benötigt. Es ist einen Versuch wert, wenn <code class="notranslate">uvesafb</code> aus irgendeinem Grund nicht eingesetzt werden kann. Allerdings hat es Probleme mit einigen Auflösungen (z.B. bestimmte Breitbild-Formate wie 1024x600).</p></li><li><p><code class="notranslate">nvidiafb</code> ist für die Besitzer von <a class="internal" href="../grafikkarten/nvidia.html">Nvidia-Grafikkarten</a> gedacht. Es ist nicht mit dem offiziellen X.org-Treiber von nvidia kompatibel, so dass Anwender dieses Treibers auf <code class="notranslate">uvesafb</code> zurückgreifen sollten. </p></li><li><p><code class="notranslate">intelfb</code> ist das Modul für <a class="internal" href="../grafikkarten/intel.html">Intel-Grafikchips</a>. Dieses Modul hat sich als äußerst "unkooperativ" erwiesen, so dass Intel-Grafikchip-Besitzern zu <code class="notranslate">uvesafb</code> geraten wird. </p></li><li><p>eine Liste weiterer Module erhält man durch einen Blick in den Ordner <strong>/lib/modules/&lt;kernelversion&gt;/kernel/drivers/video/</strong>. Bei den in diesem Ordner und seinen Unterordnern enthaltenen <strong>.ko</strong>-Dateien handelt es sich um die Module. </p></li></ul><p>
Hat man das Paket <strong>linux-doc</strong> installiert, so findet man unter <strong>/usr/share/doc/linux-doc/fb/</strong> Informationen zu einigen der Module. Auch kann man mittels <code class="notranslate">modinfo</code> Informationen über ein Modul erhalten (siehe <a class="internal" href="../kernelmodule.html">Kernelmodule</a>).</p></div><div class="section_2"><h3 id="Laden-des-Moduls">Laden des Moduls<a class="headerlink" href="#Laden-des-Moduls">¶</a></h3><p>
Man startet einen Editor mit Root-Rechten <sup><a href="#source-3">[3]</a></sup>, und öffnet die Datei <strong>/etc/initramfs-tools/modules</strong>. Hier fügt man den Namen des ausgewählten Moduls, bspw. <code class="notranslate">uvesafb</code> oder <code class="notranslate">nvidiafb</code>, hinzu. Außerdem muss man in <strong>/etc/modprobe.d/blacklist-framebuffer.conf</strong> den Namen des Moduls auskommentieren, also ein Raute-Zeichen # davor setzen. 
Danach liest man die Änderungen ein <sup><a href="#source-1">[1]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-initramfs -u  </pre></div></div><p>Wenn man sich für <code class="notranslate">uvesafb</code> entschieden hat, sollte man nun noch das Paket</p><ul><li><p><strong>v86d</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install v86d </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install v86d </pre></div></div><p>
</p></div></div><p>installieren.</p></div><div class="section_2"><h3 id="Kernel-Parameter-ermitteln">Kernel-Parameter ermitteln<a class="headerlink" href="#Kernel-Parameter-ermitteln">¶</a></h3><p>
Damit beim Start des Rechners der richtige Grafikmodus eingestellt wird, müssen dem Kernel beim Start bestimmte Parameter übergeben werden. Dies geschieht, indem man die Parameter in der <a class="crosslink" href="#GRUB-Konfiguration">GRUB-Konfiguration</a> verankert.</p><div class="section_3"><h4 id="Fuer-uvesafb-nvidiafb-radeonfb-und-weitere">Für uvesafb, nvidiafb, radeonfb und weitere<a class="headerlink" href="#Fuer-uvesafb-nvidiafb-radeonfb-und-weitere">¶</a></h4><p>
Der Parameter folgt dem Schema <code class="notranslate">video=&lt;modul&gt;:mode_option=&lt;Auflösung&gt;-&lt;Farbiefe&gt;@&lt;Wiederholfrequenz&gt;</code>. Die Wiederholfrequenz kann hierbei weggelassen werden. Beispiele wären <code class="notranslate">video=uvesafb:mode_option=1024x600-16</code> oder <code class="notranslate">video=nvidiafb:mode_option=1280x1024-24@85</code>.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Je nach ausgewähltem Modul können die Parameter auch anders lauten; insbesondere erwarten vesafb und intelfb andere Parameter. Der folgende Befehl gibt eine Liste der Module aus, die die hier vorgestellte Syntax unterstützen:
</p></div></div><div class="bash"><div class="contents"><pre class="notranslate">find /lib/modules/$(uname -r)/kernel/drivers/video -name *.ko | while read x; do if /sbin/modinfo $x | grep -q mode_option; then echo $(basename $x .ko); fi; done </pre></div></div></div><div class="section_3"><h4 id="Fuer-vesafb">Für vesafb<a class="headerlink" href="#Fuer-vesafb">¶</a></h4><p>
Um die korrekten Parameter für vesafb herauszufinden, installiert <sup><a href="#source-5">[5]</a></sup> man am besten das Programm <strong>hwinfo</strong> aus den Ubuntu-Paketquellen. Dieses kann Hardwaredaten auslesen.</p><ul><li><p><strong>hwinfo</strong> (<em>universe</em>, bis einschließlich <a class="internal" href="../raring.html">Ubuntu 13.04</a>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install hwinfo </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install hwinfo </pre></div></div><p>
</p></div></div><p>Ist das Programm installiert, können die Informationen über den Framebuffer ausgelesen werden <sup><a href="#source-1">[1]</a></sup>:</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Dieser Befehl gibt nur die gewünschten Informationen aus, falls der Nvidia-Treiber geladen ist!
</p></div></div><div class="bash"><div class="contents"><pre class="notranslate">sudo hwinfo --framebuffer </pre></div></div><p>Die Ausgabe ähnelt dieser. Gegen Ende stehen die relevanten Daten.</p><pre class="notranslate">...
  Mode 0x0300: 640x400 (+640), 8 bits
  Mode 0x0301: 640x480 (+640), 8 bits
  Mode 0x0303: 800x600 (+800), 8 bits
  Mode 0x0305: 1024x768 (+1024), 8 bits
  Mode 0x0307: 1280x1024 (+1280), 8 bits
  Mode 0x0340: 1400x1050 (+1400), 8 bits
...</pre><p>Alternativ kann man sich auch an folgender Tabelle orientieren.</p><table><tr class="titel"><td colspan="7" style="text-align: center">vga-Parameter für den Framebuffer<small><sup>*</sup></small></td></tr><tr class="kopf"><td style="text-align: center"> Farbtiefe</td><td style="text-align: center">640×480</td><td style="text-align: center">800×600</td><td style="text-align: center">1024×768</td><td style="text-align: center">1280×1024</td><td style="text-align: center">1440×900</td><td style="text-align: center">1600×1200</td></tr><tr><td style="text-align: right">8 bit,<br/>256 Farben</td><td style="text-align: right">769<br/>(0x0301)</td><td style="text-align: right">771<br/>(0x0303)</td><td style="text-align: right">773<br/>(0x0305)</td><td style="text-align: right">775<br/>(0x0307)</td><td style="text-align: right">864<br/>(0x0360)</td><td style="text-align: right">796<br/>(0x031C)</td></tr><tr><td style="text-align: right">16 bit,<br/>65.536 Farben</td><td style="text-align: right">785<br/>(0x0311)</td><td style="text-align: right">788<br/>(0x0314)</td><td style="text-align: right">791<br/>(0x0317)</td><td style="text-align: right">794<br/>(0x031A)</td><td style="text-align: right">866<br/>(0x0362)</td><td style="text-align: right">798<br/>(0x031E)</td></tr><tr><td style="text-align: right">24 bit,<br/>16,7 Mio Farben</td><td style="text-align: right">786<br/>(0x0312)</td><td style="text-align: right">789<br/>(0x0315)</td><td style="text-align: right">792<br/>(0x0318)</td><td style="text-align: right">795<br/>(0x031B)</td><td style="text-align: right">867<br/>(0x0363)</td><td style="text-align: right">799<br/>(0x031F)</td></tr><tr><td colspan="7"><small><sup>*</sup></small>Man kann entweder die dezimalen oder die hexadezimalen Werte wählen, das macht keinen Unterschied.</td></tr></table><p>
Neben den beschriebenen Werten gibt es noch <code class="notranslate">vga=normal</code> (normaler 80x25-VGA-Modus ohne Framebuffer), <code class="notranslate">vga=ext</code> (80x50) und <code class="notranslate">vga=ask</code> (Nachfragen).</p><p>Diesen Modus, also z.B. <code class="notranslate">0x0307</code>, trägt man in den Bereich <code class="notranslate">defoptions</code> der <strong>/boot/grub/<a class="internal" href="../menu.lst.html">menu.lst</a></strong> ein <sup><a href="#source-3">[3]</a></sup>:</p></div></div><div class="section_2"><h3 id="915resolution">915resolution<a class="headerlink" href="#915resolution">¶</a></h3><p>
(Dieser Abschnitt betrifft nur Nutzer von Intel-Grafikchips. Andere können beim Abschnitt GRUB-Konfiguration weiterlesen.)</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Der folgende Abschnitt zu 915resolution und initramfs ist komplex und kann unter Umständen zu einem nicht mehr ordnungsgemäß startenden System führen. Entsprechend sollten Einsteiger diese Anleitung nicht auf Produktivsystemen ausprobieren. 
</p></div></div><p>Aufgrund einer Eigenheit im VESA-BIOS zahlreicher Intel-Grafikchips ist es auf einigen Computern nicht ohne weiteres möglich, bestimmte Auflösungen einzustellen. Dies betrifft insbesondere Geräte mit Breitbildauflösungen wie 1024x600 u.ä. Um dem entgegenzuwirken, muss vor dem Laden des Grafiktreibers das Tool 915resolution mit den passenden Optionen gestartet werden. Im X.org-Treiber für Intel-Hardware ist dessen Funktionalität zwar mittlerweile enthalten, aber auf der Konsole muss man nach wie vor auf 915resolution zurückgreifen.</p><p>Folgende Schritte sind nötig:</p><div class="section_3"><h4 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h4><p>
Man lädt sich von <a class="external" href="http://915resolution.mango-lang.org/" rel="nofollow">mango.lang.org</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> 915resolution herunter und entpackt es. In dem Ordner führt man dann den Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">sudo make install </pre></div></div><p>aus.</p></div><div class="section_3"><h4 id="Bestimmen-der-notwendigen-Optionen">Bestimmen der notwendigen Optionen<a class="headerlink" href="#Bestimmen-der-notwendigen-Optionen">¶</a></h4><p>
Mittels</p><div class="bash"><div class="contents"><pre class="notranslate">sudo 915resolution -l </pre></div></div><p>lässt man sich eine Liste der Videomodi ausgeben. Normalerweise sollte 915resolution den vorhandenen Grafikchip automatisch erkennen. Sollte dies nicht der Fall sein, so kann man mit der Option -c explizit einen Grafikchip, hier als Beispiel für einen 945GM-Chip:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo 915resolution -c 945GM -l </pre></div></div><p>Die unterstützten Chipsätze sind in der <strong>README.txt</strong> aufgeführt.</p><p>Die Ausgabe des Befehls sollte etwa so aussehen:</p><pre class="notranslate">Intel 800/900 Series VBIOS Hack : version 0.5.3

Chipset: 945GM
BIOS: TYPE 1
Mode Table Offset: $C0000 + $269
Mode Table Entries: 36

Mode 32 : 800x600, 8 bits/pixel
Mode 34 : 1024x768, 8 bits/pixel
Mode 38 : 1280x1024, 8 bits/pixel
Mode 3a : 1600x1200, 8 bits/pixel
Mode 3c : 1920x1440, 8 bits/pixel
Mode 41 : 1024x600, 16 bits/pixel
Mode 43 : 800x600, 16 bits/pixel
Mode 45 : 1024x768, 16 bits/pixel
Mode 49 : 1280x1024, 16 bits/pixel
Mode 4b : 1600x1200, 16 bits/pixel
Mode 4d : 1920x1440, 16 bits/pixel
Mode 50 : 1024x600, 32 bits/pixel
Mode 52 : 800x600, 32 bits/pixel
Mode 54 : 1024x768, 32 bits/pixel
Mode 58 : 1280x1024, 32 bits/pixel
Mode 5a : 1600x1200, 32 bits/pixel
Mode 5c : 1920x1440, 32 bits/pixel</pre><p>Nun sucht man sich einen der Modi aus, den man nicht nutzen will, und ersetzt ihn mittels 915resolution durch den gewünschten. Als Beispiel kann man bei einem 945GM-Chip den Modus 5c (1920x1440, 32 bits/pixel) durch 1024x600, 24 bits/pixel ersetzen:</p><div class="bash"><div class="contents"><pre class="notranslate">915resolution -c 945GM 5c 1024 600 24 </pre></div></div></div><div class="section_3"><h4 id="Einfuegen-ins-initramfs">Einfügen ins initramfs<a class="headerlink" href="#Einfuegen-ins-initramfs">¶</a></h4><p>
</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Hier werden die Schritte, die für die Integration von 915resolution in das initramfs nötig sind, beschrieben. Wer ein tieferes Verständnis für das Thema initramfs entwickeln möchte, sei auf die <a class="internal" href="../man.html">Manpage</a> zu initramfs-tools verwiesen.
</p></div></div><p>Nun erstellt man in <strong>/etc/initramfs-tools/scripts/init-top</strong> eine Textdatei namens <strong>915resolution</strong> mit folgendem Inhalt:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="nv">OPTIONS</span><span class="o">=</span><span class="s2">"-c 945GM 5c 1024 600 24"</span>
<span class="k">case</span> <span class="nv">$1</span> in
prereqs<span class="o">)</span>
    <span class="nb">exit</span> <span class="m">0</span>
    <span class="p">;;</span>
<span class="k">esac</span>

<span class="k">if</span> <span class="o">[</span> -c /dev/mem <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    915resolution <span class="nv">$OPTIONS</span>
<span class="k">else</span>
    mknod -m <span class="m">640</span> /dev/mem c <span class="m">1</span> <span class="m">1</span>
    915resolution <span class="nv">$OPTIONS</span>
    rm /dev/mem
<span class="k">fi</span>
</pre></div>
</td></tr></table></div><p>Hierbei muss der Wert von <code class="notranslate">OPTIONS</code> in der zweiten Zeile an die zuvor ermittelten Parameter für 915resolution angepasst werden. Zuletzt muss die Datei ausführbar gemacht werden (siehe <a class="internal" href="../chmod.html">chmod</a>):</p><div class="bash"><div class="contents"><pre class="notranslate">sudo chmod +x /etc/initramfs-tools/scripts/init-top/915resolution </pre></div></div><p>Außerdem muss man in <strong>/etc/initramfs-tools/hooks/</strong> eine Datei namens <strong>915resolution</strong> mit folgendem Inhalt anlegen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="k">case</span> <span class="nv">$1</span> in
prereqs<span class="o">)</span>
    <span class="nb">exit</span> <span class="m">0</span>
    <span class="p">;;</span>
<span class="k">esac</span>

. /usr/share/initramfs-tools/hook-functions
copy_exec /usr/sbin/915resolution /bin/915resolution
</pre></div>
</td></tr></table></div><p>und ausführbar machen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo chmod +x /etc/initramfs-tools/hooks/915resolution </pre></div></div><p>Zu guter Letzt muss man dem System mitteilen, dass 915resolution <span class="underline">vor</span> dem Laden des Framebuffer-Moduls gestartet werden soll. Dazu editiert man die Datei <strong>/usr/share/initramfs-tools/scripts/init-top/framebuffer</strong> (Root-Rechte werden benötigt) und ersetzt die Zeile <code class="notranslate">PREREQS=""</code> durch <code class="notranslate">PREREQS="915resolution"</code>. Das schließt die nötigen Änderungen an den Konfigurationsdateien für das initramfs ab, so dass man die Änderungen mittels</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-initramfs -u </pre></div></div><p>aktiv werden lassen kann.</p></div></div><div class="section_2"><h3 id="GRUB-Konfiguration">GRUB-Konfiguration<a class="headerlink" href="#GRUB-Konfiguration">¶</a></h3><p>
Nun muss man die zuvor ermittelten Kernel-Parameter in die <a class="internal" href="../menu.lst.html">menu.lst</a> eintragen. Hierzu öffnet man die Datei <strong>/boot/grub/menu.lst</strong> in einem Editor mit Root-Rechten und sucht nach der Zeile, die mit <code class="notranslate"># defoptions</code> beginnt. Ab Ubuntu 9.10 wird <a class="internal" href="../grub_2.html">GRUB 2</a> verwendet, hier muss man stattdessen die Datei <strong>/etc/default/grub</strong> mit Root-Rechten bearbeiten und die gewünschte Option an die Zeile <code class="notranslate">GRUB_CMDLINE_LINUX_DEFAULT</code> anhängen. Diese kann z.B. so aussehen:</p><ul><li><p>GRUB 2: </p><pre class="notranslate">GRUB_CMDLINE_LINUX_DEFAULT="quiet splash video=uvesafb:mode_option=1400x1050-32@60"</pre></li><li><p>GRUB (Legacy): </p><pre class="notranslate"># defoptions=quiet splash vga=0x0307</pre></li></ul><p>
Wenn ein <code class="notranslate">vga=xxxxx</code>- oder <code class="notranslate">video=xxxx</code>-Parameter vorhanden ist, so ersetzt man ihn durch die im Abschnitt <a class="crosslink" href="#Kernel-Parameter-ermitteln">Kernel-Parameter ermitteln</a> ermittelten Parameter. Ist keiner vorhanden, so hängt man diese Parameter einfach an die vorhandenen an. Anschließend wird in einem Terminal (nur bei GRUB 2 notwendig!) der Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-grub </pre></div></div><p>
eingegeben, um die Änderungen zu übernehmen. Nach einem Neustart sollte das Terminal in der gewünschten Auflösung erstrahlen.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Fehlerhafte Parameter können zu einem nicht mehr startenden System führen! Daher sollte man die gewünschten Parameter unbedingt temporär - wie unter <a class="internal" href="../bootoptionen.html">Bootoptionen</a> beschrieben - auszuprobieren, bevor man sie fest einträgt. 
</p></div></div></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="vesafb-auf-ATI-Bildwiederholrate-zu-hoch">vesafb auf ATI - Bildwiederholrate zu hoch<a class="headerlink" href="#vesafb-auf-ATI-Bildwiederholrate-zu-hoch">¶</a></h3><p>
Bei einigen älteren Grafikkarten der ATI-Radeon Reihe wird im Framebuffer-Modus die Bildwiederholrate automatisch zu hoch für analog angeschlossene Flachbildschirme eingestellt. Abhilfe schafft hier die Installation des Paketes</p><ul><li><p><strong>fbset</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install fbset </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install fbset </pre></div></div><p>
</p></div></div><p>oder die Verwendung von <code class="notranslate">uvesafb</code> mit expliziter Angabe der Wiederholfrequenz (z.B. <code class="notranslate">video=uvesafb:mode_option=1280x1024-16@60</code>).</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/VBE#Linux_video_mode_numbers">VESA Video Modes</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://915resolution.mango-lang.org/" rel="nofollow">Projektseite 915resolution</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../archiv/konsolen-auflösung/a/revision/859428.html">Diese Revision</a> wurde am 20. Dezember 2015 09:52 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/konsolen-auflösung.html">Konsolen-Auflösung</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>