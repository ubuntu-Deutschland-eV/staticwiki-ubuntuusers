<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/dh_make › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/dh_make.html">dh make</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/dh_make">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/dh_make/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/dh_make/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/dh_make/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/dh_make/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/dh_make/a/backlinks.html">dh make</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p><hr/><p><strong>Anmerkung:</strong> Migration in <a class="internal" href="../grundlagen_der_paketerstellung.html">Grundlagen der Paketerstellung</a>
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Einleitung">Einleitung
</a></li><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#dh-make">dh-make
</a></li><li><a class="crosslink" href="#Die-Dateien-unter-der-Lupe">Die Dateien unter der Lupe
</a></li></ol></div><p><strong>dh-make</strong> stellt eine mächtige Möglichkeit dar, Ubuntu-Pakete zu erstellen.</p><div class="section_1"><h2 id="Einleitung">Einleitung<a class="headerlink" href="#Einleitung">¶</a></h2><p>
Die Sourcen eines jeden <strong>.deb</strong>-Paketes enthalten einen Ordner namens <strong>debian</strong>. In diesem Ordner liegen die Daten, die benötigt werden, um das Paket zu erstellen. Dabei ist völlig egal, ob der Inhalt des Paketes Sourcen, oder Binär-Dateien sind. Die Regeln in <strong>debian</strong> beschreiben ganz allgemein, wie das Paket auf dem System zu installieren ist.</p></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Für diese Anleitung sollte das Paket</p><ul><li><p><strong>dh-make </strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install dh-make  </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install dh-make  </pre></div></div><p>
</p></div></div><p>installiert sein <sup><a href="#source-1">[1]</a></sup>.</p></div><div class="section_1"><h2 id="dh-make">dh-make<a class="headerlink" href="#dh-make">¶</a></h2><p>
Zunächst wird in einem Terminal <sup><a href="#source-2">[2]</a></sup> in das Verzeichnis mit den Quelldaten gewechselt. Dabei ist wichtig, dass dieses Verzeichnis einen Namen in der Form &lt;Paketname&gt;-&lt;Paketversion&gt; trägt, zum Beispiel in etwa so:</p><div class="bash"><div class="contents"><pre class="notranslate">cd Pakete/genial-1.00/ </pre></div></div><p>dh-make versucht, aus den Daten im aktuellen Verzeichnis die Informationen, die für das Paket benötigt werden, zu erstellen. Befindet man sich also bereits im Ordner mit den Quelldaten, so lässt sich der Prozess der Paketerstellung durch ein einfaches</p><div class="bash"><div class="contents"><pre class="notranslate">dh_make </pre></div></div><p>starten.</p><p>Danach werden einige Infos zum Ersteller und dem Paket erfragt:</p><pre class="notranslate">Type of package: single binary, multiple binary, library, or kernel module?
 [s/m/l/k]

Maintainer name : Vorname Nachname
Email-Address   : E-Mail Adresse
Date            : Datum und Uhrzeit
Package Name    : Paketname
Version         : Paketversion
License         : Lizenz
Type of Package : Typ der oben angegeben wurde
Hit &lt;enter&gt; to confirm:</pre></div><div class="section_1"><h2 id="Die-Dateien-unter-der-Lupe">Die Dateien unter der Lupe<a class="headerlink" href="#Die-Dateien-unter-der-Lupe">¶</a></h2><p>
</p><div class="section_2"><h3 id="README-Debian">README.Debian<a class="headerlink" href="#README-Debian">¶</a></h3><p>
Die Datei <strong>README.Debian</strong> enthält Informationen zu den Besonderheiten dieses Debian-Pakets. Wenn Veränderungen oder Ergänzungen gegenüber dem Source-Paket vorgenommen werden, so sollten diese hier vermerkt werden. Darauf achten, in der letzten Zeile die E-Mail-Adresse anzupassen. Wenn ein offizielles Debian-Paket erstellt wird oder auch nur das Paket im Netz verfügbar gemacht werden soll, so sollte die komplette Dokumentation, also auch Kommentare, in englischer Sprache erstellt werden. Bei Paketen für den privaten Gebrauch ist die Sprachwahl jedem selbst überlassen. Wenn keine weiteren Veränderungen an den Sourcen, der Dokumentation oder den Skripten des Programms notwendig waren, so kann diese Datei auch einfach gelöscht werden.</p></div><div class="section_2"><h3 id="files">files<a class="headerlink" href="#files">¶</a></h3><p>
Diese Datei enthält lediglich den Paketnamen, den Bereich sowie die Priorität des Pakets.</p></div><div class="section_2"><h3 id="changelog">changelog<a class="headerlink" href="#changelog">¶</a></h3><p>
In dieser Datei werden Veränderungen zwischen den einzelnen Paketversionen (changes) dokumentiert. Man sollte hier bei einer aktualisierten Version des Pakets die Veränderungen gegenüber der vorhergehenden Version dokumentieren.</p></div><div class="section_2"><h3 id="copyright">copyright<a class="headerlink" href="#copyright">¶</a></h3><p>
In dieser Datei finden sich Hinweise zum Copyright dieses Pakets. Es können die gesamten Copyright-Informationen hier aufgeführt werden. Bei Paketen, die einer weit verbreiteten Lizenz unterliegen, reicht auch ein kurzer Hinweis, wo die Lizenz zu finden ist. Zu diesem Punkt gibt es immer wieder Diskussionen unter den Debian-Entwicklern. Insbesondere bei Paketen, die der GPL unterliegen, gehen die Meinungen auseinander. Grundsätzlich sollte, um Missverständnisse zu vermeiden, zu jedem Paket die Lizenz mitgeliefert werden. Die GPL hat in der aktuellen Version 2 eine Größe von ca. 18 Kbyte. Das ist nicht sehr viel; wenn man die aber mit einigen tausend Paketen multipliziert, so kommt doch eine beachtliche Menge an Speicherplatz zusammen. Es wurde vereinbart, im Verzeichnis <strong>/usr/share/common-licenses/</strong> jeweils eine Version der gebräuchlichsten Lizenzen abzulegen und in jedem Paket nur auf die entsprechende Stelle zu verweisen. Somit ist sichergestellt, dass die Lizenz auf jedem Debian-System installiert ist.</p></div><div class="section_2"><h3 id="control">control<a class="headerlink" href="#control">¶</a></h3><p>
Die Datei <strong>control</strong> enthält verschiedenste Angaben zu dem Paket. Wichtig ist hier die Zeile <code class="notranslate">Section:</code>, dies ist der Bereich, in dem das Paket in der Debian-Paketstruktur erscheint. Die Zeile  <code class="notranslate">Description:</code> enthält in einer Zeile eine kurze Beschreibung des Pakets. Alle weiteren Zeilen müssen mit einem Leerzeichen beginnen und beschreiben das Paket ausführlich. Auch diese Texte sollten in englischer Sprache verfasst werden. Die meisten der verwendeten Schlüsselwörter sollten selbsterklärend sein.  <code class="notranslate">Source:</code> beschreibt den Namen (der Sourcen) des Pakets; mit  <code class="notranslate">Priority:</code> kann bestimmt werden, ob auf das Paket verzichtet werden kann (optional) oder ob das Paket zwingend notwendig für das System ist. Die Zeile  <code class="notranslate">Maintainer</code> enthält den Namen und die E-Mail-Adresse des Paketbetreuers; diese Angaben sind in der gezeigten Schreibweise anzugeben.  <code class="notranslate">Build-Depends:</code> beschreibt die Abhängigkeiten des Pakets. Mit dem Schlüsselwort  <code class="notranslate">Package:</code> wird der Paketname des Binärpakets beschrieben; die folgende Zeile  <code class="notranslate">Architecture:</code> gibt an, für welche Architekturen das Paket verwendet werden kann. Dies kann beispielsweise <code class="notranslate">i386</code>, <code class="notranslate">powerpc</code>, <code class="notranslate">alpha</code> usw. sein, oder wie hier gezeigt, das Schlüsselwort <code class="notranslate">any</code> für alle Architekturen.</p></div><div class="section_2"><h3 id="rules">rules<a class="headerlink" href="#rules">¶</a></h3><p>
In dieser Datei werden die Regeln zum Erstellen des Pakets definiert. Sollte der verwendete Sourcecode kein Makefile enthalten oder auch kein configure-Skript verwenden, so müssen in dieser Datei die notwendigen Schritte zum erfolgreichen Übersetzen des Pakets beschrieben werden. Im hier gezeigten Beispiel wurde <code class="notranslate">make</code> (<code class="notranslate">$(MAKE)</code>) mit der Option <code class="notranslate">-j 6</code> ergänzt, um die Übersetzung etwas zu beschleunigen. Eventuell kann es, beispielsweise bei Paketen, die ausschließlich Dokumentation enthalten, notwendig sein, alle Zeilen, die make aufrufen, auszukommentieren. Sie müssen dann durch geeignete Einträge in der Datei selbst dafür sorgen, dass die Dateien an die richtige Stelle im Dateisystem kopiert werden. Die hier gezeigte Version wurde bereits an einigen Stellen angepasst. Im Abschnitt <code class="notranslate">install: build</code> sind einige Regeln definiert worden, mit denen das ausführbare Programm durch ein Skript ersetzt wird. Weiterhin wird eine Konfigurationsdatei als Beispiel im Dokumentationsverzeichnis abgelegt.</p></div><div class="section_2"><h3 id="menu">menu<a class="headerlink" href="#menu">¶</a></h3><p>
Mit dem Debian-Menüsystem können Programme, unabhängig von der verwendeten Benutzeroberfläche, in die Menüs der Benutzeroberfläche eingebunden werden. Bei der Verwendung eines Icons ist darauf zu achten, dass dieses auch tatsächlich vorhanden ist. Gegebenenfalls muss das Icon mit dem Paket zusammen installiert werden. Ubuntu verwendet jedoch nicht das Debian-Menüsystem sonder ein eigenes: <a class="internal" href="../grundlagen_der_paketerstellung/menüeintrag.html">Grundlagen der Paketerstellung/Menüeintrag</a>.</p><p>Neben dem Paketnamen finden sich in dieser Datei weitere Angaben dazu, welche Benutzeroberfläche das Programm benötigt und in welchem Menüzweig es erscheinen soll. Das Schlüsselwort <code class="notranslate">title</code> beschreibt den Text, der im Menü angezeigt wird; <code class="notranslate">command</code>  schließlich enthält den kompletten Pfad und den Programmnamen.</p><pre class="notranslate">Apps            -- Menü für Anwendungen
  Editors       -- Programme zur Bearbeitung von Texten
  Net           -- E-Mail, News, Webbrowser, IRC, etc.
  Programming   -- Debugger, etc.
  Shells        -- bash, ksh, zsh, etc.
  Tools         -- Diverse Tools: xclock, xmag, xman, etc.
  Viewers       -- Bildbetrachter, gs, xawtv, etc.
  Math          -- gnuplot, octave, oleo, etc.
  Graphics      -- xpaint, xfig, xtiff, etc.
  Emulators     -- dosemu, etc.
  Sound         -- TkMidity, etc.
  System        -- System Verwaltung und Beobachtung
Games           -- Menü für Spiele
  Adventure     -- Abenteuer, zork, MOO's, etc
  Arcade        -- alles was schnell ist...
  Board         -- Brettspiele: Gnuchess, pente, gnugo
  Card          -- Solitare, etc
  Puzzles       -- xpuzzles, ...
  Sports        -- Sportliche Spiele
  Strategy      -- lincity, freeciv
  Tetris-like   -- Alles was runterf&amp;auml;llt....
  Toys          -- oneko, xeyes, etc.
Screen          --
  Lock          -- xlock, etc.
  Screen-saver  -- Bildschirmschoner
  Root-window   -- Hintergründe
Window-managers -- Umschalten zwischen verschiedenen Windowmanagern
  Modules       -- fvwm modules, etc.
XShells         -- shells (xterm, rxvt, ...)</pre></div><div class="section_2"><h3 id="postinst-preinst-postrm-und-prerm">postinst, preinst, postrm  und prerm<a class="headerlink" href="#postinst-preinst-postrm-und-prerm">¶</a></h3><p>
Diese vier Dateien enthalten Informationen, die vor (pre) bzw. nach (post) dem Installieren bzw. den Entfernen des Pakets ausgeführt werden sollen. Hier nur ein Beispiel: Alle in der Datei <strong>postinst</strong> enthaltenen Kommandos werden nach (post) der Installation (inst) des Pakets ausgeführt. Durch dh-make wurde im Verzeichnis <strong>debian</strong> eine Vorlage <strong>postinst.ex</strong> erzeugt, die umbenannt und mit Inhalten gefüllt werden kann. Das Skript kann während der Installation mit verschiedenen Parametern aufgerufen werden. Entsprechende Abschnitte in der Vorlage können mit den gewünschten Kommandos gefüllt werden. Wenn alle Anpassungen an den Dateien im Verzeichnis <strong>debian</strong> vorgenommen wurden, so kann versucht werden, in einem Terminal <sup><a href="#source-2">[2]</a></sup> mit dem Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">dpkg-buildpackage </pre></div></div><p>ein Debian-Paket zu erzeugen. Hierbei ist zu beachten, dass das Kommando im Verzeichnis mit den entpackten Quelldateien ausgeführt wird.</p><p></p></div></div></div>
<p class="meta">
<a href="../archiv/dh_make/a/revision/346607.html">Diese Revision</a> wurde am 30. Dezember 2011 16:27 von <a href="https://ubuntuusers.de/user/Lasall/">Lasall</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/dh_make.html">dh make</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>