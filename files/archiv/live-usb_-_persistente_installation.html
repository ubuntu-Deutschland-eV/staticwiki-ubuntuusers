<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Live-USB_-_persistente_Installation › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/live-usb_-_persistente_installation.html">Live-USB - persistente Installation</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Live-USB_-_persistente_Installation">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/live-usb_-_persistente_installation/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/live-usb_-_persistente_installation/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/live-usb_-_persistente_installation/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/live-usb_-_persistente_installation/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/live-usb_-_persistente_installation/a/backlinks.html">Live-USB - persistente Installation</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Im Terminal arbeiten</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Mit dem Texteditor arbeiten</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../packprogramme.html">Archive entpacken</a> </p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../rechte.html">Rechte für Dateien und Ordner ändern</a> </p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="../programme_starten.html">Ein Programm starten</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Voraussetzungen">Voraussetzungen
</a></li><li><a class="crosslink" href="#Vorbereitung">Vorbereitung
</a></li><li><a class="crosslink" href="#Manuell-oder-automatisch">Manuell oder automatisch?
</a></li><li><a class="crosslink" href="#Partitionierung-und-Formatierung-des-USB-Sticks">Partitionierung und Formatierung des USB-S...</a><ol class="arabic"><li><a class="crosslink" href="#Variante-1-Grafisches-Partitionierungsprogramm">Variante 1: Grafisches Partitionierungsp...</a></li><li><a class="crosslink" href="#Variante-2-Kommandozeile">Variante 2: Kommandozeile
</a></li></ol></li><li><a class="crosslink" href="#CD-Inhalt-kopieren">CD-Inhalt kopieren
</a></li><li><a class="crosslink" href="#Bootloader-Installation">Bootloader Installation
</a><ol class="arabic"><li><a class="crosslink" href="#Variante-1-GRUB">Variante 1: GRUB
</a></li><li><a class="crosslink" href="#Variante-2-Syslinux">Variante 2: Syslinux
</a></li></ol></li><li><a class="crosslink" href="#Ballast-abwerfen">Ballast abwerfen
</a><ol class="arabic"><li><a class="crosslink" href="#Inhalte-fuer-Windows">Inhalte für Windows
</a></li><li><a class="crosslink" href="#Weiteren-Platz-einsparen">Weiteren Platz einsparen
</a></li></ol></li><li><a class="crosslink" href="#Problemloesungen">Problemlösungen
</a><ol class="arabic"><li><a class="crosslink" href="#Bootprobleme">Bootprobleme
</a></li><li><a class="crosslink" href="#Probleme-nach-dem-Bootmenue">Probleme nach dem Bootmenü
</a></li></ol></li><li><a class="crosslink" href="#Links-und-Quellen">Links und Quellen
</a><ol class="arabic"><li><a class="crosslink" href="#Quellen">Quellen
</a></li><li><a class="crosslink" href="#Weitere-Links">Weitere Links
</a></li></ol></li></ol></div><p><img alt="Wiki/Icons/usb.png" class="image-left" src="../_/8c5215d3a53a47a733ea224642e3d1f4042af5f3.png"/>
Dieser Artikel beschreibt, wie man eine (K|L|X)Ubuntu <a class="internal" href="../desktop-cd.html">Desktop-CD</a> auf einen <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/USB-Stick">USB-Stick</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> kopiert und derart einrichtet, dass er anschließend wie ein normales <a class="internal" href="../desktop-cd.html">Live-System</a> verwendet werden kann. Zusätzlich wird erklärt, wie man dieses Live-USB-System um eine persistente Installation erweitert, womit das Arbeiten wie mit einem normal installierten Linux möglich ist. „Persistent“ bedeutet in diesem Zusammenhang, dass auf einer zweiten, speziell gekennzeichneten Partition sämtliche veränderten Einstellungen des Live-Systems und vom Nutzer veränderte bzw. hinzugefügte Dateien gespeichert werden.</p><p>Die Ubuntu-Installation auf einem USB-Stick ist von Nutzen, wenn aus diversen Gründen die Verwendung eines optischen Laufwerks nicht möglich oder nicht erwünscht ist. Zudem erhält man mit dem persistenten Modus eine vollständig anpassbare Arbeitsumgebung, welche an jedem Computer mit der Fähigkeit von USB zu starten zur Verfügung steht.</p><p>Auf die benötigten Schritte für eine persistente Installation wird im Folgenden stets deutlich hingewiesen. Wenn nur ein normales <a class="internal" href="../live-usb.html">Live-USB</a> System installiert werden soll, können diese Schritte folglich ausgelassen werden. Außerdem enthält der <a class="internal" href="../live-usb.html">Live-USB</a>-Artikel alternative Installationsmethoden.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Bitte die hier beschriebene Vorgehensweise nicht mit einer <a class="internal" href="../installation_auf_externen_speichermedien.html">Installation auf externen Speichermedien</a> verwechseln. Auf USB-Sticks und anderen externen Speichermedien mit mindestens 4 GiB freiem Platz lässt sich Ubuntu wie auf einer Festplatte installieren.
</p></div></div><div class="section_1"><h2 id="Voraussetzungen">Voraussetzungen<a class="headerlink" href="#Voraussetzungen">¶</a></h2><p>
Folgendes wird benötigt: 
</p><ul><li><p>Ein Rechner, welcher das Booten von USB-Sticks unterstützt (Im Handbuch oder auf der Hersteller-Webseite nachzulesen) </p></li><li><p>Ein (leerer) startfähiger USB-Stick mit mindestens 1 GiB Fassungsvermögen – ein Minimum von 2 GiB ist angeraten </p></li><li><p>Ein laufendes Linux-System </p></li><li><p>Eine <a class="internal" href="../live-cd.html">Live-CD</a> oder ein <a class="internal" href="../downloads.html">CD-Image</a> (Desktop-Edition) von Ubuntu, Kubuntu, Lubuntu oder Xubuntu </p></li></ul><p>
</p></div><div class="section_1"><h2 id="Vorbereitung">Vorbereitung<a class="headerlink" href="#Vorbereitung">¶</a></h2><p>
<img alt="Wiki/Icons/usb.png" class="image-right" src="../_/fc423efc3b43f826a45c6ff2406082da4f8bb2f9.png"/> Da im Zusammenhang mit dem "Starten von einem USB-Stick" häufig von Problemen berichtet wird, ist es ratsam, vor Beginn der Arbeiten sicher zu stellen, dass diese Funktionalität gegeben ist. Falls nicht bekannt ist, ob dem so ist, sollte an dieser Stelle der am Ende des Artikels befindliche Abschnitt <a class="crosslink" href="#Bootprobleme">Bootprobleme</a> konsultiert werden. Besonders von Interesse dürfte hierzu der Abschnitt <a class="crosslink" href="#UsbBootCheck">USB-Stick auf Bootfähigkeit prüfen</a> sein.</p><p>Zunächst sollte man die interne Bezeichnung des USB-Sticks in Erfahrung bringen. Dazu kann man das systemeigene <a class="internal" href="../partitionierung.html">Partitionierungsprogramm</a> nutzen und dort nachschauen, oder man öffnet einfach ein Terminal <sup><a href="#source-2">[2]</a></sup> und führt den folgenden Befehl aus (benötigt Root-Rechte!):</p><div class="bash"><div class="contents"><pre class="notranslate">sudo fdisk -l </pre></div></div><p>
In der darauf folgenden Ausgabe bzw. in der Oberfläche des <a class="internal" href="../partitionierung.html">Partitionierungsprogramms</a> sollte man seinen Stick anhand seiner Bezeichnung (falls vorhanden) oder der Größe identifizieren können. In den folgenden Beispielen dieses Artikels wird die Adresse des USB-Sticks immer mit <strong>/dev/sdX</strong> angegeben. Das <strong>X</strong> ist hierbei durch den jeweilig zutreffenden Buchstaben zu ersetzen. Hierbei kann auch gleich festgestellt werden, ob sich eine oder mehrere Partitionen auf dem USB-Stick befinden. <em>Dies ist im Folgenden von besonderem Interesse.</em></p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Bei der folgenden Prozedur werden alle auf dem USB-Stick befindlichen Daten vernichtet! Wenn noch nicht erfolgt, sollte jetzt eine Sicherung aller evtl. vorhandenen Daten erstellt werden. 
</p></div></div></div><div class="section_1"><h2 id="Manuell-oder-automatisch">Manuell oder automatisch?<a class="headerlink" href="#Manuell-oder-automatisch">¶</a></h2><p>
Es gibt zum automatisierten Erstellen eines persistenten Live-USB-Sticks das Pythonprogramm <strong>usb-creator</strong>. Wenn es installiert ist, findet man es bei Ubuntu-Varianten mit einem Anwendungsmenü unter</p><ul><li><p>Xubuntu: <em>"System -&gt; USB-Startmedien-Ersteller"</em></p></li><li><p>Lubuntu: <em>"Systemwerkzeuge -&gt; Startmedienersteller"</em></p></li><li><p>Kubuntu: <em>"System -&gt; USB Startup Creator"</em></p></li></ul><p>
Zum Nachinstallieren gibt es das Programm als Paket <strong>usb-creator-gtk</strong> (Lubuntu, Xubuntu) oder als Paket <strong>usb-creator-kde</strong> (Kubuntu).</p><p>Zusätzlich zum usb-creator und zur individuellen, händischen Bearbeitung, existiert die Möglichkeit die meisten Arbeiten von einem Script erledigen zu lassen, welches von einem Mitglied der ubuntuusers-Gemeinschaft erstellt wurde.</p><p>Mit dem Live-USB-Script kann ein kompletter, bootfähiger Live-USB-Stick mit Persistentfähigkeit erstellt werden. Das Script partioniert den Stick, formatiert ihn und kopiert alle benötigten Daten. Dafür benötigt das Script nur drei Informationen:</p><ol class="arabic"><li><p>Die Adresse des USB Sticks - also <strong>/dev/sdX</strong> </p></li><li><p>Den Pfad zum CD-Inhalt </p></li><li><p>Wie groß die Persistent-Partion werden soll (0 für keine Persistenzfähigkeit, 1 für Rest des Speicherplatzes, andere Werte werden als Angaben in MiB betrachtet)</p></li></ol><p>Alle Schritte sind innerhalb des Scripts kommentiert und mit Beispielen versehen. Eingaben können auf Wunsch gespeichert werden und ermöglichen so bei erneuter Nutzung einen automatischen Ablauf mit einem Klick.</p><p>Fragen, Kritik oder Bugs können in <a class="crosslink topic" href="https://forum.ubuntuusers.de/topic/live-usb-script/">diesem Thread</a> gepostet werden.</p><p><a class="interwiki interwiki-attachment" href="../archiv/live-usb_-_persistente_installation.html">Download Live-USB-Script</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></div><div class="section_1"><h2 id="Partitionierung-und-Formatierung-des-USB-Sticks">Partitionierung und Formatierung des USB-Sticks<a class="headerlink" href="#Partitionierung-und-Formatierung-des-USB-Sticks">¶</a></h2><p>
Zunächst muss sichergestellt werden, dass die eventuell noch bestehenden Partitionen des Sticks nicht mehr eingebunden sind. Dies ist wieder am einfachsten durch einen Befehl im Terminal <sup><a href="#source-3">[3]</a></sup> zu erreichen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo umount /dev/sdX1 </pre></div></div><p>
Falls sich mehr als eine Partition auf dem Stick befindet, muss der Befehl natürlich mit der entsprechend höheren Nummer wiederholt werden.(<strong>/dev/sdX2</strong> usw.)</p><table style="float: right; clear: right; margin-left: 1.5em; margin-right: 3em"><tr style="background-color: #d19b67"><td style="text-align: center"><strong>GParted Hauptfenster</strong></td><td style="text-align: center"><strong>GParted Boot-Flag</strong></td></tr><tr><td><img alt="./gparted-main.png" class="image-center" src="../_/e1e1b064896aa38b0b850116a9600e2d4ee0f456.png"/></td><td><img alt="./gparted-bootflag.png" class="image-default" src="../_/73340cf293f20e3437e17e26972a38fb85d10344.png"/></td></tr><tr><td colspan="2"></td></tr><tr style="background-color: #d19b67"><td style="text-align: center"><strong>QTParted Hauptfenster</strong> </td><td style="text-align: center"><strong>QTParted Aktiv</strong> </td></tr><tr><td><img alt="./qtparted-main.png" class="image-center" src="../_/dd13d0c15b832e924ceba24d9b314490d0945d2a.png"/></td><td><img alt="./qtparted-aktiv.png" class="image-default" src="../_/b95860d1c3fdb5af5f5951d379ce04bfb0ade159.png"/></td></tr></table><p>
</p><div class="section_2"><h3 id="Variante-1-Grafisches-Partitionierungsprogramm">Variante 1: Grafisches Partitionierungsprogramm<a class="headerlink" href="#Variante-1-Grafisches-Partitionierungsprogramm">¶</a></h3><p>
Wenn nicht schon geschehen, ist jetzt das <a class="internal" href="../partitionierung.html">Partitionierungsprogramm</a> der jeweiligen Ubuntu-Variante zu öffnen. Dort sucht man zunächst im Menü den USB-Stick und wechselt zu diesem.</p><p>Nun sind alle auf dem USB-Stick eventuell noch vorhandenen Partitionen zu entfernen. Anschließend kann mit der Neupartitionierung begonnen werden.</p><p>Als erstes muss eine Partition für die Daten der Desktop-CD angelegt werden. Dabei ist das <a class="internal" href="../dateisystem.html">Dateisystem</a> zunächst egal, da später, wenn die Partitionen eine Bezeichnung erhalten sollen, sowieso nochmals formatiert werden muss. Verwendet man Kubuntu/Ubuntu, werden hier 700 MiB benötigt, für Xubuntu 570 MiB. Strebt man eine Installation ohne Persistenz an, ist einem selbst überlassen wie der restliche Platz verteilt wird.</p><p>Nun muss für diese Partition noch das Bootflag gesetzt werden (in anderen Worten: die Partition wird als <em>Startfähig</em> markiert). Setzt man den besagten Status nicht und versucht in diesem Zustand trotzdem zu starten, wird man meistens eine Fehlermeldung erhalten.</p><p>Für die Installation im persistenten Modus benötigt man eine zweite Partition. Ihr sollte eine Größe von ca. 1 Gigabyte zugeteilt werden, bei USB-Sticks bis 2 GiB am besten der ganze Rest. Dies sei angeraten, weil hier später auch die Daten des <a class="internal" href="../dateisystem.html">Home-Verzeichnisses</a> abgelegt werden.</p><p>Ganz ohne Kommandozeilenbefehle <sup><a href="#source-3">[3]</a></sup> geht es auch in der grafischen Variante nicht. Der Grund dafür ist, dass die Partitionen noch Bezeichnungen erhalten sollen respektive müssen.</p><p>An der folgenden Stelle geht es weiter: <a class="crosslink" href="#Formatierung">Formatierung</a></p></div><div class="section_2"><h3 id="Variante-2-Kommandozeile">Variante 2: Kommandozeile<a class="headerlink" href="#Variante-2-Kommandozeile">¶</a></h3><p>
</p><div class="section_3"><h4 id="Partitionierung">Partitionierung<a class="headerlink" href="#Partitionierung">¶</a></h4><p>
Zum Entfernen alter Partitionen und der erneuten Partitionierung wird nun <strong>fdisk</strong> mit <a class="internal" href="../sudo.html">Root-Rechten</a> in einem Terminalfenster gestartet. Um den notwendigen Platz für eine 2. Partition zur Verfügung zu haben, welche z. B. für den persistenten Modus benötigt wird, ist es notwendig, die erste Partition mit begrenzter Größe zu erstellen. Demnach ist Punkt 7 <em>besondere Aufmerksamkeit</em> zu widmen und die Punkte 12. bis 16. werden nur für eine persistente Installation benötigt!</p><div class="bash"><div class="contents"><pre class="notranslate">sudo fdisk /dev/sdX. </pre></div></div><ol class="arabic"><li><p>
<span class="key">P</span>  + 
<span class="key">⏎</span>  eingeben um sich zunächst eine Liste der bestehenden Partitionen anzeigen zu lassen </p></li><li><p>
<span class="key">D</span>  + 
<span class="key">⏎</span>  um diese zu löschen (alle bestehenden Partitionen), ggf nochmals Punkt 1 ausführen, um zu überprüfen, ob wirklich alles gelöscht wurde. </p></li><li><p>
<span class="key">N</span>  + 
<span class="key">⏎</span>   zum Erstellen einer Partition </p></li><li><p>
<span class="key">P</span>  + 
<span class="key">⏎</span>   eingeben für eine primäre Partition und </p></li><li><p>
<span class="key">1</span>  + 
<span class="key">⏎</span>   um diese als erste Partition anzulegen </p></li><li><p>
<span class="key">⏎</span>   um die Vorgabe zu akzeptieren (Partitionsbeginn am ersten (freien) Zylinder) </p></li><li><p>Partitionsgröße: </p><ul><li><p>
<span class="key">+</span>
<span class="key">7</span>
<span class="key">3</span>
<span class="key">4</span>
<span class="key">M</span>  + 
<span class="key">⏎</span>  um die Größe auf ca. 700 MiB] zu beschränken (diese Option ist für die persistente Installation auszuwählen) </p></li><li><p>
<span class="key">⏎</span>   um die Vorgabe zu akzeptieren (gesamte Kapazität des Gerätes für diese Partition nutzen) </p></li></ul></li><li><p>
<span class="key">A</span>  + 
<span class="key">⏎</span>   eingeben, um das Bootflag der Partition zu setzen </p></li><li><p>
<span class="key">1</span>  + 
<span class="key">⏎</span>   wählen für die 1. Partition des USB-Sticks </p></li><li><p>
<span class="key">T</span>  + 
<span class="key">⏎</span>   eingeben, um die Standardeinstellung "Linux" des Dateisystems zu ändern </p></li><li><p>Code für des Dateisystem: </p><ul><li><p>
<span class="key">6</span>  + 
<span class="key">⏎</span>   ist für FAT 16 zu wählen, oder </p></li><li><p>
<span class="key">B</span>  + 
<span class="key">⏎</span>   für FAT 32. </p></li></ul></li><li><p>
<span class="key">N</span>  + 
<span class="key">⏎</span>   erneut – zum Erstellen einer zweiten Partition für den persistenten Modus </p></li><li><p>
<span class="key">P</span>  + 
<span class="key">⏎</span>  - wieder Primär </p></li><li><p>
<span class="key">2</span>  + 
<span class="key">⏎</span>  - dieses Mal als 2. Partition </p></li><li><p>
<span class="key">⏎</span>  - wie Punkt 6 </p></li><li><p>
<span class="key">⏎</span>  um den restlichen zur Verfügung stehenden Platz zu verwenden </p></li><li><p>
<span class="key">W</span>  + 
<span class="key">⏎</span>  um die Änderungen auf den USB-Stick zu schreiben </p></li></ol><p>Damit ist die Partitionierung mit <strong>fdisk</strong> beendet.</p><p>Wer sich etwas Tipp-Arbeit sparen möchte, kann alternativ unter Verwendung von <a class="internal" href="../gnu_parted.html">parted</a> die komplette Partitionierung auch durch Ausführung des nachfolgenden Befehls durchführen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo parted /dev/sdX "mklabel msdos" &amp; sudo parted /dev/sdX "mkpart primary fat32 0 750" &amp; sudo parted /dev/sdX "mkpart primary ext2 751 -0" &amp; sudo parted /dev/sdX "set 1 boot on" </pre></div></div><p>
Wenn eine abweichende Partitionierung verwendet wird, ist in jedem Fall darauf zu achten, dass der 1. Partition ca. 700 MiB zugeteilt werden. Die erforderliche Größe ist in jedem Fall an die Größe der aktuell verwendete Version anzupassen (vgl. Größe der zu ladenden <code class="notranslate">.iso</code>-Datei gemäß <em><a class="crosslink" href="#CD-Inhalt-kopieren">CD-Inhalt kopieren</a></em>)!</p><p><a class="crosslink anchor" href="#Formatierung" id="Formatierung"></a>
</p></div><div class="section_3"><h4 id="Formatierung">Formatierung<a class="headerlink" href="#Formatierung">¶</a></h4><p>
Um die 1. Partition zu formatieren, folgenden Befehl in der Kommandozeile eingeben:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkfs.vfat -F 32 -n LiveUSB /dev/sdX1 </pre></div></div><p>
Wenn vorhin für die 1. Partition "FAT 32" gewählt wurde, ist die voranstehende Zeile so korrekt wie dargestellt. Für "FAT 16" ist folglich <code class="notranslate">-F 16</code> zu verwenden. Bei der Zeichenkette <code class="notranslate">LiveUSB</code> handelt es sich um die Bezeichnung der Partition und ist frei wählbar.</p><p>Zum Formatieren der 2. Partition verwendet man diesmal folgenden Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkfs.ext2 -b 4096 -L casper-rw /dev/sdX2 </pre></div></div><p>
Die Zeichenkette <code class="notranslate">casper-rw</code> darf dieses Mal <em>nicht geändert</em> werden! Das System sucht beim Startvorgang des persistenten Modus nach eben dieser Kennung und verwendet folglich die Partition entsprechend ihrem Zweck.</p><p>Nun sollte der USB-Stick kurz abgezogen und wieder eingesteckt werden. Dies erspart das Einhängen der Partitionen von Hand, da dies unter Ubuntu automatisch geschieht. Wenn man sich an die vorherigen Beispiele gehalten hat, werden die Partitionen unter <code class="notranslate">LiveUSB</code> und <code class="notranslate">casper-rw</code> eingebunden.</p></div></div></div><div class="section_1"><h2 id="CD-Inhalt-kopieren">CD-Inhalt kopieren<a class="headerlink" href="#CD-Inhalt-kopieren">¶</a></h2><p>
<img alt="Wiki/Icons/optical.png" class="image-right" src="../_/c3c71df2c68f0828a66dd52a509df64a600d84f2.png"/> Wenn Ubuntu als CD vorliegt, sollte es keine Probleme geben, auf den Inhalt Zugriff zu erlangen, da diese automatisch eingebunden wird. Anders ist es, wenn Ubuntu nur als Imagedatei vorliegt. Dann ist diese, ähnlich wie eine Partition, zuerst in einen zuvor erstellten oder anderen leeren Ordner einzuhängen.</p><p>In diesem Fall, wird zunächst ein Ordner namens <strong>ubuntuimage</strong> im <a class="internal" href="../homeverzeichnis.html">Verzeichnis des Benutzers</a> erstellt (beides ist natürlich frei wählbar):</p><div class="bash"><div class="contents"><pre class="notranslate">mkdir ~/ubuntuimage </pre></div></div><p>
Nun wechselt man in jenes Verzeichnis, wo das Ubuntu-Image abgelegt ist und bindet es im soeben erstellten Ordner ein:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount ubuntu-10.04-desktop-i386.iso ~/ubuntuimage -o loop               # die Version ist nur ein Beispiel </pre></div></div><p>
Nun kann die Ubuntu-CD oder der Ordner mit dem Image im <a class="internal" href="../dateimanager.html">Dateimanager</a> geöffnet und der komplette Inhalt auf die erste Partition des USB-Sticks kopiert werden. Hierbei ist es zwingend notwendig, im verwendeten Dateimanager die Ansichtsoption <em>"Versteckte Dateien anzeigen"</em> angeschaltet zu haben. Andernfalls wird der Ordner <strong>/.disk</strong> nicht mit kopiert. Der Kopiervorgang wird nun einige Minuten in Anspruch nehmen und schließlich erhält man eine Fehlermeldung, welche besagt, dass ein "Symbolischer Link" nicht erstellt werden konnte. Die Ursache ist, dass im FAT-Dateisystem keine symbolischen Links erlaubt sind und somit der selbige nicht geschrieben werden kann. Dies ist aber harmlos und kann ignoriert werden.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Ab Version 8.04 gehört ein Archivmanager zur Standardausstattung, mit dem man die ISO-Datei direkt öffnen und weiterbearbeiten kann.
</p></div></div><p><img alt="Wiki/Icons/settings.png" class="image-right" src="../_/34f64b06b3c940e725710775b71dfa3b9fb00131.png"/>
</p></div><div class="section_1"><h2 id="Bootloader-Installation">Bootloader Installation<a class="headerlink" href="#Bootloader-Installation">¶</a></h2><p>
Da die meisten Nutzer sicherlich einen schon bekannten <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Bootloader">Bootloader</a> vorziehen werden, liegt im Folgenden der Schwerpunkt auf <a class="internal" href="../grub.html">GRUB</a>. Für alle anderen wird jedoch auch die Variante mit <strong>Syslinux</strong> beschrieben.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>In den Ubuntu-Versionen 12.04.3 und ab 13.04 in der 64-bit-Variante ist die Datei <strong>/casper/vmlinuz<strong class="highlighted">.efi</strong></strong> enthalten und ist entsprechend so in die linux/kernel-Zeile einzutragen. Das gilt allerdings nicht für alle Ubuntu-Varianten. Einfach mit dem Archivmanager die ISO-Datei öffnen, und unter <strong>/casper</strong> nachschauen.
</p></div></div><div class="section_2"><h3 id="Variante-1-GRUB">Variante 1: GRUB<a class="headerlink" href="#Variante-1-GRUB">¶</a></h3><p>
Da <a class="internal" href="../grub.html">GRUB</a> (Legacy) bzw. <a class="internal" href="../grub_2.html">GRUB 2</a> auf Ubuntu-Systemen schon vorhanden ist, kann direkt mit der Installation auf dem Stick begonnen werden. Vor dem eigentlichen Befehl zur Installation muss allerdings noch der Ordner <strong>boot</strong> angelegt werden, in den die Grub-Installation mit dem 2. Befehl dann abgelegt wird:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /media/LiveUSB/boot
sudo grub-install --root-directory=/media/LiveUSB --no-floppy /dev/sdX </pre></div></div><p>
Wurde der letzte Befehl ohne Fehler ausgeführt, sollte sich unter <strong>/media/LiveUSB/boot</strong> jetzt ein neuer Ordner namens <strong>grub</strong> mit den entsprechenden Dateien als Inhalt befinden (GRUB Legacy <a class="crosslink" href="../archiv/live-usb_-_persistente_installation.html">Liste</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/>; GRUB 2 <a class="crosslink" href="../archiv/live-usb_-_persistente_installation.html">Liste</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/>).</p><p>Das folgende Vorgehen ist abhängig von der verwendeten GRUB-Version. Seit Ubuntu 9.10 <a class="internal" href="../karmic_koala.html">Karmic Koala</a> wird standardmäßig GRUB 2 benutzt.</p><div class="section_3"><h4 id="GRUB-2">GRUB 2<a class="headerlink" href="#GRUB-2">¶</a></h4><p>
Nun legt man im Ordner <strong>/media/LiveUSB/boot/grub</strong> eine neue Datei namens <strong>grub.cfg</strong> an, öffnet diese im Texteditor <sup><a href="#source-3">[3]</a></sup> und fügt den folgenden Text ein:</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Der folgende Menüeintrag ist für das <em>direkte</em> Booten der ISO-Datei vorgesehen.
</p></div></div><pre class="notranslate">menuentry "Lucid Lynx_64.iso live" {
set root=(hd0,msdos1)
loopback loop /ubuntu-10.04.1-desktop-amd64.iso
linux (loop)/casper/vmlinuz boot=casper iso-scan/filename=/ubuntu-10.04.1-desktop-amd64.iso
initrd (loop)/casper/initrd.lz 
}</pre><p>
Dieser Eintrag erlaubt es, auf das Kopieren des Inhaltes des iso-file (s. oben <em><a class="crosslink" href="#CD-Inhalt-kopieren">CD-Inhalt kopieren</a></em>) zu verzichten, und direkt ein auf die Partition kopiertes iso-file zu booten. Andererseits können mit GRUB 2 auch zuvor auf die entsprechende Partition entpackte ISO-Dateien gestartet werden. Dazu fügt man den folgenden Text in die <strong>grub.cfg</strong> ein:</p><pre class="notranslate">menuentry "Maverick Meerkat 10.10 Live" {
set root=(hd0,msdos1)
linux /casper/vmlinuz boot=casper ramdisk_size=1048576 root=/dev/ram rw --
initrd /casper/initrd.lz 
}</pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Evtl. müssen noch weitere Kernel-Parameter an das vorhandene System angepasst werden, siehe dazu auch unter <a class="crosslink" href="#Links">Links</a>. Beispiele:</p><ul><li><p>gfxpayload=1650x1024x24,1650x1024 </p></li><li><p>ramdisk_size=1048576</p></li><li><p>cdrom-detect/try-usb=true</p></li><li><p>keyb=de</p></li><li><p>locale=de_DE </p></li><li><p>bootkbd=de console-setup/layoutcode=de</p></li><li><p>quiet</p></li><li><p>splash</p></li></ul></div></div><p>Um mit GRUB 2 den persistenten Modus einzurichten sind zwei zusätzliche Maßnahmen erforderlich:
</p><ul><li><p>eine spezielle Partition </p></li><li><p>ein spezieller Kernelparameter  </p></li></ul><p>
Die Partition sollte ca. 2-3 GiB groß sein, je nachdem, was alles gespeichert werden soll. Sie wird  eingerichtet mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkfs.ext2 -b 4096 -L casper-rw /dev/sdXY </pre></div></div><p>
wobei X und Y an die Gegebenheiten angepasst werden müssen.</p><p>Der Kernelparameter lautet
</p><pre class="notranslate">.../casper/vmlinuz boot=casper <strong class="highlighted">persistent</strong>...</pre></div><div class="section_3"><h4 id="GRUB-Legacy">GRUB Legacy<a class="headerlink" href="#GRUB-Legacy">¶</a></h4><p>
Wenn noch <a class="internal" href="../grub.html">GRUB</a> (Legacy) verwendet wird, legt man im Ordner <strong>/media/LiveUSB/boot/grub</strong> eine neue Datei namens <strong>menu.lst</strong> an, öffnet diese im Texteditor <sup><a href="#source-3">[3]</a></sup> und fügt den folgenden Text ein:</p><pre class="notranslate">## menu.lst - Ubuntu LiveUSB Desktop &lt;Version&gt;
##              xyz oder &lt;Datum&gt;

default         0
timeout         10

title           Ubuntu Persistent
root            (hd0,0)
kernel          /casper/vmlinuz boot=casper persistent ramdisk_size=1048576 root=/dev/ram rw --
initrd          /casper/initrd.lz
boot

title           Ubuntu Live
root            (hd0,0)
kernel          /casper/vmlinuz boot=casper ramdisk_size=1048576 root=/dev/ram rw quiet splash--
initrd          /casper/initrd.lz
boot

title           Ubuntu Live (Sicherer Grafikmodus)
root            (hd0,0)
kernel          /casper/vmlinuz boot=casper xforcevesa ramdisk_size=1048576 root=/dev/ram rw --
initrd          /casper/initrd.lz
boot

title           Speichertest
root            (hd0,0)
kernel          /install/mt86plus
boot</pre><p>Wurde die Installation ohne den persistenten Modus durchgeführt, kann der 1. Textblock folglich weggelassen werden. Erklärungen zur Verwendung dieses Bootloaders und den möglichen Optionen in der vorstehenden Datei findet man in den Artikeln <a class="internal" href="../grub.html">GRUB</a> und <a class="internal" href="../menu.lst.html">menu.lst</a>.</p></div></div><div class="section_2"><h3 id="Variante-2-Syslinux">Variante 2: Syslinux<a class="headerlink" href="#Variante-2-Syslinux">¶</a></h3><p>
Für die Erstellung eines bootbaren USB-Sticks mit Syslinux als Bootloader werden folgende Pakete installiert:</p><ul><li><p><strong>syslinux</strong> </p></li><li><p><strong>mtools</strong> </p></li></ul><p>Nun gibt man diesen Befehl ein:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo syslinux -f /dev/sdX1 </pre></div></div><p>
Wenn der Befehl korrekt ausgeführt wurde, sollte sich die Datei <strong>ldlinux.sys</strong> nun im Hauptverzeichnis des USB-Sticks befinden.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Optional: ldlinux in ein Verzeichnis installieren - Syslinux bietet ab Version 3.35 die Möglichkeit, auch in Unterverzeichnissen nach relevanten Dateien zu suchen. Damit ist es unter anderem möglich, durch Hinzufügen von <code class="notranslate">-d /Verzeichnis</code> die Datei <strong>ldlinux.sys</strong> in ein Unterverzeichnis zu installieren. Hierbei ist allerdings zu beachten, dass alle Dateibezeichnungen als auf jenes Verzeichnis bezogen angesehen werden, es sei denn, ein <code class="notranslate">/</code> ist vorangestellt. 
</p></div></div><p>Als nächstes ist der Ordner <strong>/isolinux</strong> in <strong>/syslinux</strong> umzubenennen, die darin enthaltene Datei <strong>isolinux.cfg</strong> in <strong>syslinux.cfg</strong> und <strong>isolinux.bin</strong> ist zu löschen. Will man <img alt="{x}" src="../_/dd4cffe34c2ea02ca5f635df1423950698444cf0.png"/> Xubuntu installieren, öffnet man nun die Datei <strong>syslinux.cfg</strong> und ändert sämtliche Einträge <strong>xubuntu.seed</strong> 
in <strong>ltsp.seed</strong> um. Wurde die normale Installation ohne Persistenz gewählt, ist man jetzt fertig und kann das Ergebnis testen.</p><div class="section_3"><h4 id="Anpassungen-fuer-den-persistenten-Modus">Anpassungen für den persistenten Modus<a class="headerlink" href="#Anpassungen-fuer-den-persistenten-Modus">¶</a></h4><p>
Wenn nicht schon geschehen, öffnet man im Texteditor <sup><a href="#source-3">[3]</a></sup> die Datei <strong>syslinux.cfg</strong>
und ersetzt den vorhandenen Code <em>ungefähr</em> (s. <em>notwendige</em> und <em>mögliche Abweichungen</em> gleich folgend) durch folgenden:</p><pre class="notranslate">DEFAULT persistent
GFXBOOT bootlogo

LABEL persistent
  KERNEL /casper/vmlinuz
  APPEND  file=/preseed/ubuntu.seed boot=casper persistent initrd=/casper/initrd.lz --

LABEL live
  KERNEL /casper/vmlinuz
  APPEND  file=/preseed/ubuntu.seed boot=casper initrd=/casper/initrd.lz splash --

TIMEOUT 100
PROMPT 1</pre><p>
<br/></p><div class="section_4"><h5 id="Notwendige-Abweichungen">Notwendige Abweichungen<a class="headerlink" href="#Notwendige-Abweichungen">¶</a></h5><p>
<em>Dateinamen</em> in <strong>syslinux.cfg</strong> müssen den tatsächlich im ISO vorhandenen Dateien angepasst werden; 
zur Kontrolle schaue man sich den Ordner <strong>~/ubuntuimage</strong> gemäß <em><a class="crosslink" href="#CD-Inhalt-kopieren">CD-Inhalt kopieren</a></em> an:
</p><ul><li><p>Für die <strong>amd64</strong>-Version des <em>Standard-Ubuntu</em> muss seit Version 12.04 statt <code class="notranslate">vmlinuz</code> überall <strong>vmlinuz<strong class="highlighted">.efi</strong></strong> stehen (siehe <strong>~/ubuntuimage/casper/</strong>).</p></li><li><p>Statt <code class="notranslate">ubuntu.seed</code> muss überall stehen (siehe <strong>~/ubuntuimage/preseed/</strong>):</p><ul><li><p><strong>lubuntu.seed</strong> für Lubuntu <img alt="{l}" src="../_/4cfef3b6ccbfb0ad610cc831900bb88f3d9f5027.png"/></p></li><li><p><strong>ltsp.seed</strong> für Xubuntu <img alt="{x}" src="../_/dd4cffe34c2ea02ca5f635df1423950698444cf0.png"/></p></li></ul></li></ul><p>
</p></div><div class="section_4"><h5 id="Moegliche-Abweichungen">Mögliche Abweichungen<a class="headerlink" href="#Moegliche-Abweichungen">¶</a></h5><p>
Mit den folgenden Einstellungen bzw. Parametern kann man das Startverhalten seinem Geschmack anpassen:</p><ul><li><p><code class="notranslate">DEFAULT</code>  legt fest, welcher Modus nach Ablauf der Zeit ohne Nutzereingabe gestartet wird. Zu verwenden sind die Einträge hinter <code class="notranslate">LABEL</code> (live, xforcevesa usw.). </p></li><li><p><code class="notranslate">PROMPT 1</code>  zeigt das Auswahlmenü beim Start, <strong>PROMPT 0</strong> startet ohne Menüanzeige sofort den Standardmodus. </p></li><li><p><code class="notranslate">TIMEOUT 100</code>  bedeutet <strong>10</strong> Sekunden (nicht 100!) Wartezeit bis zum Start. </p></li><li><p><code class="notranslate">quiet</code> unterdrückt alle Startmeldungen. </p></li><li><p><code class="notranslate">splash</code> zeigt beim Starten das Logo der verwendeten Ubuntu-Version. </p></li><li><p>Ohne <code class="notranslate">quiet</code> und <code class="notranslate">splash</code> erhält man eine Ausgabe aller Meldungen im Konsolenstil. </p></li></ul><p>
</p></div></div><div class="section_3"><h4 id="Anpassung-der-Sprache">Anpassung der Sprache<a class="headerlink" href="#Anpassung-der-Sprache">¶</a></h4><p>
Für die Verwendung des normalen Live-Systems gibt es den Vorteil, dass die Standardeinstellung der Sprache beeinflusst werden kann. Dazu öffnet man die Datei <strong>syslinux.cfg</strong> und fügt für ein deutsches Layout in den <code class="notranslate">APPEND</code>-Zeilen die Optionen <code class="notranslate">locale=de_DE bootkbd=de console-setup/layoutcode=de console-setup/variantcode=nodeadkeys</code> hinzu. In der Praxis sollte dies etwa wie folgt aus, wobei eventuell wieder die <a class="crosslink" href="#Notwendige-Abweichungen">notwendigen Abweichungen</a>" oben vorzunehmen sind:</p><pre class="notranslate">LABEL live
  KERNEL /casper/vmlinuz
  APPEND  file=/preseed/ubuntu.seed boot=casper locale=de_DE bootkbd=de console-setup/layoutcode=de console-setup/variantcode=nodeadkeys initrd=/casper/initrd.lz</pre><p>Statt <code class="notranslate">variantcode=nodeadkeys</code> kann <code class="notranslate">variantcode=deadacute</code> (für französische Namen) nützlicher sein.</p></div></div></div><div class="section_1"><h2 id="Ballast-abwerfen">Ballast abwerfen<a class="headerlink" href="#Ballast-abwerfen">¶</a></h2><p>
<img alt="Wiki/Icons/trash.png" class="image-right" src="../_/3ccb02a88db7231aa2353ebe8bac9d2ceda05b14.png"/></p><div class="section_2"><h3 id="Inhalte-fuer-Windows">Inhalte für Windows<a class="headerlink" href="#Inhalte-fuer-Windows">¶</a></h3><p>
Im Paket der Desktop-CD befinden sich <span class="underline">unter Umständen</span> diverse Dateien, die nur für die <a class="internal" href="../live-cd.html">Nutzung unter Windows</a> gedacht sind. Dabei handelt es sich um die Windowsversionen einiger Open-Source-Programme, eine Präsentation dieser, Dateien für den Autostart und <a class="internal" href="../wubi.html">Wubi</a>, ein Programm zur Ubuntu-Installation unter Windows. Wenn man keine derartige Verwendung plant, können diese Bestandteile nun entfernt werden.</p><p>Zunächst löscht man im Hauptverzeichnis diese Dateien (wenn vohanden):</p><ul><li><p><strong>autorun.inf</strong> </p></li><li><p><strong>start.bmp</strong> </p></li><li><p><strong>start.exe</strong> </p></li><li><p><strong>start.ini</strong> </p></li><li><p><strong>ubuntu.ico</strong> </p></li><li><p><strong>wubi-cdboot.exe</strong>  oder <strong>wubi.exe</strong> und <strong>umenu.exe</strong></p></li></ul><p>Kurz gesagt, alle außer den Dateien <strong>md5sum.txt</strong> und <strong>README.diskdefines</strong>.</p><p>Nun entfernt man noch die Ordner:</p><ul><li><p><strong>bin</strong> </p></li><li><p><strong>disctree</strong> </p></li><li><p><strong>pics</strong> </p></li><li><p><strong>programs</strong> </p></li></ul><p>Wenn alle der hier angeführten Ordner und Dateien gelöscht wurden, sind das immerhin über 30 MiB weniger. Bei Xubuntu oder neueren Versionen wie Hardy wird die Ersparnis weit geringer ausfallen, da die meisten der genannten Inhalte schon fehlen.</p></div><div class="section_2"><h3 id="Weiteren-Platz-einsparen">Weiteren Platz einsparen<a class="headerlink" href="#Weiteren-Platz-einsparen">¶</a></h3><p>
Möchte man noch mehr Ballast loswerden, sollte das Programm <a class="internal missing" href="../archiv/ubuntu_customization_kit.html">Ubuntu Customization Kit</a> weiterhelfen können. Es ermöglicht, ein Image der Desktop-CD zu bearbeiten und dabei gezielt nicht benötigte Pakete zu entfernen oder hinzuzufügen.</p><p><img alt="Wiki/Icons/help.png" class="image-right" src="../_/7962ceb28732c252b41d77857f84f4fb459d3447.png"/>
</p></div></div><div class="section_1"><h2 id="Problemloesungen">Problemlösungen<a class="headerlink" href="#Problemloesungen">¶</a></h2><p>
<a class="crosslink anchor" href="#Bootprobleme" id="Bootprobleme"></a></p><div class="section_2"><h3 id="Bootprobleme">Bootprobleme<a class="headerlink" href="#Bootprobleme">¶</a></h3><p>
Wenn das Starten vom USB-Stick fehlschlägt, ist guter Rat teuer. Im Folgenden nun einige Hinweise, welche in den häufigsten Fällen weiterhelfen sollten.</p><div class="section_3"><h4 id="BIOS-Einstellungen">BIOS Einstellungen<a class="headerlink" href="#BIOS-Einstellungen">¶</a></h4><p>
Damit von einem USB-Stick gebootet werden kann, müssen im Bios auch die entsprechenden Einstellungen vorgenommen sein. Je nach Motherbord- respektive BIOS-Hersteller wird dies in Menüs mit Bezeichnungen wie <em>Boot, Boot Device Priority, Advanced Bios Features, Bios Features Setup, Advanced CMOS Setup</em> oder Ähnlichem festgelegt. Im Folgenden nun einige mögliche Optionen und Tipps:</p><ul><li><p>Wenn man kein USB-Gerät als erstes Boot-Laufwerk wählen kann, sollte geprüft werden, ob sich irgendwo eine Option wie <em>Boot From Other Device</em> auswählen lässt. </p></li><li><p>Befindet sich dort eine Option namens <em>USB Legacy Support</em> sollte diese eingeschaltet werden.  </p></li><li><p>Als Typ sollte zuerst <em>USB-HDD</em> und danach <em>USB-ZIP</em> oder wenn vorhanden <em>USB-Floppy</em> versucht werden. </p></li><li><p>Versuchsweise kann die Funktion <em>USB Hi-Speed (2.0)</em> abgeschaltet werden. </p></li><li><p>Die Funktion <em>USB keyboard emulation</em> testweise anschalten. </p></li><li><p>Den <em>Fast Boot</em> abzuschalten kann auch versucht werden.</p></li><li><p>Bei alter Hardware, die keine Bootmöglichkeit von USB anbietet, kann man die Verwendung von <a class="external" href="http://www.plop.at/de/bootmanager.html" rel="nofollow">Plop</a> probieren. </p></li></ul><p>
</p></div><div class="section_3"><h4 id="USB-Port-wechseln">USB-Port wechseln<a class="headerlink" href="#USB-Port-wechseln">¶</a></h4><p>
Oftmals ist es so, dass sich zwei USB-Ports die gleichen Systemressourcen teilen, woraus folgt, dass immer nur einer dieser voll funktionsfähig ist. Weiterhin werden manche USB-Ports an der Vorderseite des PC nicht vollständig vom System unterstützt. In diesen Fällen reicht ein einfaches Wechseln des Ports schon aus.</p><p>Desweiteren kann auch versucht werden, weitere angeschlossene USB-Geräte mit anderen USB-Ports zu verbinden oder zu tauschen. Dies hilft manchmal, bis zu diesem Zeitpunkt unmerkliche Konflikte in der Konfiguration zu lösen.</p></div><div class="section_3"><h4 id="Syslinux">Syslinux<a class="headerlink" href="#Syslinux">¶</a></h4><p>
Sollte als Bootloader Syslinux verwendet werden, ist es möglich mit dem zusätzlichen Schalter <code class="notranslate">-s</code> einen weiteren Versuch zu machen. Der Kommandozeilenbefehl <sup><a href="#source-2">[2]</a></sup> dafür sieht dann so aus:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo syslinux -sf /dev/sdX1 </pre></div></div><p>
Damit wurde eine äußerst kompatible Variante des Syslinux Bootloaders installiert, so dass auch problematische USB-Stick- / Motherboard- Kombinationen zur korrekten Funktion bewegt werden können.</p></div><div class="section_3"><h4 id="U3-USB-Sticks">U3-USB-Sticks<a class="headerlink" href="#U3-USB-Sticks">¶</a></h4><p>
U3-kompatible USB-Sticks unterscheiden sich etwas von den normalen Geräten. Diese sind meist nicht bootfähig und vom Hersteller so eingerichtet, dass sich eine kleine spezielle und eine normale Partition darauf befinden. Die spezielle wenige Megabyte fassende Partition enthält das sogenannte U3-System, welches unter Windows ein CD-Laufwerk simuliert. Dieser Bereich ist für den Nutzer nicht direkt verwendbar (da schreibgeschützt) und ist der Grund, warum der USB-Stick für eine Linux-Installation zunächst unbrauchbar ist: Grub2 kann nicht in den MBR installiert werden.</p><p>In den am Ende befindlichen <a class="crosslink" href="#Links">Links</a> ist ein Verweis auf das U3-Deinstallationsprogramm zu finden. Ob der USB-Stick anschließend starten wird, ist damit allerdings nicht zu garantieren. Es sei aber angemerkt, dass sich die U3-Software wieder installieren lässt. 
Die Deinstallation funktioniert nur unter Windows oder in einer virtuellen Maschine mit Windows (z.B. mittels VMWare oder VirtualBox PUEL, wichtig ist die USB-Unterstützung!).</p><p><a class="crosslink anchor" href="#UsbBootCheck" id="UsbBootCheck"></a>
</p></div><div class="section_3"><h4 id="USB-Stick-auf-Bootfaehigkeit-pruefen">USB-Stick auf Bootfähigkeit prüfen<a class="headerlink" href="#USB-Stick-auf-Bootfaehigkeit-pruefen">¶</a></h4><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Bei der folgenden Prozedur werden alle auf dem USB-Stick befindlichen Daten <strong>vernichtet</strong>! Wenn noch nicht erfolgt, sollte jetzt eine Sicherung aller evtl. vorhandenen Daten erstellt werden. 
</p></div></div><div class="section_4"><h5 id="Linux-Installation">Linux-Installation<a class="headerlink" href="#Linux-Installation">¶</a></h5><p>
Unter Linux muss leider einiger Aufwand betrieben werden, um einen USB-Stick sicher auf die gewünschte Funktion testen zu können. Da dies insbesondere Einsteigern einige Schwierigkeiten bereiten kann, wurden die nötigen Schritte in ein <a class="internal" href="../skripting.html">Shellscript</a> geschrieben und zusammen mit den benötigten Dateien hier zur Verfügung gestellt.</p><p>Zunächst lädt man das im Folgenden angehängte Dateiarchiv herunter und entpackt <sup><a href="#source-4">[4]</a></sup> es an beliebiger Stelle im <a class="internal" href="../homeverzeichnis.html">Nutzerverzeichnis</a>. Desweiteren benötigt man nun die <a class="crosslink" href="#USB_Adresse">korrekte Adresse des USB-Stick</a> und merkt oder kopiert sich den Pfad zu den eben entpackten Dateien.</p><p><a class="interwiki interwiki-attachment" href="../archiv/live-usb_-_persistente_installation.html">USB Boot-test Download</a> <img alt="{dl}" src="../_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p><p>Nun wechselt man im Terminal <sup><a href="#source-3">[3]</a></sup> in das eben entpackte Verzeichnis mit dem Shellscript <strong>ubt.sh</strong>. Um es auch verwenden zu können, muss es zunächst ausführbar gemacht werden. Da man sich eh schon auf der Kommandozeile befindet, können die Ausführrechte <sup><a href="#source-5">[5]</a></sup> auch gleich mit dem folgenden Befehl gesetzt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">chmod +x ubt.sh </pre></div></div><p>
Nun kann das Script ausgeführt werden, wie es wie im folgenden Beispiel dargestellt ist:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ./ubt.sh /dev/sdX /home/benutzer/UsbBootTest_lx </pre></div></div><p>
Hat man die USB-Adresse und das Verzeichnis korrekt angegeben, sollte das Script alles problemlos abgearbeitet haben und man kann nun versuchen vom USB-Stick zu starten.</p></div><div class="section_4"><h5 id="Windows-Installation">Windows-Installation<a class="headerlink" href="#Windows-Installation">¶</a></h5><p>
Bedingt durch den größeren Funktionsumfang der Windowsversion von Syslinux ist es unter Windows einfacher den USB-Stick entsprechend zu bearbeiten. Zudem existiert bereits ein Programmpaket, welches den Vorgang weiter vereinfacht. Dazu lädt man sich von der Seite <a class="external" href="http://www.pendrivelinux.com/2007/09/17/testing-your-system-for-usb-boot-compatibility/" rel="nofollow">Pendrivelinux</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> die benötigten Dateien runter und folgt den dortigen Anweisungen.</p></div></div><div class="section_3"><h4 id="Defekter-Startsektor">Defekter Startsektor<a class="headerlink" href="#Defekter-Startsektor">¶</a></h4><p>
Es kommt vor dass ein defekter oder falscher Bootsektor installiert bzw. noch gar keiner vorhanden ist. Dies kommt z.B. vor, wenn ein veränderter U3-Stick verwendet wird (siehe zuvor unter U3).</p><p>Das folgende Paket wird benötigt: 
</p><ul><li><p><strong>mbr</strong> </p></li></ul><p>Nun am verwendeten Gerät den folgenden Befehl durchführen:</p><div class="bash"><div class="contents"><pre class="notranslate">install-mbr /dev/sdX </pre></div></div><p>
Das war es auch schon. Wenn keine Fehlermeldung ausgegeben wurde, ist der neue Bootsektor jetzt installiert und es kann erneut versucht werden vom Gerät zu starten.</p></div></div><div class="section_2"><h3 id="Probleme-nach-dem-Bootmenue">Probleme nach dem Bootmenü<a class="headerlink" href="#Probleme-nach-dem-Bootmenue">¶</a></h3><p>
Sollten Probleme nach der Auswahl im Bootmenü auftreten, findet man in den folgenden Artikeln Hilfe: 
</p><ul><li><p><a class="internal" href="../ubuntu_installation.html">Ubuntu Installation</a> </p></li><li><p><a class="internal" href="../ubuntu-cd_problembehebung.html">Ubuntu-CD Problembehebung</a> </p></li></ul><p>
</p></div></div><div class="section_1"><h2 id="Links-und-Quellen">Links und Quellen<a class="headerlink" href="#Links-und-Quellen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Quellen">Quellen<a class="headerlink" href="#Quellen">¶</a></h3><p>
Dieser Artikel basiert zum Teil auf Anleitungen von folgenden Webseiten:</p><ul><li><p><a class="external" href="https://wiki.ubuntu.com/LiveUsbPendrivePersistent" rel="nofollow">Das englische Ubuntu Wiki - Beschreibung der persistenten Installation</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.pendrivelinux.com" rel="nofollow">Pendrivelinux - Webseite mit jeder Menge Nützlichem zum Thema USB</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://ubuntuforums.org/showpost.php?p=1229101&amp;postcount=158" rel="nofollow">- GRUB Installation für USB im engl. Ubuntuforum</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li></ul><p>
<a class="crosslink anchor" href="#Links" id="Links"></a></p></div><div class="section_2"><h3 id="Weitere-Links">Weitere Links<a class="headerlink" href="#Weitere-Links">¶</a></h3><p>
</p><div class="section_3"><h4 id="Intern">Intern<a class="headerlink" href="#Intern">¶</a></h4><p>
</p><ul><li><p><a class="internal" href="../chroot/persistente-installation.html">chroot/persistente-Installation</a> - in persistente Installation von außen zur Reparatur einloggen</p></li><li><p><a class="internal" href="../nur-lesen_root-dateisystem.html">Nur-Lesen Root-Dateisystem</a></p></li><li><p><a class="internal" href="../booten.html">Booten</a> - Booten und Bootoptionen</p></li></ul><p>
</p></div><div class="section_3"><h4 id="Extern">Extern<a class="headerlink" href="#Extern">¶</a></h4><p>
</p><ul><li><p><a class="external" href="http://www.syslinux.org/" rel="nofollow">Syslinux Homepage</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="interwiki interwiki-man" href="http://manpages.ubuntu.com/cgi-bin/search.py?lr=lang_en&amp;q=casper">Casper boot options</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Weitere Boototionen zu Casper</p></li><li><p><a class="interwiki interwiki-sourceforge" href="http://sourceforge.net/projects/u3-tool">Deinstallations-Programm für U3 USB-Sticks</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.superkato.net/2009/03/26/usb-stick-von-u3-befreien-und-loschen/" rel="nofollow">USB-Stick von U3 befreien und löschen bzw. deinstallieren</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Blogbeitrag inkl. Windows-Programm, 03/2009</p></li></ul><p>
</p></div></div></div></div>
<p class="meta">
<a href="../archiv/live-usb_-_persistente_installation/a/revision/833588.html">Diese Revision</a> wurde am 30. August 2015 15:54 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/live-usb_-_persistente_installation.html">Live-USB - persistente Installation</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>