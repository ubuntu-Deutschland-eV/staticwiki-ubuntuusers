<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/Apache › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../archiv/apache.html">Apache</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/Apache">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../archiv/apache/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../archiv/apache/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../archiv/apache/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../archiv/apache/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../archiv/apache/a/backlinks.html">Apache</a></h1>
<div id="page"><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Ab <a class="internal" href="../saucy.html">Ubuntu 13.10</a> befindet sich <a class="internal" href="../apache_2.4.html">Apache 2.4</a> in den offiziellen Paketquellen. Der Inhalt dieses Artikels und viele Unterartikel beziehen sich größtenteils auf die Vorgängerversion 2.2, die für die LTS-Versionen 12.04 weiterhin gepflegt wurde.
</p></div></div><p>
</p><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../rechte.html">Rechte für Dateien und Ordner ändern</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Webseiten-ablegen-und-aufrufen">Webseiten ablegen und aufrufen
</a></li><li><a class="crosslink" href="#Apache-steuern">Apache steuern
</a></li><li><a class="crosslink" href="#Module-Erweiterungen">Module/Erweiterungen
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./apache_feather.gif" class="image-left" src="../_/35831b17fe266d423d47cfc36dbf24cba728733b.png"/>
<a class="external" href="http://httpd.apache.org/" rel="nofollow">Apache</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist der meistgenutzte Webserver im Internet. In der Version 2 wurden besonders die Stabilität und die Geschwindigkeit des Servers verbessert. Über serverseitige Skriptsprachen wie PHP und CGI lassen sich auch dynamische Webseiten erstellen. Diese Sprachen und noch viele weitere Funktionen können über Module eingebunden werden. In Kombination mit <a class="internal" href="../mysql.html">MySQL</a> und <a class="internal" href="../php.html">PHP</a> oder <a class="internal" href="../perl.html">Perl</a> oder <a class="internal" href="../python.html">Python</a> spricht man dann von einen LAMP-Server (<strong>L</strong>inux, <strong>A</strong>pache, <strong>M</strong>ySQL und <strong>P</strong> wie PHP, Perl oder Python).</p><p>Der häufig empfohlene <a class="internal" href="../xampp.html">XAMPP</a> bereitet unter Ubuntu immer wieder Probleme. Da Ubuntu (fast) alle in XAMPP enthaltenen Serverdienste auch über die offiziellen Paketquellen bereitstellt, sollten bevorzugt die Einzelpakete genutzt werden. Eine Kurzanleitung dazu findet sich im Artikel <a class="internal" href="../lamp.html">LAMP</a>.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Apache 2 ist in den offiziellen Paketquellen von Ubuntu enthalten. Benötigt werden folgende Pakete<sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>apache2</strong> (ab <a class="internal" href="../saucy.html">Ubuntu 13.10</a> Apache 2.4, sonst 2.2)</p></li><li><p><strong>apache2-doc</strong> (optional s.u.)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install apache2 apache2-doc </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install apache2 apache2-doc </pre></div></div><p>
</p></div></div><p>Wer PHP, CGI oder weitere Sprachen verwenden will, muss für diese Zusatzmodule noch weitere Pakete nachinstallieren.</p></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Der Apache Webserver lässt sich durch Editieren <sup><a href="#source-3">[3]</a></sup> der Dateien</p><ul><li><p><strong>/etc/apache2/apache2.conf</strong> </p></li><li><p><strong>/etc/apache2/ports.conf</strong></p></li></ul><p> 
konfigurieren. Üblicherweise muss man hier nichts von Hand bearbeiten, es sei denn, man benötigt spezielle Konfigurationen.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Standardmäßig sind Verzeichnislisten eingeschaltet. In vielen Fällen ist dies unerwünscht. Dann empfiehlt es sich, dies global auszuschalten, und nur für bestimmte Verzeichnisse zu 
erlauben in <strong>.htaccess</strong>-Dateien.</p><p>In der zutreffenden <strong>conf</strong>-Datei muss entweder ein Abschnitt mit <code class="notranslate">Options Indexes ...</code> auskommentiert werden, oder hinzugefügt werden <code class="notranslate">Options -Indexes</code>. Es gibt sehr viele Informationen dazu im Internet, allerdings beschreiben nur die wenigsten, dass nicht etwa <strong>httpd.conf</strong> o.ä. bearbeitet werden muss, sondern die Datei im Unterordner <strong>/etc/apache2/sites-enabled</strong>.
</p></div></div><div class="section_2"><h3 id="Auf-lokales-System-beschraenken">Auf lokales System beschränken<a class="headerlink" href="#Auf-lokales-System-beschraenken">¶</a></h3><p>
Befindet sich der Rechner mit dem Server direkt im Internet - also nicht hinter einem Router - oder sollen andere Rechner aus dem lokalen Netzwerk nicht auf den Webserver zugreifen, so kann man den Zugriff über die <strong>/etc/apache2/ports.conf</strong> steuern. Trägt man z.B. anstelle von</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nb">Listen</span> <span class="m">80</span>
</pre></div>
</td></tr></table></div><p>die Zeile</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nb">Listen</span> localhost:80
</pre></div>
</td></tr></table></div><p>ein und <a class="internal" href="../apache.html#Apache-steuern">startet den Webserver neu</a>, so kann man den Webserver nur noch lokal ansprechen.</p><p>Sollte man versuchen, über die WAN-IP oder über eine z.B. per <a class="external" href="https://www.dyndns.com/" rel="nofollow">DynDNS</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>  angelegte Domain auf den Server zu kommen, wird dies eventuell scheitern. Das kann daran liegen, dass der Router kein "NAT Loopback" unterstützt oder dieses nicht eingeschaltet ist. Stattdessen kann man die Verfügbarkeit aus dem Internet z.B. mit einem Dienst wie <a class="external" href="http://anonymouse.org/" rel="nofollow">Anonymouse.org</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> testen.</p></div><div class="section_2"><h3 id="Virtuelle-Hosts-anlegen">Virtuelle Hosts anlegen<a class="headerlink" href="#Virtuelle-Hosts-anlegen">¶</a></h3><p>
Auf einem Apache-Webserver mit (nur) einer IP-Adresse können durchaus mehrere unabhängige Homepages, Blogs oder Wikis bereitgestellt werden. Wie dies funktioniert, ist im Artikel <a class="internal" href="../apache/virtual_hosts.html">Apache/Virtual Hosts</a> erklärt.</p></div></div><div class="section_1"><h2 id="Webseiten-ablegen-und-aufrufen">Webseiten ablegen und aufrufen<a class="headerlink" href="#Webseiten-ablegen-und-aufrufen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Systemweit">Systemweit<a class="headerlink" href="#Systemweit">¶</a></h3><p>
Die Inhalte für den Server werden in einem als "document root" oder auch als "Webroot" bezeichneten Verzeichnis abgespeichert. Dies bedeutet, dass der Apache Webserver dort nach den auszuliefernden (HTML-)Dateien schaut. Je nach Apache- bzw. Ubuntu-Version ist das der folgende Ordner:</p><ul><li><p>Apache 2.4 (ab Ubuntu 13.10):  <strong>/var/www/html/</strong></p></li><li><p>Apache 2.2 (bis Ubuntu 13.04): <strong>/var/www/</strong> </p></li></ul><p>
Legt man dort Dateien ab, so können diese mit</p><p><code class="notranslate">http://localhost/</code> bzw. <code class="notranslate">http://SERVER-IP_ODER_NAME</code></p><p>im Browser aufgerufen werden. Standardmäßig ist hier bereits eine einfache Demoseite <strong>index.html</strong> installiert, was für das Testen der Grundkonfiguration praktisch ist. Möchte man das "document root" ändern, kann man einen "virtuellen Host" verwenden <a class="crosslink" href="#Virtuelle-Hosts-anlegen">(siehe oben)</a>.</p><div class="section_3"><h4 id="Rechte">Rechte<a class="headerlink" href="#Rechte">¶</a></h4><p>
Falls bei einem Mehrbenutzersystem bestimmten Personen Schreibrechte für die in "document root" enthaltenen Dateien gegeben werden soll, sollte dafür eine Gruppe angelegt werden. Dies ist nicht notwendig, wenn nur ein Mitglied der Gruppe <strong>sudo</strong> (früher <strong>admin</strong>) Inhalte erstellen oder bearbeiten soll. Diese können mit dem Befehl <a class="internal" href="../sudo.html">sudo</a> Datei-Operationen ausführen.</p><p>Soll Nutzern ohne Root-Rechte Schreibzugriff gewährt werden, muss dafür eine Gruppe angelegt werden. Dies ist im folgenden Beispiel die Gruppe <strong>www</strong>. Dieser Name kann aber frei vergeben werden. Dieser Gruppe können Schreibrechte auf den "document root"-Ordner gegeben werden und die Nutzer hinzufügt werden <sup><a href="#source-5">[5]</a></sup>. Beispiel für Apache 2.2:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo groupadd www
sudo adduser BENUTZERNAME www
sudo chgrp www /var/www
sudo chmod g+w /var/www </pre></div></div><p>
Damit die neuen Rechte greifen, muss man sich einmal ab- und neu anmelden oder den Befehl <a class="internal" href="../newgrp.html">newgrp</a> verwenden.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die bestehende Gruppe <strong>www-data</strong> sollte nicht genutzt werden. Mit den Rechten dieser Gruppe läuft der Apache Webserver und sollte ein Angreifer eine Lücke in Apache finden, so erhält er unnötigerweise Schreibrechte im "document root".
</p></div></div></div></div><div class="section_2"><h3 id="Benutzerspezifisch">Benutzerspezifisch<a class="headerlink" href="#Benutzerspezifisch">¶</a></h3><p>
Darüber hinaus können auch die einzelnen Benutzer des Rechners innerhalb ihres <a class="internal" href="../homeverzeichnis.html">Homeverzeichnisses</a> Webseiten im Unterordner <strong>~/public_html</strong> speichern. Dieser wird automatisch vom Webserver eingebunden und ist unter der URL</p><p><code class="notranslate">http://localhost/~username/</code> bzw. <code class="notranslate">http://SERVER-IP_ODER_NAME/~username/</code></p><p>zu erreichen.</p><p>Das hierfür nötige Modul <code class="notranslate">mod_userdir</code> wird bei der Installation von Apache mit installiert. Es muss nur noch mit dem einmaligen Befehl <sup><a href="#source-2">[2]</a></sup></p><div class="bash"><div class="contents"><pre class="notranslate">sudo a2enmod userdir # Aktivieren des Moduls
sudo /etc/init.d/apache2 reload # Neuladen der Apache Konfiguration </pre></div></div><p>aktiviert werden. Danach muss man noch in der Konfigurationsdatei <strong>/etc/apache2/mods-available/userdir.conf</strong> den Pfad eventuell anpassen, andernfalls kann es passieren, dass die Seite nicht angezeigt wird.</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nt">&lt;IfModule</span> <span class="s">mod_userdir.c</span><span class="nt">&gt;</span>
        <span class="nb">UserDir</span> <span class="sx">/home/</span>*/public_html
        <span class="nb">UserDir</span> disabled root
...
<span class="nt">&lt;/IfModule&gt;</span>
</pre></div>
</td></tr></table></div><p>Nun kann im jeweiligen Benutzer- bzw. Homeverzeichnis der Unterordner <strong>~/public_html</strong> erstellt werden. In diesem können dann die Dateien abgelegt werden. Der übergeordnete Ordner <strong>/home/BENUTZERNAME/</strong> braucht außerdem die <a class="internal" href="../rechte.html">Rechte</a> 755, damit der Webserver überhaupt auf diesen Unterordner zugreifen kann.</p><p>Dabei muss man grundsätzlich beachten, dass der Benutzer <code class="notranslate">www-data</code>, unter dem Apache läuft, auf die Dateien zugreifen kann. Daher müssen die Leserechte u.U. nach dem Kopieren überprüft werden. Schreibrechte sollten nur dort gesetzt werden, wo der Webserver auch wirklich schreiben muss. Zu freizügig gesetzte Schreibrechte stellen eine Sicherheitslücke dar. Mehr zu Thema Dateirechte findet man unter "Rechte" <sup><a href="#source-5">[5]</a></sup>.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Auch der Ordner <strong>~/public_html/</strong> braucht die Zugriffsrechte <code class="notranslate">755</code>, während Dateien innerhalb des Ordners meist auf <code class="notranslate">644</code> gesetzt werden. Dateien, die der Webserver z.B. durch ein installiertes CMS in diesem Verzeichnis erzeugt oder ändert, sind anschließend nur noch für Mitglieder der Gruppe <code class="notranslate">www-data</code> schreibbar! Um diese Dateien auch selbst bearbeiten zu können, den jeweiligen Benutzer zu dieser Gruppe hinzufügen (<a class="crosslink" href="#Rechte">siehe oben</a>).
</p></div></div><p>Möchte man PHP nutzen, darf dies natürlich nicht abgeschaltet sein. Deshalb muss noch <code class="notranslate">php_admin_value</code> in der Datei <strong>/etc/apache2/mods-enabled/php5.conf</strong> auskommentiert werden:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>    <span class="nt">&lt;IfModule</span> <span class="s">mod_userdir.c</span><span class="nt">&gt;</span>
        <span class="nt">&lt;Directory</span> <span class="s">/home/*/public_html</span><span class="nt">&gt;</span>
<span class="c">#            php_admin_value engine Off</span>
        <span class="nt">&lt;/Directory&gt;</span>
    <span class="nt">&lt;/IfModule&gt;</span>
</pre></div>
</td></tr></table></div><p><a class="crosslink anchor" href="#Steuerung" id="Steuerung"></a></p></div></div><div class="section_1"><h2 id="Apache-steuern">Apache steuern<a class="headerlink" href="#Apache-steuern">¶</a></h2><p>
Wie alle anderen <a class="internal" href="../dienste.html">Dienste</a> bringt Apache Start/Stop-Skripte mit. Diese Skripte lassen sich natürlich auch zum Kontrollieren des Webservers gebrauchen.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/apache2 </pre></div></div><ul><li><p><code class="notranslate">start</code> - startet den Webserver </p></li><li><p><code class="notranslate">stop</code> - stoppt den Server </p></li><li><p><code class="notranslate">restart</code> - startet den Server neu, bestehende Verbindungen auf den Server werden gekappt </p></li><li><p><code class="notranslate">reload</code> - lädt die Konfigurationsdateien neu, ohne dass Verbindungen getrennt werden</p></li><li><p><code class="notranslate">force-reload</code> - Lädt die Konfigurationsdateien neu, auch wenn dabei Verbindungen getrennt werden müssen</p></li><li><p><code class="notranslate">sudo update-rc.d -f apache2 remove</code> - Apache2 aus der Autostartliste entfernen</p></li><li><p><code class="notranslate">sudo update-rc.d apache2 defaults</code> - Apache2 wieder der Autostartliste hinzufügen</p></li></ul><p>
Beispiel:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/apache2 restart </pre></div></div><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Alternativ kann man auch den Befehl <code class="notranslate">apache2ctl</code> benutzen, der allerdings etwas andere Optionen nutzt als das oben beschriebene Init-Skript. Da die Nutzung des Init-Skripts aber der Ubuntu/Debian-konforme Weg ist, wird hier <code class="notranslate">apache2ctl</code> nicht weiter beschrieben.
</p></div></div></div><div class="section_1"><h2 id="Module-Erweiterungen">Module/Erweiterungen<a class="headerlink" href="#Module-Erweiterungen">¶</a></h2><p>
Der Apache Server lässt sich über Module erweitern. Weiterführende Informationen sind im Artikel <a class="internal" href="../apache/module.html">Apache/Module</a> zu finden.</p></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Fehlender-Hostname">Fehlender Hostname<a class="headerlink" href="#Fehlender-Hostname">¶</a></h3><p>
Sollte man beim Starten oder Stoppen des Servers folgenden <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/61793">Hinweis</a></p><pre class="notranslate">Could not determine the server's fully qualified domain name, using 127.0.0.1 for ServerName</pre><p>bekommen, so kann man in  <strong>/etc/apache2/apache2.conf</strong> folgendes eintragen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nb">ServerName</span> localhost
</pre></div>
</td></tr></table></div><p>Der Hinweis kann jedoch auch einfach ignoriert werden.</p></div><div class="section_2"><h3 id="Falscher-Zeichensatz-bei-Formularen">Falscher Zeichensatz bei Formularen<a class="headerlink" href="#Falscher-Zeichensatz-bei-Formularen">¶</a></h3><p>
Falls es z.B. bei der Übertragung von Formulardaten Probleme mit dem Zeichensatz geben sollte, kann die Lösung darin bestehen, den Standardzeichensatz in der Datei <strong>/etc/apache2/conf.d/charset</strong> von UTF-8 auf ISO-8859-1 zu ändern (als <em>root</em>) und dann den Apache-Server neu zu starten.</p><p>Welcher Zeichensatz von <a class="internal" href="../php.html">PHP</a> verwendet wird, kann mit folgendem PHP-Code überprüft werden:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="o">&lt;?</span>
<span class="nb">phpinfo</span><span class="p">();</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div><p>Unter <em>"HTTP Headers Information -&gt; HTTP Response Headers -&gt; Content-Type -&gt; charset"</em> findet man die benötigte Information (siehe auch <a class="internal" href="../lamp.html#PHP-testen">PHP testen</a>).</p></div><div class="section_2"><h3 id="mod-userdir-ab-Ubuntu-10-04">mod_userdir ab Ubuntu 10.04<a class="headerlink" href="#mod-userdir-ab-Ubuntu-10-04">¶</a></h3><p>
Falls PHP Dateien bei Nutzung von mod_userdir heruntergeladen statt angezeigt werden, ist die Datei <strong>/etc/apache2/mods-available/php5.conf</strong> bzw. <strong>/etc/apache2/mods-available/php4.conf</strong> wie folgt anzupassen (siehe <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/545739">545739</a>):</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nt">&lt;IfModule</span> <span class="s">mod_php5.c</span><span class="nt">&gt;</span>
    <span class="nt">&lt;FilesMatch</span> <span class="s">"\.ph(p3?|tml)$"</span><span class="nt">&gt;</span>
	<span class="nb">SetHandler</span> application/x-httpd-php
    <span class="nt">&lt;/FilesMatch&gt;</span>
    <span class="nt">&lt;FilesMatch</span> <span class="s">"\.phps$"</span><span class="nt">&gt;</span>
	<span class="nb">SetHandler</span> application/x-httpd-php-source
    <span class="nt">&lt;/FilesMatch&gt;</span>
    <span class="c"># To re-enable php in user directories comment the following lines</span>
    <span class="c"># (from &lt;IfModule ...&gt; to &lt;/IfModule&gt;.) Do NOT set it to On as it</span>
    <span class="c"># prevents .htaccess files from disabling it.</span>
    <span class="c">#&lt;IfModule mod_userdir.c&gt;</span>
    <span class="c">#   &lt;Directory /home/*/public_html&gt;</span>
    <span class="c">#      php_admin_value engine Off</span>
    <span class="c">#   &lt;/Directory&gt;</span>
    <span class="c">#&lt;/IfModule&gt;</span>
<span class="nt">&lt;/IfModule&gt;</span>
</pre></div>
</td></tr></table></div><p>Die Zeilen von inkl. <code class="notranslate">&lt;IfModule mod_userdir.c&gt;</code> bis  inkl. <code class="notranslate">&lt;/IfModule&gt;</code> müssen mit Kommentarzeichen (#) versehen werden.</p></div><div class="section_2"><h3 id="Apache-Prozesse-analysieren">Apache Prozesse analysieren<a class="headerlink" href="#Apache-Prozesse-analysieren">¶</a></h3><p>
Falls ein oder mehrere Prozesse eine hohe CPU-Last generieren, kann man diese mit dem Modul <code class="notranslate">mod_status</code> analysieren. Das Modul ist standardmäßig aktiv, aber nur für den lokalen Zugriff konfiguriert. Weiterhin ergibt es Sinn den <code class="notranslate">ExtendedStatus</code> auf "On" zu setzen (man sieht mehr; z.B. aufgerufene URL, die der Prozess abarbeitet).</p><p>Dazu editiert man die Datei <strong>/etc/apache2/mods-enabled/status.conf</strong>:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nb">ExtendedStatus</span> <span class="k">On</span>
<span class="nt">&lt;IfModule</span> <span class="s">mod_status.c</span><span class="nt">&gt;</span>
<span class="c"># ...</span>
<span class="nb">Allow</span> from localhost ip6-localhost ip.des.admin.pc
<span class="c"># ...</span>
</pre></div>
</td></tr></table></div><p>Nach dem Editieren der Datei muss die Konfiguration neu eingelesen werden.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/apache2 reload # Neuladen der Apache Konfiguration </pre></div></div><p>Danach kann man über die URL <code class="notranslate">http://SERVER-IP_ODER_NAME/server-status</code> die Prozessliste mit Details ansehen.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://httpd.apache.org/docs/" rel="nofollow">Offizielle Dokumentation</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="interwiki interwiki-ubuntu_doc" href="https://help.ubuntu.com/community/ApacheMySQLPHP">Apache MySQL PHP</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - eine sehr gute Anleitung im Ubuntu-Wiki u.a. mit Hilfe zur Absicherung des lokalen Testservers und weiteren Seiten</p><ul><li><p><a class="interwiki interwiki-ubuntu_doc" href="https://help.ubuntu.com/community/LocalhostSubdomain">Einrichten von Subdomains auf dem Localhost</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul></li><li><p><a class="external" href="https://thomas-leister.de/internet/datenschutz-apache-logfiles-anonymisieren-oder-abschalten/" rel="nofollow">Blogpost</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> zum Anonymisieren und Abschalten der Log-Dateien</p></li><li><p><a class="internal" href="../serverdienste.html">Serverdienste</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> weitere Webserver</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../archiv/apache/a/revision/939206.html">Diese Revision</a> wurde am 4. Mai 2017 18:24 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../archiv.html">Archiv</a></li>
<li><a href="../archiv/apache.html">Apache</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>