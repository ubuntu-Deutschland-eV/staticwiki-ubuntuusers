<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Archiv/DNS-Server_Bind/Sekundäre_Nameserver › ubuntuusers statisches Wiki</title>
<link href="../../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../../archiv/dns-server_bind/sekundäre_nameserver.html">Sekundäre Nameserver</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Archiv/DNS-Server_Bind/Sekundäre_Nameserver">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../../wiki/index.html">Index</a></li>
<li><a href="../../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../../wiki.html">Übersicht</a></li>
<li><a href="../../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../../kategorien.html">Kategorie</a></li>
<li><a href="../../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../../howto.html">Howto anlegen</a></li>
<li><a href="../../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../../baustelle.html">Baustellen</a></li>
<li><a href="../../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../../archiv/dns-server_bind/sekundäre_nameserver/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../../archiv/dns-server_bind/sekundäre_nameserver/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../../archiv/dns-server_bind/sekundäre_nameserver/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../../archiv/dns-server_bind/sekundäre_nameserver/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../../archiv/dns-server_bind/sekundäre_nameserver/a/backlinks.html">Sekundäre Nameserver</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Archivierte Anleitung</h3><div class="contents"><p>
Dieser Artikel wurde archiviert, da er - oder Teile daraus -
nur noch unter einer älteren Ubuntu-Version nutzbar ist. Diese
Anleitung wird vom Wiki-Team weder auf Richtigkeit überprüft
noch anderweitig gepflegt. Zusätzlich wurde der Artikel für
weitere Änderungen gesperrt.
</p></div></div><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../../editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../../dns-server_bind.html">DNS-Server Bind</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Konfiguration-eines-sekundaeren-DNS-Servers">Konfiguration eines sekundären DNS-Servers...</a><ol class="arabic"><li><a class="crosslink" href="#nderungen-auf-dem-primaeren-Server">Änderungen auf dem primären Server
</a></li><li><a class="crosslink" href="#Einrichtung-des-sekundaeren-Servers">Einrichtung des sekundären Servers
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><div class="section_1"><h2 id="Konfiguration-eines-sekundaeren-DNS-Servers">Konfiguration eines sekundären DNS-Servers<a class="headerlink" href="#Konfiguration-eines-sekundaeren-DNS-Servers">¶</a></h2><p>
Um Ausfallsicherheit zu gewährleisten, kann es sinnvoll sein, mehrere DNS-Server zu betreiben. Tatsächlich ist es sogar vorgeschrieben, dass eine öffentlich zugängliche Domain von mindestens zwei Servern bedient werden muss. Oft sind es sogar fünf oder mehr. In einem privaten Netz kommt man dagegen in der Regel mit einem aus.</p><p>Damit man die verschiedenen Server aber nicht alle einzeln konfigurieren muss, und sich bei routinemäßigen Veränderungen der Zonen Fehler bzw. Abweichungen zwischen den Zonendaten einschleichen, gibt es <em>Zonentransfers</em>. Dafür werden die Daten dann immer nur auf einem <em>primären</em> Nameserver angepasst und dieser transferiert die aktuellen Zonendaten dann an einen oder mehrere <em>sekundäre</em> Server weiter, so dass die Daten immer konsistent bleiben.</p><p>Für einen Client macht es keinen Unterschied, ob er mit einem <em>primären</em> oder einem <em>sekundären</em> Server kommuniziert.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>
Es gibt auch Szenarien, in denen man bewusst mehrere primäre Server parallel einsetzt, bspw. wenn man im lokalen Netz eine volle, im Internet aber nur eine reduzierte Zone zur Verfügung stellen will. Das liegt aber außerhalb der Reichweite dieses Artikels.</p></div></div><div class="section_2"><h3 id="nderungen-auf-dem-primaeren-Server">Änderungen auf dem primären Server<a class="headerlink" href="#nderungen-auf-dem-primaeren-Server">¶</a></h3><p>
Als erstes muss man dem primären Server <sup><a href="#source-3">[3]</a></sup> beibringen, an welche Rechner er die Zonendaten überhaupt übertragen darf. Das passiert in der Datei <strong>/etc/bind/named.conf.options</strong>, wo man irgendwo im durch geschweifte Klammern eingefassten <em>options</em>-Block Folgendes einträgt: 
</p><pre class="notranslate">        allow-transfer { 192.168.0.200; };
        notify yes;</pre><p>
<em>allow-transfer</em> gibt dabei an, welchen Hosts ein Zonentransfer erlaubt werden soll. Die Angabe mehrerer IP-Adressen hintereinander ist möglich, es sollte jedoch unbedingt darauf geachtet werden, dass kein Semikolon fehlt. Die Direktive <em>notify yes</em> gibt an, dass der primäre Server seine Stellvertreter von selbst darauf aufmerksam macht, sobald aktualisierte Zonendateien verfügbar sind.</p><p>Nach den Änderungen muss der Dienst neu gestartet werden.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
Die Unterscheidung zwischen alten und neuen Daten erfolgt ausschließlich über die Seriennummer im SOA-Header der Zone. Wenn man beim Editieren vergisst, diese zu erhöhen, findet kein Zonentransfer statt und die <em>Slaves</em> arbeiten mit den veralteten Daten weiter.</p></div></div><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>
Man kann diese Direktiven auch in der Datei <strong>/etc/bind/named.conf.local</strong> in die jeweiligen Zonendeklarationen schreiben. So kann man mit verschiedenen Zonen unterschiedliche Slaves bedienen. Ein Server kann sogar für die eine oder andere Zone <em>Master</em> sein, und für andere Slave.</p></div></div></div><div class="section_2"><h3 id="Einrichtung-des-sekundaeren-Servers">Einrichtung des sekundären Servers<a class="headerlink" href="#Einrichtung-des-sekundaeren-Servers">¶</a></h3><p>
Als erstes muss in der Datei <strong>named.conf.options</strong> eingetragen werden, von welchem Host die Benachrichtigungen kommen werden: 
</p><pre class="notranslate">        allow-notify { 192.168.0.10; };</pre><p>
Dann müssen in <strong>named.conf.local</strong> die Zonen eingetragen werden, für die der Server als Slave agieren soll, und wer sein Meister ist: 
</p><pre class="notranslate">zone "domainname" {
        type slave;
        masters { 192.168.0.10; };
        file "back/domainname.bak";
};

zone "0.168.192.in-addr.arpa" {
        type slave;
        masters { 192.168.0.10; };
        file "back/0.168.192.bak";
};</pre><p>
Die File-Direktiven zeigen in diesem Fall nicht auf existierende Zonendateien, sondern auf den Ort, wo der Server die erhaltenen Zonendaten ablegen soll. In diesem Fall im Verzeichnis <strong>back</strong> im Bind-Homeverzeichnis <strong>/var/cache/bind</strong>. Da dieses noch nicht existiert, muss es erst passend angelegt werden: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /var/cache/bind/back
sudo chown bind /var/cache/bind/back </pre></div></div><p>
Eigene Zonendateien besitzt ein sekundärer Nameserver nicht. Natürlich muss der Dienst auch hier nach der Änderung neu gestartet werden. Getestet werden kann er dann genau wie ein primärer Server.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="../../dns-server_bind.html">DNS-Server Bind</a> - Hauptartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../../archiv/dns-server_bind/sekundäre_nameserver/a/revision/850153.html">Diese Revision</a> wurde am 16. November 2015 13:02 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../../startseite.html">Wiki</a></li>
<li><a href="../../archiv.html">Archiv</a></li>
<li><a href="../../archiv/dns-server_bind.html">DNS-Server Bind</a></li>
<li><a href="../../archiv/dns-server_bind/sekundäre_nameserver.html">Sekundäre Nameserver</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>