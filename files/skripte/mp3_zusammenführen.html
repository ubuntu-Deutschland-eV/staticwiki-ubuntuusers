<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Skripte/MP3_Zusammenführen › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../skripte/mp3_zusammenführen.html">MP3 Zusammenführen</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Skripte/MP3_Zusammenführen">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../skripte/mp3_zusammenführen/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../skripte/mp3_zusammenführen/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../skripte/mp3_zusammenführen/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../skripte/mp3_zusammenführen/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../skripte/mp3_zusammenführen/a/backlinks.html">MP3 Zusammenführen</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
Dieser Artikel ist mit keiner aktuell unterstützten Ubuntu-Version getestet! Bitte diesen Artikel testen und das getestet-Tag entsprechend anpassen.
</p></div></div><p>
</p><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Pakete-installieren">Pakete installieren
</a></li><li><a class="crosslink" href="#MP3-Dateien-zusammenfuehren">MP3-Dateien zusammenführen
</a></li><li><a class="crosslink" href="#Reparatur">Reparatur
</a></li><li><a class="crosslink" href="#Zenity-Script">Zenity-Script
</a></li><li><a class="crosslink" href="#Einen-Starter-anlegen">Einen Starter anlegen
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>
Möchte man viele einzelne MP3-Dateien zu einer einzigen zusammenführen, z.B. weil eine Hörspiel-CD in 20 einzelnen Stücken vorliegt, man das Hörspiel aber lieber in einer einzelnen Datei sichern möchte, so geht dies mit wenigen Kommandozeilenbefehlen recht einfach. Benötigt werden die Programme <a class="internal" href="../avconv.html">avconv</a> und <strong>id3cp</strong>.</p><div class="section_1"><h2 id="Pakete-installieren">Pakete installieren<a class="headerlink" href="#Pakete-installieren">¶</a></h2><p>
Die benötigten Pakete installieren <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>libav-tools</strong></p></li><li><p><strong>id3-tools</strong> (<em>universe</em> )</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install libav-tools id3-tools </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install libav-tools id3-tools </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="MP3-Dateien-zusammenfuehren">MP3-Dateien zusammenführen<a class="headerlink" href="#MP3-Dateien-zusammenfuehren">¶</a></h2><p>
Zunächst wechselt man in das Verzeichnis, in welchem die einzelnen MP3-Dateien liegen. In diesem Beispiel sei angenommen, dass vier Dateien existieren, die <strong>Track1.mp3</strong> - <strong>Track4.mp3</strong> heißen.</p><p>Im Terminal <sup><a href="#source-2">[2]</a></sup> gibt man ein:</p><div class="bash"><div class="contents"><pre class="notranslate">cat Track1.mp3 Track2.mp3 Track3.mp3 Track4.mp3 &gt; GESAMT.mp3 </pre></div></div><p>
Hierdurch werden die vier Tracks in der Datei <strong>GESAMT.mp3</strong> zusammengefasst. Fortgeschrittene Nutzer schreiben hierbei übrigens nicht jede Datei persönlich aus, sondern kürzen das Ganze wie folgt ab:</p><div class="bash"><div class="contents"><pre class="notranslate">cat Track{1..4}.mp3 &gt; GESAMT.mp3 </pre></div></div></div><div class="section_1"><h2 id="Reparatur">Reparatur<a class="headerlink" href="#Reparatur">¶</a></h2><p>
Das Zusammenführen der Dateien zerstört für gewöhnlich den Dateiheader, so dass die entstandene Datei z.B. nicht von iTunes abgespielt werden kann. Andere Player hingegen "denken", die Spieldauer der Gesamtdatei sei nur so lang, wie die des zuerst hinzugefügten Stücks (in obigem Beispiel <strong>Track1.mp3</strong>).</p><p>Um diesen Fehler zu beheben, gibt man anschließend ein:</p><div class="bash"><div class="contents"><pre class="notranslate">avconv -i GESAMT.mp3 -acodec copy GESAMT_KORRIGIERT.mp3
rm GESAMT.mp3 </pre></div></div><p>
avconv repariert die Datei und speichert das Ergebnis als <strong>GESAMT_KORRIGIERT.mp3</strong> ab. Anschließend wird die nicht mehr benötigte Datei <strong>GESAMT.mp3</strong> gelöscht.</p><p>Jetzt kann man noch optional den ID3-Tag der Originaldatei in die neue Datei übertragen. Das Programm <strong>id3cp</strong> ist im Paket <strong>id3-tools</strong> enthalten:</p><div class="bash"><div class="contents"><pre class="notranslate">id3cp Track1.mp3 GESAMT_KORRIGIERT.mp3 </pre></div></div><p>
Die Datei <strong>GESAMT_KORRIGIERTid3-tools.mp3</strong> ist nun fertig und bereit für die Musiksammlung.</p></div><div class="section_1"><h2 id="Zenity-Script">Zenity-Script<a class="headerlink" href="#Zenity-Script">¶</a></h2><p>
Wenn man nicht ständig diese Befehlsfolge eingeben möchte, kann man sich ein entsprechendes <a class="internal" href="../zenity.html">Zenity</a>-Script schreiben. Damit dieses funktioniert, muss <a class="internal" href="../zenity.html">Zenity</a> zuerst installiert werden:</p><ul><li><p><strong>zenity</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install zenity </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install zenity </pre></div></div><p>
</p></div></div><p>
Jetzt legt man eine neue Datei an, die z.B. <strong>mp3join.sh</strong> genannt wird, und fügt mit einem Editor <sup><a href="#source-3">[3]</a></sup> folgenden Inhalt ein:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#! /bin/bash</span>
<span class="c1">#</span>
<span class="c1"># Dieses sehr einfache Script zum Zusammenfuehren mehrerer MP3-Dateien in </span>
<span class="c1"># eine einzige benötigt die Pakete "libav-tools" und "id3-tools"</span>
<span class="c1"># Unter Ubuntu kann man diese wie folgt nachinstallieren:</span>
<span class="c1"># sudo apt-get install libav-tools id3-tools </span>
<span class="c1">#</span>
<span class="c1"># Quelldateien werden ausgewaehlt und in die Variable QUELLE geschrieben</span>
<span class="nv">QUELLE</span><span class="o">=</span><span class="k">$(</span>zenity --file-selection --text <span class="s2">"Welche Dateien sollen verknüpft werden?"</span> --title <span class="s2">"Quelldateien auswählen"</span> --multiple<span class="k">)</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># Hat der User wirklich Dateien angegeben?</span>
<span class="k">if</span> <span class="o">[</span> !<span class="nv">$QUELLE</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
	<span class="nb">echo</span> <span class="s2">"Nichts ausgewaehlt... breche ab..."</span>
	<span class="nb">exit</span> <span class="m">1</span><span class="p">;</span>
<span class="k">fi</span>

<span class="nv">ZIEL</span><span class="o">=</span><span class="k">$(</span>zenity --entry --text <span class="s2">"Bitte den Namen und vollständigen Pfad der Zieldatei angeben"</span> --entry-text<span class="o">=</span><span class="s2">"Desktop/Ziel.mp3"</span><span class="k">)</span>
touch <span class="s2">"</span><span class="si">${</span><span class="nv">ZIEL</span><span class="si">}</span><span class="s2">"</span>

<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># Der Separator (ist hier standardmaessig "|") wird in IFS gespeichert</span>
<span class="nv">IFS</span><span class="o">=</span><span class="s2">"|"</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="o">(</span>
<span class="c1"># Überprüfe, ob /tmp/tmp.mp3 existiert</span>
<span class="c1"># wenn ja, dann lösche sie...</span>
<span class="nb">echo</span> <span class="s2">"10"</span>
<span class="nb">echo</span> <span class="s2">"# Vorbereitung..."</span>
<span class="k">if</span> <span class="o">[</span> -f /tmp/tmp.mp3 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
	rm /tmp/tmp.mp3
<span class="k">fi</span>
<span class="c1">#</span>
<span class="c1"># Hilfsdatei wird angelegt.</span>
touch /tmp/tmp.mp3
<span class="nb">echo</span> <span class="s2">"30"</span>
<span class="nb">echo</span> <span class="s2">"# Erzeuge neue Datei..."</span>
<span class="c1"># Alle Dateien per cat miteinander verbinden</span>
<span class="k">for</span> arg in <span class="si">${</span><span class="nv">QUELLE</span><span class="si">}</span>
	<span class="k">do</span> <span class="nb">echo</span> <span class="s2">"</span><span class="si">${</span><span class="nv">arg</span><span class="si">}</span><span class="s2">"</span>
	cat /tmp/tmp.mp3 <span class="s2">"</span><span class="si">${</span><span class="nv">arg</span><span class="si">}</span><span class="s2">"</span> &gt; /tmp/tmp2.mp3
	rm /tmp/tmp.mp3
	mv /tmp/tmp2.mp3 /tmp/tmp.mp3
<span class="k">done</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="nb">echo</span> <span class="s2">"60"</span>
<span class="nb">echo</span> <span class="s2">"# Repariere Datei-Header..."</span>
<span class="c1"># repariere Datei-Header und speichere das Endergebnis nach</span>
<span class="c1"># ~/Desktop/mp3Join-Ziel.mp3</span>
avconv -i /tmp/tmp.mp3 -acodec copy ~/Desktop/mp3Join-Ziel.mp3
<span class="c1">#</span>
<span class="nb">echo</span> <span class="s2">"80"</span>
<span class="nb">echo</span> <span class="s2">"# Speichere Ziel-Datei..."</span>
mv ~/Desktop/mp3Join-Ziel.mp3 <span class="s2">"</span><span class="nv">$ZIEL</span><span class="s2">"</span>

<span class="nb">echo</span> <span class="s2">"90"</span>
<span class="nb">echo</span> <span class="s2">"# Räume auf..."</span>
<span class="c1"># lösche Hilfsdatei</span>
rm /tmp/tmp.mp3
<span class="c1">#</span>
<span class="c1">#</span>
<span class="k">if</span> <span class="o">[</span> -f <span class="s2">"</span><span class="si">${</span><span class="nv">ZIEL</span><span class="si">}</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
	<span class="nb">echo</span> <span class="s2">"100"</span>
	<span class="nb">echo</span> <span class="s2">"# Fertig!"</span>
<span class="k">else</span>
	<span class="nb">echo</span> <span class="s2">"99"</span>
	<span class="nb">echo</span> <span class="s2">"# Keine Schreibberechtigung! Datei konnte nicht angelegt werden!"</span>
<span class="k">fi</span>
<span class="o">)</span><span class="p">|</span>zenity --progress --text<span class="o">=</span><span class="s2">"Vorgang wird bearbeitet"</span> --percentage<span class="o">=</span><span class="m">0</span>
<span class="c1">#</span>
<span class="nb">exit</span> <span class="m">0</span><span class="p">;</span>
</pre></div>
</td></tr></table></div><p>
Das Script muss nun noch ausführbar gemacht werden:</p><div class="bash"><div class="contents"><pre class="notranslate">chmod u+x mp3join.sh </pre></div></div><p>
Jetzt kann das Script gestartet werden per</p><div class="bash"><div class="contents"><pre class="notranslate">./mp3join.sh </pre></div></div><p>Wenn das Script startet, öffnet sich ein Dialogfenster, in welchem man die einzelnen MP3-Dateien auswählen kann. Per Klick auf <em>"OK"</em> werden die Dateien zusammengeführt, der Header wird repariert, und das Ergebnis auf dem Desktop als <strong>mp3Join-Ziel.mp3</strong> gespeichert.</p></div><div class="section_1"><h2 id="Einen-Starter-anlegen">Einen Starter anlegen<a class="headerlink" href="#Einen-Starter-anlegen">¶</a></h2><p>
Um die Verwendung zu erleichtern, legt man sich noch einen Starter entweder auf dem Desktop oder im Panel an. Dies geht über Rechtsklick <img alt="rechte Maustaste" class="image-default" src="../_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/> -&gt; <em>"Starter anlegen..."</em> bzw. Rechtsklick <img alt="rechte Maustaste" class="image-default" src="../_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/> -&gt; <em>"Zum Panel hinzufügen... -&gt; Benutzerdefinierter Anwendungsstarter"</em>. Dort macht man folgende Angaben:</p><table><tr><td><strong>Name</strong>: </td><td>mp3join </td></tr><tr><td><strong>Kommentar</strong>: </td><td>Fügt mehrere MP3-Dateien zusammen </td></tr><tr><td><strong>Befehl</strong>: </td><td> /PFAD/ZU/mp3join.sh </td></tr><tr><td><strong>Typ</strong>: </td><td>Anwendung </td></tr></table><p>
</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://lyncd.com/2009/02/how-to-merge-mp3-files/" rel="nofollow">How to losslessly concatenate / merge MP3 files</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Blogbeitrag, 02/2009</p></li><li><p><a class="internal" href="../mp3wrap.html">mp3wrap</a> - alternatives Programm</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../skripte/mp3_zusammenführen/a/revision/939258.html">Diese Revision</a> wurde am 4. Mai 2017 20:21 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../skripte.html">Skripte</a></li>
<li><a href="../skripte/mp3_zusammenführen.html">MP3 Zusammenführen</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>