<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>dpkg › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./dpkg.html">dpkg</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/dpkg">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./dpkg/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./dpkg/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./dpkg/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./dpkg/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./dpkg/a/backlinks.html">dpkg</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./sudo.html">Root-Rechte</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./paketverwaltung.html">Paketverwaltung</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Optionen">Optionen
</a></li><li><a class="crosslink" href="#Hilfsprogramme">Hilfsprogramme
</a></li><li><a class="crosslink" href="#Beispiele">Beispiele
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/terminal.png" class="image-left" src="./_/e81889fd6e485dd32e1cde611eabc18abced7993.png"/>
<a class="interwiki interwiki-debian" href="https://wiki.debian.org/Teams/Dpkg">dpkg</a> (Debian Package) dient zum Installieren einzelner <strong>.deb</strong>-Pakete. Es stellt die Funktionen zur Verfügung (Backend), die von den Programmen <a class="internal" href="./apt/apt-get.html">apt-get</a> und <a class="internal" href="./aptitude.html">aptitude</a> benutzt werden.</p><p>Für die meisten Operationen sind Root-Rechte <sup><a href="#source-1">[1]</a></sup> nötig.</p><div class="section_1"><h2 id="Optionen">Optionen<a class="headerlink" href="#Optionen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Normale-Optionen">Normale Optionen<a class="headerlink" href="#Normale-Optionen">¶</a></h3><p>
dpkg benötigt die Angabe der Option, die die auszuführende Operation angibt, sowie abhängig von der Option die Angabe eines Paketnamens oder des Pfades zu einem <strong>.deb</strong>-Paket.</p><p>
</p><table><tr class="titel"><td colspan="3"> Kommandozeilenoptionen zu dpkg </td></tr><tr class="kopf"><td> Kürzel </td><td style="width: 10%"> Lange Option                                 </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">-i</code> </td><td> <code class="notranslate">--install</code> </td><td> Installiert das als Argument übergebene <strong>.deb</strong>-Paket (Dateiname oder mit Option <code class="notranslate">-R</code> Ordnername). </td></tr><tr class="highlight"><td> </td><td> <code class="notranslate">--configure</code> </td><td> Versucht die Installation von noch nicht fertig konfigurierten Paketen zu beenden. Entweder können die Paketnamen als Argumente übergeben werden oder es wird die Option <code class="notranslate">-a</code> bzw. <code class="notranslate">--pending</code> angegeben, um alle noch zu konfigurierenden Pakete zu verarbeiten.<br/>Soll ein bereits korrekt installiertes Paket erneut konfiguriert werden, muss <a class="internal" href="./dpkg-reconfigure.html">dpkg-reconfigure</a> genutzt werden. </td></tr><tr><td> <code class="notranslate">-r</code> </td><td> <code class="notranslate">--remove</code> </td><td> Entfernt das als Argument übergebene genannte Paket. Wichtig: Der Name des Pakets, nicht der Dateiname muss angegeben werden. Eventuell vom Programm angelegte Konfigurationsdateien bleiben erhalten. </td></tr><tr class="highlight"><td><code class="notranslate">-l</code> </td><td> <code class="notranslate">--list</code> </td><td> Ruft <a class="crosslink" href="#dpkg-query">dpkg-query</a> auf und gibt eine Liste mit Status, Version und einer Kurzbeschreibung des Pakets aus. Statt des Namens kann auch ein regulärer Ausdruck angegeben werden. Wird kein Argument übergeben, werden alle installierten Pakete aufgelistet. Diese Option ist auch für unprivilegierte Nutzer verfügbar. </td></tr><tr><td> <code class="notranslate">-P</code> </td><td> <code class="notranslate">--purge</code> </td><td> Entfernt das genannte Paket inklusive der Konfigurationsdateien. </td></tr><tr class="highlight"><td><code class="notranslate">-R</code> </td><td> <code class="notranslate">--recursive</code> </td><td> Statt eines Pfades zu einer <strong>.deb</strong> kann mit <code class="notranslate">-R</code> auch ein Verzeichnis angegeben werden, die gewählte Operation wird dann auf alle Pakete im Verzeichnis angewandt. </td></tr><tr><td> <code class="notranslate">-L</code> </td><td> <code class="notranslate">--listfiles</code> </td><td> Ruft <a class="crosslink" href="#dpkg-query">dpkg-query</a> auf und gibt eine Liste der im Paket enthaltenen Dateien aus. </td></tr><tr class="highlight"><td><code class="notranslate">-S</code> </td><td> <code class="notranslate">--search</code> </td><td> Ruft <a class="crosslink" href="#dpkg-query">dpkg-query</a> auf, um auszugeben in welchen Paketen sich Dateien befinden, die zum angegebenen Suchmuster passen. </td></tr></table><p>
Eine vollständige Liste der Optionen findet sich in der <a class="internal" href="./man.html">Manpage</a> im Abschnitt <code class="notranslate">ACTIONS</code> bzw. <code class="notranslate">AKTIONEN</code> (Onlineversion: <a class="interwiki interwiki-man_de" href="http://manpages.ubuntu.com/cgi-bin/search.py?lr=lang_de&amp;q=dpkg">dpkg</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>).</p></div><div class="section_2"><h3 id="Multiarch-Optionen">Multiarch-Optionen<a class="headerlink" href="#Multiarch-Optionen">¶</a></h3><p>
Mit Version 11.04 wurde in Ubuntu das Multiarch-System eingeführt. Dies ermöglicht die Installation von Paketen anderer Architekturen auf dem System. Der häufigste Anwendungsfall ist die Installation eines 32-bit- Pakets (<code class="notranslate">i386</code>) auf einem 64-bit-System (<code class="notranslate">amd64</code>). Von den noch unterstützten Versionen von Ubuntu sind diese Optionen erst ab Ubuntu 14.04 verfügbar.</p><p>
</p><table><tr class="titel"><td colspan="2">Kommandozeilenoptinen für Multiarch </td></tr><tr class="kopf"><td>Lange Option </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">--add-architecture i386</code> </td><td> Fügt die Architektur i386 zu einem amd64 System hinzu. </td></tr><tr class="highlight"><td><code class="notranslate">--remove-architecture i386</code> </td><td> Entfernt die Architektur i386 von dem System </td></tr></table><p>
Nach dem Hinzufügen ist die Aktualisierung der Paketquellen notwendig. Siehe dazu <a class="internal" href="./apt.html">APT</a>. Sofern das Paket in zwei Architekturen vorliegt kann manuell eine spezifische Version gewählt werden <sup><a href="#source-2">[2]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install PAKETNAME:i386 </pre></div></div></div><div class="section_2"><h3 id="force-Optionen">force-Optionen<a class="headerlink" href="#force-Optionen">¶</a></h3><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Diese Optionen können die Paketverwaltung und das System irreparabel beschädigen. Deswegen sollten diese Optionen nur mit äußerster Vorsicht und ausreichendem Verständnis angewandt werden.
</p></div></div><p>
In Ausnahmefällen kann es nötig sein, die Fehler zu übergehen, die dpkg zum Anhalten zwingen. Force-Optionen lassen sich mit den gewöhnlichen Optionen kombinieren, wo es sinnvoll ist.</p><p>
</p><table><tr class="titel"><td colspan="2"> Kommandozeilenoptionen mit force </td></tr><tr class="kopf"><td style="width: 20%"> Lange Option </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">--force-help</code> </td><td> Gibt eine Liste der force-Optionen mit einer Kurzbeschreibung aus. </td></tr><tr class="highlight"><td><code class="notranslate">--force-depends</code> </td><td> Ändert Abhängigkeitsfehler zu Warnungen. Ein Paket kann so trotz fehlender Abhängigkeiten installiert werden. <a class="internal" href="./paketverwaltung/problembehebung.html#Es-werden-kaputte-Pakete-gemeldet"><code class="notranslate">apt-get -f</code></a> wird eventuell zur Korrektur benötigt. </td></tr><tr><td> <code class="notranslate">--force-architecture</code> </td><td> Erlaubt die Installation eines Pakets, das nicht zur Architektur passt. Nützlich, um reine 32-Bit-Pakete auf einem 64-Bit-System zu installieren. Allerdings ist meist die <a class="interwiki interwiki-ubuntu" href="https://wiki.ubuntu.com/MultiarchSpec">Multiarch</a>-Integration des Paketes fehlerhaft und die für das Paket Verantwortlichen sollten darüber informiert werden. </td></tr><tr class="highlight"><td><code class="notranslate">--force-remove-reinstreq</code> </td><td> Erlaubt das Entfernen eines Pakets, dessen Reinstallation nötig ist. Teile des Paketes können nach dem Entfernen auf dem System verbleiben. </td></tr></table><p>
Eine vollständige Liste der force-Optionen findet sich in der <a class="internal" href="./man.html">Manpage</a> im Abschnitt <code class="notranslate">OPTIONS</code> bzw. <code class="notranslate">OPTIONEN</code>.</p></div></div><div class="section_1"><h2 id="Hilfsprogramme">Hilfsprogramme<a class="headerlink" href="#Hilfsprogramme">¶</a></h2><p>
</p><div class="section_2"><h3 id="dpkg-query">dpkg-query<a class="headerlink" href="#dpkg-query">¶</a></h3><p>
dpkg-query erlaubt Zugriff auf die Paketverwaltungsdatenbank, also auf Metainformationen (Paketstatus, Kontrollfelder, ...). Die Abfrage von Informationen über Paketdateien wird stattdessen über <a class="crosslink" href="#dpkg-deb">dpkg-deb</a> geregelt. Einige Optionen können auch direkt mit dem <code class="notranslate">dpkg</code>-Befehl angesteuert werden.</p><div class="bash"><div class="contents"><pre class="notranslate">dpkg-query OPTION PAKET/SUCHMUSTER </pre></div></div><p>
</p><table><tr class="titel"><td colspan="3"> Kommandozeilenoptionen zu dpkg-query </td></tr><tr class="kopf"><td> Kürzel </td><td style="width: 10%"> Lange Option </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">-l</code> </td><td> <code class="notranslate">--list</code> </td><td> Gibt eine Liste der zum Suchmuster passenden Pakete und deren Informationen aus. </td></tr><tr class="highlight"><td><code class="notranslate">-S</code> </td><td> <code class="notranslate">--search</code> </td><td> Gibt aus, in welchen Paketen sich Dateien befinden, die zum angegebenen Suchmuster (z.B. Pfad) passen. </td></tr><tr><td> <code class="notranslate">-L</code> </td><td> <code class="notranslate">--listfiles</code> </td><td> Gibt die im Paket enthaltenen Dateien aus. Das Paket wird über den Paketnamen als Argument übergeben und muss installiert (oder nicht vollständig entfernt) sein. </td></tr></table><p>
Eine vollständige Liste der Optionen findet sich in der <a class="internal" href="./man.html">Manpage</a> im Abschnitt <code class="notranslate">COMMANDS</code> bzw. <code class="notranslate">BEFEHLE</code> (Onlineversion: <a class="interwiki interwiki-man_de" href="http://manpages.ubuntu.com/cgi-bin/search.py?lr=lang_de&amp;q=dpkg-query">dpkg-query</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>).</p></div><div class="section_2"><h3 id="Paketstatus">Paketstatus<a class="headerlink" href="#Paketstatus">¶</a></h3><p>
Zusätzlich zur Kurzbeschreibung des Pakets gibt <code class="notranslate">--list</code>/<code class="notranslate">-l</code> eine Statusangabe zum jeweiligen Paket aus. Diese besteht aus 3 Stellen:
</p><ol class="arabic"><li><p>Gewünschter Paketstatus</p><ul><li><p><code class="notranslate">u</code> für unbekannt</p></li><li><p><code class="notranslate">i</code> für installieren</p></li><li><p><code class="notranslate">h</code> für halten</p></li><li><p><code class="notranslate">r</code> für entfernen (Konfigurationsdateien behalten)</p></li><li><p><code class="notranslate">p</code> für vollständig (inkl. Konfigurationsdateien) entfernen</p></li></ul></li><li><p>Aktueller Paketstatus</p><ul><li><p><code class="notranslate">n</code> für nicht installiert</p></li><li><p><code class="notranslate">c</code> für Konfigurationsdateien verbleibend</p></li><li><p><code class="notranslate">H</code> für nicht vollständig installiert (nicht alle Dateien konnten installiert werden)</p></li><li><p><code class="notranslate">U</code> für entpackt (vor dem eigentlichen Installieren)</p></li><li><p><code class="notranslate">F</code> für nicht vollständig konfiguriert (Fehler in Konfigurationsskripten)</p></li><li><p><code class="notranslate">W</code> für Trigger-Verarbeitung (durch anderes Paket) wird erwartet (Trigger sind z.B. das Aktualisieren des Manpageindexes oder das Aktualisieren der durch <a class="internal" href="./.desktop_dateien.html">.desktop Dateien</a> bereitgestellten <a class="internal" href="./mime-typ.html">MIME-Typen</a>, also Vorgänge, die für mehrere Pakete interessant sind. Anstatt diese Vorgänge nach der Installation jedes einzelnen Paketes auszuführen, wird der Vorgang erst am Ende der Installation aller Pakete ausgeführt.)</p></li><li><p><code class="notranslate">t</code> für Trigger-Verabeitung steht bevor</p></li><li><p><code class="notranslate">i</code> für installiert</p></li></ul></li><li><p>Fehler (Leerzeichen für keine Fehler)</p><ul><li><p><code class="notranslate">R</code> für Reinstallation erforderlich</p></li></ul></li></ol><p>So bezeichnet <code class="notranslate">ii</code> ein vollständig installiertes Paket, <code class="notranslate">rc</code> ein entferntes Paket von dem noch Konfigurationsdateien vorliegen und <code class="notranslate">un</code> ein nicht (mehr) installiertes Paket.</p><p>Eine vollständige Liste der Statusangaben findet sich in der <a class="internal" href="./man.html">Manpage</a> im Abschnitt <code class="notranslate">PACKAGE STATES</code> bzw. <code class="notranslate">PAKETZUSTÄNDE</code>.</p></div><div class="section_2"><h3 id="dpkg-deb">dpkg-deb<a class="headerlink" href="#dpkg-deb">¶</a></h3><p>
dpkg-deb stellt grundlegende Möglichkeiten zum Packen und Entpacken, sowie die Abfrage von Metainformationen (enthaltene Dateien, Kontrollfelder, ...) von <strong>.deb</strong>-Paketen bereit. Einige Optionen können auch direkt mit dem <code class="notranslate">dpkg</code>-Befehl angesteuert werden.</p><div class="bash"><div class="contents"><pre class="notranslate">dpkg-deb OPTION VERZEICHNIS/PAKET </pre></div></div><p>
</p><table><tr class="titel"><td colspan="3"> Kommandozeilenoptionen zu dpkg-deb </td></tr><tr class="kopf"><td> Kürzel </td><td style="width: 10%"> Lange Option </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">-I</code> </td><td> <code class="notranslate">--info</code> </td><td> Zeigt Informationen zu den als Argument übergebenen <strong>.deb</strong>-Paketen an. Als optionales zweites Argument kann der Name einer (vorhandenen) Kontrolldatei übergeben werden, deren Inhalt dann in der Standardausgabe angezeigt wird. </td></tr><tr class="highlight"><td><code class="notranslate">-b</code> </td><td> <code class="notranslate">--build</code> </td><td> Erstellt ein <strong>.deb</strong>-Paket aus einem angegebenen Verzeichnis. </td></tr><tr><td> <code class="notranslate">-c</code> </td><td> <code class="notranslate">--contents</code> </td><td> Zeigt den Inhalt eines <strong>.deb</strong>-Pakets an. </td></tr><tr class="highlight"><td><code class="notranslate">-x</code> </td><td> <code class="notranslate">--extract</code> </td><td> Entpackt das angegebene <strong>.deb</strong>-Paket in das angegebene Zielverzeichnis. </td></tr></table><p>
Eine vollständige Liste der Optionen findet sich in der <a class="internal" href="./man.html">Manpage</a> im Abschnitt <code class="notranslate">COMMANDS</code> bzw. <code class="notranslate">BEFEHLE</code> (Onlineversion: <a class="interwiki interwiki-man_de" href="http://manpages.ubuntu.com/cgi-bin/search.py?lr=lang_de&amp;q=dpkg-deb">dpkg-deb</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>).</p></div><div class="section_2"><h3 id="dpkg-divert">dpkg-divert<a class="headerlink" href="#dpkg-divert">¶</a></h3><p>
Mit dpkg-divert können Umleitungen eingerichtet werden, sodass z.B. Dateien, die von einem Paket bereitgestellt werden, beim Paketupgrade nicht verändert werden. So kann man nicht nur lokale Änderungen (ohne Verlust) vornehmen, sondern auch Pakete, die Dateien an exakt der selben Stelle installieren, trotzdem parallel installieren (vorausgesetzt die Pakete sind nicht explizit als gegenseitiger Konflikt markiert).</p><div class="bash"><div class="contents"><pre class="notranslate">dpkg-divert (OPTION) BEFEHL DATEI/MUSTER </pre></div></div><p>
</p><table><tr class="titel"><td colspan="2"> Kommandozeilenoptionen zu dpkg-divert </td></tr><tr class="kopf"><td style="width: 10%"> Befehl </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">--add</code> </td><td> Fügt eine Umleitung für die als Argument übergebene Datei hinzu. Die Angabe von <code class="notranslate">--add</code> als Kommando ist optional. Wenn kein Kommando angegeben wurde, wird immer dieses Kommando gewählt. </td></tr><tr class="highlight"><td><code class="notranslate">--remove</code> </td><td> Entfernt die Umleitung für die als Argument übergebene Datei. Wenn bei der Umleitung umbenannt wurde, muss trotzdem die ursprüngliche Name übergeben werden. </td></tr><tr><td> <code class="notranslate">--list</code> </td><td> Listet alle aktuell eingerichteten Umleitungen, die auf das als Argument übergebene Suchmuster passen, auf. Ohne Argument werden alle Umleitungen aufgelistet. </td></tr><tr class="kopf"><td> Option </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">--local</code> </td><td> Richtet die Umleitung so ein, dass die Datei durch kein Paketupgrade und durch keine Paketinstallation verändert wird. </td></tr><tr class="highlight"><td><code class="notranslate">--package</code> </td><td> Das als Argument übergebene Paket ist als einziges Paket nicht von der Umleitung betroffen. </td></tr><tr><td> <code class="notranslate">--rename</code> </td><td> Beim Einrichten (bzw. Entfernen) wird die Datei umbenannt. Standardmäßig wird die Endung <strong>.distrib</strong> hinzugefügt (bzw. entfernt). Existierende Dateien werden nicht überschrieben, eher bricht die Umbenennung ab. </td></tr><tr class="highlight"><td><code class="notranslate">--test</code> </td><td> Es werden keine Änderungen vorgenommen. </td></tr></table><p>
Eine vollständige Liste der Befehle und Optionen findet sich in der <a class="internal" href="./man.html">Manpage</a> im Abschnitt <code class="notranslate">COMMANDS</code> und <code class="notranslate">OPTIONS</code> bzw. <code class="notranslate">BEFEHLE</code> und <code class="notranslate">OPTIONEN</code> (Onlineversion: <a class="interwiki interwiki-man_de" href="http://manpages.ubuntu.com/cgi-bin/search.py?lr=lang_de&amp;q=dpkg-divert">dpkg-divert</a>).</p></div><div class="section_2"><h3 id="dpkg-repack">dpkg-repack<a class="headerlink" href="#dpkg-repack">¶</a></h3><p>
Mit <strong>dpkg-repack</strong> kann man schon installierte Programme wieder in ein <strong>.deb</strong>-Paket packen. Die genaue Vorgehensweise wird im Artikel <a class="internal" href="./dpkg-repack.html">dpkg-repack</a> erläutert.</p></div></div><div class="section_1"><h2 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h2><p>
</p><div class="section_2"><h3 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h3><p>
Installiert das <code class="notranslate">PAKET</code> im genannten Pfad:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg -i /PFAD/ZUM/PAKET/PAKET.deb </pre></div></div><p>
Wenn Pakete gegenseitige Abhängigkeiten haben oder wenn alle Pakete in einem Ordner installiert werden sollen, ist folgender Befehl hilfreich:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg -i /ORDNER/*.deb </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>dpkg löst Abhängigkeiten der zu installierenden Pakete nicht automatisch auf. Installiert man also ein Paket, das von anderen abhängt, so kommt es zu Fehlermeldungen im Stil von</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg -i foo_1.0-0ubuntu1_all.deb </pre></div></div><p>
</p><pre class="notranslate">Wähle vormals abgewähltes Paket foo.
(Lese Datenbank ... 42000 Dateien und Verzeichnisse sind derzeit installiert.)
Entpacke foo (aus foo_1.0-0ubuntu1_all) ...
dpkg: Abhängigkeitsprobleme verhindern Konfiguration von foo:
 foo hängt ab von bare (&gt;= 0.6.1); aber:
  Paket bar ist nicht installiert.
dpkg: Fehler beim Bearbeiten von foo (--install):
 Abhängigkeitsprobleme - lasse es unkonfiguriert
Fehler traten auf beim Bearbeiten von:
 foo </pre><p>
Das Paket wird zwar installiert, ist aber aufgrund fehlender Abhängigkeiten noch nicht benutzbar. Mittels</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get -f install </pre></div></div><p>
lassen sich die fehlenden Abhängigkeiten automatisch nachinstallieren. 
</p></div></div></div><div class="section_2"><h3 id="Sperren">Sperren<a class="headerlink" href="#Sperren">¶</a></h3><p>
Um ein bestimmtes Paket nicht automatisch zu aktualisieren, wird der Paketstatus auf "<code class="notranslate">hold</code>" gesetzt:</p><div class="bash"><div class="contents"><pre class="notranslate">echo PAKETNAME hold | sudo dpkg --set-selections </pre></div></div><p>
Möchte man die Sperre wieder aufheben, setzt man den Status wieder auf "<code class="notranslate">install</code>":</p><div class="bash"><div class="contents"><pre class="notranslate">echo PAKETNAME install | sudo dpkg --set-selections </pre></div></div><p>
Als <code class="notranslate">PAKETNAME</code> ist der "reine" Paketname (ohne Versionsnummer) zu verwenden.</p></div><div class="section_2"><h3 id="Entfernen">Entfernen<a class="headerlink" href="#Entfernen">¶</a></h3><p>
Entfernt das Paket <strong>vim</strong>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg -r vim </pre></div></div><p>
Entfernt alle Pakete, deren Name mit <code class="notranslate">vim</code> beginnt. Die beiden Hochkomma sind nötig, da die Shell sonst versucht, Dateinamen im aktuellen Verzeichnis mit dem Stern zu komplettieren:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg -r 'vim*' </pre></div></div></div><div class="section_2"><h3 id="Anzeige">Anzeige<a class="headerlink" href="#Anzeige">¶</a></h3><p>
Gibt die Informationen zum allen Paketen aus, deren Name mit <code class="notranslate">vim</code> beginnt. Die beiden Hochkomma sind nötig, da die Shell sonst versucht, Dateinamen im aktuellen Verzeichnis mit dem Stern zu komplettieren. Oft macht es Sinn, die Ausgaben z.B. mit <a class="internal" href="./grep.html">grep</a> nach dem <a class="crosslink" href="#Paketstatus">Paketstatus</a> zu filtern.</p><div class="bash"><div class="contents"><pre class="notranslate">dpkg -l 'vim*' </pre></div></div><p>
Manchmal kann es nützlich sein, den Inhalt bzw. die komplette Dateiliste eines Paket auszugeben:</p><div class="bash"><div class="contents"><pre class="notranslate">dpkg -L PAKETNAME </pre></div></div><p>
Möchte man dagegen alle Pakete einer bestimmten <a class="internal" href="./paketquellen.html#Die-Komponenten-bei-Ubuntu">Komponente</a> (wie z.B. <code class="notranslate">universe</code>) anzeigen, wird der Befehl deutlich länger (Ubuntu-Version/Komponente am Ende bitte anpassen):</p><div class="bash"><div class="contents"><pre class="notranslate">dpkg -l | awk '/^.i/ {print $2}' | xargs apt-cache policy | awk '/^[a-z0-9.\-]+:/ {pkg=$1}; /\*\*\*/ {OFS="\t"; getline; print pkg,$2,$3}' | grep trusty/universe </pre></div></div></div><div class="section_2"><h3 id="Konfiguration-beenden">Konfiguration beenden<a class="headerlink" href="#Konfiguration-beenden">¶</a></h3><p>
Alle noch ausstehenden Konfigurationsskripte ausführen und einen abgebrochenen Installationsvorgang fortsetzen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg --configure -a </pre></div></div></div><div class="section_2"><h3 id="Konfiguration-erneut-durchfuehren">Konfiguration erneut durchführen<a class="headerlink" href="#Konfiguration-erneut-durchfuehren">¶</a></h3><p>
Die <a class="internal" href="./debconf.html">debconf</a>-Konfigurationsskripte des Pakets <strong>locales</strong> erneut ausführen (und damit die Sprachpakete neu generieren).</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg-reconfigure locales </pre></div></div></div><div class="section_2"><h3 id="Umleitung-einrichten">Umleitung einrichten<a class="headerlink" href="#Umleitung-einrichten">¶</a></h3><p>
Die Datei <strong>/usr/bin/apt-build</strong> wird ohne Ausnahme für alle Pakete auf die Datei <strong>/usr/bin/apt-build.distrib</strong> umgeleitet. Beim Erstellen der Umleitung wird die Datei direkt umbenannt.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg-divert --local --rename /usr/bin/apt-build </pre></div></div></div><div class="section_2"><h3 id="Umleitung-entfernen">Umleitung entfernen<a class="headerlink" href="#Umleitung-entfernen">¶</a></h3><p>
Die im vorherigen Beispiel angelegte Umleitung wird wieder entfernt. Das <code class="notranslate">--rename</code> stellt sicher, dass die Datei wieder zurückbenannt wird. Vergisst man dies, kann man die Datei einfach manuell, z.B. mit <a class="internal" href="./mv.html">mv</a>, umbenennen.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg-divert --rename --remove /usr/bin/apt-build </pre></div></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://debiananwenderhandbuch.de/dpkg.html" rel="nofollow">dpkg</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> im Debian-Anwenderbuch</p></li><li><p><a class="internal" href="./debconf.html">debconf</a> - Konfigurationssystem für Debianpakete</p></li><li><p><a class="internal" href="./dpkg-repack.html">dpkg-repack</a> - Pakete für installierte Programme erstellen</p></li><li><p><a class="internal" href="./dpkg-www.html">dpkg-www</a> - Das lokale Softwareverzeichnis per Webbrowser durchsuchen</p></li><li><p><a class="internal" href="./apt.html">APT</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/></p><ul><li><p><a class="internal" href="./apt/apt-get.html">apt-get</a> - Frontend zur Bedienung der Paketverwaltung</p></li><li><p><a class="internal" href="./aptitude.html">aptitude</a> - Frontend zur Bedienung der Paketverwaltung</p></li></ul></li><li><p><a class="internal" href="./paketverwaltung/problembehebung.html">Paketverwaltung/Problembehebung</a> - Sammlung häufiger Probleme und ihrer Lösung</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./dpkg/a/revision/917893.html">Diese Revision</a> wurde am 7. November 2016 11:05 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./dpkg.html">dpkg</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>