<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>efibootmgr › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./efibootmgr.html">efibootmgr</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/efibootmgr">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./efibootmgr/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./efibootmgr/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./efibootmgr/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./efibootmgr/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./efibootmgr/a/backlinks.html">efibootmgr</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./systeminformationen_ermitteln.html#Festplatten">Welche Datenräger sind angeschlossen</a></p></li></ol></div></div><p>
</p><p>
</p><table style="float: left; clear: right; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="asrock-boot-menu-ubuntu.png" class="image-default" src="./_/efcacdba97c0b7b156a60a0375330510109354f5.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 200px"> Beispielbild eines EFI-Boot-Menüs.</td></tr></table><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Bedienung">Bedienung
</a></li><li><a class="crosslink" href="#Optionen">Optionen
</a></li><li><a class="crosslink" href="#Beispiele">Beispiele
</a><ol class="arabic"><li><a class="crosslink" href="#Auflistung-aller-Eintraege-Kurzformat">Auflistung aller Einträge (Kurzformat)
</a></li><li><a class="crosslink" href="#Auflistung-aller-Eintraege-Langformat">Auflistung aller Einträge (Langformat)
</a></li><li><a class="crosslink" href="#Bootreihenfolge-aendern">Bootreihenfolge ändern
</a><ol class="arabic"><li><a class="crosslink" href="#Einmalige-Bootreihenfolge-festlegen">Einmalige Bootreihenfolge festlegen
</a></li></ol></li><li><a class="crosslink" href="#Booteintrag-loeschen">Booteintrag löschen
</a></li><li><a class="crosslink" href="#Booteintrag-erstellen">Booteintrag erstellen
</a></li></ol></li><li><a class="crosslink" href="#Bekannte-Probleme">Bekannte Probleme
</a></li><li><a class="crosslink" href="#Links">Links
</a></li><li><a class="crosslink" href="#Links-intern">Links - intern
</a><ol class="arabic"><li><a class="crosslink" href="#Extern">Extern
</a></li></ol></li></ol></div><p>Das Paket <strong>efibootmgr</strong> ist ein Linuxprogramm um die Konfiguration des <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface">(U)EFI</a>‐Boot-Menüs (siehe Beispielbild links) im  <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/NVRAM">NVRAM</a> aus Ubuntu heraus im Terminal zu verändern.</p><p>Neben dem Auflisten können EFI-Boot-Einträge eingerichtet, vorhandene entfernt oder die Bootreihenfolge festgelegt werden. Ubuntu legt bei einer EFI-Installation in der Regel alle erforderlichen Einträge an, so dass keine manuellen Nacharbeiten erforderlich sein sollten.</p><p>Hat man ein <a class="internal" href="./dualboot.html">Dualboot</a> mit Windows 7 (SP1), 8 und höher - so kann man diese Abfragen, Arbeiten sowie Veränderungen auch unter Windows in einem GUI vornehmen. Es muss dazu unter Windows das Programm <a class="external" href="http://www.easyuefi.com/" rel="nofollow">EasyUEFI</a> <img alt="{us}" src="./_/36152d62b7197ebd79bc885a8a2614445933cf09.png"/> installiert sein.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Beide Programme nehmen Veränderungen am NVRAM des Mainboards vor und sollten nur mit Bedacht ausgeführt werden.</p><p>Es darf bei einigen Rechnern in der Firmware (Setup) das <code class="notranslate">secure-boot</code> nicht aktiviert sein - ansonsten werden keine Einträge in das NVRAM übernommen! 
</p></div></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Bei Nutzung eines im EFI-Modus gestartetem Live-Systems (<a class="internal" href="./live-cd.html">Live-CD</a>/<a class="internal" href="./live-usb.html">Live-USB</a>) muss das Paket <strong>efibootmgr</strong> erst installiert werden. Bei einer vorhandenen EFI-Ubuntu-Installation sollte es bereits installiert sein. Das Programmpaket kann direkt aus den Paketquellen installiert<sup><a href="#source-3">[3]</a></sup> werden:</p><ul><li><p><strong>efibootmgr</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install efibootmgr </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install efibootmgr </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Bedienung">Bedienung<a class="headerlink" href="#Bedienung">¶</a></h2><p>
Die Ausführung erfolgt im einem Terminal <sup><a href="#source-1">[1]</a></sup> mit Rootrechten <sup><a href="#source-2">[2]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">efibootmgr OPTIONEN </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Das System muss im (U)EFI-Modus gestartet sein. Dies kann man daran erkennen, dass das Verzeichnis <strong>/sys/firmware/efi</strong> existiert. Die Verknüpfung des NVRAM-Eintrags mit der <a class="internal" href="./grub_2/grundlagen.html#Mit-EFI">EFI-System-Partition</a> (ESP) erfolgt über eine eindeutige <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/GUID">GUID</a>. Wird diese GUID verändert, z.B. durch eine Neuanlage der ESP, dann müssen diese Einträge neu erstellt werden – dies gilt auch beim Zurücksetzen eines EFI-Systems auf die Standardeinstellungen.
</p></div></div></div><div class="section_1"><h2 id="Optionen">Optionen<a class="headerlink" href="#Optionen">¶</a></h2><p>
Eine komplette Auflistung aller Optionen ist der <a class="internal" href="./man.html">Manpage</a> zu efibootmgr zu entnehmen.
</p><p>
</p><table><tr class="titel"><td colspan="3">Auswahl von Optionen </td></tr><tr class="kopf"><td colspan="2" style="border-bottom: none">Optionen </td><td rowspan="2" style="vertical-align: top">Beschreibung </td></tr><tr class="kopf"><td style="border-top: none">kurz </td><td style="border-top: none">lang </td></tr><tr><td> <code class="notranslate">-a</code> </td><td> <code class="notranslate">--active</code> </td><td> Aktivieren eines Booteintrags </td></tr><tr class="highlight"><td><code class="notranslate">-A</code> </td><td> <code class="notranslate">--inactive</code> </td><td> De-Aktivieren eines Booteintrags </td></tr><tr><td> <code class="notranslate">-b</code> </td><td> <code class="notranslate">--bootnum XXXX</code> </td><td> Zuweisen des Booteintrags, der mittels weiterer Optionen modifiziert werden soll (XXXX = der Hexwert des Eintrags) </td></tr><tr class="highlight"><td><code class="notranslate">-B</code> </td><td> <code class="notranslate">--delete-bootnum</code> </td><td> Löschen eines Booteintrags </td></tr><tr><td> <code class="notranslate">-c</code> </td><td> <code class="notranslate">--create</code> </td><td> Erzeugen eines neuen Booteintrags. In Verbindung mit der vorangestellten Option <code class="notranslate">--bootnum XXXX</code> kann die Zuweisung gezielt auf einen freien Eintrag erfolgen. </td></tr><tr class="highlight"><td><code class="notranslate">-d</code> </td><td> <code class="notranslate">--disk DEVICE</code> </td><td> Zuweisen des Datenträgers<sup><a href="#source-4">[4]</a></sup> auf dem der Bootloader liegt (Standard ist: /dev/sda). </td></tr><tr><td> <code class="notranslate">-g</code> </td><td> <code class="notranslate">--gpt</code> </td><td> Erzwingt die Partitionstabelle auch auch dann als GPT zu behandeln, wenn die GPT-Signatur "EFI PART" vorhanden ist, aber der "Protective MBR" ungültige Werte enthält. </td></tr><tr class="highlight"><td><code class="notranslate">-l</code> </td><td> <code class="notranslate">--loader 'NAME'</code> </td><td> Verzeichnis und Name des Bootloaders, Ubuntu verwendet standardmäßig den Pfad <strong>\\EFI\\ubuntu\\grubx64.efi</strong> (Standard, wenn <code class="notranslate">--loader</code> nicht angegeben wird, ist: \\elilo.efi) - Windows-Syntax mit <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Backslash">Backslash</a> beachten. </td></tr><tr><td> <code class="notranslate">-L</code> </td><td> <code class="notranslate">--label BEZEICHNUNG</code> </td><td> Bezeichnung/Name des Bootloaders im EFI-Menü. Der Name ist frei wählbar, z.B. "GRUB2" (Standard ist: "Linux") </td></tr><tr class="highlight"><td><code class="notranslate">-n</code> </td><td> <code class="notranslate">--bootnext XXXX</code> </td><td> Einstellen des Bootloaders der beim nächsten Neustart genutzt werden soll (<code class="notranslate">XXXX</code> = der Hexwert des Eintrags) – Dieser Eintrag überschreibt die Bootreihenfolge <span class="underline">einmalig</span>, nach dem nächsten Start gilt wieder die Originaleinstellung.  </td></tr><tr><td> <code class="notranslate">-N</code> </td><td> <code class="notranslate">--delete-bootnext</code> </td><td> Löschen des Bootloader-Eintrags zu <code class="notranslate">--bootnext XXXX</code> </td></tr><tr class="highlight"><td><code class="notranslate">-o</code> </td><td> <code class="notranslate">--bootorder XXXX,YYYY,ZZZZ,...</code> </td><td> Einstellen der Bootreihenfolge (<code class="notranslate">XXXX</code>, <code class="notranslate">YYYY</code>, ... = Hexwerte der Einträge) – wird ein Bootloader nicht gefunden, dann wird automatisch auf den nächsten, aktiven Eintrag weiter geschaltet und versucht diesen zu starten. </td></tr><tr><td> <code class="notranslate">-O</code> </td><td> <code class="notranslate">--delete-bootorder</code> </td><td> Löschen der Bootreihenfolge </td></tr><tr class="highlight"><td><code class="notranslate">-p</code> </td><td> <code class="notranslate">--part PARTITION</code> </td><td> Die EFI-System-Partition (ESP)<sup><a href="#source-4">[4]</a></sup> in der die Bootloader hinterlegt sind (Standard ist: 1) </td></tr><tr><td> <code class="notranslate">-q</code> </td><td> <code class="notranslate">--quiet</code> </td><td> Meldungen unterdrücken </td></tr><tr class="highlight"><td> </td><td> <code class="notranslate">--test DATEINAME</code> </td><td> Die Veränderungen werden nicht in das NVRAM geschrieben, sondern in die angegebene Datei </td></tr><tr><td> <code class="notranslate">-t</code> </td><td> <code class="notranslate">--timeout SEKUNDEN</code> </td><td> Setzen des Timeouts zwischen Anzeige des Menüs und Start des Bootloaders </td></tr><tr class="highlight"><td><code class="notranslate">-T</code> </td><td> <code class="notranslate">--delete-timeout</code> </td><td> Löschen des Timeouts </td></tr><tr><td> <code class="notranslate">-v</code> </td><td> <code class="notranslate">--verbose</code> </td><td> Erweiterte Informationsausgabe </td></tr><tr class="highlight"><td><code class="notranslate">-V</code> </td><td> <code class="notranslate">--version</code> </td><td> Anzeige der Versionsnummer </td></tr><tr><td> <code class="notranslate">-w</code> </td><td> <code class="notranslate">--write-signature</code> </td><td> Schreiben einer eindeutigen Signatur in den MBR (sofern benötigt) </td></tr></table></div><div class="section_1"><h2 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h2><p>
</p><div class="section_2"><h3 id="Auflistung-aller-Eintraege-Kurzformat">Auflistung aller Einträge (Kurzformat)<a class="headerlink" href="#Auflistung-aller-Eintraege-Kurzformat">¶</a></h3><p>
Ohne die Angabe einer Option werden die Einträge in einem Kurzformat aufgelistet.
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo efibootmgr </pre></div></div><p><strong>Musterausgabe:</strong>
</p><pre class="notranslate">BootCurrent: 0019
BootNext: 0005
Timeout: 10 seconds
BootOrder: 0019,001A,0006,0007,0008,0009,000A,000B,000C,000D,000E,000F,0010,0011,0012,0013
Boot0000  Setup
Boot0001  Boot Menu
Boot0002  Diagnostic Splash Screen
Boot0003  Startup Interrupt Menu
Boot0004  ME Configuration Menu
Boot0005  Rescue and Recovery
Boot0006  USB CD
Boot0007  USB FDD
Boot0008* ATAPI CD0
Boot0009* ATA HDD2
Boot000A* ATA HDD0
Boot000B* ATA HDD1
Boot000C* USB HDD
Boot000D  PCI LAN
Boot000E  ATAPI CD1
Boot000F  ATAPI CD2
Boot0010  Other CD
Boot0011  ATA HDD3
Boot0012  ATA HDD4
Boot0013  Other HDD
Boot0014* IDER BOOT CDROM
Boot0015* IDER BOOT Floppy
Boot0016* ATA HDD
Boot0017* ATAPI CD:
Boot0018* PCI LAN
Boot0019* Ubuntu 1
Boot001A* Ubuntu 2</pre><p>Erläuterung zur Musterausgabe:
</p><ol class="arabic"><li><p><code class="notranslate">BootCurrent</code>: Der aktuell genutzte Booteintrag (Num. = Hexwert).</p></li><li><p><code class="notranslate">BootNext</code>: Der Booteintrag der als nächstes, einmalig beim Neustart ausgeführt wird (Num. = Hexwert).</p></li><li><p><code class="notranslate">BootOrder</code>: Die Bootreihenfolge der Einträge (Num. = Hexwert).</p></li><li><p><code class="notranslate">Timeout</code>: Die Wartezeit in Sekunden zwischen dem Anzeigen des Menüs und dem Starten des Bootloaders.</p></li><li><p><code class="notranslate">BootXXXX*</code>: Die verschiedenen Booteinträge (hier 6 Stück) – dabei bedeutet ein nachgestelltes <strong>*</strong>, dass der Bootloader als aktiv gekennzeichnet ist.</p></li></ol><p>
</p></div><div class="section_2"><h3 id="Auflistung-aller-Eintraege-Langformat">Auflistung aller Einträge (Langformat)<a class="headerlink" href="#Auflistung-aller-Eintraege-Langformat">¶</a></h3><p>
Mittels der Option <code class="notranslate">--verbose</code> werden die Einträge in erweiterter Form dargestellt. Bei Bootproblemen sollte man insbesondere auf die angezeigten GUIDs achten. Stimmen diese nicht überein bzw. sind falsch (im Bsp. an den letzten beiden Einträgen dargestellt), dann kann man sie zwar über das EFI-Menü auswählen, aber das dazugehörige System startet nicht.
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo efibootmgr --verbose </pre></div></div><p><strong>Musterausgabe:</strong>
</p><pre class="notranslate">BootCurrent: 0019
Timeout: 10 seconds
BootOrder: 0019,001A,0006,0007,0008,0009,000A,000B,000C,000D,000E,000F,0010,0011,0012,0013
Boot0000  Setup	
Boot0001  Boot Menu	
Boot0002  Diagnostic Splash Screen	
Boot0003  Startup Interrupt Menu	
Boot0004  ME Configuration Menu	
Boot0005  Rescue and Recovery	
Boot0006  USB CD	030a2400d23878bc820f604d8316c068ee79d25b86701296aa5a7848b66cd49dd3ba7a55
Boot0007  USB FDD	030a2400d23878bc820f604d8316c068ee79d25b6ff015a28830b543a8b8641009471e49
Boot0008* ATAPI CD0	030a2500d23878bc820f604d8316c068ee79d25baea2090adfde214e8b3a5e471857a35401
Boot0009* ATA HDD2	030a2500d23878bc820f604d8316c068ee79d25b91af625956449f41a7b91f4f892ab0f702
Boot000A* ATA HDD0	030a2500d23878bc820f604d8316c068ee79d25b91af625956449f41a7b91f4f892ab0f700
Boot000B* ATA HDD1	030a2500d23878bc820f604d8316c068ee79d25b91af625956449f41a7b91f4f892ab0f701
Boot000C* USB HDD	030a2400d23878bc820f604d8316c068ee79d25b33e821aaaf33bc4789bd419f88c50303
Boot000D  PCI LAN	030a2400d23878bc820f604d8316c068ee79d25b78a84aaf2b2afc4ea79cf5cc8f3d3303
Boot000E  ATAPI CD1	030a2500d23878bc820f604d8316c068ee79d25baea2090adfde214e8b3a5e471856a35603
Boot000F  ATAPI CD2	030a2500d23878bc820f604d8316c068ee79d25baea2090adfde214e8b3a5e471856a35604
Boot0010  Other CD	030a2500d23878bc820f604d8316c068ee79d25baea2090adfde214e8b3a5e471856a35606
Boot0011  ATA HDD3	030a2500d23878bc820f604d8316c068ee79d25b91af625956449f41a7b91f4f892ab0f803
Boot0012  ATA HDD4	030a2500d23878bc820f604d8316c068ee79d25b91af625956449f41a7b91f4f892ab0f804
Boot0013  Other HDD	030a2500d23878bc820f604d8316c068ee79d25b91af625956449f41a7b91f4f892ab0f806
Boot0014* IDER BOOT CDROM	ACPI(a0341d0,0)PCI(16,2)ATAPI(0,1,0)
Boot0015* IDER BOOT Floppy	ACPI(a0341d0,0)PCI(16,2)ATAPI(0,0,0)
Boot0016* ATA HDD	030a2400d23878bc820f604d8316c068ee79d25b91af625956449f41a7b91f4f892ab1f6
Boot0017* ATAPI CD:	030a2400d23878bc820f604d8316c068ee79d25baea2090adfde214e8b3a5e471856a554
Boot0018* PCI LAN	030a2400d23878bc820f604d8316c068ee79d25b78a84aaf2b2afc4ea79cf5cc8f3d3703
Boot0019* Ubuntu 1	HD(1,800,32000,<strong class="highlighted">a44dc908-e0d1-4df5-903f-a8db5f6f66b3</strong>)File(\EFI\ubuntu\grubx64.efi)
Boot001A* Ubuntu 2	HD(4,df6609e,2fbe1,<strong class="highlighted">773a0059-be41-4828-944a-32217f941c95</strong>)File(\EFI\ubuntu\grubx64.efi)</pre><p>
Bei Unstimmigkeiten kann man die eindeutige GUID - in der Musterausgabe markiert: <code class="notranslate">a44dc908-e0d1-4df5-903f-a8db5f6f66b3</code> und <code class="notranslate">773a0059-be41-4828-944a-32217f941c95</code> - für den richtigen EFI-Eintrag zur ESP mittels <a class="internal" href="./gdisk.html#Partitions-Information-detailliert">sgdisk</a> herausfinden. sgdisk listet diese als "unique GUID". Die fehlerhaften Einträge können dann mit efibootmgr <a class="crosslink" href="#Booteintrag-loeschen">gelöscht</a> und notwendige <a class="crosslink" href="#Booteintrag-erstellen">Neueinträge</a> vorgenommen werden.</p></div><div class="section_2"><h3 id="Bootreihenfolge-aendern">Bootreihenfolge ändern<a class="headerlink" href="#Bootreihenfolge-aendern">¶</a></h3><p>
In diesem Beispiel wird die Bootreihenfolge auf die Einträge <code class="notranslate">Boot0005</code> und dann <code class="notranslate">Boot0003</code> eingestellt:
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Es sollte mindestens ein echtes bootfähiges Medium ausgewählt sein, sonst kann es passieren, dass man kein System mehr booten kann.</p><p>Nicht jedes BIOS stellt eine Wiederherstellenfunktion für die Bootreihenfolge zur Verfügung.
</p></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo efibootmgr -o 0005,0003 </pre></div></div><div class="section_3"><h4 id="Einmalige-Bootreihenfolge-festlegen">Einmalige Bootreihenfolge festlegen<a class="headerlink" href="#Einmalige-Bootreihenfolge-festlegen">¶</a></h4><p>
In diesem Beispiel wird der Bootloader für den nächsten Systemstart, einmalig auf den Eintrag zu <code class="notranslate">Boot0004</code> umgestellt: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo efibootmgr --bootnext 0004 </pre></div></div></div></div><div class="section_2"><h3 id="Booteintrag-loeschen">Booteintrag löschen<a class="headerlink" href="#Booteintrag-loeschen">¶</a></h3><p>
Mit dem folgenden Befehl wird der Booteintrag Nummer 15 (Hexwert) gelöscht:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo efibootmgr -b 15 -B </pre></div></div></div><div class="section_2"><h3 id="Booteintrag-erstellen">Booteintrag erstellen<a class="headerlink" href="#Booteintrag-erstellen">¶</a></h3><p>
In diesem Beispiel wird ein neuer Eintrag für einen Bootloader, hier mit dem Namen <code class="notranslate">grubx64.efi</code>, im NVRAM des EFI hinterlegt:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo efibootmgr --create --disk /dev/sda --part 1 --label "Precise - GRUB2" --loader \\EFI\\ubuntu\\grubx64.efi </pre></div></div><p>
</p><ul><li><p><code class="notranslate">--create</code>: Erzeugt einen neuen Eintrag</p></li><li><p><code class="notranslate">--disk /dev/sda</code>: Die Bootloader liegen auf dem Datenträger <strong>/dev/sda</strong></p></li><li><p><code class="notranslate">--part 1</code>: Die EFI System-Partition (ESP) ist die erste Partition</p></li><li><p><code class="notranslate">--label "Precise - GRUB2"</code>: Festlegen des Namens im EFI-Menü</p></li><li><p><code class="notranslate">--loader \\EFI\\ubuntu\\grubx64.efi</code>: Der Verweis zum Bootloader <strong>grubx64.efi</strong> wird auf die ESP und dort zum Unterverzeichis <strong>\EFI\ubuntu</strong> gesetzt. Dabei ist auf die Windows-Verzeichnis-Notation mit Backslash zu achten!</p></li></ul><p>
</p></div></div><div class="section_1"><h2 id="Bekannte-Probleme">Bekannte Probleme<a class="headerlink" href="#Bekannte-Probleme">¶</a></h2><p>
In der Praxis kann es im Einzelfall Systeme geben, bei denen das Setzen der Einträge zunächst korrekt zu funktionieren scheint. Die Einträge werden so lange das System noch läuft mittels efibootmgr gelistet. Bei einem Neustart erscheinen sie dann aber nicht im EFI-Boot-Menü und auch efibootmgr listet sie dann nicht mehr.</p><p>Weitere Informationen und Fallbeispiele sind unter <a class="internal" href="./efi_problembehebung.html#Probleme-mit-Windows">EFI Problembehebung</a> zu finden.</p><p>Lässt sich Ubuntu in einem solchen Fall nicht im EFI-Modus starten, bleibt im Moment keine andere Möglichkeit, als Ubuntu im BIOS-Modus zu installieren (Details siehe Links).</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p></div><div class="section_1"><h2 id="Links-intern">Links - intern<a class="headerlink" href="#Links-intern">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./efi_bootmanagement.html">EFI_Bootmanagement</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersicht zur Artikelserie </p><ul><li><p><a class="internal" href="./efi_grundlagen.html">EFI_Grundlagen</a> - Alles Wissenwerte rund um Ubuntu mit einem (U)EFI-BIOS]</p></li><li><p><a class="internal" href="./efi_installieren.html">EFI_Installieren</a> - Hinweise vor einer und zur Installation</p></li><li><p><a class="internal" href="./efi_deinstallieren.html">EFI_Deinstallieren</a> - Hinweise und Maßnahmen beim Entfernen eines Betriebssystemes</p></li><li><p><a class="internal" href="./efi_externer-datenträger.html">EFI Externer-Datenträger</a> - Einzelnes System oder Multiboot auf externen Datenträger einrichten</p></li><li><p><a class="internal" href="./efi_nachbearbeitung.html">EFI_Nachbearbeitung</a> - Hinweise und Maßnahmen nach einer Installation</p></li><li><p><a class="internal" href="./efi_modus_umstellen.html">EFI Modus umstellen</a> - Umstellung der Boot-Modi von (U)EFI nach BIOS</p></li><li><p><a class="internal" href="./efi_usb-stick.html">EFI USB-Stick</a> - Einen USB-Stick für <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/UEFI">UEFI</a> aufbereiten</p></li><li><p><a class="internal" href="./efi_problembehebung.html">EFI_Problembehebung</a> - eine Sammlung von Erfahrungen, Fragen und Abhilfen</p></li></ul></li></ul><p>
</p><div class="section_2"><h3 id="Extern">Extern<a class="headerlink" href="#Extern">¶</a></h3><p>
</p><ul><li><p><a class="external" href="http://www.easyuefi.com/" rel="nofollow">EasyUEFI</a> <img alt="{us}" src="./_/36152d62b7197ebd79bc885a8a2614445933cf09.png"/> Graphisches Interface zum Bearbeiten vom NVRAM unter Windows</p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface">UEFI</a> - Unified Extensible Firmware Interface</p></li><li><p><a class="external" href="http://linux.die.net/man/8/efibootmgr" rel="nofollow">Manpage</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> auf linux.die.net</p></li><li><p><a class="external" href="https://wiki.archlinux.org/index.php/Unified_Extensible_Firmware_Interface" rel="nofollow">Arch Linux</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Unified Extensible Firmware Interface</p></li><li><p><a class="external" href="http://www.uefi.org/specs/esp_registry" rel="nofollow">ESP-Pfade</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Liste von festgelegten Hersteller-Pfaden auf der EFI System Partition</p></li></ul><p>
</p><ul><li><p><a class="external" href="http://heise.de/-1082020" rel="nofollow">kleine FAQ zu EFI</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - heise.de</p></li><li><p><a class="external" href="http://www.thomas-krenn.com/de/wiki/OS-Installation_auf_UEFI-Systemen" rel="nofollow">TK-Server</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - OS-Installation auf UEFI-Systemen</p></li><li><p><a class="external" href="http://software.intel.com/en-us/articles/uefi-boot-manager-1" rel="nofollow">intel.com</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - UEFI Boot Manager mit Schaubildern</p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./efibootmgr/a/revision/943511.html">Diese Revision</a> wurde am 4. September 2017 22:15 von <a href="https://ubuntuusers.de/user/Zebrafax/">Zebrafax</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./efibootmgr.html">efibootmgr</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>