<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Upstart › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./upstart.html">Upstart</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Upstart">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./upstart/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./upstart/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./upstart/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./upstart/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./upstart/a/backlinks.html">Upstart</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./terminal.html">Einen Terminal öffnen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Wie-Upstart-arbeitet">Wie Upstart arbeitet
</a></li><li><a class="crosslink" href="#Upstart-unter-Ubuntu">Upstart unter Ubuntu
</a></li><li><a class="crosslink" href="#Systemstart">Systemstart
</a></li><li><a class="crosslink" href="#Beispiele">Beispiele
</a></li><li><a class="crosslink" href="#Kritik">Kritik
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./upstart_logo.png" class="image-left" src="./_/d2789eb18d287777d94619c000bf35910f11d2e8.png"/>
<a class="external" href="http://upstart.ubuntu.com" rel="nofollow">Upstart</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein Ubuntu-Projekt, welches den Systemstart von Ubuntu bzw. allgemein Linux beschleunigt. Bisher war geplant, daß Upstart mittel- bis langfristig auch noch weitere Aufgaben bei Linux-Systemen übernehmen sollte. Nach hitzigen Debatten bei <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Debian">Debian</a> und einer Entscheidung für die Alternative <a class="internal" href="./systemd.html">systemd</a> gab Mark Shuttleworth Anfang 2014 bekannt, dass auch Ubuntu ab <a class="internal" href="./14.10.html">14.10</a> nach und nach umgestellt werde: <a class="external" href="http://www.markshuttleworth.com/archives/1316" rel="nofollow">Losing graciously</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Die weitere Entwicklung von Upstart wurde daher eingefroren.</p><div class="section_1"><h2 id="Wie-Upstart-arbeitet">Wie Upstart arbeitet<a class="headerlink" href="#Wie-Upstart-arbeitet">¶</a></h2><p>
Beim Systemstart werden eine Reihe von Programmen und <a class="internal" href="./dienste.html">Diensten</a> gestartet (z.B. der <a class="internal" href="./xserver.html">XServer</a> für die Grafik, der <a class="internal" href="./cups.html">CUPS</a>-Daemon zum Drucken etc.), bevor man mit dem System arbeiten kann. Traditionell werden diese Programme bzw. Dienste über eine in den "run levels" des klassischen <a class="internal" href="./sysvinit.html">SysVinit-Systems</a> festgelegte Reihenfolge geladen. Das Laden erfolgt dabei sequentiell, d.h. ein Dienst nach dem anderen.</p><p>Upstart verwendet einen neuen Ansatz, um den Systemstart zu beschleunigen. Programme und Dienste werden ereignisbasiert geladen und gestartet, wodurch mehrere – voneinander unabhängige – Dienste parallel gestartet werden können. Hierdurch wird die Startgeschwindigkeit erhöht.</p></div><div class="section_1"><h2 id="Upstart-unter-Ubuntu">Upstart unter Ubuntu<a class="headerlink" href="#Upstart-unter-Ubuntu">¶</a></h2><p>
Seit <a class="internal" href="./edgy_eft.html">Ubuntu 6.10</a> ist Upstart fester Bestandteil von Ubuntu und wird standardmäßig zum Systemstart eingesetzt (wobei 6.10 die erste Linux-Distribution überhaupt war, in der Upstart eingesetzt wurde). In <a class="internal" href="./feisty_fawn.html">Ubuntu 7.04</a> wurde eine verbesserte Version von Upstart eingesetzt, mit <a class="internal" href="./jaunty_jackalope.html">Ubuntu 9.04</a> wurde der Bootvorgang durch eine optimierte Hardwareerkennung und eine teilweise Parallelisierung der Startskripte deutlich beschleunigt. Anfang März 2011 wurde Upstart 1.0 veröffentlicht.</p></div><div class="section_1"><h2 id="Systemstart">Systemstart<a class="headerlink" href="#Systemstart">¶</a></h2><p>
Upstart ersetzt das klassische SysVinit-System und damit auch die Start-/Stop-Mechanismen von <a class="internal" href="./dienste.html">Diensten</a>. Allerdings sind noch lange nicht alle Dienste auf Upstart umgestellt, sondern vorrangig die zum Systemstart ("Init-Jobs") erforderlichen. Die Datei <strong>/etc/inittab</strong> entfällt. Wann ein Init-Job aktiv wird, legen Konfigurationsdateien im Ordner <strong>/etc/init/</strong> fest. Alle Dateien in diesem Ordner werden automatisch gestartet. Man braucht also z.B. neue Skripte nicht mehr umständlich zu aktivieren, wie es früher der Fall war.</p><p>Das zentrale Werkzeug ist nun <strong>initctl</strong>, das Init-Jobs startet oder stoppt, Signale verschickt und den Status abfragt. So gibt beispielsweise der Befehl <sup><a href="#source-1">[1]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">initctl list </pre></div></div><p>
eine Liste aller Init-Jobs und ihres Status aus:</p><pre class="notranslate">mountall-net stop/waiting
rc stop/waiting
rsyslog start/running, process 10856
tty4 start/running, process 1132
udev start/running, process 10894
upstart-udev-bridge start/running, process 389
ureadahead-other stop/waiting
avahi-daemon start/running, process 11169
hwclock-save stop/waiting
tty5 start/running, process 1140
apport stop/waiting
atd start/running, process 1169
dbus start/running, process 683
failsafe-x stop/waiting
control-alt-delete stop/waiting
hwclock stop/waiting
network-manager start/running, process 824
usplash stop/waiting
module-init-tools stop/waiting
cron start/running, process 1170
gdm start/running, process 836
mountall stop/waiting
acpid start/running, process 1161
rcS stop/waiting
ufw start/running
hal stop/waiting
rc-sysinit stop/waiting
anacron stop/waiting
tty2 start/running, process 1156
udevtrigger stop/waiting
rsyslog-kmsg start/running, process 556
tty3 start/running, process 1157
udev-finish stop/waiting
hostname stop/waiting
mountall-reboot stop/waiting
mountall-shell stop/waiting
network-interface (lo) start/running
network-interface (eth0) start/running
tty1 start/running, process 1370
udevmonitor stop/waiting
dmesg stop/waiting
networking stop/waiting
procps stop/waiting
tty6 start/running, process 1159
ureadahead stop/waiting</pre><p>Dementsprechend werden mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo initctl [start | stop] Init-Job </pre></div></div><p>
Init-Jobs gestartet bzw. beendet.</p><p>Trotz Upstart ist Ubuntu nicht frei von klassischen SysVinit-Skripten. Diese werden ebenfalls von Upstart aufgerufen. Weitere Informationen zu diesem Thema findet man im Artikel <a class="internal" href="./dienste.html">Dienste</a>.</p><div class="section_2"><h3 id="Verhalten-von-Upstart-beeinflussen">Verhalten von Upstart beeinflussen<a class="headerlink" href="#Verhalten-von-Upstart-beeinflussen">¶</a></h3><p>
Möchte man bestimmte Init-Jobs abändern, so muss man die entsprechende Konfigurationsdatei im Verzeichnis <strong>/etc/init/</strong> editieren.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Änderungen bitte mit Bedacht, entsprechenden Vorsichtsmaßnahmen und nie ohne vorherige Datensicherung vornehmen. Schlimmstenfalls droht ein nicht mehr startendes System.
</p></div></div><p>
</p><div class="section_3"><h4 id="Run-Level-aendern">Run-Level ändern<a class="headerlink" href="#Run-Level-aendern">¶</a></h4><p>
Um zu verhindern, dass ein Dienst in einem bestimmten Run-Level gestartet wird, öffnet man die entsprechende <strong>.conf</strong>-Datei und editiert die Zeile</p><pre class="notranslate">start on runlevel [2345]</pre><p>
Die Zahlen in den eckigen Klammern, repräsentieren dabei die <a class="internal" href="./dienste.html#Start-Stop-Skript-und-Runlevel">Runlevel</a>.</p><p>Entsprechend sollte auch die Zeile
</p><pre class="notranslate">stop on runlevel [!2345]</pre><p>
geändert werden. Das Ausrufezeichen in der Stop-Anweisung bedeutet, dass der Dienst gestoppt wird, wenn sich der Run-Level außerhalb der Aufzählung befindet. Upstart überwacht die Konfigurationsdateien mittels <code class="notranslate">inotify</code>, so dass man beim Testen der Änderungen folgende Meldung erhält:</p><pre class="notranslate">initctl: Unknown job: Init-Job</pre><p>
Erst mit einem Neustart liest Upstart die geänderten Dateien ein. Schneller (und ohne Rechner-Neustart) geht es mit folgendem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo initctl reload-configuration </pre></div></div></div><div class="section_3"><h4 id="Abhaengigkeiten-von-anderen-Prozessen-steuern">Abhängigkeiten von anderen Prozessen steuern<a class="headerlink" href="#Abhaengigkeiten-von-anderen-Prozessen-steuern">¶</a></h4><p>
Wie die unten aufgeführten <a class="internal" href="./upstart.html#Beispiele">Beispiele</a> zeigen, kann Upstart ein Programm oder einen Prozess entweder mit "<code class="notranslate">exec</code>" ausführen oder über ein Skript starten. Dieses Skript befindet sich dann in den Zeilen zwischen den Schlüsselwörtern "<code class="notranslate">script</code>" und "<code class="notranslate">end script</code>". Wenn es nötig ist, dass ein Prozess erst nach einem bestimmten Ereignis startet, dann gibt es prinzipiell zwei Wege:</p><p>Entweder erstellt man sich ein eigenes Upstart-Skript und fügt dessen erfolgte Ausführung als weitere Start-Bedingung in die oben beschriebene "start on"-Zeile der abhängigen Datei <strong>/etc/init/JOBNAME.conf</strong> ein. Hierbei sind auch <a class="external" href="http://upstart.ubuntu.com/wiki/ComplexEventConfig" rel="nofollow">komplexe logische Verknüpfungen</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> möglich, was beispielsweise innerhalb der Datei <strong>gdm.conf</strong> (hier am Beispiel von Ubuntu 10.04) sehr anschaulich zu sehen ist:</p><pre class="notranslate"># gdm - GNOME Display Manager
#
# The display manager service manages the X servers running on the
# system, providing login and auto-login services

description	"GNOME Display Manager"
author		"William Jon McCann &lt;mccann@jhu.edu&gt;"

start on (filesystem
          <strong class="highlighted">and</strong> started dbus
          <strong class="highlighted">and</strong> (drm-device-added card0 PRIMARY_DEVICE_FOR_DISPLAY=1
               <strong class="highlighted">or</strong> stopped udevtrigger))
stop on runlevel [016]

emits starting-dm

env XORGCONFIG=/etc/X11/xorg.conf

script
    if [ -n "$UPSTART_EVENTS" ]
    then
	[ ! -f /etc/X11/default-display-manager -o "$(cat /etc/X11/default-display-manager 2&gt;/dev/null)" = "/usr/sbin/gdm" ] || { stop; exit 0; }

	# Check kernel command-line for inhibitors
	for ARG in $(cat /proc/cmdline)
	do
	    case "${ARG}" in
		text|-s|s|S|single)
		    plymouth quit || :  # We have the ball here
		    exit 0
		    ;;
	    esac
	done
    fi

    if [ -r /etc/default/locale ]; then
	. /etc/default/locale
	export LANG LANGUAGE
    elif [ -r /etc/environment ]; then
	. /etc/environment
	export LANG LANGUAGE
    fi
    export XORGCONFIG

    exec gdm-binary $CONFIG_FILE
end script</pre><p>
Dabei ist aber zu beachten, dass nur das Schlüsselwort "<code class="notranslate">starting</code>" den Moment bezeichnet, an dem der Referenzprozess gestartet wird, und das im Beispiel gezeigte Schlüsselwort "<code class="notranslate">started</code>" einen (beliebigen) Moment, nachdem der Referenzprozess gestartet worden ist. "<code class="notranslate">started</code>" wartet also nicht so lange, bis der referenzierte Prozess fertig abgearbeitet ist.</p><p>Alternativ kann man auch in die betreffende <strong>JOBNAME.conf</strong> ein "<code class="notranslate">pre-start script</code>" einfügen, wie es in der Datei <strong>mysql.conf</strong> (auch wieder am Beispiel von Ubuntu 10.04) schön zu sehen ist:</p><pre class="notranslate"># MySQL Service

description     "MySQL Server"
author          "Mario Limonciello &lt;superm1@ubuntu.com&gt;"

start on (net-device-up
          and local-filesystems
	  and runlevel [2345])
stop on runlevel [016]

respawn

env HOME=/etc/mysql
umask 007

<strong class="highlighted">pre-start script</strong>
    #Sanity checks
    [ -r $HOME/my.cnf ]
    [ -d /var/run/mysqld ] || install -m 755 -o mysql -g root -d /var/run/mysqld
    # Load AppArmor profile
    if aa-status --enabled 2&gt;/dev/null; then
        apparmor_parser -r /etc/apparmor.d/usr.sbin.mysqld || true
    fi
    LC_ALL=C BLOCKSIZE= df --portability /var/lib/mysql/. | tail -n 1 | awk '{ exit ($4&lt;4096) }'
<strong class="highlighted">end script</strong>

exec /usr/sbin/mysqld

post-start script
    for i in `seq 1 30` ; do
        /usr/bin/mysqladmin --defaults-file="${HOME}"/debian.cnf ping &amp;&amp; {
            exec "${HOME}"/debian-start
            # should not reach this line
            exit 2
        }
        sleep 1
    done
    exit 1
end script</pre><p>
Das Pre-Start-Skript wird erst komplett abgearbeitet, bevor der "<code class="notranslate">exec</code>"-Befehl ausgeführt wird.</p><p>Möchte man beispielsweise sicherstellen, dass ein Dateiserver oder NAS nach dessen <a class="internal" href="./wake_on_lan.html">Wake-On-LAN</a> bereits online ist, bevor man sich am Client anmelden kann (bspw. damit die Netzlaufwerke während des Startprozesses korrekt eingebunden werden können), dann kann man das durch ein entsprechendes Pre-Start-Skript, das man in die <strong>gdm.conf</strong> einfügt, erreichen (<a class="crosslink post" href="https://forum.ubuntuusers.de/post/2671581/">Beispiel</a>). Die Folge ist, dass die Anmelde-Maske erst dann erscheint, wenn der Dateiserver oder NAS erfolgreich mit <a class="internal" href="./ping.html">ping</a> erreicht werden konnten.</p></div><div class="section_3"><h4 id="Deaktivieren-von-Init-Jobs">Deaktivieren von Init-Jobs<a class="headerlink" href="#Deaktivieren-von-Init-Jobs">¶</a></h4><p>
Wenn man Init-Jobs dauerhaft deaktivieren möchte, kann man entweder</p><ul><li><p>die Datei <strong>/etc/init/jobname.conf</strong> umbenennen bzw. deren Endung <strong>.conf</strong> entfernen oder</p></li><li><p>innerhalb der Datei <strong>jobname.conf</strong> die Zeile mit "<code class="notranslate">start on</code>" auskommentieren</p></li></ul><p>
Zum Reaktivieren diese Änderungen rückgängig machen.</p><p>Ab Upstart 1.3 bzw. <a class="internal" href="./oneiric.html">Ubuntu 11.10</a> existiert noch eine dritte Variante: <strong>.override</strong>-Dateien. Beispiele:</p><div class="bash"><div class="contents"><pre class="notranslate">echo "manual" | sudo tee /etc/init/jobname.override </pre></div></div><p>
oder</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sh -c "echo 'manual' &gt; /etc/init/jobname.override" </pre></div></div><p>Der Vorteil gegenüber den ersten beiden Varianten ist, dass die Originaldatei <strong>/etc/init/jobname.conf</strong> nicht verändert wird. Möchte man einen Init-Job wieder aktivieren, löscht man einfach die <strong>.override</strong>-Datei (oder entfernt das Schlüsselwort "<code class="notranslate">manual</code>" in dieser Datei).</p></div></div></div><div class="section_1"><h2 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h2><p>
Wer ein eigenes Upstart-Skript schreiben möchte, braucht neben guten Englisch-Kenntnissen auch Beispiele. Nachfolgend ein erster Versuch, abzuspeichern als <strong>/etc/init/hallo_welt.conf</strong>:</p><pre class="notranslate"># Meine ersten Schritte mit Upstart
description	"simples Upstart-Beispiel"
# wann starten bzw. stoppen?
start on runlevel [2345]
stop on runlevel [!2345]
env text_variable="Hallo Welt"
exec echo "$text_variable $(date)" &gt; /var/log/hallo_welt.log</pre><p>
Hiermit wird einfach der Text <em>"Hallo Welt"</em> und das aktuelle Datum in die Datei <strong>/var/log/hallo_welt.log</strong> geschrieben. Wie auch schon in den beiden Skripten weiter oben, wird auch im Beispiel eine Variable mit einem vorangestelltem "<code class="notranslate">env </code>" deklariert. Diese Variable ist dann in allen Abschnitten des Skripts verfügbar. Natürlich bringt ein solches Beispiel keinen konkreten Nutzen, aber vielleicht erleichtert es den Einstieg in Upstart.</p><p>Ein weiteres Beispiel aus dem Artikel <a class="internal" href="./trackpoint.html#Einstellungen-permanent-machen-ab-Ubuntu-9-10">Trackpoint</a> zeigt das Ändern von Werten im <a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/Sysfs">Sysfs</a>:</p><pre class="notranslate">description "Trackpoint-Einstellungen"
start on virtual-filesystems
env TPDIR=/sys/devices/platform/i8042/serio1/serio2
script
  while [ ! -f $TPDIR/sensitivity ]; do
	sleep 2
  done
  echo -n 200 &gt; $TPDIR/sensitivity
  echo -n 150 &gt; $TPDIR/speed
  echo -n 1 &gt; $TPDIR/press_to_select
end script</pre></div><div class="section_1"><h2 id="Kritik">Kritik<a class="headerlink" href="#Kritik">¶</a></h2><p>
So bestechend die Idee von Upstart bei mobilen und Desktop-Rechnern ist, gibt es insbesondere beim Einsatz auf Servern auch Probleme. Zum einen werden diese im Regelfall eher selten neu gestartet, so dass ein schnellerer Bootvorgang nur eine untergeordnete Rolle spielt. Zum anderen hat sich das klassische SysVinit-System in der Praxis seit Jahrzehnten bewährt, auch wenn es definitiv nicht mehr zeitgemäß ist. Durch die Parallelisierung von Upstart lassen sich viele Dienste nicht mehr so einfach wie beim hierarchischen "Step-by-Step" aufeinander abstimmen bzw. erfordern einen höheren Konfigurationsaufwand.</p><p>Bei mancher Hardware kann es bei einer etwas unglücklichen Konfiguration beim Starten zu "Race Conditions" kommen, d.h. es wird versucht irgend etwas zu machen, noch bevor das benötigte dafür bereit ist – in sehr seltenen Fällen kann das dann schon mal sporadisch ("nur so") vorkommen. Schuld sind meistens Bemühungen, den Startprozess zu stark zu optimieren.</p><p>Zur Beschleunigung des Startvorgangs gibt es mit <a class="internal" href="./systemd.html">systemd</a> einen ernsthaften Konkurrenten. Bisher setzte Ubuntu exklusiv auf Upstart, während beispielsweise Arch Linux, Fedora und OpenSuse systemd präferieren. Bei den Versionen nach <a class="internal" href="./trusty.html">Ubuntu 14.04</a> wird daher auch Ubuntu schrittweise zu systemd wechseln. Ab <a class="internal" href="./14.10.html">14.10</a> kann systemd bereits als alternatives Init-System installiert werden, ab <a class="internal" href="./15.04.html">15.04</a> ist systemd auch bei Ubuntu vorinstalliert.</p></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Job-unbekannt">Job unbekannt<a class="headerlink" href="#Job-unbekannt">¶</a></h3><p>
Nach Änderungen an bestehenden Skripten oder bei eigenen Skripten erscheint trotz Einlesen der neuen Konfiguration die Fehlermeldung:
</p><blockquote><p>"initctl: Unknown job: hallo_welt"</p></blockquote><p>
Eventuell liegt ein Fehler in der Syntax vor. Das Skript lässt sich ab Ubuntu 12.04 mit folgendem Befehl prüfen:</p><div class="bash"><div class="contents"><pre class="notranslate">init-checkconf /etc/init/hallo_welt.conf </pre></div></div></div><div class="section_2"><h3 id="rc-local">rc.local<a class="headerlink" href="#rc-local">¶</a></h3><p>
Vom asynchronen Systemstart sind auch Anweisungen betroffen, die via <strong>/etc/rc.local</strong> ausgeführt werden sollen. Obwohl ein eigenes Upstart-Skript die bessere und zukunftssichere Lösung wäre, kann man betroffene Dienste oder Programme auch einfach zeitverzögert (neu) starten. Wie das konkret geht, ist im Artikel <a class="internal" href="./rc.local.html#Probleme-und-Loesungen">rc.local</a> beschrieben.</p></div><div class="section_2"><h3 id="Logdateien">Logdateien<a class="headerlink" href="#Logdateien">¶</a></h3><p>
Upstart legt für viele Dienste <a class="internal" href="./logdateien.html">Logdateien</a> in <strong>/var/log/upstart/</strong> an.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://upstart.ubuntu.com/" rel="nofollow">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p><ul><li><p><a class="external" href="http://upstart.ubuntu.com/wiki/" rel="nofollow">Upstart Wiki</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - offizielle Spezifikation und Dokumentation zu Upstart</p></li><li><p><a class="external" href="http://upstart.ubuntu.com/cookbook/" rel="nofollow">Upstart Intro, Cookbook and Best Practises</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Einführung, Referenz und Beispiele zur Verwendung von Upstart (auch als <a class="interwiki interwiki-pdf" href="http://upstart.ubuntu.com/cookbook/upstart_cookbook.pdf">PDF</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> verfügbar)</p></li></ul></li><li><p><a class="interwiki interwiki-ubuntu" href="https://wiki.ubuntu.com/ReplacementInit">ReplacementInit</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Ubuntu Wiki-Eintrag zu Upstart; stellt sehr schön die Beweggründe dar, warum Upstart entwickelt wurde.</p></li><li><p><a class="external" href="http://www.heise.de/open/artikel/Schneller-booten-mit-Upstart-844394.html" rel="nofollow">Schneller booten mit Upstart</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - aktualisierte Version eines c't Artikels auf heise Open Source, 10/2009</p></li><li><p><a class="external" href="http://www.galileocomputing.de/artikel/gp/artikelID-343" rel="nofollow">Ubuntu – Upstart</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Ergänzung zum Buch "Ubuntu GNU/Linux" von Marcus Fischer</p></li><li><p><a class="external" href="http://www.linuxplanet.com/linuxplanet/tutorials/6749/" rel="nofollow">Controlling Ubuntu's and Fedora's Upstart (the init replacement)</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - LinuxPlanet 05/2009</p><ul><li><p><a class="external" href="http://www.linuxplanet.com/linuxplanet/tutorials/7033/" rel="nofollow">Ubuntu's Success Story: the Upstart Startup Manager (Linux Boot Camp p.2)</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - LinuxPlanet, 04/2010</p></li></ul></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./upstart/a/revision/940175.html">Diese Revision</a> wurde am 7. Mai 2017 13:35 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./upstart.html">Upstart</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>