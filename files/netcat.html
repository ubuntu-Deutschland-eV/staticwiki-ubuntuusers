<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>netcat › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./netcat.html">netcat</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/netcat">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./netcat/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./netcat/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./netcat/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./netcat/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./netcat/a/backlinks.html">netcat</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Aufruf">Aufruf
</a><ol class="arabic"><li><a class="crosslink" href="#Unterschiede-und-Kompatibilitaet">Unterschiede und Kompatibilität
</a></li><li><a class="crosslink" href="#Unix-Domain-Sockets">Unix Domain Sockets
</a></li></ol></li><li><a class="crosslink" href="#Beispiele">Beispiele
</a><ol class="arabic"><li><a class="crosslink" href="#Simpler-Dateitransfer">Simpler Dateitransfer
</a></li><li><a class="crosslink" href="#Manuell-mit-einem-Server-sprechen">Manuell mit einem Server "sprechen"
</a></li><li><a class="crosslink" href="#Portscan">Portscan
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/terminal.png" class="image-left" src="./_/e81889fd6e485dd32e1cde611eabc18abced7993.png"/>
Netcat, kurz <strong>nc</strong>, ist ein universelles Kommandozeilenwerkzeug. Es kann im Terminal oder in Skripten für die Kommunikation über <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Transmission_Control_Protocol">TCP</a>- und <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/User_Datagram_Protocol">UDP</a>-Netzwerkverbindungen (<a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Internet%20Protocol">Internet Protocol</a> Version 4 und <a class="internal" href="./ipv6.html">Version 6</a>), aber auch lokale <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Unix_Domain_Socket">UNIX Domain Sockets</a> genutzt werden. Damit eignet es sich für zahlreiche Anwendungsfälle zum Thema Netzwerkverbindungen.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Das Paket <strong>netcat-openbsd</strong> ist Bestandteil jeder Ubuntuinstallation, kann aber ansonsten über das Paket:</p><ul><li><p><strong>netcat-openbsd</strong></p></li></ul><p>
installiert werden. Alternativ können auch die Pakete <a class="interwiki interwiki-packages" href="http://packages.ubuntu.com/netcat-traditional">netcat-traditional</a> oder <a class="interwiki interwiki-packages" href="http://packages.ubuntu.com/netcat6">netcat6</a> verwendet werden. Die bevorzugte Variante kann dann mit dem <a class="internal" href="./alternativen-system.html">Alternativen-System</a> eingestellt werden.</p></div><div class="section_1"><h2 id="Aufruf">Aufruf<a class="headerlink" href="#Aufruf">¶</a></h2><p>
Netcat wird mit dem Befehl <sup><a href="#source-1">[1]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">nc [OPTIONEN] HOST PORT </pre></div></div><p>aufgerufen, um sich mit einem bereits laufenden Server zu verbinden. Um stattdessen selbst an einem bestimmten Port auf eingehende Verbindungen zu warten, verwendet man:</p><div class="bash"><div class="contents"><pre class="notranslate">nc [OPTIONEN] -l PORT </pre></div></div><p>In diesem Fall können Portnummern unter <code class="notranslate">1024</code> nur mit Root-Rechten <sup><a href="#source-2">[2]</a></sup> genutzt werden.</p><p>Die bestimmten Varianten von Netcat aus den unterschiedlichen Paketen können auch ganz explizit aufgerufen werden, falls man ein anderes Programm als den eingestellten Standard benutzen möchte:</p><div class="bash"><div class="contents"><pre class="notranslate">nc.openbsd       # aus netcat-openbsd
nc.traditional   # aus netcat-traditional
nc6              # aus netcat6 </pre></div></div><p>nc liest jetzt zu sendende Daten von der Standardeingabe <em>(stdin)</em> und schreibt empfangene Daten auf die Standardausgabe ("stdout"). Meldungen werden auf die Standardfehlerausgabe ("stderr") geschrieben. So kann nc interaktiv genutzt, aber auch für  <a class="internal" href="./shell/umleitungen.html">Shell-Umleitungen</a> eingesetzt werden. <a class="crosslink" href="#Beispiele">Beispiele</a> dazu sind weiter unten zu finden.</p><p>Die folgende Tabelle gibt einige der Optionen für nc.openbsd an. <a class="crosslink" href="#Unterschiede-und-Kompatibilitaet">Unterschiede</a> zu den anderen Versionen sind weiter unten zu finden.</p><p>
</p><table style="width: 97%"><tr class="titel"><td colspan="2"> Optionen von nc </td></tr><tr class="kopf"><td> Option </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">-4</code> / <code class="notranslate">-6</code> </td><td> Erzwingt die Nutzung von IP Version 4 bzw. 6. </td></tr><tr><td> <code class="notranslate">-u</code> </td><td> Nutzt UDP statt TCP. </td></tr><tr><td> <code class="notranslate">-U</code> </td><td> Nutzt Unix Domain Sockets. Es gelten die <a class="crosslink" href="#Unix-Domain-Sockets">unten beschriebenen Besonderheiten</a>. </td></tr><tr><td> <code class="notranslate">-l</code> </td><td> nc wartet auf eingehende Verbindungen ("listen"), anstatt selbst eine Verbindung zu einem anderen Host aufzubauen. Die Angabe eines HOSTs entfällt (siehe oben). Erlaubt die Option <code class="notranslate">-k</code> zu verwenden, sollte aber nicht zusammen mit <code class="notranslate">-p</code>, <code class="notranslate">-s</code> oder <code class="notranslate">-z</code> verwendet werden. </td></tr><tr><td> <code class="notranslate">-k</code> </td><td> nc wartet nach Verbindungsende auf eine neue Verbindung. Nur in Verbindung mit <code class="notranslate">-l</code> möglich. </td></tr><tr><td> <code class="notranslate">-z</code> </td><td> nc scannt nur nach lauschenden ("listening") Diensten (Portscan), anstatt Daten zu senden. </td></tr><tr><td> <code class="notranslate">-s IP</code> </td><td> Gibt an, über welche Netzwerkschnittstelle die Daten gesendet werden sollen. </td></tr><tr><td> <code class="notranslate">-p PORT</code> </td><td> Gibt den lokalen Port an, von dem aus nc die Verbindung aufbauen soll. </td></tr><tr><td> <code class="notranslate">-q SEKUNDEN</code> </td><td> nc wartet die angegebene Zeit nach einem <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/End%20of%20File">End of File</a>-Zeichen (EOF) auf der Standardeingabe und beendet sich dann. Bei einem negativen Wert wartet nc unendlich lange (bis die Netzwerkverbindung getrennt wird). </td></tr><tr><td> <code class="notranslate">-w TIMEOUT</code> </td><td> Verbindungen, die nicht aufgebaut werden können oder nicht genutzt werden, werden nach TIMEOUT Sekunden beendet. <code class="notranslate">-w</code> hat keine Auswirkung, wenn <code class="notranslate">-l</code> ("listen") verwendet wird. </td></tr><tr><td> <code class="notranslate">-v</code> </td><td> Aktiviert ausführlichere Ausgaben. </td></tr></table><p>Mehr Optionen findet man in der <a class="internal" href="./manpage.html">Manpage</a> von nc.</p><div class="section_2"><h3 id="Unterschiede-und-Kompatibilitaet">Unterschiede und Kompatibilität<a class="headerlink" href="#Unterschiede-und-Kompatibilitaet">¶</a></h3><p>
Die jeweils akzeptierten Optionen unterscheiden sich teilweise. Die oben angegebene Tabelle gilt für nc.openbsd.</p><ul><li><p>Optionen, die nc.traditional nicht kennt: <code class="notranslate">-4</code> / <code class="notranslate">-6</code>, <code class="notranslate">-U</code>, <code class="notranslate">-k</code></p></li><li><p>Optionen, die nc6 nicht kennt: <code class="notranslate">-U</code>, <code class="notranslate">-k</code> (aber stattdessen <code class="notranslate">--continuous</code>)</p></li></ul><p>
Laut der <a class="internal" href="./manpage.html">Manpage</a> für nc.openbsd sollte <code class="notranslate">-p</code> nicht in Verbindung mit <code class="notranslate">-l</code> verwendet werden, aber es scheint dennoch zu funktionieren. Bei nc.traditional und nc6 muss die <code class="notranslate">-p</code>-Option angegeben werden, wenn ein "listen"-Port bestimmt werden soll. Außerdem bricht nc.openbsd ab, wenn es ein <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/End%20of%20File">End of File</a>-Zeichen (EOF) über die Standardeingabe liest, während dies nc.traditional und nc6 nicht tun. Bei allen dreien kann der Abbruch bei EOF mit <code class="notranslate">-q 0</code> erzwungen und mit <code class="notranslate">-q -1</code> deaktiviert werden.</p></div><div class="section_2"><h3 id="Unix-Domain-Sockets">Unix Domain Sockets<a class="headerlink" href="#Unix-Domain-Sockets">¶</a></h3><p>
nc.traditional und nc6 beherrschen den Umgang mit Unix Domain Sockets nicht. Die Syntax für Unix Domain Sockets ist etwas anders:</p><div class="bash"><div class="contents"><pre class="notranslate">nc -U [-l] [-u] [WEITERE_OPTIONEN] SOCKET-DATEI </pre></div></div><p>nc verbindet sich so mit einem bestehenden Socket bzw. erstellt mit <code class="notranslate">-l</code> einen Socket, auf dem es lauscht. Es verwendet dazu einen stream socket (stateful = zustandsbehaftet, ähnlich TCP). Mit <code class="notranslate">-u</code> werden stattdessen datagram sockets (stateless = zustandslos, ähnlich UDP) genutzt, doch das funktioniert nicht in allen Ubuntu-Versionen.</p></div></div><div class="section_1"><h2 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h2><p>
Hier ein paar simple Beispiele zum Einsatz von nc. Sie sollen die vielfältigen Einsatzmöglichkeiten aufzeigen, jedoch gibt es dabei auch (fast) immer spezialisierte Programme, die bestimmte Aufgaben wesentlich besser lösen (z.B. Datei- oder Webserver).</p><div class="section_2"><h3 id="Simpler-Dateitransfer">Simpler Dateitransfer<a class="headerlink" href="#Simpler-Dateitransfer">¶</a></h3><p>
Wie man schnell ein Dateiarchiv über ein Netzwerk (bzw. zwischen Host und Gast einer Virtuellen Maschine) übertragen kann, ist im <a class="internal" href="./qemu.html#Einzelne-Dateien">QEMU-Artikel</a> beschrieben. Ein anderes Beispiel soll hier noch gegeben werden. Dazu führt man folgenden Befehl auf dem Rechner aus, der die Datei empfangen soll:</p><div class="bash"><div class="contents"><pre class="notranslate">nc -l 8080 &gt; ZIELDATEI </pre></div></div><p>Nun auf dem Computer, der die Datei senden soll. Dateinamen, IP-Adresse und ggf. auch die Portnummern müssen dabei passend ersetzt werden.
</p><div class="bash"><div class="contents"><pre class="notranslate">nc 192.0.2.123 8080 &lt; QUELLDATEI </pre></div></div><p>Zu beachten bleibt, dass die Datei ohne Verschlüsselung oder andere Sicherheitsmaßnahmen übertragen wird. Dafür sollten andere Werkzeuge wie z.B. <a class="internal" href="./ssh.html#scp">scp</a> verwendet werden.</p></div><div class="section_2"><h3 id="Manuell-mit-einem-Server-sprechen">Manuell mit einem Server "sprechen"<a class="headerlink" href="#Manuell-mit-einem-Server-sprechen">¶</a></h3><p>
Möchte man genau sehen, was ein Server antwortet, um z.B. Fehler zu beheben, kann man auch dazu nc benutzen. Beispiel Webserver:</p><div class="bash"><div class="contents"><pre class="notranslate">echo -e "GET / HTTP/1.1\nHost: ubuntuusers.de\n" | nc ubuntuusers.de 80 </pre></div></div><p>Hier das Versenden einer Mail per SMTP und <a class="internal" href="./postfix.html">Postfix</a>. Die Zeilen, die mit einer Zahl beginnen, sind Serverantworten:</p><div class="bash"><div class="contents"><pre class="notranslate">nc localhost 25 </pre></div></div><p>
</p><pre class="notranslate">220 A ESMTP Postfix (Ubuntu)
HELO localhost
250 A
MAIL FROM:&lt;benutzer@localhost&gt;
250 2.1.0 Ok
RCPT TO:&lt;benutzer@localhost&gt;
250 2.1.5 Ok
DATA
354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;
Dies ist eine Test-E-Mail.
Sie wird per SMTP an Postfix übergeben.
.
250 2.0.0 Ok: queued as C2D2140147
QUIT
221 2.0.0 Bye</pre></div><div class="section_2"><h3 id="Portscan">Portscan<a class="headerlink" href="#Portscan">¶</a></h3><p>
Auch simple Portscans sind mit nc möglich. Diese Beispiele zeigen auch, wie man mehrere Ports gleichzeitig angibt.</p><ul><li><p>Port-Bereich scannen: </p><div class="bash"><div class="contents"><pre class="notranslate">nc -zv localhost 22-25 </pre></div></div><p> </p><pre class="notranslate">nc: connect to localhost port 22 (tcp) failed: Connection refused
nc: connect to localhost port 23 (tcp) failed: Connection refused
nc: connect to localhost port 24 (tcp) failed: Connection refused
Connection to localhost 25 port [tcp/smtp] succeeded!</pre></li><li><p>Zwei einzelne Ports scannen: </p><div class="bash"><div class="contents"><pre class="notranslate">nc -zv localhost 53 631 </pre></div></div><p> </p><pre class="notranslate">nc: connect to localhost port 53 (tcp) failed: Connection refused
Connection to localhost 631 port [tcp/ipp] succeeded!</pre></li></ul><p>
</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Netcat">Wikipedia</a></p></li><li><p><a class="internal" href="./shell/befehlsübersicht.html">Shell/Befehlsübersicht</a> - Übersicht über verschiedene Shellbefehle</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./netcat/a/revision/939696.html">Diese Revision</a> wurde am 5. Mai 2017 21:23 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./netcat.html">netcat</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>