<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>GRUB/Sonderformen_der_Installation › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../grub/sonderformen_der_installation.html">Sonderformen der Installation</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/GRUB/Sonderformen_der_Installation">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../grub/sonderformen_der_installation/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../grub/sonderformen_der_installation/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../grub/sonderformen_der_installation/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../grub/sonderformen_der_installation/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../grub/sonderformen_der_installation/a/backlinks.html">Sonderformen der Installation</a></h1>
<div id="page"><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Fehler bei der Konfiguration des Bootmanagers können zu einem unbenutzbaren System führen.
</p></div></div><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Der ab <a class="internal" href="../karmic_koala.html">Ubuntu 9.10</a> als Standard verwendete neue Bootloader <a class="internal" href="../grub_2.html">GRUB 2</a> wird in einem eigenen Artikel behandelt. Der hier beschriebene Vorgänger wird inzwischen auch als <em>"GRUB Legacy"</em> bezeichnet. Der Artikel <a class="internal" href="../grub_2_durch_grub_ersetzen.html">Grub 2 durch Grub ersetzen</a> erläutert, wie man die ältere GRUB-Version dennoch nutzen kann.
</p></div></div><p>
</p><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../editor.html">Einen Texteditor öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation-auf-Diskette">Installation auf Diskette
</a><ol class="arabic"><li><a class="crosslink" href="#Methode-1">Methode 1
</a></li><li><a class="crosslink" href="#Methode-2">Methode 2
</a></li></ol></li><li><a class="crosslink" href="#GRUB-in-den-Boot-Record-einer-Partition-installieren">GRUB in den Boot Record einer Partition in...</a></li><li><a class="crosslink" href="#Nachtraegliche-Einrichtung-einer-separaten-Bootpartition">Nachträgliche Einrichtung einer separaten ...</a><ol class="arabic"><li><a class="crosslink" href="#Exkurs-Zerstoerte-Boot-Partition-wiederherstellen">Exkurs: Zerstörte Boot-Partition wiederh...</a></li><li><a class="crosslink" href="#GRUB-installieren">GRUB installieren
</a></li></ol></li></ol></div><div class="section_1"><h2 id="Installation-auf-Diskette">Installation auf Diskette<a class="headerlink" href="#Installation-auf-Diskette">¶</a></h2><p>
Um bei Problemen mit dem Bootloader auf einer Festplatte noch eine Notlösung zu haben, kann man GRUB zusätzlich auch auf einer Diskette installieren. Dazu hat man zwei Möglichkeiten. Methode 1 installiert dabei fast das komplette <strong>/boot</strong>-Verzeichnis auf Diskette, so dass man unabhängig vom zu startenden System ist. Methode 2 schreibt nur einen Verweis auf die  <strong>menu.lst</strong> der aktuellen Distribution, geht dafür aber auch schneller und einfacher.</p><div class="section_2"><h3 id="Methode-1">Methode 1<a class="headerlink" href="#Methode-1">¶</a></h3><p>
Eine Diskette ins Laufwerk einlegen und dann die folgenden Befehle im Terminal <sup><a href="#source-1">[1]</a></sup> ausführen:</p><div class="bash"><div class="contents"><pre class="notranslate">mke2fs /dev/fd0 </pre></div></div><p>
Legt auf der Diskette (fd0) ein ext2-Dateisystem an. Alle Daten auf der Diskette gehen verloren.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /media/floppy </pre></div></div><p>
Legt das Verzeichnis <strong>floppy</strong> als Unterverzeichnis des Verzeichnisses <strong>/media</strong> an.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -t ext2 /dev/fd0 /media/floppy </pre></div></div><p>
Bindet das Dateisystem der Diskette (fd0) an das Verzeichnis <strong>/media/floppy</strong></p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /media/floppy/boot </pre></div></div><p>
Legt ein Unterverzeichnis <strong>boot</strong> im Verzeichnis <strong>floppy</strong> an</p><div class="bash"><div class="contents"><pre class="notranslate">cd /media/floppy/boot
sudo cp /usr/lib/grub/i386-pc/* .
sudo cp /usr/sbin/grub .
sudo cp /boot/grub/menu.lst . </pre></div></div><p>
Bei AMD64:</p><div class="bash"><div class="contents"><pre class="notranslate">cd /media/floppy/boot
sudo cp /usr/lib64/grub/x86_64-pc/* .
sudo cp /usr/sbin/grub .
sudo cp /boot/grub/menu.lst . </pre></div></div><p>
Mit dem ersten Befehl wechselt man in das Verzeichnis <strong>/media/floppy/boot</strong>. Die drei weiteren Befehle kopieren die angegebenen Dateien in eben diesen Ordner. Dass der aktuelle Ordner als Zielverzeichnis verwendet werden soll, wird durch den Punkt angezeigt.</p><p>Die Diskette muss jetzt wieder ausgehängt werden, da die Installation sonst mit einem Fehler abbricht. Vorher muss man das Verzeichnis verlassen.</p><div class="bash"><div class="contents"><pre class="notranslate">cd /
sudo umount /dev/fd0 </pre></div></div><p>Nun sind alle benötigten Dateien kopiert und das Programm GRUB kann mit dem Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub </pre></div></div><p>
aufgerufen werden. Mit den folgenden GRUB-Shell-Kommandos wird der Bootloader nun auf der Diskette installiert:</p><div class="bash"><div class="contents"><pre class="notranslate">root (fd0) </pre></div></div><div class="bash"><div class="contents"><pre class="notranslate">install (fd0)/boot/stage1 (fd0) (fd0)/boot/stage2 p (fd0)/boot/menu.lst </pre></div></div><p>
Dieser Befehl muss in einer Zeile eingegeben werden! <em>"stage1"</em> und <em>"stage2"</em> sind zwei unterschiedliche Programmteile von GRUB, die beim Systemstart nacheinander geladen werden. In der Datei <strong> <a class="internal" href="../menu.lst.html">menu.lst</a></strong>, die man mit einem Texteditor <sup><a href="#source-2">[2]</a></sup> bearbeiten kann, sind die Betriebssysteme mit ihren jeweiligen Bootparametern aufgeführt.</p><p>Bei der Installation hört man, wie die Diskette beschrieben wird. Hat alles gut funktioniert, kann man GRUB mit</p><div class="bash"><div class="contents"><pre class="notranslate">quit </pre></div></div><p>
wieder verlassen und einem Test steht nichts mehr im Wege. Natürlich muss bei Einstellung der Boot-Reihenfolge im BIOS das Floppy-Laufwerk an erster Stelle stehen.</p></div><div class="section_2"><h3 id="Methode-2">Methode 2<a class="headerlink" href="#Methode-2">¶</a></h3><p>
Oft reicht es aus, wenn auf der Diskette nur ein Verweis auf die <strong>menu.lst</strong> der aktuellen Distribution liegt. Dies hat den Vorteil, dass das Dateisystem auf der Diskette unberührt bleibt und man so auch eine "normale" FAT-formatierte Diskette benutzen kann.</p><p>Man legt hierfür einfach eine Diskette in das Laufwerk ein, welche aber nicht eingebunden werden darf! Durch den Befehl <sup><a href="#source-1">[1]</a></sup></p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-install /dev/fd0 </pre></div></div><p>
installiert man GRUB nun in den Boot Record der Diskette. Der Eintrag verweist dann aber nur auf das aktuelle Ubuntu.</p><p><a class="crosslink anchor" href="#Grub_im_Boot_Record_einer_Partition" id="Grub_im_Boot_Record_einer_Partition"></a>
</p></div></div><div class="section_1"><h2 id="GRUB-in-den-Boot-Record-einer-Partition-installieren">GRUB in den Boot Record einer Partition installieren<a class="headerlink" href="#GRUB-in-den-Boot-Record-einer-Partition-installieren">¶</a></h2><p>
Z.B. um ein weiteres Linux mit eigener menu.lst zu booten, siehe <a class="internal" href="../menu.lst.html">menu.lst</a>.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-install --root-directory=/mnt/sda7 /dev/sda7 </pre></div></div><p>
sda7 ist hier die Partition, auf der sich das Zweitsystem befindet. <strong>/mnt/sda7</strong> ist die Stelle, an der die Partition eingebunden ist. Arbeitet man gerade auf dem Zweitsystem kann man die <code class="notranslate">--root-directory=/</code> Option auch weglassen. Dabei ist sicherzustellen, dass auch die device.map des Zweitsystems korrekt konfiguriert ist.</p></div><div class="section_1"><h2 id="Nachtraegliche-Einrichtung-einer-separaten-Bootpartition">Nachträgliche Einrichtung einer separaten Bootpartition<a class="headerlink" href="#Nachtraegliche-Einrichtung-einer-separaten-Bootpartition">¶</a></h2><p>
Linux-Traditionalisten und "Sicherheitsfanatiker" separieren gerne die Boot-Daten von dem eigentlichen Linux-System in eine eigene Partition. Unproblematisch ist dies, wenn man sich bereits bei der Installation von Ubuntu selbst für diese Variante entschieden hat. Hier wird der Fall beschrieben, dass dies nachträglich erfolgen soll. Es sind einige Änderungen erforderlich, damit Ubuntu konsequent von der neuen Partition bootet. Die nachfolgende Anleitung führt Schritt für Schritt durch die notwendigen Änderungen durch. Sie bietet sich auch dann an, wenn man aus Versehen seine Boot-Partition zerschossen hat und unglücklicherweise keinen Backup bzw. Boot-Diskette mehr auftreiben kann. Und es empfiehlt sich, nach einer Neuinstallation von Ubuntu, bei der man mit Hilfe des Installations-Assistenten eine getrennte Boot-Partition erstellt hat, die Dateien <strong>/boot/grub/menu.lst</strong>, <strong>/boot/grub/devices.map</strong> und <strong>/etc/fstab</strong> auf die Änderungen zu prüfen und ggf. nachträglich anzupassen.</p><p>Zunächst muss man eine neue Boot-Partition erstellen. Dafür benötigt man <a class="internal" href="../gparted.html">GParted</a> oder einen beliebigen anderen Partition-Editor. 250-500 MB Speicher auf der Festplatte reichen locker aus, um auch mehrere Kernel-Versionen parallel zu unterstützen. Am Beispiel einer neu angelegten Partition in <strong>/dev/sda11</strong> wird nun die weitere Vorgehensweise erläutert:</p><p>Zunächst wird mit  
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkfs -t ext2 /dev/sda11 </pre></div></div><p>
die Partition formatiert. Natürlich funktionieren auch andere Dateisysteme wie ext3 oder ReiserFS.</p><p>Anschließend wird die neu formatierte Boot-Partition ins Verzeichnis <strong>/media</strong> eingebunden: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /media/boot </pre></div></div><p>
und 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -t ext2 /dev/sda11 /media/boot </pre></div></div><p>
Für andere Dateisysteme wie ext3 oder ReiserFS die Option <code class="notranslate">-t</code> anpassen zu <code class="notranslate">ext3</code> bzw. <code class="notranslate">reiserfs</code>.</p><p>Jetzt kann man die im bisherigen Boot-Verzeichnis enthaltenen Dateien in die neue Boot-Partition kopieren mit  
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp -r /boot/* /media/boot </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
Man beachte, dass in der neuen Boot-Partition kein Verzeichnis <strong>boot</strong> erstellt wird. Da die Boot-Partition später ja als Verzeichnis <strong>/boot</strong> in das Root-Verzeichnis eingebunden werden soll, würden sich die Dateien sonst unter <strong>/boot/boot</strong> befinden.</p></div></div><p>
Jetzt muss noch die Datei <strong>/etc/fstab</strong> angepasst werden. Dazu wird ein Verweis auf die neue Partition eingefügt:</p><pre class="notranslate"># /etc/fstab: static file system information.
#
# &lt;file system&gt; &lt;mount point&gt;       &lt;type&gt;           &lt;options&gt;                &lt;dump&gt;  &lt;pass&gt;

   proc          /proc               proc             defaults                  0       0

# /dev/sda11
UUID=9e9e5184-127f-45d2-bf4a-e6f0a112f180   /boot  ext2 defaults,errors=remount-ro  0       1</pre><p>
Die UUID der neuen Partition ermittelt man mittels folgendem Kommando: 
</p><div class="bash"><div class="contents"><pre class="notranslate">ls -l /dev/disk/by-uuid </pre></div></div><p>
Es muss die in der Ausgabe des Befehls angegebene UUID der neuen Boot-Partition in <strong>/etc/fstab</strong> eingefügt werden, da sonst GRUB die Partition nicht findet.</p><p>Abschließend die neue Boot-Partition in das Wurzelverzeichnis einbinden: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo umount /media/boot
sudo mount -t ext2 /dev/sda11 /boot </pre></div></div><p>Das weiter oben angelegte Verzeichnis <strong>/media/boot</strong> wird nun nicht mehr benötigt und kann gelöscht werden:
</p><div class="bash"><div class="contents"><pre class="notranslate">rmdir /media/boot </pre></div></div><div class="section_2"><h3 id="Exkurs-Zerstoerte-Boot-Partition-wiederherstellen">Exkurs: Zerstörte Boot-Partition wiederherstellen<a class="headerlink" href="#Exkurs-Zerstoerte-Boot-Partition-wiederherstellen">¶</a></h3><p>
Sollte eine Bootpartition bereits existieren, deren Inhalt aber zerstört worden sein, so kann der Inhalt wie folgt wiederhergestellt werden:
Von der Ubuntu-Live-CD oder einem ähnlichem Boot-Medium das System im Rescue-Modus booten. Ein Terminal <sup><a href="#source-1">[1]</a></sup> im bisherigen Root-System (im Beispiel <strong>/dev/sda1</strong>) ausführen die Boot-Partition mit  
</p><div class="bash"><div class="contents"><pre class="notranslate">fdisk /dev/sda </pre></div></div><p>
neu erstellen und/oder mit  
</p><div class="bash"><div class="contents"><pre class="notranslate">mkfs -t ext2 /dev/sda11 </pre></div></div><p>
formatieren. Anschließend die Boot-Partition mit  
</p><div class="bash"><div class="contents"><pre class="notranslate">mount -t ext2 /dev/sda11 /boot </pre></div></div><p>
einbinden. Dann von der <a class="internal" href="../live-cd.html">Live-CD</a> oder mittels 
</p><div class="bash"><div class="contents"><pre class="notranslate">apt-get --reinstall install </pre></div></div><p>
über das Internet das Paket</p><ul><li><p><strong>linux-image-&lt;Kernel-Version&gt;-generic</strong> </p></li></ul><p>installieren. Auf diese Art erhält man die für die Installation von GRUB benötigten Kernel-Dateien in das Verzeichnis <strong>/boot</strong> installiert. Anschließend muss noch die UUID der Boot-Partition in der Datei <strong>/etc/fstab</strong> wie oben beschrieben angepasst werden.</p></div><div class="section_2"><h3 id="GRUB-installieren">GRUB installieren<a class="headerlink" href="#GRUB-installieren">¶</a></h3><p>
Der Befehl <strong>grub-install</strong> installiert GRUB neu und schreibt den Bootloader in den MBR der angegebenen Festplatte:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-install /dev/sda </pre></div></div><p>
Als Rückmeldung gibt GRUB die interne Festplattennumerierung zurück:</p><pre class="notranslate">(hd0)   /dev/sda
(hd1)   /dev/hda
(hd2)   /dev/sdb</pre><p>
Sollte diese nicht korrekt sein, muss die vom GRUB-Installer neu erstellte Datei <strong>/boot/grub/devices.map</strong> angepasst und <strong>grub-install</strong> nochmals ausgeführt werden.</p><p>Anschließend wird mit dem Kommando  
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-grub </pre></div></div><p>
die Installation abgeschlossen. Die Frage, ob die Datei <strong>/boot/grub/menu.lst</strong> erstellt werden soll, bitte mit <em>"Ja"</em> beantworten. Wie eingangs schon erwähnt, tut sich GRUB schwer mit getrennten Boot-Partitionen. Deshalb muss die durch <strong>update-grub</strong> erstellte Datei <strong>/boot/grub/menu.lst</strong> noch angepasst werden. Dafür öffnet man sie in einem Editor mit Root-Rechten <sup><a href="#source-2">[2]</a></sup> und sucht nach den Ubuntu-Boot-Einträgen. Diese sollten etwa wie folgt aussehen:</p><pre class="notranslate">title        Ubuntu, kernel 2.6.20-15-generic
root        (hd0,0)
kernel        /boot/vmlinuz-2.6.20-15-generic root=UUID=fe7bf845-7ce9-4733-b6de-f70f2b62076d ro quiet splash
initrd        /boot/initrd.img-2.6.20-15-generic
quiet
savedefault</pre><p>
Damit GRUB Ubuntu booten kann, müssen diese automatisch (leider fehlerhaft) eingestellten Einträge (oben) wie (unten) folgt abgeändert werden:</p><pre class="notranslate">title        Ubuntu, kernel 2.6.20-15-generic
root        (hd0,10)
kernel        /vmlinuz-2.6.20-15-generic root=UUID=fe7bf845-7ce9-4733-b6de-f70f2b62076d ro quiet splash
initrd        /initrd.img-2.6.20-15-generic
quiet
savedefault</pre><p>
Dabei verweist root nun auf die neue Boot-Partition in interner GRUB-Darstellung (die Partitionen werden von 0 an aufwärts gezählt) und <strong>/boot</strong> muss aus der Pfadangabe für "vmlinuz" und "initrd.img" entfernt werden, da die Boot-Partition wie weiter oben schon angemerkt kein Boot-Verzeichnis enthält. Die UUID im Eintrag <code class="notranslate">kernel</code> muss nicht angepasst werden, da sie ja korrekterweise auf die Root-Partition verweist. Um bei zukünftigen Kernel-Updates durch Ubuntu nicht böse Überraschungen zu erleben, muss man den Verweis auf die Boot-Partition (<code class="notranslate">root (hd0,10)</code>) noch vor Änderungen durch <strong>update-grub</strong> schützen. Dazu editiert man die <code class="notranslate">groot</code>-Zeile im "debian automagic kernels list"-Teil der <strong>/boot/grub/menu.lst</strong>-Datei:</p><pre class="notranslate">## default grub root device
## e.g. groot=(hd0,0)
# groot=(hd0,0)</pre><p>
Die Zeile findet man durch Blättern nach oben und ändert sie im Texteditor wie folgt ab:</p><pre class="notranslate">## default grub root device
## e.g. groot=(hd0,0)
# groot=(hd0,10)</pre><p>
<code class="notranslate">(hd0,0)</code> ist der alte GRUB-Verweis auf die Wurzel-Partition, in der sich bislang der Kernel befand und <code class="notranslate">(hd0,10)</code> ist die GRUB-Referenz auf die neue Boot-Partition, in die von nun an die neuen Kernel installiert werden sollen. Bitte nicht das Kommentarzeichen entfernen. Außerdem ist darauf zu achten, dass die GRUB-Referenzen auf die richtigen Partitionen des Computers verweisen. Dazu die in diesem Wiki verwendeteten Beispiele sorgfältig anpassen. Dabei nicht vergessen, die Änderungen in der Datei <strong>menu.lst</strong> zum Abschluss zu speichern. Es empfiehlt sich außerdem eine Sicherheitskopie der Datei sowohl im Boot-Verzeichnis als auch wie später noch beschrieben auf einer Diskette anzulegen.</p><p>Zum Abschluss muss das Kommando
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-grub </pre></div></div><p>
ausgeführt werden. Dadurch werden Änderungen an den Optionen in die automatisch verwalteten Kerneleinträge übernommen. Ohne dieses Kommando wirken Änderungen an bestimmten Optionen nicht.<br/>Nun das System neu booten, dabei nicht vergessen, die evtl. noch eingelegte Ubuntu-Live-CD zuvor zu entfernen.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
Auf keinen Fall nach dem Reboot des Systems versuchen, das alte <strong>/boot</strong>-Verzeichnis zu löschen. Der neue Eintrag in der <strong>/etc/fstab</strong>-Datei hat schon dafür gesorgt, dass die neue Boot-Partition als Verzeichnis <strong>/boot</strong> in das System eingebunden worden ist. Alle Änderungen - d.h. auch das Löschen von Daten - unterhalb von /boot erfolgt nun in der neuen Boot-Partition.
</p></div></div><p></p></div></div></div>
<p class="meta">
<a href="../grub/sonderformen_der_installation/a/revision/606232.html">Diese Revision</a> wurde am 24. Mai 2013 15:10 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../grub.html">GRUB</a></li>
<li><a href="../grub/sonderformen_der_installation.html">Sonderformen der Installation</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>