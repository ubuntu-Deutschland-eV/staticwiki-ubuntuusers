<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Ocrad › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./ocrad.html">Ocrad</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Ocrad">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./ocrad/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./ocrad/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./ocrad/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./ocrad/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./ocrad/a/backlinks.html">Ocrad</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./archivmanager.html">Archve entpacken</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./programme_kompilieren.html">Pakete aus dem Quellcode erstellen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./rechte.html#Datei-ausfuehrbar-machen">Dateien ausführbar machen</a></p></li></ol></div></div><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#Manuelle-Installation">Manuelle Installation
</a></li></ol></li><li><a class="crosslink" href="#Funktionsweise">Funktionsweise
</a></li><li><a class="crosslink" href="#Verwendung">Verwendung
</a><ol class="arabic"><li><a class="crosslink" href="#Optionen">Optionen
</a></li></ol></li><li><a class="crosslink" href="#xsane2ocrad-Ocrad-in-XSane-verwenden">xsane2ocrad - Ocrad in XSane verwenden
</a></li><li><a class="crosslink" href="#Alternativen">Alternativen
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Ocrad.png" class="image-left" src="./_/ec8cf7dfe5cc7e6ebcdd717ee7ec3fa6f55a148c.png"/>
<a class="external" href="http://www.gnu.org/software/ocrad/" rel="nofollow">Ocrad</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein Kommandozeilenwerkzeug zur Texterkennung, das seit 2004 von Antonio Diaz Diaz entwickelt wird. Dabei handelt es sich um ein reines Zeichenerkennungsprogramm, das sprachenunabhängig arbeitet. Unterstützt werden nativ <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/PNM">pnm</a>-Dateien, also <strong>pbm</strong> (schwarz-weiß), <strong>pgm</strong> (Graustufen) oder <strong>ppm</strong> (Farbe). Es verfügt über eine Layout-Erkennung, um Spalten oder Text-Blöcke verarbeiten zu können. Viele OCR-Frontends können Ocrad einsetzen (z.B. <a class="internal" href="./ocrodjvu.html">ocrodjvu</a>, <a class="internal" href="./ocrfeeder.html">OCRFeeder</a>, <a class="internal" href="./xsane2djvu.html">xsane2djvu</a>).</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Ocrad ist in den Paketquellen vorhanden, es müssen die Pakete</p><ul><li><p><strong>ocrad</strong> (<em>universe</em>)</p></li><li><p><strong>libjpeg-progs</strong> (optional, um .<strong>jpeg</strong>-Dateien zu verarbeiten)</p></li><li><p><strong>netpbm</strong> (optional, um z.B. <strong>.png</strong>, <strong>.tiff</strong> oder <strong>.ps</strong>-Dateien zu verarbeiten)</p></li><li><p><strong>ghostscript</strong> (optional, um <a class="internal" href="./pdf.html">PDF</a>-Dateien zu verarbeiten)</p></li><li><p><strong>poppler-utils</strong> (optional, Alternative für PDF-Dateien)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install ocrad libjpeg-progs netpbm ghostscript poppler-utils </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install ocrad libjpeg-progs netpbm ghostscript poppler-utils </pre></div></div><p>
</p></div></div><p>installiert<sup><a href="#source-1">[1]</a></sup> werden.</p><div class="section_2"><h3 id="Manuelle-Installation">Manuelle Installation<a class="headerlink" href="#Manuelle-Installation">¶</a></h3><p>
Aus den Paketquellen erhält man für <a class="internal" href="./trusty.html">Ubuntu 14.04</a> Version 0.22, für <a class="internal" href="./xenial.html">Ubuntu 16.04</a> 0.24; daher kann es sinnvoll sein, die neueste Version (0.26, Stand April 2017) zu verwenden. Dazu wird der Quellcode von der <a class="external" href="http://ftp.gnu.org/gnu/ocrad/" rel="nofollow">Downloadseite</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> heruntergeladen, entpackt<sup><a href="#source-3">[3]</a></sup> und kompiliert<sup><a href="#source-4">[4]</a></sup>. Dazu muss ggf. das <strong>.tar.lz</strong>-Archiv zunächst - z.B. mit <a class="external" href="http://www.nongnu.org/lzip/lzip.html" rel="nofollow">lzip</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - zu einem regulären <strong>.tar</strong> entpackt werden; die <a class="internal" href="./archivmanager.html">Standard-Archivverwaltung</a> hat ansonsten Probleme, das eigentliche Archiv zu entpacken (unter 16.04 nicht nötig).</p></div></div><div class="section_1"><h2 id="Funktionsweise">Funktionsweise<a class="headerlink" href="#Funktionsweise">¶</a></h2><p>
Ocrad verwendet eine Methode, bei der grafische Eigenschaften der Zeichen zur Erkennung herangezogen werden. Dabei wird keine Datenbank o.ä. verwendet. Stattdessen werden Unterschiede in der Form der Zeichen erkannt, die zum Einteilen in bestimmte Zeichen-Kategorien verwendet werden, ähnlich einer Binär-Suche, die sich baumartig verzweigt. Diese Methode ist zwar sehr schnell, hat aber den Nachteil, dass Ocrad nur schlecht mit defekten Zeichen umgehen kann, und - anders als <a class="internal" href="./gocr.html#GOCR-trainieren">GOCR</a>  - kaum trainierbar ist.</p><p>Theoretisch können mit dieser Methode 2<strong><small><sup>31</sup></small></strong> Zeichen (über zweitausendmillionen) unterschieden werden; diese Unsumme schränkt man besser mit der Option <code class="notranslate">-c</code> oder <code class="notranslate">-F</code> ein; Standard ist die Verwendung des Zeichensatzes <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/ISO_8859-15">ISO_8859-15</a>.</p><p>Ocrad liest als erstes das Vorgabebild in den Arbeitsspeicher ein. Optional wird eine Bearbeitung (Drehen/Spiegeln, Zuschnitt, Skalierung) durchgeführt, und eine Layout-Analyse angeschlossen. Danach werden Rahmen und Bilder entfernt, die Zeichen gefunden und in Zeilen gruppiert. Danach erfolgt die eigentliche Erkennung (für jedes Zeichen einzeln), anschließend werden ggf. Korrekturen vorgenommen (z.B. <code class="notranslate">l.OOO</code> zu <code class="notranslate">1.000</code> etc.). Das Ergebnis wird ausgegeben, und in eine Datei umgelenkt.</p><p>Der Entwickler betrachtet Ocrad dabei eher als Forschungsprojekt; die verwendeten Algorithmen können sich daher je nach Entwicklungsstand und Erkenntnissen des Entwicklers in zukünftigen Versionen verändern.</p></div><div class="section_1"><h2 id="Verwendung">Verwendung<a class="headerlink" href="#Verwendung">¶</a></h2><p>
Die allgemeine Syntax auf der Kommandozeile<sup><a href="#source-4">[4]</a></sup> lautet</p><div class="bash"><div class="contents"><pre class="notranslate">ocrad [OPTON(EN)] [DATEI(EN)] </pre></div></div><p>Um andere Dateiformate zu verwenden, können Programme aus den Paketen <a class="internal" href="./poppler-utils.html">poppler-utils</a>, <strong>libjpeg-progs</strong>, <strong>ghostscript</strong> und <strong>netpbm</strong> verwendet, und das Ergebnis per <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Pipe_(Informatik)">Pipe</a> an Ocrad weitergeleitet werden:</p><div class="bash"><div class="contents"><pre class="notranslate">pdftoppm DOKUMENT.pdf | ocrad                         ## für .pdf, aus poppler-utils
djpeg -greyscale -pnm FILENAME.jpg | ocrad            ## für .jpeg, aus libjpegs-prog
gs -sPAPERSIZE=a4 -sDEVICE=pnmraw -r300 -dNOPAUSE -dBATCH -sOutputFile=- -q FILENAME.ps | ocrad  ## für .ps, auch pdf, aus ghostcript
tifftopnm FILENAME.tiff | ocrad                       ## für .tiff, aus netpbm
pngtopnm FILENAME.png | ocrad                         ## für .png, aus netpbm
pstopnm -stdout -dpi=300 -pgm FILENAME.ps | ocrad     ## für .ps, für .pdf nicht anwendbar, aus netpbm </pre></div></div><p>Ältere Versionen von <code class="notranslate">pstopnm</code> können ggf. die <code class="notranslate">-dpi</code>-Option nicht verarbeiten und geben Bilder aus, die für ein Texterkennung zu klein sind. <code class="notranslate">ocrad</code> kann natürlich jeweils um die gewünschten Optionen erweitert werden.</p><div class="section_2"><h3 id="Optionen">Optionen<a class="headerlink" href="#Optionen">¶</a></h3><p>
</p><p>
</p><table><tr class="titel"><td colspan="3"> Ocrad-Optionen </td></tr><tr class="kopf"><td> Option </td><td colspan="2"> Funktion </td></tr><tr><td> <code class="notranslate">-a|--append</code> </td><td colspan="2"> Hängt den erkannten Text an eine bestehende Ausgabedatei gleichen Namens an </td></tr><tr class="highlight"><td> <code class="notranslate">-c|--charset [Name]</code> </td><td colspan="2"><code class="notranslate">--charset=help</code> listet die Möglichkeiten auf: <code class="notranslate">ascii</code>, <code class="notranslate">iso-8859-9</code>, <code class="notranslate">iso-8859-15</code> (Standard ist <code class="notranslate">iso-8859-15</code> (latin9)) </td></tr><tr><td> <code class="notranslate">-e|--filter [Name]</code> </td><td colspan="2"><code class="notranslate">--filter help</code> listet die Möglichkeiten auf: </td></tr><tr class="highlight"><td> </td><td> <code class="notranslate">none</code> </td><td> Keine Filterung (Standard) </td></tr><tr><td> </td><td> <code class="notranslate">letters</code> </td><td> Jedes Zeichen, das einem Buchstaben ähnelt, wird als Buchstabe erkannt; andere Zeichen werden unverändert ausgegeben  </td></tr><tr class="highlight"><td> </td><td> <code class="notranslate">letters_only</code> </td><td> Wie <code class="notranslate">letters</code>, aber alles andere wird entfernt </td></tr><tr><td> </td><td> <code class="notranslate">numbers</code> </td><td> Jedes Zeichen, das einer Ziffer ähnelt, wird als Ziffer erkannt; andere Zeichen werden unverändert ausgegeben  </td></tr><tr class="highlight"><td> </td><td> <code class="notranslate">numbers_only</code> </td><td> Wie <code class="notranslate">numbers</code>, aber alles andere wird entfernt </td></tr><tr><td> <code class="notranslate">-f|--force</code> </td><td colspan="2"> Bestehende Ausgabedatei wird überschrieben </td></tr><tr class="highlight"><td><code class="notranslate">-F|--format [FORMAT]</code> </td><td colspan="2"> Ausgabeformat, möglich sind <code class="notranslate">byte</code> und <code class="notranslate">utf8</code>, (Standard ist <code class="notranslate">byte</code>, 8 bit) </td></tr><tr><td> <code class="notranslate">-i|--invert</code> </td><td colspan="2"> Invertiere Bild-Lagen (Weiß auf schwarz) </td></tr><tr class="highlight"><td><code class="notranslate">-l|--layout</code> </td><td colspan="2"> Führt eine Layout-Analyse durch. Ocrad kann Textblöcke in beliebiger Form erkennen, wenn sie von einer deutlichen weißen Fläche umgeben sind. </td></tr><tr><td> <code class="notranslate">-o [Datei]</code> </td><td colspan="2"> Schreibt Ausgabe in [DATEI] </td></tr><tr class="highlight"><td> <code class="notranslate">-q|quiet</code> </td><td colspan="2"> Keine Ausgabe von Meldungen </td></tr><tr><td> <code class="notranslate">-s|scale [-][WERT]</code> </td><td colspan="2"> Skaliert die Eingabedatei vor der Layout-Analyse und der Erkennung um den angegebenen Wert; negative Werte [-] verkleinern die Datei um diesen Wert.  </td></tr><tr class="highlight"><td><code class="notranslate">-t|--transform [NAME]</code> </td><td colspan="2"><code class="notranslate">--transform=help</code> listet die Möglichkeiten auf: </td></tr><tr><td> </td><td> <code class="notranslate">none</code> </td><td> keine Veränderung (Standard) </td></tr><tr class="highlight"><td> </td><td> <code class="notranslate">rotate90</code>, <code class="notranslate">rotate180</code>, <code class="notranslate">rotate270</code> </td><td> Drehung um 90°, 180°, 270°, jeweils gegen den Uhrzeigersinn </td></tr><tr><td> </td><td> <code class="notranslate">mirror_lr</code>, <code class="notranslate">mirror_tb</code>, <code class="notranslate">mirror_d1</code>, <code class="notranslate">mirror_d2</code> </td><td> Horizontale, vertikale, diagonale (<strong>d1</strong>:links oben-rechts unten, <strong>d2</strong>:links unten - rechts oben) Spiegelung </td></tr><tr class="highlight"><td><code class="notranslate">-T|--threshold [n%]</code> </td><td colspan="2"> Schwellenwert für Binarisation (<code class="notranslate">0-100%</code>) </td></tr><tr><td> <code class="notranslate">-u|cut [l,t,w,h]</code> </td><td colspan="2"> Schneidet Bild entsprechend der Angaben in <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Pixel">Pixel</a> zu; <code class="notranslate">l</code>=links, <code class="notranslate">t</code>=oben, <code class="notranslate">w</code>=Breite, <code class="notranslate">h</code>=Höhe; <code class="notranslate">l</code> und <code class="notranslate">t</code> geben die Koordinaten obere linke Ecke wieder, von der aus die Breite und Höhe berechnet werden. Der Zuschnitt wird vor allen anderen Aktionen durchgeführt. </td></tr><tr class="highlight"><td><code class="notranslate">-v|--verbose</code> </td><td colspan="2"> "gesprächige" Ausgabe  </td></tr><tr><td> <code class="notranslate">-x [DATEI]</code> </td><td colspan="2"> Exportiert OCR-Ergebnisse in spezielle <a class="external" href="http://www.gnu.org/software/ocrad/manual/ocrad_manual.html#OCR-results-file" rel="nofollow">ORF-<code class="notranslate">DATEI</code></a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </td></tr><tr class="highlight"><td><code class="notranslate">-h|help</code> </td><td colspan="2"> Hilfe </td></tr><tr><td> <code class="notranslate">-V|version</code> </td><td colspan="2"> Ausgabe der Versionsnummer </td></tr><tr class="highlight"><td><code class="notranslate">-D|--debug [LEVEL]</code> </td><td colspan="2"> Level zwischen <code class="notranslate">0-100</code>, gibt intermediäre Daten zur Fehlersuche aus (debug) </td></tr></table><p>Weitere Informationen in der <a class="internal" href="./man.html">Manpage</a> des Programms, sowie im <a class="external" href="http://www.gnu.org/software/ocrad/manual/ocrad_manual.html" rel="nofollow">Online-Manual</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p></div></div><div class="section_1"><h2 id="xsane2ocrad-Ocrad-in-XSane-verwenden">xsane2ocrad - Ocrad in XSane verwenden<a class="headerlink" href="#xsane2ocrad-Ocrad-in-XSane-verwenden">¶</a></h2><p>
Ocrad kann die intern von <a class="internal" href="./xsane.html">XSane</a> verwendeten Bilddateien direkt verwenden. Allerdings lassen sich die Angaben dazu nicht direkt im OCR-Konfigurationsfenster von XSane angeben. Benötigt wird ein kleines Skript, <strong>xsane2ocrad.sh</strong>, das die Optionen ausliest und Ocrad dann startet. Das Skript <a class="crosslink" href="./ocrad.html">herunterladen</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> oder kopieren, in einem Editor<sup><a href="#source-5">[5]</a></sup> laden, unter <strong>xsane2ocrad.sh</strong> abspeichern und ausführbar<sup><a href="#source-6">[6]</a></sup> machen.</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#    xsane2ocrad - ocr with ocrad directly from xsane</span>
<span class="c1">#    Copyright (C) 2012 Heinrich Schwietering</span>
<span class="c1"># </span>
<span class="c1">#    This program is free software: you can redistribute it and/or modify</span>
<span class="c1">#    it under the terms of the GNU General Public License as published by</span>
<span class="c1">#    the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1">#    (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1">#    This program is distributed in the hope that it will be useful,</span>
<span class="c1">#    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1">#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1">#    GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1">#    You should have received a copy of the GNU General Public License</span>
<span class="c1">#    along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="c1">#</span>
<span class="c1">################################################################################</span>
<span class="c1">#                                                                              #</span>
<span class="c1">#                                  xsane2ocrad 0.1                             #</span>
<span class="c1">#                                                                              #</span>
<span class="c1">#                         ***   ocrad made simple   ***                        # </span>
<span class="c1">#                                                                              # </span>
<span class="c1">################################################################################</span>
<span class="c1"># </span>
<span class="c1"># xane2ocrad is a wrapper to use Ocrad with XSane</span>
<span class="c1"># </span>
<span class="c1"># </span>
<span class="c1">#</span>
<span class="nv">TEMP_DIR</span><span class="o">=</span>/tmp/      <span class="c1"># folder for temporary files</span>
<span class="nv">ERRORLOG</span><span class="o">=</span><span class="s2">"xsane2ocrad.log"</span>  <span class="c1"># file where STDERR goes </span>

<span class="k">if</span> <span class="o">[[</span> -z <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>  <span class="o">]]</span>
  <span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">"Usage: </span><span class="nv">$0</span><span class="s2"> [OPTIONS]</span>

<span class="s2">  xsane2ocrad scans image files with XSane, </span>
<span class="s2">  recognizes the text using ocrad</span>
<span class="s2">  and outputs the text in a file.</span>
<span class="s2">  </span>
<span class="s2">  OPTIONS:</span>
<span class="s2">    -i &lt;file1&gt;  define input file (any image-format supported)</span>
<span class="s2">    -o &lt;file2&gt;  define output file (txt, html, hocr, rtf)</span>
<span class="s2">    -e &lt;options&gt; optional, all ocrad-Options, use quotes</span>
<span class="s2"> </span>
<span class="s2">  Progress- &amp; error-messages will be stored in this logfile:</span>
<span class="s2">     </span><span class="nv">$TEMP_DIR$ERRORLOG</span><span class="s2"></span>

<span class="s2">  xsane2ocrad depends on</span>
<span class="s2">    - XSane, http://www.xsane.org/</span>
<span class="s2">    - ocrad, http://www.gnu.org/software/ocrad/</span>
<span class="s2">  </span>
<span class="s2">  Some coding was stolen from 'ocube'</span>
<span class="s2">  http://www.geocities.com/thierryguy/ocube.html</span>

<span class="s2">  This ocrad adaption is based on xsane2tess  </span>
<span class="s2">  http://doc.ubuntu-fr.org/xsane2tess, </span>

<span class="s2">  Hints always welcome! heinrich (dot) schwietering (at) gmx (dot) de</span>
<span class="s2">"</span>
  <span class="nb">exit</span>
<span class="k">fi</span>

<span class="c1"># get options...</span>
<span class="k">while</span> <span class="nb">getopts</span> <span class="s2">":i:o:e:"</span> OPTION
  <span class="k">do</span>
  <span class="k">case</span> <span class="nv">$OPTION</span> in 
    i <span class="o">)</span>  <span class="c1"># input filename (with path)</span>
      <span class="nv">FILE_PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$OPTARG</span><span class="s2">"</span>
    <span class="p">;;</span>
    o <span class="o">)</span>  <span class="c1"># output filename</span>
      <span class="nv">FILE_OUT</span><span class="o">=</span><span class="s2">"</span><span class="nv">$OPTARG</span><span class="s2">"</span>
    <span class="p">;;</span>
    e <span class="o">)</span>  <span class="c1"># extra options</span>
      <span class="nv">EXTRA</span><span class="o">=</span><span class="s2">"</span><span class="nv">$OPTARG</span><span class="s2">"</span>
    <span class="p">;;</span>
  <span class="k">esac</span>
<span class="k">done</span>

<span class="c1"># redirect STDERR to ERRORLOG</span>
<span class="nb">exec</span> <span class="m">2</span>&gt;&gt;<span class="nv">$TEMP_DIR$ERRORLOG</span>
<span class="nb">echo</span> <span class="s2">"~~~+++~~~~+++~~~"</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>

ocrad <span class="s2">"</span><span class="nv">$FILE_PATH</span><span class="s2">"</span> -o <span class="s2">"</span><span class="nv">$FILE_OUT</span><span class="s2">"</span> <span class="nv">$EXTRA</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="nb">echo</span> <span class="s2">"ocrad "</span><span class="nv">$FILE_PATH</span><span class="s2">" -o "</span><span class="nv">$FILE_OUT</span><span class="s2">" </span><span class="nv">$EXTRA</span><span class="s2"> ausgeführt"</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>

<span class="nb">echo</span> <span class="s2">"~~~+++~~~~+++~~~"</span><span class="k">$(</span>date +%c<span class="k">)</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>
</pre></div>
</td></tr></table></div><p>Das Skript ist eine Anpassung des xsane2tess-Skriptes, das auf <a class="external" href="http://doc.ubuntu-fr.org/xsane2tess" rel="nofollow">ubuntu-fr.org</a> <img alt="{fr}" src="./_/a4d7caed6af30e5c7549b4de45c71ed5f7036425.png"/>, der französischen Ubuntu-Seite, veröffentlicht worden ist.</p><p>Das Temporärverzeichnis (Zeile 30) kann entsprechend der eigenen Wünsche abgepasst werden, dort wird auch die <strong>xsane2ocrad.log</strong>-Datei abgelegt, die bei Fehlern ggf. hilfreich ist.</p><p>In <em>"XSane -&gt; Einstellung -&gt; Konfiguration -&gt; Texterkennung"</em> wird als OCR-Befehl <em>"/PFAD/ZU/xsane2ocrad.sh"</em> sowie weitere Optionen eingesetzt, als Option für die Eingabedatei <em>"-i"</em>, für die Ausgabedatei <em>"-o"</em>, alles andere bleibt frei.</p><p>Als weitere Optionen können mit <code class="notranslate">-e</code> alle Ocrad-Optionen verwendet werden, die dann allerdings in Anführungsstriche gestellt werden müssen. So liefert <code class="notranslate">-e "-l -a -F utf8"</code> eine Layouterkennung, an die erstellte Datei können weitere Teile angehängt werden, die Ausgabe erfolgt in UTF-8, der Standardkodierung unter Ubuntu.</p><p>Die Vorlage wird in XSane im Betrachter-Modus als <em>"Strichzeichnung"</em> mit einer Auflösung von 300 dpi erstellt. Im Betrachter die Texterkennung (<img alt="xsane/xsane-ocr.jpg" class="image-default" src="./_/4e3625efd312583aec31a27d72d118b883c2ed49.png"/>-Taste) wählen, der Ausgabename mit entsprechender Endung wird im OCR-Speicher-Dialog festgelegt. Es lassen sich auch mehrerer Scans zu einer Datei aneinander hängen, wenn zum Abspeichern der selbe Name verwendet wird. Alternativ kann auch als Speicherformat <em>"TEXT"</em> angegeben werden, damit lässt sich der "Umweg" über den Betrachter-Modus umgehen und direkt eine Textdatei anlegen.</p><p>Falls Probleme auftauchen, liefert das angelegte Protokoll <strong>xsane2cunei.log</strong> ggf. Hinweise zur Lösung. Die Erkennung erfolgt sehr schnell; allerdings hat Ocrad insbesondere mit dem Buchstaben "w" große Probleme - vielleicht weil er im Spanischen nicht vorkommt...</p></div><div class="section_1"><h2 id="Alternativen">Alternativen<a class="headerlink" href="#Alternativen">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./texterkennung.html">Texterkennung</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/></p></li><li><p><a class="internal" href="./tesseract-ocr.html">tesseract-ocr</a></p></li><li><p><a class="internal" href="./cuneiform-linux.html">Cuneiform-Linux</a></p></li><li><p><a class="internal" href="./gocr.html">GOCR</a></p></li><li><p><a class="internal" href="./ocre.html">ocre</a></p></li><li><p><a class="interwiki interwiki-github" href="https://github.com/tmbdev/ocropy">OCRopus</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.gnu.org/software/ocrad/" rel="nofollow">Ocrad</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p><ul><li><p><a class="external" href="http://www.gnu.org/software/ocrad/manual/ocrad_manual.html" rel="nofollow">Handbuch</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://lists.gnu.org/archive/html/bug-ocrad/" rel="nofollow">Bug-Archiv</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li></ul></li><li><p><a class="external" href="http://ocr1.sc.isc.tohoku.ac.jp/e1/" rel="nofollow">Online-OCR-Service</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>, der Ocrad verwendet</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./ocrad/a/revision/938465.html">Diese Revision</a> wurde am 29. April 2017 18:39 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./ocrad.html">Ocrad</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>