<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Btrfs-Mountoptionen › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./btrfs-mountoptionen.html">Btrfs-Mountoptionen</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Btrfs-Mountoptionen">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./btrfs-mountoptionen/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./btrfs-mountoptionen/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./btrfs-mountoptionen/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./btrfs-mountoptionen/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./btrfs-mountoptionen/a/backlinks.html">Btrfs-Mountoptionen</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li></ol></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die nachfolgende Beschreibung basiert auf einer Kernelversion ab <strong>3.0.0-xx</strong>, mit älteren Kernelversionen führen einige Mountoptionen zu Fehlern bis hin zum Einfrieren des Systems!
</p></div></div><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Hinweise-zur-Anwendung">Hinweise zur Anwendung
</a></li><li><a class="crosslink" href="#Mountoptionen">Mountoptionen
</a></li><li><a class="crosslink" href="#Verbotene-Mountoptionen">Verbotene Mountoptionen
</a></li><li><a class="crosslink" href="#Links">Links
</a><ol class="arabic"><li><a class="crosslink" href="#Informationen">Informationen
</a></li><li><a class="crosslink" href="#Downloads">Downloads
</a></li></ol></li></ol></div><div class="section_1"><h2 id="Hinweise-zur-Anwendung">Hinweise zur Anwendung<a class="headerlink" href="#Hinweise-zur-Anwendung">¶</a></h2><p>
<img alt="btrfs_logo.png" class="image-left" src="./_/ac48c76f4f47687b16a44a1750e0b02a28e34be2.png"/>
Nach einer regulären Installation sind die erforderlichen Optionen zum Einhängen der Datenträger in der Regel schon an den relevanten Stellen richtig eingebracht und es bedarf (vorerst) keiner weiteren Beachtung / Nachbereitung. Will man sein System optimieren oder muss man andere Maßnahmen im Fehlerfalle einleiten, dann sind die folgenden Mountoptionen wichtig und hilfreich - insbesondere die Kenntnis über die Anwendung und Auswirkung.</p><p>In einer Standard-Installation sind bereits folgende Mountoptionen eingebracht:</p><ul><li><p>In der <strong>/boot/grub/grub.cfg</strong><br/>Ein regulärer Menüeintrag unter einem Btrfs-Dateisystem enthält die beispielhafte Kernelzeile mit dem hervorgehobenen Zusatz:<br/></p><pre class="notranslate">linux /@/boot/vmlinuz-3.2.0-18-generic root=UUID=4b033b5f-b1ec-4f9d-9cd0-8fdb700f0d89 ro 
<strong class="highlighted">rootflags=subvol=@</strong> quiet splash vt.handoff=7</pre><p><br/>Muss man hier weitere Optionen einbringen, so kann man diese durch Kommas getrennt hinter <code class="notranslate">subvol=@</code> vor dem eigentlichen Bootvorgang eintragen (siehe hierzu <a class="internal" href="./grub_2/shell.html">GRUB 2 Shell</a>).</p></li></ul><p>
</p><ul><li><p>In der <strong>/etc/fstab</strong> Standardeintrag<br/>Ein Standardeintrag unter einem Btrfs-Dateisystem sieht zur Zeit (<a class="internal" href="./precise_pangolin.html">Ubuntu 12.04</a>) beispielhaft so aus:<br/></p><pre class="notranslate">UUID=4b033b5f-b1ec-4f9d-9cd0-8fdb700f0d89   /   btrfs   <strong class="highlighted">defaults,subvol=@</strong>	0   1</pre><p><br/>Weitere Optionen können durch Kommas getrennt hinter oder zwischen dem markierten Teil eingebracht werden, wie im folgenden Beispiel:</p></li></ul><p>
</p><ul><li><p>In einer nachbearteiten <strong>/etc/fstab</strong><br/>aufgezeigt, die dann beispielhaft so aussehen könnte:<br/></p><pre class="notranslate">UUID=4b033b5f-b1ec-4f9d-9cd0-8fdb700f0d89   / btrfs defaults,subvol=@<strong class="highlighted">,compress,autodefrag,inode_cache</strong>	0   1</pre><p><br/>Ob diese Einträge nach einem Neustart auch in das System übernommen wurden, kann man im Terminal <sup><a href="#source-1">[1]</a></sup> abfragen mit:<br/></p><div class="bash"><div class="contents"><pre class="notranslate">dmesg | grep BTRFS </pre></div></div><p>Als Ergebnis zu obigen beispielhaften Einträgen in der <strong>/etc/fstab</strong> ergibt sich:<br/></p><pre class="notranslate">[    6.676720] btrfs: use zlib compression
[    6.676728] btrfs: enabling auto defrag
[    6.676733] btrfs: enabling inode map caching</pre><p>wobei für <span class="underline">jeden</span> weiteren Eintrag einer Option (z.B. bei <strong>@home</strong>) auch eine entsprechende Information ausgegeben wird.</p></li></ul><p>
</p><ul><li><p>Mounten im Terminal <sup><a href="#source-1">[1]</a></sup><br/>Muss man ein Laufwerk bzw. Unterlaufwerk in sein System einbinden, so kann eine bespielhafte Eingabe wie folgt aussehen:<br/></p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -o subvolid=256,compress /dev/sda5 /mnt </pre></div></div><p>Damit wird von der Partition <strong>/dev/sda5</strong> das Unterlaufwerk (Subvolume) mit der SubvolumeID=256 direkt in das Verzeichnis <strong>/mnt</strong> eingebunden.</p></li></ul></div><div class="section_1"><h2 id="Mountoptionen">Mountoptionen<a class="headerlink" href="#Mountoptionen">¶</a></h2><p>
Für ein Btrfs-Dateisystem stehen die folgenden zusätzlichen Optionen zur Verfügung. Da diese Optionen noch in der Entwicklung sind, ist äußerste Vorsicht bei der Verwendung, insbesondere bei einer Kernelversion älter als <strong>3.0.0-xx</strong> angeraten. Die Verwendung der Standard-Optionen (siehe hierzu <a class="internal" href="./mount.html">mount</a>) kann weiter erfolgen - jedoch sind die Ausführungen unter <a class="crosslink" href="#Verbotene-Mountoptionen">verbotene Optionen</a> zu beachten.</p><p>
</p><table><tr class="titel"><td colspan="2">Mountoptionen für ein Btrfs-Dateisystem </td></tr><tr class="kopf"><td>Option </td><td style="text-align: center">Beschreibung </td></tr><tr><td style="vertical-align: top"><code class="notranslate">subvol=BEZEICHNUNG</code> </td><td> Bindet dieses Unterlaufwerk anstelle des dazu gehörigen Basis-Laufwerkes direkt ein. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">subvolid=ID</code> </td><td> Ein mit dem Befehl <a class="internal" href="./befehle_btrfs-dateisystem.html#btrfs-subvolume-list">btrfs subvolume list</a> ermittelte Laufwerks-ID sollte man anstelle der Bezeichnug für das Unterlaufwerk (Subvolume) eintragen, wenn dieses Unterlaufwerk nicht Bestandteil des Root-Verzeichnisses ist. </td></tr><tr><td rowspan="2" style="vertical-align: top"><code class="notranslate">device=BEZEICHNUNG</code> </td><td> Weist das System an, vor dem Mounten zu untersuchen, ob der angebene Datenträger auch wirklich ein mit Btrfs formatiertes Dateisystem enthält - anderenfalls wird das Laufwerk nicht mit eingebunden. </td></tr><tr><td> Als Bezeichnung kann sowohl eine <a class="internal" href="./uuid.html">UUID</a>, ein <a class="internal" href="./labels.html">LABEL</a> als auch eine Partition mit seiner <strong>/dev</strong>-Bezeichnung angegeben werden. </td></tr><tr><td rowspan="4" style="vertical-align: top; width: 160px; border-style: none"><code class="notranslate">degraded</code> </td><td> Diese Option wird benutzt, wenn in einem Btrfs-Dateisystem mehrere Partitionen / Laufwerke vereinigt wurden (typischerweise in einem RAID-Verbund) und eines dieser Laufwerke als fehlerhaft erkannt wurde. Mit dieser Option kann man </td></tr><tr><td>  - sowohl das Booten mit ergänzender Kerneloption ermöglichen </td></tr><tr><td>  - als auch am Desktop zur Korrektur benutzen </td></tr><tr><td>  - und auftretende Fehlermeldungen ignorieren bzw. abstellen </td></tr><tr><td style="vertical-align: top"><code class="notranslate">user_subvol_rm_allowed</code> </td><td> Diese Option ist erst ab Kernel 3.0.0-xx enthalten und legt fest, dass ein nicht privelegierter Benutzer das mit dieser Option verbundene Unterlaufwerk (Subvolume) löschen darf. Dieses sollte man nur mit Bedacht verwenden! </td></tr><tr class="trennzeile"><td colspan="2"> </td></tr><tr><td style="vertical-align: top"><code class="notranslate">compress</code> </td><td> Aktiviert eine Kompression der Daten beim Speichern. Dieses erfolgt als Standard (kernelseitig) mit "zlib",  solange keine andere Kompression vorgegeben wurde. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">compress=zlib</code> </td><td> "zlib" hat ein gutes Verhältnis der Komprimierung und ist die Standardeinstellung (auch) für ältere Kernel und ist sicher in der Anwendung in Kombination mit den <strong>btrfs-progs</strong> der Version 0.19. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">compress=lzo</code> </td><td> "lzo" weist ein schnelleres Verhalten bei der Komprimierung auf. Diese Komprimierung ist erst ab Kernel 2.6.39+  enthalten und muss gezielt als Option aufgerufen werden. <div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p><a class="internal" href="./grub_2.html">GRUB 2</a> kann bei dieser Art der Komprimierung die <strong>grub.cfg</strong> nicht auslesen und es führt zu einem nicht startfähigen System! Der Aufruf über einen Menüeintrag (aus einem anderen Betriebssystem - Multiboot) bzw. durch eine Eingabe in der <a class="internal" href="./grub_2/shell.html#Kommandozeile">GRUB_2 Kommandozeile</a> erlaubt diese Art der Komprimierung. Die Anwendung mit älteren Kerneln als 3.0.0-xx oder eine ältere Version (0.19) der <strong>btrfs-progs</strong> führen zum Einfrieren des Systemes!
</p></div></div> </td></tr><tr><td style="vertical-align: top"><code class="notranslate">compress-force</code> </td><td> Aktiviert eine Komprimierung auch für Dateien, bei denen es (eigentlich) nichts zu komprimieren gibt (z.B Video-Dateien, ISO-Images). Es wird dabei vom Kernel her als Standard "zlib" verwendet. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">compress-force=zlib</code> </td><td> Diese gezielte Vorgabe ist erst mit Kernel ab 2.6.38+ möglich.  </td></tr><tr><td style="vertical-align: top"><code class="notranslate">compress-force=lzo</code> </td><td> Diese gezielte Vorgabe ist erst mit Kernel ab 2.6.38+ möglich, jedoch gelten auch hier die obigen Einschränkungen zu "lzo". </td></tr><tr class="trennzeile"><td colspan="2"> </td></tr><tr><td colspan="2"> Die folgenden Optionen dürfen bei einem <a class="internal" href="./ssd.html">SSD</a>-Laufwerk nicht verwendet werden. <code class="notranslate">inode_cache</code> und <code class="notranslate">space_cache</code> sind nur sinnvoll als Ergänzung der Optionen in der <strong>/etc/fstab</strong> bzw. beim Mounten im Terminal <sup><a href="#source-1">[1]</a></sup>. Die Maßnahme ist erst (fehlerfrei) ab Kernel 3.0.0-xx anwendbar. <div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Bei der Erstanwendung erfordert die Umstrukturierung, je nach vorhandener Datenmenge, eine erhebliche Zeit.
</p></div></div> </td></tr><tr><td style="vertical-align: top"><code class="notranslate">inode_cache</code> </td><td> Regelt die Verwendung des "Inode Cache".  </td></tr><tr><td style="vertical-align: top"><code class="notranslate">space_cache</code> </td><td> Btrfs speichert die Informationen zu den unbelegten Bereichen auf dem Datenträger ab, um die Zwischenspeicherung der Blöcke zu beschleunigen. Die Einrichtung erfolgt beim ersten Aufruf dieser Option und wird dauerhaft eingebracht. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">clear_cache</code> </td><td> Bereinigt alle Informationen vom <code class="notranslate">space_cache</code> beim nächsten Booten.  </td></tr><tr><td style="vertical-align: top"><code class="notranslate">nospace_cache</code> </td><td> Beendet die Maßnahme der Option <code class="notranslate">space_cache</code> und löscht beim nächsten Booten alle Einstellungen. </td></tr><tr class="trennzeile"><td colspan="2"> </td></tr><tr><td colspan="2"><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Copy-On-Write">Copy On Write</a> Dateisysteme (COW) haben viele Vorteile, aber auch Nachteile - z.B. <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Fragmentierung">Fragmentierung</a>. Btrfs legt die Daten beim ersten Schreiben einer Datei sequentiell ab, aber COW erfordert, dass geänderte Daten nicht einfach überschrieben werden, sondern in freie Speicherbereiche abgelegt werden. Dieses Verhalten ist für <a class="internal" href="./ssd.html">SSD</a>-Laufwerke jedoch von Vorteil. Damit sind dann die Dateien nicht mehr zusammenhängend - also fragmentiert. Das hat dann ggf. auch noch Einfluss auf das Speichern anderer Dateien. Btrfs bietet die manuelle <a class="internal" href="./befehle_btrfs-dateisystem.html#btrfs-filesystem-defragment">Defragmentierung</a> an, um diesem Problem zu begegnen. Auch kann man die Option <code class="notranslate">nodatacow</code> einsetzen, die das COW für Daten abschaltet (siehe weiter unten) oder man benutzt die Option <code class="notranslate">autodefrag</code>. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">autodefrag</code> </td><td> Diese Option, die bei <a class="internal" href="./ssd.html">SSD</a>-Laufwerken nicht gesetzt werden darf, erfasst kleinere Schreibzugriffe für vorhandene Daten und sammelt diese online für eine automatische  Defragmentierung, so dass diese im laufenden Betrieb erfolgen kann. Verwendet werden kann es ab Kernel 3.0.0-xx und wirkt nur auf eingehängte Unterlaufwerke (Subvolumes) - also als zusätzliche Option bei z.B. subvol=@. <div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Zur Zeit ist die automatische Defragmentierung nur für kleinere Dateien und Datenbanken geeignet bzw. sinnvoll (man arbeitet noch daran). Man sollte der aktuellen Arbeitsgeschwindigkeit, insbesondere bei "Single-Core" CPU's entsprechende Beachtung schenken und diese Option ggf. wieder abwählen!
</p></div></div> </td></tr><tr><td style="vertical-align: top"><code class="notranslate">nodatacow</code> </td><td> Diese Option, die bei <a class="internal" href="./ssd.html">SSD</a>-Laufwerken nicht gesetzt werden darf, weist das System an, das COW auszusetzen und schließt dem Benutzer von der Möglichkeit aus, entweder die alte (noch nicht überschriebene) oder die schon korrigierte Datei zu benutzen. <code class="notranslate">datacow</code> sorgt dafür, dass jeweils nur partiell überarbeitete Dateien vorliegen. <code class="notranslate">nodatacow</code> beschleunigt das System minimal - mit der Gefahr, dass partiell überbeschriebene Dateien <span class="underline">auch</span> nicht reparable Fehler enthalten können. Der Einsatz dieser Option ist erst, wenn überhaupt, bei sehr großen Dateien sinnvoll. </td></tr><tr class="trennzeile"><td colspan="2"> </td></tr><tr><td rowspan="3" style="vertical-align: top"><code class="notranslate">ssd</code> </td><td> Diese Option wird in der Regel für das Wurzelverzeichnis schon bei der Installation aktiviert - man sollte aber nach einer Installation überprüfen, ob das auch erfolgte (es gibt Ausnahmen). Auch die anderen Unterlaufwerke (Subvolumes), die auf einer SSD angelegt wurden, sollten entsprechend ergänzt werden. <code class="notranslate">ssd</code> optimiert einige für den Betrieb von Solid State Devices (<a class="internal" href="./ssd.html">SSD</a>) unter Btrfs notwendige Einstellungen. Zu berücksichtigen ist, dass die <code class="notranslate">ssd</code>-Mountoption <em>kein</em> integriertes TRIM besitzt! Nach wie vor muss TRIM per <a class="internal" href="./ssd/trim.html#TRIM-per-Batched-Discard">fstrim</a> ausgeführt werden. <div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Option <code class="notranslate">ssd</code> scheint in neueren Versionen (12.10+) nicht mehr zu existieren. Fügt man sie trotzdem ein, erhält man ein nicht-bootfähiges System, weil die Festplatten nicht gemountet werden können!
</p></div></div> </td></tr><tr><td> Dies ist u.a. die Option <code class="notranslate">ssd_spread</code>, die veranlasst, dass die Daten <span class="underline">zusammenhängend</span> in noch überwiegend freie Bereich auf der SSD geschrieben werden. Andererseits werden die Option <code class="notranslate">autodefrag</code> sowie <code class="notranslate">space_cache</code> abgeschaltet (dafür <code class="notranslate">nospace_cache</code> gesetzt).  </td></tr><tr><td> Die <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Defragmentierung">Defragmentierung</a> spielt bei einer <a class="internal" href="./ssd.html">SSD</a> ohnehin keine Rolle, da die Adressen auf dem Speichermedium direkt angesprochen werden. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">noacl</code> </td><td> Keine <a class="internal" href="./acl.html">ACL's</a> benutzen. ACL ist die Abkürzung für <strong>A</strong>ccess <strong>C</strong>ontrol <strong>List</strong> und steht für einen Datensatz (als ein einheitliches Sicherheitsmerkmal), mit dem der Rechner darüber informiert wird, welche Ausnahmen bzw. Zugriffsrechte einzelne Benutzer oder Gruppen zu den spezifischen Systemobjekten wie Dateien und Verzeichnisse haben (welcher Benutzer lesen, schreiben oder ausführen darf). Siehe die vergleichbaren Hinweise zu <a class="internal" href="./windows-partitionen_einbinden/ntfs-3g.html#acl">ACL</a> in Verbindung mit Windows. <div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Das Abschalten der ACL's mit der Option <code class="notranslate">noacl</code> sollte nur in begründeten Fällen benutzt werden, da dieses ein Sicherheitsrisiko darstellt.
</p></div></div> </td></tr><tr class="trennzeile"><td colspan="2"> </td></tr><tr><td colspan="2"> <div class="box improvable"><h3 class="box improvable">Ausbaufähige Anleitung</h3><div class="contents"><p>
Dieser Anleitung fehlen noch einige Informationen. Wenn Du etwas
verbessern kannst, dann editiere den Beitrag, um die Qualität
des Wikis noch weiter zu verbessern.
</p><hr/><p><strong>Anmerkung:</strong> Nachfolgend noch einige Optionen, die zur Zeit noch in der Entwicklung sind - deshalb wurde auch der Originaltext der Entwickler (vorerst) beibehalten. Es bedarf noch weiterer, intensiver Versuche bzw. qualifizierter Hinweise, wie sich diese Optionen auswirken!
</p></div></div> </td></tr><tr><td style="vertical-align: top"><code class="notranslate">nodatasum</code> </td><td> Do not checksum data. Means bit flips and bit rot might go undetected, but allows for slightly faster operation since data checksum does not have to be calculated. On most modern CPUs this option does not result in any reasonable performance improvement. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">nobarrier</code> </td><td> Do not use device barriers. NOTE: Using this option greatly increases the chances of you experiencing data corruption during a power failure situation. This means full file-system corruption, and not just losing or corrupting data that was being written during a power cut or kernel panic  </td></tr><tr><td style="vertical-align: top"><code class="notranslate">max_inline=&lt;number&gt;</code> </td><td> Set this maximum amount of space that can be used to inline data within a btree leaf. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">alloc_start=&lt;number&gt;</code> </td><td> Set where in the disk we start allocations. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">thread_pool=&lt;number&gt;</code> </td><td> The number of worker threads to allocate. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">notreelog</code> </td><td> This disables the tree logging used for fsync. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">flushoncommit</code> </td><td> Turns on <strong>ext3</strong> like behaviour, where all outstanding delayed allocations are flushed to disk when we commit the transaction. The <code class="notranslate">flushoncommit</code> mount option forces any data dirtied by a write in a prior transaction to commit as part of the current commit.  This makes the committed state a fully consistent view of the file system from the application's perspective (i.e., it includes all completed file system operations).  This was previously the behavior only when a snapshot is created. This is used by Ceph to ensure that completed writes make it to the platter along with the metadata operations they are bound to (by <code class="notranslate">BTRFS_IOC_TRANS_{START,END}</code>). </td></tr><tr><td style="vertical-align: top"><code class="notranslate">metadata_ratio=&lt;number&gt;</code> </td><td> Sets the number of data chunks that need to be allocated to force a metadata chunk allocation. By default this is set to 8. </td></tr></table></div><div class="section_1"><h2 id="Verbotene-Mountoptionen">Verbotene Mountoptionen<a class="headerlink" href="#Verbotene-Mountoptionen">¶</a></h2><p>
</p><p>
</p><table><tr class="titel"><td colspan="2">Verbotene Mountoptionen für ein Btrfs-Dateisystem </td></tr><tr class="kopf"><td>Option </td><td style="text-align: center">Beschreibung </td></tr><tr><td rowspan="3" style="vertical-align: top"><code class="notranslate">discard</code> </td><td> Das Setzen dieser Option bei einem Btrfs-Dateisystem führt zu einem Einfrieren des System - zumindest aber zu einem unkontrolliertem Verhalten. </td></tr><tr><td> Ein <a class="internal" href="./ssd.html">SSD</a>-Laufwerk ist vom Konzept her schneller als ein normales Festplatten-Laufwerk. Es kann die Daten sehr schnell zur Verfügung stellen (Lesen) und auch sehr schnell die Daten ablegen - vorausgesetzt, es sind ausreichend freie Blöcke vorhanden. Ein Schreiben in einmal durch das Löschen freigegebene Speicherbereiche ist erst nach einer Rückstellung der Speicherzellen möglich. Hier kommt jetzt die Option <code class="notranslate">discard</code> ins Spiel, indem die Kernelroutine dem SSD-internem Controller zeitnah mitteilt, welche Blöcke gelöscht wurden und somit wieder auf den Nullzustand gebracht werden sollen.  </td></tr><tr><td> Moderne SSD-Laufwerk-Controller sind so ausgelegt, dass diese auch ohne gezieltes Ansprechen seitens der Kernel diese Rückstellung sehr schnell abarbeiten und damit immer ausreichend Speicherplatz bereit stellen. So kann es sogar zu Verzögerungen kommen, wenn die Option <code class="notranslate">discard</code> von der Kernelroutine generiert wird. Man sollte also ausprobieren, ob diese Option das erwünschte Ergebnis liefert. </td></tr><tr><td style="vertical-align: top"><code class="notranslate">errors=remount-ro</code> </td><td> Diese Option führt zu einem sofortigen Einfrieren des System - es ist danach nicht einmal das Starten im <a class="internal" href="./recovery_modus.html">Recovery Modus</a> möglich. Eine Reparatur ist dann nur noch über ein externes System (Live-CD) durch editieren der <strong>/etc/fstab</strong> möglich, Schäden am Btrfs-Dateisystem wurden beim Setzen dieser Option nicht beobachtet. </td></tr></table></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./btrfs-dateisystem.html">Das Btrfs Dateisystem</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/></p><ul><li><p><a class="internal" href="./faq_btrfs-dateisystem.html">Allgemeine Hinweise zum Btrfs Dateisystem</a></p></li><li><p><a class="internal" href="./installieren_auf_btrfs-dateisystem.html">Installieren auf Btrfs-Dateisystem</a></p></li><li><p><a class="internal" href="./konvertierung_nach_btrfs.html">Konvertierung nach Btrfs</a></p></li><li><p><a class="internal" href="./befehle_btrfs-dateisystem.html">Befehle Btrfs-Dateisystem</a></p></li></ul></li></ul><p>
</p><div class="section_2"><h3 id="Informationen">Informationen<a class="headerlink" href="#Informationen">¶</a></h3><p>
</p><ul><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Btrfs">Btrfs-Dateisystem</a></p></li><li><p><a class="interwiki interwiki-ubuntu_doc" href="https://help.ubuntu.com/community/btrfs">Ubuntu-Help Btrfs</a></p></li><li><p><a class="external" href="https://btrfs.wiki.kernel.org/" rel="nofollow">btrfs.wiki.kernel.org</a> <img alt="{us}" src="./_/36152d62b7197ebd79bc885a8a2614445933cf09.png"/></p></li><li><p><a class="external" href="http://www.admin-magazin.de/Das-Heft/2009/04/Das-neue-Linux-Dateisystem-Btrfs-im-Detail" rel="nofollow">Btrfs im Detail</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="http://www.funtoo.org/wiki/BTRFS_Fun" rel="nofollow">funtoo.org Btrfs</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div><div class="section_2"><h3 id="Downloads">Downloads<a class="headerlink" href="#Downloads">¶</a></h3><p>
</p><ul><li><p><a class="external" href="http://packages.ubuntu.com/raring/btrfs-tools" rel="nofollow">btrfs-tools</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> (für <a class="internal" href="./precise_pangolin.html">Precise Pangolin</a></p></li></ul><p>einsetzbares <strong>.deb</strong>-Paket)
</p><ul><li><p><a class="external" href="http://sourceforge.net/projects/partedmagic/" rel="nofollow">PartedMagic</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./btrfs-mountoptionen/a/revision/940245.html">Diese Revision</a> wurde am 7. Mai 2017 17:40 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./btrfs-mountoptionen.html">Btrfs-Mountoptionen</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>