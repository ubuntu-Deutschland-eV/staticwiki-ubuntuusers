<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Video-Dekodierung_beschleunigen › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./video-dekodierung_beschleunigen.html">Video-Dekodierung beschleunigen</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Video-Dekodierung_beschleunigen">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./video-dekodierung_beschleunigen/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./video-dekodierung_beschleunigen/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./video-dekodierung_beschleunigen/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./video-dekodierung_beschleunigen/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./video-dekodierung_beschleunigen/a/backlinks.html">Video-Dekodierung beschleunigen</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./programme_kompilieren.html">Programme kompilieren</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Voraussetzungen">Voraussetzungen
</a></li><li><a class="crosslink" href="#Videoplayer">Videoplayer
</a><ol class="arabic"><li><a class="crosslink" href="#VLC">VLC
</a></li><li><a class="crosslink" href="#Kodi">Kodi
</a></li><li><a class="crosslink" href="#MPlayer">MPlayer
</a></li><li><a class="crosslink" href="#Mpv">Mpv
</a></li><li><a class="crosslink" href="#Totem">Totem
</a></li><li><a class="crosslink" href="#Flash-Plugin">Flash-Plugin
</a></li></ol></li><li><a class="crosslink" href="#Vorbereitungen">Vorbereitungen
</a></li><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#Systeme-mit-AMD-ATI-Grafik">Systeme mit AMD/ATI-Grafik
</a></li><li><a class="crosslink" href="#Systeme-mit-Nvidia-Grafik">Systeme mit Nvidia-Grafik
</a></li><li><a class="crosslink" href="#Systeme-mit-Intel-Grafik">Systeme mit Intel-Grafik
</a></li></ol></li><li><a class="crosslink" href="#Test">Test
</a><ol class="arabic"><li><a class="crosslink" href="#Test-der-Unterstuetzung-fuer-VA-API">Test der Unterstützung für VA API
</a></li><li><a class="crosslink" href="#Test-der-Unterstuetzung-fuer-VDPAU">Test der Unterstützung für VDPAU
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/movies.png" class="image-left" src="./_/a74ae7a0b393012621277892621a16fa36a5ad6b.png"/>
Die Video-Dekodierung ist vor allem bei hochauflösenden (HD-)Videos ein sehr rechenintensiver Prozess, bei dem schwache Prozessoren (z.B. in Netbooks) überfordert sind und auch Mittelklasse-CPUs an ihre Leistungsgrenzen bringen. Um die CPU zu entlasten und die Dekodierung von HD-Videos auf weniger gut ausgestatteten Systemen überhaupt erst zu ermöglichen, bieten moderne Grafikchips eine Hardwareunterstützung zur Videodekodierung an. Während es zu deren Nutzung auf Windows-Systemen eine einheitliche Schnittstelle gibt (<a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/DirectX">DirectX</a>), gibt es unter Linux gleich drei verschiedene. Jeder der großen Grafikkarten-Hersteller bietet hier eine eigene Lösung:</p><ul><li><p>Intel: <a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/Video_Acceleration_API">VA API</a></p></li><li><p>Nvidia: <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Video_Decode_and_Presentation_API_for_Unix">VDPAU</a></p></li><li><p>AMD/ATI: <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Video_Decode_and_Presentation_API_for_Unix">VDPAU</a>, ab Ubuntu 14.04 über den <a class="internal" href="./grafikkarten/amd/radeon.html">radeon</a> Treiber</p></li><li><p>AMD/ATI: <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/X-Video_Bitstream_Acceleration">XvBA</a> nur bis einschließlich Ubuntu 14.04 über den <a class="internal" href="./grafikkarten/amd/fglrx.html">fglrx</a> Treiber </p></li></ul><p>
Durch verschiedene Treiber bzw. API-Bibliotheken ist es aber auch möglich, die beiden verbreiteten Lösungen VA API und VDPAU herstellerübergreifend zu nutzen. ACHTUNG: Unter dem Wayland/Weston Compositor, der ab Ubuntu 17.10 zumindest optional zum Einsatz kommen wird, ist nur noch eine Videobeschleunigung über VAAPI möglich, aus technischer Sicht ist VDPAU daher keine Zukunftslösung.</p><div class="section_1"><h2 id="Voraussetzungen">Voraussetzungen<a class="headerlink" href="#Voraussetzungen">¶</a></h2><p>
Damit Videobeschleunigung durch die Hardware genutzt werden kann, müssen mehrere Bedingungen erfüllt sein:</p><ol class="arabic"><li><p>Der Grafikchip muss eine Videobeschleunigung bieten</p></li><li><p>Der zugehörige Grafiktreiber muss diese unterstützen (meist sind dies nur durch die proprietären Treiber der Hersteller möglich, ab Kernel 3.13 auch mit denn freien Treiber radeon möglich)</p></li><li><p>Es muss eine passende Bibliothek für die verwendete API installiert sein</p></li><li><p>Die Videoplayer-Software muss die API unterstützen</p></li></ol><p>
Die Videobeschleunigung wird unter Ubuntu bisher von Haus aus leider nur sehr stiefmütterlich behandelt. Es müssen daher einige Pakete nachinstalliert und ggf. ein <a class="internal" href="./paketquellen_freischalten/ppa.html">Personal Package Archiv</a> (PPA) eingebunden werden.</p><p>Die API von AMD/ATI (XvBA) entspricht ziemlich genau dem DirectX-API unter Windows, was es dem Hersteller ermöglicht, für Linux im Prinzip den gleichen Grafiktreiber einzusetzen wie für Windows. Damit wird doppelter Entwicklungsaufwand vermieden und ermöglicht, zeitgleich mit der Windows-Version auch eine Linux-Version der Treiber anzubieten (AMD/ATI liefert monatlich Updates seines fglrx-Treibers).</p><p>Die schlechte Nachricht: die XvBA API wird unter Linux so gut wie überhaupt nicht unterstützt. Und die gute Nachricht: es gibt eine Bibliothek, die Intels VA API in die XvBA API umsetzt, so dass jede Software genutzt werden kann, die das VA API unterstützt. Dadurch hat man es im Wesentlichen nur noch mit 2 APIs zu tun: VA API und VDPAU.</p><p>Neben der Installation der benötigen Bibliotheken für die API des eigenen Systems wird auch noch ein Videoplayer benötigt, der Unterstützung für die jeweilige API nicht nur anbietet, sondern auch einkompiliert hat. Hier gibt es nur wenige Alternativen.</p></div><div class="section_1"><h2 id="Videoplayer">Videoplayer<a class="headerlink" href="#Videoplayer">¶</a></h2><p>
</p><div class="section_2"><h3 id="VLC">VLC<a class="headerlink" href="#VLC">¶</a></h3><p>
Der allseits beliebte <a class="internal" href="./vlc.html">VLC-Player</a> bietet eine Unterstützung für die verschiedenen installierten API's an. Standard ist automatisch. <a class="internal" href="./vlc.html">VLC</a> bietet aber nur eine sehr eingeschränkte Unterstützung an. Aufgrund der Philosophie von VLC, dass Videos gestreamt und zu jedem beliebigen Ziel umgeleitet werden können, muss VLC den Videostream nach der Decodierung vom Grafikchip abholen und ihn anschließend (falls die Ausgabe auf den Bildschirm erfolgen soll) erneut zur Grafikkarte senden. Auf diese Weise wird kaum ein Vorteil aus der Hardwaredecodierung gewonnen.</p><p>Siehe auch <a class="external" href="https://wiki.videolan.org/VLC_GPU_Decoding" rel="nofollow">VLC GPU Dekodierung im VLC-Wiki</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></div><div class="section_2"><h3 id="Kodi">Kodi<a class="headerlink" href="#Kodi">¶</a></h3><p>
<a class="internal" href="./kodi.html">Kodi</a> (ehemals XBMC) ist der am besten funktionierende Videoplayer mit Hardwareunterstützung. Er bietet Unterstützung für beide APIs an. Allerdings müssen auch hier Versionen mit VA API oder VDPAU selbst kompiliert oder aus einem PPA installiert werden.</p><p>Eine ältere <a class="external" href="http://kodi.wiki/view/Hardware_Accelerated_Video_Decoding_Developement" rel="nofollow">Anleitung zur Hardwarebeschleunigung</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> findet man im Kodi-Wiki.</p><p>Für VDPAU lässt sich Kodi aus dem PPA des <a class="interwiki interwiki-lpuser" href="https://launchpad.net/~team-xbmc">team-xbmc</a> installieren. Eine <a class="external" href="http://kodi.wiki/view/HOW-TO_install_XBMC_for_Linux_on_Ubuntu,_a_Step-by-Step_Guide" rel="nofollow">Anleitung</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> findet sich wiederum im Kodi-Wiki. VDPAU wird in dieser Version direkt ohne weitere Einstellungen unterstützt.</p></div><div class="section_2"><h3 id="MPlayer">MPlayer<a class="headerlink" href="#MPlayer">¶</a></h3><p>
<a class="internal" href="./mplayer.html">MPlayer</a> bietet ebenfalls sehr gute Unterstützung für beide APIs an, muss jedoch auch selbst kompiliert werden oder aus einem PPA installiert werden, da in den offiziellen Paketquellen diese Unterstützung fehlt. MPlayer ist ein Player für die Kommandozeile, für den es Zusätze zur grafischen Bedienung gibt (z.B. <a class="internal" href="./mplayer.html#GNOME-MPlayer">GNOME MPlayer</a> oder <a class="internal" href="./smplayer.html">SMplayer</a>). <a class="internal" href="./smplayer.html">SMplayer</a> bietet die Möglichkeit, eine selbstkompilierte Version von MPlayer zu nutzen (der Pfad zum eigentlichen Abspielprogramm ist frei konfigurierbar).</p><p><a class="internal" href="./mplayer.html">MPlayer</a> mit VA API Untersützung kann als Paket <strong>mplayer-vaapi</strong> aus dem <a class="interwiki interwiki-launchpad" href="https://launchpad.net/~sander-vangrieken/+archive/vaapi">PPA</a> von <a class="interwiki interwiki-lpuser" href="https://launchpad.net/~sander-vangrieken">Sander van Grieken</a> installiert werden.</p><p>Bei der Verwendung des <a class="internal" href="./mplayer.html#GNOME-MPlayer">GNOME MPlayer</a> muss als Videoausgabe "vdpau" oder "vaapi" eingestellt und ein Häkchen bei "Enable Video Hardware Support" gesetzt werden.</p></div><div class="section_2"><h3 id="Mpv">Mpv<a class="headerlink" href="#Mpv">¶</a></h3><p>
<a class="internal" href="./mpv.html">Mpv</a> ist eine Abspaltung und Weiterentwicklung des MPlayers. Entwicklungsziele waren die bessere Unterstützung der Fähigkeiten moderner Grafikkarten (GPUs) und die Integration der beim MPlayer in das Programm <a class="internal" href="./mencoder.html">MEncoder</a> ausgelagerten Funktionen zur Erstellung und Konvertierung von Audio- und Video-Dateien. Ein Problem ist, dass Mpv erst ab <a class="internal" href="./trusty.html">Ubuntu 14.04</a> in den offiziellen Paketquellen enthalten ist und somit für Ubuntu 12.04 nicht zur Verfügung steht.</p></div><div class="section_2"><h3 id="Totem">Totem<a class="headerlink" href="#Totem">¶</a></h3><p>
Totem gibt Videos über <a class="internal" href="./gstreamer.html">GStreamer</a> aus. Für GStreamer stellt das Paket <strong>gstreamer1.0-vaapi</strong> bzw. für ältere Ubuntu-Versionen <strong>gstreamer0.10-vaapi</strong> eine Ausgabe über VA API zur Verfügung.</p><p>Unter Ubuntu 12.04 funktionierte dies allerdings nicht (siehe <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/997370">Fehlerbericht</a>), der Fehler ist aber inzwischen behoben.</p></div><div class="section_2"><h3 id="Flash-Plugin">Flash-Plugin<a class="headerlink" href="#Flash-Plugin">¶</a></h3><p>
<a class="internal" href="./adobe_flash.html">Adobe Flash</a> bietet Unterstützung zur Videobeschleunigung über VDPAU an, welche <a class="internal" href="./adobe_flash.html#Video-Dekodierung-beschleunigen">explizit aktiviert</a> werden muss. Die Alternative <a class="internal" href="./gnash.html">Gnash</a> bietet Unterstützung für VA API, allerdings nur, wenn man es selbst kompiliert.</p></div></div><div class="section_1"><h2 id="Vorbereitungen">Vorbereitungen<a class="headerlink" href="#Vorbereitungen">¶</a></h2><p>
Voraussetzung ist natürlich, dass man einen Grafikprozessor hat, der Videobeschleunigung unterstützt. Informationen, welche Grafik im System steckt, findet man im Terminal mit folgendem Befehl heraus:</p><div class="bash"><div class="contents"><pre class="notranslate">lspci -nnk | grep -i VGA -A2 </pre></div></div><p>
Das sieht dann z.B. so aus:</p><pre class="notranslate">01:00.0 VGA compatible controller [0300]: Advanced Micro Devices, Inc. [AMD/ATI] Caicos [Radeon HD 7450A] [1002:6772]
	Subsystem: Lenovo Device [17aa:3623]
	Kernel driver in use: fglrx_pci</pre><p>
Jetzt muss nur noch in Erfahrung gebracht werden, ob die eingebaute Karte auch eine Videobeschleunigung besitzt. Bei AMD/ATI sollte das bei allen Modellen der Radeon-Serie der Fall sein. Für Nvidia-Karten findet man eine Auflistung in der <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/VDPAU#Nvidia">Wikipedia</a> und für Intel-Grafik findet man eine Übersicht in der <a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/Video_Acceleration_API#Overview">englischen Wikipedia</a>.</p></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
</p><div class="section_2"><h3 id="Systeme-mit-AMD-ATI-Grafik">Systeme mit AMD/ATI-Grafik<a class="headerlink" href="#Systeme-mit-AMD-ATI-Grafik">¶</a></h3><p>
</p><div class="section_3"><h4 id="Grafiktreiber">Grafiktreiber<a class="headerlink" href="#Grafiktreiber">¶</a></h4><p>
Als Treiber für die Grafikkarte kommt der proprietäre <a class="internal" href="./grafikkarten/amd/fglrx.html">fglrx</a> (bis einschließlich Ubuntu 14.04) in Frage. Der freie <a class="internal" href="./grafikkarten/amd/radeon.html">radeon</a>-Treiber, der in den offiziellen Paketquellen vorhanden ist, bietet erst ab Kernel 3.13 (also ab Ubuntu 14.04) eine Videobeschleunigung.</p></div><div class="section_3"><h4 id="Unterstuetzung-fuer-VA-API-fglrx-Treiber">Unterstützung für VA API fglrx Treiber<a class="headerlink" href="#Unterstuetzung-fuer-VA-API-fglrx-Treiber">¶</a></h4><p>
Die erforderlichen Laufzeitbibliotheken befinden sich im Paket <strong>xvba-va-driver</strong>. Diese übersetzen VA-API-Aufrufe in die entsprechenden XvBA-Aufrufe. Zusätzlich kann das Paket <strong>vainfo</strong> installiert werden. Damit lässt sich überprüfen, ob die Videobeschleunigung korrekt erkannt wird.</p><ul><li><p><strong>xvba-va-driver</strong> (XvBA-basiertes Backend für VA API)</p></li><li><p><strong>vainfo</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install xvba-va-driver vainfo </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install xvba-va-driver vainfo </pre></div></div><p>
</p></div></div></div><div class="section_3"><h4 id="Unterstuetzung-fuer-vdpau-radeon-Treiber-ab-Trusty">Unterstützung für vdpau radeon  Treiber ab Trusty<a class="headerlink" href="#Unterstuetzung-fuer-vdpau-radeon-Treiber-ab-Trusty">¶</a></h4><p>
</p><ul><li><p><strong>mesa-vdpau-drivers</strong></p></li><li><p><strong>libvdpau1 </strong></p></li><li><p><strong>vdpauinfo</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install mesa-vdpau-drivers libvdpau1  vdpauinfo </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install mesa-vdpau-drivers libvdpau1  vdpauinfo </pre></div></div><p>
</p></div></div></div></div><div class="section_2"><h3 id="Systeme-mit-Nvidia-Grafik">Systeme mit Nvidia-Grafik<a class="headerlink" href="#Systeme-mit-Nvidia-Grafik">¶</a></h3><p>
</p><div class="section_3"><h4 id="Grafiktreiber-2">Grafiktreiber<a class="headerlink" href="#Grafiktreiber-2">¶</a></h4><p>
Als Treiber für die Grafikkarte kommt nur der proprietäre <a class="internal" href="./grafikkarten/nvidia/nvidia.html">nvidia</a> in Frage. Der freie <a class="internal" href="./grafikkarten/nvidia/nouveau.html">nouveau</a>-Treiber bietet keine Videobeschleunigung an.</p></div><div class="section_3"><h4 id="Unterstuetzung-fuer-VDPAU">Unterstützung für VDPAU<a class="headerlink" href="#Unterstuetzung-fuer-VDPAU">¶</a></h4><p>
Für die VDPAU-Unterstüzung werden folgende Bibliotheken benötigt <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>libvdpau1</strong></p></li><li><p><strong>vdpauinfo</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install libvdpau1 vdpauinfo </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install libvdpau1 vdpauinfo </pre></div></div><p>
</p></div></div></div><div class="section_3"><h4 id="Unterstuetzung-fuer-VA-API">Unterstützung für VA API<a class="headerlink" href="#Unterstuetzung-fuer-VA-API">¶</a></h4><p>
Soll ein Player mit VA API verwendet werden, muss zusätzlich das Paket <strong>vdpau-va-driver</strong> installiert werden. Hierbei werden VA-API-Aufrufe in VDPAU-Aufrufe übersetzt.</p><ul><li><p><strong>vdpau-va-driver</strong> (VDPAU-basiertes Backend für VA API)</p></li><li><p><strong>vainfo</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install vdpau-va-driver vainfo </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install vdpau-va-driver vainfo </pre></div></div><p>
</p></div></div></div></div><div class="section_2"><h3 id="Systeme-mit-Intel-Grafik">Systeme mit Intel-Grafik<a class="headerlink" href="#Systeme-mit-Intel-Grafik">¶</a></h3><p>
</p><div class="section_3"><h4 id="Grafiktreiber-3">Grafiktreiber<a class="headerlink" href="#Grafiktreiber-3">¶</a></h4><p>
Der native, standardmäßig verwendete Linux-Treiber ermöglicht grundsätzlich Videobeschleunigung.</p></div><div class="section_3"><h4 id="Unterstuetzung-fuer-VA-API-2">Unterstützung für VA API<a class="headerlink" href="#Unterstuetzung-fuer-VA-API-2">¶</a></h4><p>
Für die Unterstützung der VA API auf Intel Grafikchipsätzen werden folgende Pakete benötigt:</p><ul><li><p><strong>i965-va-driver</strong></p></li><li><p><strong>vainfo</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install i965-va-driver vainfo </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install i965-va-driver vainfo </pre></div></div><p>
</p></div></div></div><div class="section_3"><h4 id="Unterstuetzung-fuer-VDPAU-2">Unterstützung für VDPAU<a class="headerlink" href="#Unterstuetzung-fuer-VDPAU-2">¶</a></h4><p>
Mittels der generischen API Bibliothek <a class="interwiki interwiki-github" href="https://github.com/i-rinat/libvdpau-va-gl">libvdpau-va-gl</a> ist es auch auf Intel Grafikchipsätzen möglich, VDPAU zu nutzen. Intern baut diese auf VA API und <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/OpenGL">OpenGL</a> auf. Zur Verwendung müssen folgende Pakete installiert werden (ab <a class="internal" href="./trusty.html">Ubuntu 14.04</a> verfügbar):</p><ul><li><p><strong>libvdpau-va-gl1</strong></p></li><li><p><strong>i965-va-driver</strong></p></li><li><p><strong>vdpauinfo</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install libvdpau-va-gl1 i965-va-driver vdpauinfo </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install libvdpau-va-gl1 i965-va-driver vdpauinfo </pre></div></div><p>
</p></div></div><p>
Um VDPAU Unterstützung für ein einzelnes Programm zu aktivieren, muss das Programm mit einem speziellen Prefix gestartet werden. Für den <a class="internal" href="./firefox.html">Firefox Browser</a> ist z.B. folgender Befehl zu verwenden:</p><div class="bash"><div class="contents"><pre class="notranslate">VDPAU_DRIVER=va_gl firefox </pre></div></div><p>
Möchte man VDPAU hingegen systemweit nutzen, so muss eine <a class="internal" href="./umgebungsvariable.html">Umgebungsvariable</a> gesetzt werden. Dann ist die Nutzung des Prefix beim Aufruf von einzelnen Programmen nicht notwendig und VDPAU steht generell allen Programmen zur Verfügung. Die Umgebungsvariable kann über folgenden Befehl gesetzt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sh -c "echo 'export VDPAU_DRIVER=va_gl' &gt;&gt; /etc/profile" </pre></div></div><p>
Um diese Änderung wirksam zu machen, muss der Rechner anschließend neu gestartet werden.</p></div></div></div><div class="section_1"><h2 id="Test">Test<a class="headerlink" href="#Test">¶</a></h2><p>
</p><div class="section_2"><h3 id="Test-der-Unterstuetzung-fuer-VA-API">Test der Unterstützung für VA API<a class="headerlink" href="#Test-der-Unterstuetzung-fuer-VA-API">¶</a></h3><p>
Hat man die Bibliotheken für das VA API installiert, so lässt sich im Terminal mit dem Befehl <code class="notranslate">vainfo</code> prüfen, ob die Hardwarebeschleunigung erkannt wird. Beispiel einer AMD/ATI Grafikarte mit <strong>xvba-va-driver</strong>:</p><div class="bash"><div class="contents"><pre class="notranslate">vainfo </pre></div></div><p>
</p><pre class="notranslate">libva: VA-API version 0.32.0
Xlib:  extension "XFree86-DRI" missing on display ":0".
libva: va_getDriverName() returns 0
libva: Trying to open /usr/lib/x86_64-linux-gnu/dri/fglrx_drv_video.so
libva: va_openDriver() returns 0
vainfo: VA-API version: 0.32 (libva 1.0.15)
vainfo: Driver version: Splitted-Desktop Systems XvBA backend for VA-API - 0.7.8
vainfo: Supported profile and entrypoints
      VAProfileH264High               :	VAEntrypointVLD
      VAProfileVC1Advanced            :	VAEntrypointVLD</pre><p>
Dieses Beispiel zeigt, dass die Unterstützung korrekt erkannt wurde und dass die verbaute Grafikkarte zwei Videoprofile beherrscht: H.264 High und VC1 Advanced. Konkret handelt es sich um ein Netbook mit einer ATI Radeon HD 4225 Grafikkarte. Hier sieht man auch gleich einen Nachteil von AMD/ATI Grafikprozessoren: diese beherrschen (im Gegensatz zu Nvidia) kein MPEG2 Decoding (notwendig bei Videos von DVD oder DVB-S/T/C).</p><p>Beispiel eines Intel Grafikprozessors (Intel HD 4400) mit <strong>i965-va-driver</strong>:
</p><div class="bash"><div class="contents"><pre class="notranslate">vainfo </pre></div></div><p>
</p><pre class="notranslate">libva info: VA-API version 0.35.0
libva info: va_getDriverName() returns 0
libva info: Trying to open /usr/lib/x86_64-linux-gnu/dri/i965_drv_video.so
libva info: Found init function __vaDriverInit_0_35
libva info: va_openDriver() returns 0
vainfo: VA-API version: 0.35 (libva 1.3.0)
vainfo: Driver version: Intel i965 driver - 1.3.0
vainfo: Supported profile and entrypoints
      VAProfileMPEG2Simple            :	VAEntrypointVLD
      VAProfileMPEG2Simple            :	VAEntrypointEncSlice
      VAProfileMPEG2Main              :	VAEntrypointVLD
      VAProfileMPEG2Main              :	VAEntrypointEncSlice
      VAProfileH264ConstrainedBaseline:	VAEntrypointVLD
      VAProfileH264ConstrainedBaseline:	VAEntrypointEncSlice
      VAProfileH264Main               :	VAEntrypointVLD
      VAProfileH264Main               :	VAEntrypointEncSlice
      VAProfileH264High               :	VAEntrypointVLD
      VAProfileH264High               :	VAEntrypointEncSlice
      VAProfileVC1Simple              :	VAEntrypointVLD
      VAProfileVC1Main                :	VAEntrypointVLD
      VAProfileVC1Advanced            :	VAEntrypointVLD
      VAProfileNone                   :	VAEntrypointVideoProc
      VAProfileJPEGBaseline           :	VAEntrypointVLD</pre></div><div class="section_2"><h3 id="Test-der-Unterstuetzung-fuer-VDPAU">Test der Unterstützung für VDPAU<a class="headerlink" href="#Test-der-Unterstuetzung-fuer-VDPAU">¶</a></h3><p>
Das Programm <code class="notranslate">vdpauinfo</code> (im Terminal aufrufen) zeigt, welche Codecs die Grafikkarte unterstützt.</p><p>Beispiel einer NVidia-Grafikkarte mit <strong>libvdpau1</strong>:
</p><div class="bash"><div class="contents"><pre class="notranslate">vdpauinfo </pre></div></div><p>
</p><pre class="notranslate">display: :0   screen: 0
API version: 1
Information string: NVIDIA VDPAU Driver Shared Library  304.88  Wed Mar
27 14:49:27 PDT 2013

Video surface:

name   width height types
-------------------------------------------
420     4096  4096  NV12 YV12
422     4096  4096  UYVY YUYV

Decoder capabilities:

name               level macbs width height
-------------------------------------------
MPEG1                 0  8192  2048  2048
MPEG2_SIMPLE          3  8192  2048  2048
MPEG2_MAIN            3  8192  2048  2048
H264_MAIN            41  8192  2048  2048
H264_HIGH            41  8192  2048  2048
VC1_SIMPLE            1  8190  2048  2048
VC1_MAIN              2  8190  2048  2048
VC1_ADVANCED          4  8190  2048  2048
MPEG4_PART2_SP        3  8192  2048  2048
MPEG4_PART2_ASP       5  8192  2048  2048
DIVX4_QMOBILE         0  8192  2048  2048
DIVX4_MOBILE          0  8192  2048  2048
DIVX4_HOME_THEATER    0  8192  2048  2048
DIVX4_HD_1080P        0  8192  2048  2048
DIVX5_QMOBILE         0  8192  2048  2048
DIVX5_MOBILE          0  8192  2048  2048
DIVX5_HOME_THEATER    0  8192  2048  2048
DIVX5_HD_1080P        0  8192  2048  2048

Output surface:

name              width height nat types
----------------------------------------------------
B8G8R8A8         16384 16384    y  Y8U8V8A8 V8U8Y8A8
R10G10B10A2      16384 16384    y  Y8U8V8A8 V8U8Y8A8

Bitmap surface:

name              width height
------------------------------
B8G8R8A8         16384 16384
R8G8B8A8         16384 16384
R10G10B10A2      16384 16384
B10G10R10A2      16384 16384
A8               16384 16384

Video mixer:

feature name                    sup
------------------------------------
DEINTERLACE_TEMPORAL             y
DEINTERLACE_TEMPORAL_SPATIAL     y
INVERSE_TELECINE                 y
NOISE_REDUCTION                  y
SHARPNESS                        y
LUMA_KEY                         y
HIGH QUALITY SCALING - L1        y
HIGH QUALITY SCALING - L2        -
HIGH QUALITY SCALING - L3        -
HIGH QUALITY SCALING - L4        -
HIGH QUALITY SCALING - L5        -
HIGH QUALITY SCALING - L6        -
HIGH QUALITY SCALING - L7        -
HIGH QUALITY SCALING - L8        -
HIGH QUALITY SCALING - L9        -

parameter name                  sup      min      max
-----------------------------------------------------
VIDEO_SURFACE_WIDTH              y         1     4096
VIDEO_SURFACE_HEIGHT             y         1     4096
CHROMA_TYPE                      y 
LAYERS                           y         0        4

attribute name                  sup      min      max
-----------------------------------------------------
BACKGROUND_COLOR                 y 
CSC_MATRIX                       y 
NOISE_REDUCTION_LEVEL            y      0.00     1.00
SHARPNESS_LEVEL                  y     -1.00     1.00
LUMA_KEY_MIN_LUMA                y 
LUMA_KEY_MAX_LUMA                y </pre><p>
Wird VDPAU auf einem Intel-System mit <strong>libvdpau-va-gl1</strong> ohne systemweiter Aktivierung (sprich ohne gesetzter Umgebungsvariable) genutzt, so ist zu beachten, dass auch <code class="notranslate">vdpauinfo</code> mit dem Prefix gestartet werden muss:</p><div class="bash"><div class="contents"><pre class="notranslate">VDPAU_DRIVER=va_gl vdpauinfo </pre></div></div><p>Ob die Bemühungen von Erfolg gekrönt waren, lässt sich sehr schön mit einem <a class="interwiki interwiki-youtube" href="https://www.youtube.com/watch?v=_iRPWD6imV8">Youtube Testvideo</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> prüfen. Zu beachten ist hierbei, dass die Videobeschleunigung den Codec H.264 unterstützen muss. Mit einem entsprechenden <a class="internal" href="./streams_speichern.html">Programm</a> lässt es sich in unterschiedlichen Auflösungen bis hin zu Full-HD herunterladen. Hat man in einem zweiten Fenster die Systemüberwachung geöffnet, kann man an der CPU-Auslastung sehen, wieviel die Videobeschleunigung leistet. Die Auslastung sollte bei Full-HD weniger als 10% betragen, wenn man einen moderner Rechner mit Mehrkernprozessor einsetzt. Eine Intel-Atom CPU erreicht deutlich höhere Auslastung und spielt Full-HD ohne Beschleunigung überhaupt nicht ab.</p><p>Alternativ zum Herunterladen des Videos lässt sich die Unterstüzung von VDPAU bei der Nutzung von Adobe Flash mit aktivierter Videobeschleunigung auch direkt auf Youtube über eine spezielle Informationsanzeige im Flashplayer prüfen. Siehe hierzu im entsprechenden Abschnitt im <a class="internal" href="./adobe_flash.html#Video-Dekodierung-beschleunigen">Adobe Flash Artikel</a>.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./grafikkarten.html">Grafikkarten</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li><li><p><a class="interwiki interwiki-archwiki" href="https://wiki.archlinux.org/index.php/Hardware_video_acceleration">Hardware_video_acceleration</a> - Hardware Videobeschleunigung im ArchWiki</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./video-dekodierung_beschleunigen/a/revision/942588.html">Diese Revision</a> wurde am 19. Juli 2017 21:20 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./video-dekodierung_beschleunigen.html">Video-Dekodierung beschleunigen</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>