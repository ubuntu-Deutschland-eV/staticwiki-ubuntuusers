<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Grundlagen_der_Paketerstellung/Menüeintrag › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../grundlagen_der_paketerstellung/menüeintrag.html">Menüeintrag</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Grundlagen_der_Paketerstellung/Menüeintrag">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../grundlagen_der_paketerstellung/menüeintrag/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../grundlagen_der_paketerstellung/menüeintrag/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../grundlagen_der_paketerstellung/menüeintrag/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../grundlagen_der_paketerstellung/menüeintrag/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../grundlagen_der_paketerstellung/menüeintrag/a/backlinks.html">Menüeintrag</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Es gibt Programme, die bereits von sich aus über das Makefile automatisch einen Menüeintrag erstellen. Dann kann man sich dies alles hier schenken. Dies sollte man also zuerst überprüfen, bevor man sich die Mühe macht dies von Hand zu erledigen. 
</p></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Ubuntu-Menueeintrag">Ubuntu-Menüeintrag
</a><ol class="arabic"><li><a class="crosslink" href="#Erstellen-einer-desktop-Datei">Erstellen einer .desktop-Datei
</a></li><li><a class="crosslink" href="#Der-richtige-Ort">Der richtige Ort
</a></li></ol></li><li><a class="crosslink" href="#Debian-Menueeintrag">Debian-Menüeintrag
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Etwas verwirrend kann zu Beginn das Erstellen eines Menüeintrages für eine Anwendung sein, die man paketiert. Wichtig ist zu wissen, dass Ubuntu nicht die Debian-Menüstruktur benutzt, sondern den Freedesktopstandard.</p><p>Dies bedeutet, dass man nicht wie unter Debian eine <strong>.menu</strong>-Datei erstellen muss und diese nach <strong>/usr/share/menu</strong> verschiebt, wofür es einen simplen Befehl in der <strong>debian/rules</strong> geben würde, sondern man muss eine Datei <strong>.desktop</strong> erstellen und auf eine andere Weise an den richtigen Ort bringen.</p><p>Trotzdem erstellen viele Leute die Pakete für Ubuntu aus Kompatibilitätsgründen mit einer Menüdatei für Debian in ihrem Paket.</p><div class="section_1"><h2 id="Ubuntu-Menueeintrag">Ubuntu-Menüeintrag<a class="headerlink" href="#Ubuntu-Menueeintrag">¶</a></h2><p>
</p><div class="section_2"><h3 id="Erstellen-einer-desktop-Datei">Erstellen einer .desktop-Datei<a class="headerlink" href="#Erstellen-einer-desktop-Datei">¶</a></h3><p>
Die Datei, die man erstellen muss, trägt den Namen <strong>PAKETNAME.desktop</strong>. Paketiert man also zum Beispiel Vidalia, würde die entsprechende Datei <strong>vidalia.desktop</strong> lauten. Eine solche Datei kann eine große Anzahl von möglichen Einträgen enthalten. Eine vollständige Liste des momentanen Standards kann man auf <a class="external" href="http://standards.freedesktop.org/desktop-entry-spec/latest/ar01s05.html" rel="nofollow">freedesktop.org</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> einsehen. Mehr über den Aufbau und einige Beispiele für <strong>.desktop</strong>-Dateien kann man dem Artikel <a class="internal" href="../programmstarter.html">Programmstarter</a> entnehmen.</p><div class="section_3"><h4 id="Das-Icon">Das Icon<a class="headerlink" href="#Das-Icon">¶</a></h4><p>
Das Icon kann im <strong>.png</strong>-Format sein, sollte aber im Optimalfall im <strong>.xpm</strong>-Format vorliegen. Außerdem darf es maximal 32x32 Pixel groß sein und 24 Farben besitzen. Der Name des Icons muss wieder <strong>PAKETNAME.xpm</strong> bzw. <strong>PAKETNAME.png</strong> lauten.</p><p>Das Icon kopiert man am besten nach <strong>/usr/share/pixmaps/</strong>. Falls das Makefile des Programmes, das man paketiert, dies nicht automatisch macht, fügt man es am besten dort ein, oder, wenn das Programm gar kein Makefile besitzt, macht man es in der <strong>debian/rules</strong>. Dann fügt man dort einfach im "<code class="notranslate">install: build</code>"-Abschnitt eine Zeile ein, wie zum Beispiel:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>    cp vidalia.xpm debian/vidalia/usr/share/pixmaps
</pre></div>
</td></tr></table></div><p>Dies geht dabei davon aus, dass das Bild im Root-Verzeichnis des Paketes liegt, also im Überordner von <strong>debian</strong>. Damit dies funktioniert, muss man den Pfad, wohin das Icon kopiert werden soll, in die <strong>debian/dirs</strong> eintragen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>usr/share/pixmaps
</pre></div>
</td></tr></table></div></div></div><div class="section_2"><h3 id="Der-richtige-Ort">Der richtige Ort<a class="headerlink" href="#Der-richtige-Ort">¶</a></h3><p>
Zuletzt muss man noch veranlassen, dass bei Installation des Debianpaketes die <strong>.desktop</strong>-Datei an den richtigen Ort verschoben wird. Der richtige Ort ist abhängig davon, wohin man das Programm installiert. Programme aus den offiziellen Paketquellen kommen nach <strong>usr/</strong>, alle anderen nach <strong>usr/local/</strong>. Danach richtet sich auch der richtige Ort für die <strong>.desktop</strong>-Datei. Sie gehört entweder nach <strong>usr/share/applications</strong> oder nach <strong>usr/local/share/applications</strong>.</p><p>Dorthin bekommt man sie, wie zum Icon bereits erläutert, entweder über das Makefile oder, wenn es ein solches nicht gibt, über die <strong>debian/rules</strong>. Auch hier darf aber nicht vergessen werden, den entsprechenden Ziel-Pfad in die <strong>debian/dirs</strong> einzutragen.</p><p>Weitere Informationen gibt es im Artikel <a class="internal" href="../programmstarter.html">Programmstarter</a>.</p></div></div><div class="section_1"><h2 id="Debian-Menueeintrag">Debian-Menüeintrag<a class="headerlink" href="#Debian-Menueeintrag">¶</a></h2><p>
Einen Debian-Menüeintrag zu erstellen geht etwas einfacher. Man erstellt im <strong>debian/</strong>-Ordner einfach eine Datei, die den Namen <strong>PAKETNAME.menu</strong> trägt. Eine Datei mit minimalem Inhalt, die aber trotzdem ihren Dienst tut, sieht zum Beispiel so aus:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>?package(vidalia): needs="X11" \
                    section="Apps/Net" \
                    title="Vidalia" \
                    command="/usr/local/bin/vidalia" \
                    icon="/usr/local/share/pixmaps/vidalia.xpm"
</pre></div>
</td></tr></table></div><p>Die einzelnen Abschnitte sind eigentlich selbsterklärend.</p><p>Hat man die Datei für sein Programm erstellt, muss man nur noch in der <strong>debian/rules</strong> den Befehl <code class="notranslate">dh_installmenu</code> einkommentieren bzw. unterhalb vom Abschnitt <code class="notranslate">build install</code> einfügen. Weiterführende Informationen über das Erstellen eines Debianmenüeintrages kann man unter <a class="external" href="http://www.debian.org/doc/packaging-manuals/menu.html/" rel="nofollow">debian.org</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> finden.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://standards.freedesktop.org/desktop-entry-spec/latest/index.html" rel="nofollow">Aufbau der *.desktop Dateien</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://standards.freedesktop.org/menu-spec/latest/" rel="nofollow">Weitere Informationen wie mögliche Werte für Categories,...</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.debian.org/doc/packaging-manuals/menu.html/" rel="nofollow">Erstellen einer *.menu Datei für Debian</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../grundlagen_der_paketerstellung/menüeintrag/a/revision/942859.html">Diese Revision</a> wurde am 2. August 2017 19:05 von <a href="https://ubuntuusers.de/user/noisefloor/">noisefloor</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../grundlagen_der_paketerstellung.html">Grundlagen der Paketerstellung</a></li>
<li><a href="../grundlagen_der_paketerstellung/menüeintrag.html">Menüeintrag</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>