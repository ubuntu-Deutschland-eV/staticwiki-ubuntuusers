<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>uswsusp › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./uswsusp.html">uswsusp</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/uswsusp">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./uswsusp/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./uswsusp/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./uswsusp/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./uswsusp/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./uswsusp/a/backlinks.html">uswsusp</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./paketquellen.html">Paketquellen freischalten</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./sudo.html">Root-Rechte</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-4"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Testen">Testen
</a></li><li><a class="crosslink" href="#Einrichten">Einrichten
</a><ol class="arabic"><li><a class="crosslink" href="#Ubuntu-16-04-Xenial-Xerus">Ubuntu 16.04 Xenial Xerus
</a></li></ol></li><li><a class="crosslink" href="#Problemloesungen">Problemlösungen
</a><ol class="arabic"><li><a class="crosslink" href="#Anzeigeprobleme">Anzeigeprobleme
</a></li><li><a class="crosslink" href="#Aufwachen-schlaegt-fehl">Aufwachen schlägt fehl
</a></li><li><a class="crosslink" href="#Deinstallation">Deinstallation
</a></li></ol></li></ol></div><p><a class="external" href="http://suspend.sourceforge.net" rel="nofollow">uswsusp</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist eine alternative Methode, um den Ruhezustand und/oder Bereitschaftsmodus zu nutzen. Neben ein paar Vorteilen gegenüber der "Standard"-Methode kann uswsusp auf manchen Systemen diese Funktionen auch überhaupt erst ermöglichen und ist besonders in diesen Fällen einen Versuch wert.</p><p>Die wesentlichen Dienstprogramme von uswsusp sind <code class="notranslate">s2disk</code> und <code class="notranslate">s2ram</code> (für Details siehe die <a class="internal" href="./man.html">Manpage</a> von <code class="notranslate">s2disk</code>).</p><p>Subjektiv dauert es mit uswsusp genauso lange in den Ruhezustand zu gehen wie mit der Kernel-Methode, allerdings erhält man eine Textausgabe über den Fortschritt des Vorgangs und kann diesen auch wieder abbrechen. Das Aufwachen geht allerdings merklich schneller, u.a. da das Speicherabbild komprimiert wurde/werden kann. Dies sollte sich besonders bei RAM größer als 512 MB bemerkbar machen.</p><p>Hier wird nur die grundlegende Installation von uswsusp beschrieben, auf einige Besonderheiten wie Splash-Grafik oder Verschlüsselung des Speicherabbilds wird nicht eingegangen, können aber anhand der <a class="internal" href="./man.html">manpage</a> leicht umgesetzt werden.</p><p>Zunächst wird das Paket installiert <sup><a href="#source-1">[1]</a></sup></p><ul><li><p><strong>uswsusp</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install uswsusp </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install uswsusp </pre></div></div><p>
</p></div></div><div class="section_1"><h2 id="Testen">Testen<a class="headerlink" href="#Testen">¶</a></h2><p>
Jetzt die Installation testen. Dazu im Terminal <sup><a href="#source-2">[2]</a></sup> folgende Befehle eingeben:</p><ul><li><p>Testen der Bereitschaft ("standby")</p></li></ul><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo s2ram  </pre></div></div><p>Jetzt sollte der Rechner im Bereitschaftsmodus sein und durch das Drücken der "Aufwachen"-Taste (manchmal ist diese die Power-Taste) aufwachen. Sollte das nicht der Fall sein, kann man die Benutzung des Parameters <code class="notranslate">--force</code> in Erwägung ziehen.</p><ul><li><p>Testen des Ruhezustands ("hibernation")</p></li></ul><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo s2disk </pre></div></div><p>Jetzt sollte der Rechner im Ruhezustand sein und durch das Drücken der "Aufwachen"-Taste aufwachen.</p></div><div class="section_1"><h2 id="Einrichten">Einrichten<a class="headerlink" href="#Einrichten">¶</a></h2><p>
</p><div class="section_2"><h3 id="Ubuntu-16-04-Xenial-Xerus">Ubuntu 16.04 Xenial Xerus<a class="headerlink" href="#Ubuntu-16-04-Xenial-Xerus">¶</a></h3><p>
Bei Xenial empfängt <a class="internal" href="./systemd.html">systemd</a> die Befehle zum Suspend bzw. Hibernate von der graphischen Oberfläche. Die Standardeinstellung von systemd kann durch Kopieren/Anpassen der Originaldatei geändert werden.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sudo cp /lib/systemd/system/systemd-suspend.service /etc/systemd/system/ </pre></div></div><p>Die Datei <strong>/etc/systemd/system/systemd-hibernate.service</strong> muss mit einem Editor <sup><a href="#source-4">[4]</a></sup> mit Root-Rechten <sup><a href="#source-5">[5]</a></sup> bearbeitet werden:</p><p>Die Zeile 
</p><pre class="notranslate">ExecStart=/lib/systemd/systemd-sleep suspend</pre><p>ist in 
</p><pre class="notranslate">ExecStart=/usr/sbin/s2disk </pre><p>zu ändern.</p></div></div><div class="section_1"><h2 id="Problemloesungen">Problemlösungen<a class="headerlink" href="#Problemloesungen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Anzeigeprobleme">Anzeigeprobleme<a class="headerlink" href="#Anzeigeprobleme">¶</a></h3><p>
Sollte man nach dem Aufwachen Anzeigeprobleme auf den virtuellen Konsolen feststellen, können ein paar Änderungen in <strong>/etc/default/acpi-support</strong> helfen<sup><a href="#source-3">[3]</a></sup><sup><a href="#source-4">[4]</a></sup>.</p><p>Den Eintrag <code class="notranslate">SAVE_VIDEO_PCI_STATE</code> auskommentieren und den Eintrag <code class="notranslate">SAVE_VBE_STATE</code> auf <code class="notranslate">false</code> setzen.</p><p>Bringt das keine Abhilfe, sollte man zusätzlich versuchen, die Konsolen im Framebuffer-Modus zu betreiben.</p></div><div class="section_2"><h3 id="Aufwachen-schlaegt-fehl">Aufwachen schlägt fehl<a class="headerlink" href="#Aufwachen-schlaegt-fehl">¶</a></h3><p>
Schlägt das Aufwachen fehl, ist dies zwar unangenehm, aber keine Katastrophe, sofern das Dateisystem dabei nicht in Mitleidenschaft gezogen wird.</p><p>Allerdings befindet sich nun auf der Auslagerungspartition ein Speicherabbild, welches die Benutzung als Swap verhindert. Man kann trotzdem das System normal booten, da Linux auf einem System mit 512 MB Ram und mehr auch gut ohne Swap funktioniert und sich beim Booten nur über das vorhandene "resume image" beschwert.</p><p>Um den Swap-Bereich wieder benutzbar zu machen, muss das Swap-Dateisystem darauf neu erzeugt werden<sup><a href="#source-2">[2]</a></sup><sup><a href="#source-3">[3]</a></sup>.</p><p>Zunächst ist die Partition wieder zu ermitteln (siehe oben).</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Der nächste Schritt zerstört alle Daten auf der betroffenen Partition! Im Falle der Swap-Partition ist dies aber beabsichtigt. 
</p></div></div><p>Nun wird ein neues Dateisystem erzeugt:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkswap &lt;device&gt; </pre></div></div><p>Statt <code class="notranslate">&lt;device&gt;</code> ist die ermittelte Partition zu setzen.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo swapon &lt;device&gt; </pre></div></div><p>aktiviert den Swap-Bereich wieder.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Nach Erstellung der swap-Partition nicht vergessen, die UUID für den Swap-Bereich in <strong>/etc/fstab</strong> auf Richtigkeit zu überprüfen!
</p></div></div></div><div class="section_2"><h3 id="Deinstallation">Deinstallation<a class="headerlink" href="#Deinstallation">¶</a></h3><p>
Für die Deinstallation ist zunächst das Paket <strong>uswsusp</strong> über die Paketverwaltung zu deinstallieren <sup><a href="#source-1">[1]</a></sup>.</p><p>Dann in jedem Fall danach die RAM-Disk aktualisieren <sup><a href="#source-3">[3]</a></sup><sup><a href="#source-4">[4]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-initramfs -u -v </pre></div></div><p></p></div></div></div>
<p class="meta">
<a href="./uswsusp/a/revision/943656.html">Diese Revision</a> wurde am 14. September 2017 07:30 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./uswsusp.html">uswsusp</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>