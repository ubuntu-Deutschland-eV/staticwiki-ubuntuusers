<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>tcpdump › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./tcpdump.html">tcpdump</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/tcpdump">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./tcpdump/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./tcpdump/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./tcpdump/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./tcpdump/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./tcpdump/a/backlinks.html">tcpdump</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./sudo.html">Programme als Root ausführen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Benutzung">Benutzung
</a></li><li><a class="crosslink" href="#Beispiele">Beispiele
</a></li><li><a class="crosslink" href="#tcpdumps-mit-Wireshark-analysieren">tcpdumps mit Wireshark analysieren
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/terminal.png" class="image-left" src="./_/e81889fd6e485dd32e1cde611eabc18abced7993.png"/>
<a class="external" href="http://www.tcpdump.org/" rel="nofollow">tcpdump</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein bekannter und weit verbreiteter Paket-Sniffer für die Kommandozeile. Es ist für so gut wie jedes Unix-artige Betriebssystem erhältlich und kann im Gegensatz zu seinem Namen nicht nur TCP-Pakete, sondern auch UDP- und ICMP-Pakete mitschneiden.</p><p>Auch wenn tcpdump ein Kommandozeilen-Programm ist, ist es möglich, die mitgeschnittenen Pakete alternativ in der grafischen Oberfläche von <a class="internal" href="./wireshark.html">Wireshark</a> zu analysieren. Wie man mit tcpdump erzeugte Mitschnitte in Wireshark öffnen kann, ist am <a class="crosslink" href="#tcpdumps-mit-Wireshark-analysieren">Ende des Artikels</a> beschrieben.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Der Sniffer ist bei Ubuntu und den offiziellen Varianten im Paket</p><ul><li><p><strong>tcpdump</strong></p></li></ul><p>
enthalten und bereits vorinstalliert.</p></div><div class="section_1"><h2 id="Benutzung">Benutzung<a class="headerlink" href="#Benutzung">¶</a></h2><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Das Programm muss unter Linux mit Root-Rechten <sup><a href="#source-1">[1]</a></sup> ausgeführt werden bzw. das <a class="internal" href="./rechte.html#Sonderrechte">Setuid-Bit</a> gesetzt sein, damit es Pakete mitschneiden kann. Man kann das damit einhergehende Sicherheitsrisiko aber dadurch senken, dass man das <a class="crosslink" href="#Flags">Flag</a> <code class="notranslate">-Z</code> mitsamt eines Benutzers mit eingeschränkten Rechten – also z.B. den gerade angemeldeten (entweder mit ausgeschriebenem Namen oder als <code class="notranslate">$USER</code>) – angibt.
</p></div></div><p>Tcpdump wird in einem Terminal <sup><a href="#source-2">[2]</a></sup> mit dem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">tcpdump [FLAGS] [FILTER-OPTIONEN] </pre></div></div><p>
gestartet. Im Folgenden werden die nützlichsten und meist gebrauchten Flags und Filteroptionen erläutert.</p><div class="section_2"><h3 id="Flags">Flags<a class="headerlink" href="#Flags">¶</a></h3><p>
Alle Flags sind optional, man muss also keine angeben. Meist will man jedoch zumindest das Interface angeben, wenn tcpdump nicht automatisch das richtige auswählt. Außerdem kann man mit Flags unter anderem festlegen, wie viele Pakete und wie viele Daten jeweils von den Paketen mitgeschnitten werden sollen und in was für einer Art und Weise die Ausgabe erfolgen soll. Eine vollständige Liste kann man in der <a class="internal" href="./man.html">Man-Page</a> von tcpdump finden.</p><p>
</p><table><tr class="titel"><td colspan="2"> Flags von tcpdump </td></tr><tr class="kopf"><td>Flag </td><td> Bedeutung </td></tr><tr><td style="width: 20%"><code class="notranslate">-D</code> </td><td> Schreibt eine Liste aller Netzwerkinterfaces auf den Bildschirm, welche tcpdump sniffen kann. Wenn diese Flag benutzt wird, werden alle anderen Flags und Filteroptionen ignoriert. </td></tr><tr class="highlight"><td><code class="notranslate">-i INTERFACE</code> </td><td> welche Netzwerkschnittstelle gesnifft werden soll. Wenn dies nicht angegeben wird, sucht sich tcpdump eine aus. Dies ist meist die erste LAN-Karte, die es findet. </td></tr><tr><td> <code class="notranslate">-n</code> </td><td> keine Hostnamen auflösen, genauso wenig sollen Portnummern durch ihre Dienste ersetzt werden. </td></tr><tr class="highlight"><td><code class="notranslate">-c ANZAHL</code> </td><td> Wenn diese Flag benutzt wird, beendet sich tcpdump automatisch, nachdem es die angegebene Anzahl Pakete mitgeschnitten hat, wie angegeben. </td></tr><tr><td> <code class="notranslate">-e</code> </td><td> auch den Ethernet-Header mitschneiden. </td></tr><tr class="highlight"><td><code class="notranslate">-q</code> </td><td> loggt weniger Protokoll-Informationen. Die Ausgabe wird also kleiner. </td></tr><tr><td> <code class="notranslate">-v</code>,<code class="notranslate">-vv</code> oder <code class="notranslate">-vvv</code> </td><td> Je mehr v's angegeben sind, desto mehr Informationen über Pakete wird tcpdump speichern. </td></tr><tr class="highlight"><td><code class="notranslate">-S</code> </td><td> Schreibt die absoluten anstelle von relativen Sequenznummern der Pakete. </td></tr><tr><td> <code class="notranslate">-A</code> </td><td> Gibt den Inhalt eines Paketes als ASCII aus. </td></tr><tr class="highlight"><td><code class="notranslate">-x</code> oder <code class="notranslate">-xx</code> </td><td> Gibt den Inhalt eines Paketes als Hex aus. Mit einem x wird der Ethernet-Header ignoriert, mit zwei x nicht. </td></tr><tr><td> <code class="notranslate">-X</code> oder <code class="notranslate">-XX</code> </td><td> Gibt den Inhalt eines Paketes sowohl als Hex wie auch als ASCII aus. Mit einem X wird der Ethernet-Header ignoriert, mit zwei X nicht. </td></tr><tr class="highlight"><td><code class="notranslate">-s ANZAHL</code> </td><td> Wieviele Bytes je Paket mitgeschnitten werden sollen. Standardmäßig sind dies 65535. Dabei gilt es jedoch zu bedenken, dass dadurch die Warteschlange voll werden kann und dies in bestimmten Situationen eventuell zum Verlust von Paketen führen kann. Man sollte am besten also nur soviel von Paketen mitschneiden, wie man benötigt. Die Angabe <code class="notranslate">-s 0</code> setzt die Paketmitschnitt-Länge aus Gründen der Abwärtskompatibilität zu älteren Versionen von tcpdump auf den Standardwert von 65535 Bytes. </td></tr><tr><td> <code class="notranslate">-Z BENUTZER</code> </td><td> Nachdem die zu sniffende Netzwerkschnittstelle bzw. die mit dem <code class="notranslate">-r</code> Flag zu parsende Datei geöffnet worden ist, jedoch bevor irgendeine Ausgabe(datei) gestartet bzw. geöffnet worden ist, wird das <a class="internal" href="./benutzer_und_gruppen.html#Benutzer">Benutzerkonto</a> (UID) von <code class="notranslate">root</code> auf den angegebenen Benutzer und die <a class="internal" href="./benutzer_und_gruppen.html#Gruppen">Gruppe</a> (GID) von <code class="notranslate">root</code> auf die Hauptgruppe des angegebenen Benutzers geändert. Man kann damit also das durch die Ausführung mit Root-Rechten <sup><a href="#source-1">[1]</a></sup> bzw. das gesetzte <a class="internal" href="./rechte.html#Sonderrechte">Setuid-Bit</a> einhergehende Sicherheitsrisiko senken. <br/> Den gerade angemeldeten Benutzer gibt man entweder mit ausgeschriebenem Namen oder aber allgemein als <code class="notranslate">$USER</code> an. </td></tr><tr class="highlight"><td><code class="notranslate">-w DATEINAME</code> </td><td> Schreibt die Pakete in die angegebene Datei, anstatt sie zu parsen und den Inhalt formatiert auf dem Bildschirm auszugeben. Die Pakete, die in die Datei geschrieben wurden, sind wie bereits gesagt unformatiert, also raw-packets. Man kann sie deswegen nicht mit <a class="internal" href="./cat.html">cat</a> oder <a class="internal" href="./less.html">less</a> lesen. Jedoch kann man sie mit dem <code class="notranslate">-r</code> Flag parsen. </td></tr><tr><td> <code class="notranslate">-r DATEINAME</code> </td><td> Parst, formatiert und gibt die Pakete, die mit der <code class="notranslate">-w</code> Flag in eine Datei geschrieben wurden, in der Konsole aus. </td></tr></table></div><div class="section_2"><h3 id="Filteroptionen">Filteroptionen<a class="headerlink" href="#Filteroptionen">¶</a></h3><p>
Eine vollständige Liste kann man in der <a class="internal" href="./man.html">Man-Page</a> von pcap-filter finden. Eine Filter-Direktive besteht grundsätzlich aus einem Wert und einer oder mehreren Optionen, die diesem Wert vorangestellt sind. Wenn keine Optionen angegeben sind, wird immer alles mitgeschnitten. Wurde also kein Host angegeben, werden Pakete von allen Hosts mitgeschnitten, wenn kein Port angegeben wird, die Pakete von allen Ports, usw..</p><p>
</p><table><tr class="titel"><td colspan="3"> Filteroptionen von tcpdump </td></tr><tr class="kopf"><td>Option </td><td> Werte </td><td> Bedeutung </td></tr><tr><td> <code class="notranslate">host</code> </td><td> IP-Adresse (oder auch Hostname) </td><td> Es werden nur Pakete mitgeschnitten, die entweder als Quelle oder als Ziel die angegebene IP-Adresse besitzen. Anstelle einer IP-Adresse kann auch ein Hostname angegeben werden (aber nur, wenn nicht das <code class="notranslate">-n</code> Flag (s.o.) benutzt wird). </td></tr><tr class="highlight"><td><code class="notranslate">net</code> </td><td> Netzwerk-Bereich in <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Classless_Inter-Domain_Routing">CIDR-Schreibweise</a> </td><td> Es werden nur Pakete mitgeschnitten, die entweder als Quelle oder als Ziel eine IP-Adresse aus dem angegebenen Netzwerkbereich besitzen </td></tr><tr><td> <code class="notranslate">port</code> </td><td> eine Zahl von 0 bis 65535 </td><td> Schneidet Pakete mit, die entweder auf Quell- oder auf Ziel-Seite den angegebenen Port besitzen </td></tr><tr class="highlight"><td><code class="notranslate">portrange</code> </td><td> 0-65535 </td><td> Schneidet Pakete mit, die entweder auf Quell- oder auf Ziel-Seite einen Port in dem angegebenen Portbereich besitzen </td></tr><tr><td> <code class="notranslate">src</code> </td><td> host, net, port oder portrange </td><td> Es werden nur Pakete mitgeschnitten, die als Quelle den angegebenen Wert besitzen </td></tr><tr class="highlight"><td><code class="notranslate">dst</code> </td><td> host, net, port oder portrange </td><td> Es werden nur Pakete mitgeschnitten, die als Ziel den angegebenen Wert besitzen </td></tr><tr><td> <code class="notranslate">proto</code> </td><td> ether, fddi, tr, wlan, ip, ip6, arp, rarp, decnet, tcp und udp </td><td> Netzwerkprotokoll, in dem Pakete mitgeschnitten werden sollen </td></tr></table><p>Mehrere Filterangaben können mit den Ausdrücken <strong>and</strong> (alternativ ist auch <strong>&amp;&amp;</strong> möglich), <strong>or</strong> (alternativ ist auch <strong>||</strong> möglich) und <strong>not</strong> (alternativ ist auch <strong>!</strong> möglich) miteinander verknüpft werden. Dabei können dann auch runde Klammern, also <strong>(</strong> und <strong>)</strong> verwendet werden, um Ausdrücke voneinander abzugrenzen. Dabei sollte jedoch beachtet werden, dass manche Dinge wie das Ausrufezeichen oder die Klammern unter Umständen von der Shell interpretiert werden könnten. Um dies zu verhindern, muss man Hochkommata herum setzen, wie unten bei einem Beispiel gezeigt.</p></div></div><div class="section_1"><h2 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h2><p>
Hier nun einige Beispiele, die die Benutzung von tcpdump besser verdeutlichen sollen. Es sei nochmals daran erinnert, dass die Befehle immer mit Root-Rechten <sup><a href="#source-1">[1]</a></sup> ausgeführt werden müssen.</p><ul><li><p>Gibt die Netzwerkschnittstellen aus, welche tcpdump sniffen kann: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo tcpdump -D  </pre></div></div></li><li><p>Schneidet die ersten 68 Bytes von sämtlichen Paketen mit, die die Netzwerkschnittstelle <code class="notranslate">wlan0</code> passieren: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo tcpdump -i wlan0 </pre></div></div></li><li><p>Schneidet alle UDP-Pakete mit, welche <code class="notranslate">10.231.11.7</code> als Ziel haben: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo tcpdump -i wlan0 udp and dst 10.231.11.7 </pre></div></div></li><li><p>Schneidet alle ein- und ausgehenden HTTP-Pakete, welche ubuntuusers.de als Quelle haben, mit dem Standardwert von 65535 Bytes je Paket mit und gibt das Ganze als ASCII aus. Wie man an diesem Beispiel sieht, kann man hinter <code class="notranslate">src</code> und <code class="notranslate">dst</code> den Identifier weglassen, wenn es sich um den Typ <code class="notranslate">host</code> handelt. <code class="notranslate">src ubuntuusers.de</code> hat die gleiche Bedeutung wie <code class="notranslate">src host ubuntuusers.de</code>. Die Identifier <code class="notranslate">net</code>, <code class="notranslate">port</code> und <code class="notranslate">portrange</code> müssen dagegen immer explizit deklariert werden: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo tcpdump -i wlan0 -A -s 0 port 80 and src ubuntuusers.de </pre></div></div></li><li><p>Schneidet alle auf den Ports 20 bis 80 eingehenden Pakete mit dem Standardwert von 65535 Bytes je Paket mit und gibt den Inhalt als ASCII aus, außerdem wird aus Sicherheitsgründen das Benutzerkonto (UID) von <code class="notranslate">root</code> auf den Benutzer <code class="notranslate">gustav</code> und die Gruppe (GID) von <code class="notranslate">root</code> auf die Hauptgruppe des Benutzers <code class="notranslate">gustav</code> geändert: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo tcpdump -i wlan0 -A -s 0 -Z gustav src portrange 20-80 </pre></div></div></li><li><p>Schneidet DNS-Requests und deren Antworten mit. Die Ausgabe ist dabei auf minimal gestellt: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo tcpdump -i wlan0 -q udp port 53 </pre></div></div></li><li><p>Schneidet sowohl HTTP-, als auch HTTPS-Pakete mit: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo tcpdump -i wlan0 -q '(tcp port 80) or (tcp port 443)' </pre></div></div></li><li><p>Macht das Gleiche wie das Beispiel zuvor, nur werden die Pakete nicht formatiert auf dem Bildschirm ausgegeben, sondern raw in die Datei <strong>output.dump</strong> geschrieben: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo tcpdump -i wlan0 -q -w output.dump '(tcp port 80) or (tcp port 443)' </pre></div></div></li><li><p>Parst die im vorangegangenen Beispiel erzeugte Datei <strong>output.dump</strong> und gibt den Inhalt formatiert auf dem Bildschirm aus: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo tcpdump -r output.dump </pre></div></div></li></ul><p>
</p></div><div class="section_1"><h2 id="tcpdumps-mit-Wireshark-analysieren">tcpdumps mit Wireshark analysieren<a class="headerlink" href="#tcpdumps-mit-Wireshark-analysieren">¶</a></h2><p>
Die Ausgabe von tcpdump lässt sich auch in dem grafischen Werkzeug <a class="internal" href="./wireshark.html">Wireshark</a> analysieren. Man kann mit Wireshark selbstverständlich auch selbst Pakete mitschneiden, wovon unter Linux jedoch strengstens abzuraten ist. Wireshark besitzt mehr als eine Million Zeilen Code und besaß in der Vergangenheit zahlreiche Sicherheitslücken. Die Integrität ist deswegen nicht zu garantieren und jemand könnte mit manipulierten Datenströmen Wireshark kompromittieren und dann Code mit Root-Rechten auf dem System des Wireshark-Nutzers ausführen. Mehr dazu im <a class="external" href="http://wiki.wireshark.org/CaptureSetup/CapturePrivileges" rel="nofollow">Wireshark-Wiki</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p><p>Deswegen ist es sinnvoll das kleinere und in der Vergangenheit sicherere tcpdump zum Sniffen zu benutzen und Wireshark nur zum grafischen Analysieren zu verwenden. Somit muss nur tcpdump als root ausgeführt werden, Wireshark hingegen kann mit normalen Benutzer-Rechten ausgeführt werden.</p><p>Bei der Benutzung von tcpdump gibt es dabei zwei Dinge zu beachten:</p><ul><li><p>man muss tcpdump mit <code class="notranslate">-s 0</code> ausführen, damit komplette Pakete mitgeschnitten werden</p></li><li><p>Wireshark analysiert die Rohdaten von tcpdump, also die Ausgabe muss mit <code class="notranslate">-w DATEINAME</code> in eine Datei geschrieben werden und nicht zum Beispiel die Bildschirmausgabe von tcpdump in eine Datei umgeleitet (gepiped) werden</p></li></ul><p>
Mehr zu diesen beiden Flags findet man <a class="crosslink" href="#Flags">weiter oben</a> im Artikel.</p><div class="section_2"><h3 id="Beispiel">Beispiel<a class="headerlink" href="#Beispiel">¶</a></h3><p>
Mit
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tcpdump -i wlan0 -s 0 -w output.dump tcp port 80 </pre></div></div><p>
schneidet man alle HTTP-Pakete mit und schreibt sie in die Datei <strong>output.dump</strong>. Diese Datei kann man nun in Wireshark über <em>"File -&gt; Open..."</em> öffnen und analysieren.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./netzwerk-monitoring.html">Netzwerk-Monitoring</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Programmübersicht</p></li></ul><p>
</p><ul><li><p><a class="external" href="http://www.tcpdump.org/tcpdump_man.html" rel="nofollow">Man-Pages</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Man-Pages von tcpdump</p></li><li><p><a class="external" href="http://www.manpagez.com/man/7/pcap-filter/" rel="nofollow">Man-Pages</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Man-Pages von pcap-filter</p></li><li><p><a class="external" href="http://dmiessler.com/study/tcpdump/" rel="nofollow">tcpdump Primer</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - ein Howto und einige sehr gute Rezepte zu tcpdump</p></li><li><p><a class="internal" href="./netzwerk.html">Netzwerk</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./tcpdump/a/revision/859908.html">Diese Revision</a> wurde am 23. Dezember 2015 10:58 von <a href="https://ubuntuusers.de/user/linux_joy/">linux_joy</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./tcpdump.html">tcpdump</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>