<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Lirc › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./lirc.html">Lirc</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Lirc">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./lirc/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./lirc/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./lirc/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./lirc/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./lirc/a/backlinks.html">Lirc</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./autostart.html">Automatischer Start von Programmen</a></p></li></ol></div></div><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Einrichten-von-LIRC-und-der-Fernbedienung">Einrichten von LIRC und der Fernbedienung
</a><ol class="arabic"><li><a class="crosslink" href="#Verwenden-von-inputlirc">Verwenden von 'inputlirc'
</a><ol class="arabic"><li><a class="crosslink" href="#Funktionstest-fuer-inputlirc">Funktionstest für inputlirc
</a></li></ol></li><li><a class="crosslink" href="#Manuelle-Einrichtung">"Manuelle" Einrichtung
</a><ol class="arabic"><li><a class="crosslink" href="#hardware-conf-einrichten">hardware.conf einrichten
</a></li><li><a class="crosslink" href="#lircd-conf-einrichten">lircd.conf einrichten
</a></li><li><a class="crosslink" href="#Funktionstest-der-Konfiguration">Funktionstest der Konfiguration
</a></li></ol></li></ol></li><li><a class="crosslink" href="#Tasten-mit-Funktionen-belegen">Tasten mit Funktionen belegen
</a></li><li><a class="crosslink" href="#Problemloesungen">Problemlösungen
</a><ol class="arabic"><li><a class="crosslink" href="#Doppeltes-Ausfuehren-von-Befehlen">Doppeltes Ausführen von Befehlen
</a></li><li><a class="crosslink" href="#Wechselndes-eventX">Wechselndes "eventX"
</a><ol class="arabic"><li><a class="crosslink" href="#Eigene-udev-Regel-erstellen">Eigene udev-Regel erstellen
</a></li></ol></li><li><a class="crosslink" href="#Fehlerhafte-Tastenerkennung-bei-dvb-usb-dib0700-1-xx-fw">Fehlerhafte Tastenerkennung bei dvb-usb-...</a></li><li><a class="crosslink" href="#Fehler-beim-Laden-des-lirc-serial-Moduls">Fehler beim Laden des lirc_serial-Moduls...</a></li><li><a class="crosslink" href="#irw-und-mode2-geben-keine-Ausgabe">irw und mode2 geben keine Ausgabe
</a></li><li><a class="crosslink" href="#irw-gibt-keine-Ausgabe-bei-einer-mit-irrecord-selbst-erstellten-lircd-conf">irw gibt keine Ausgabe bei einer mit irr...</a></li><li><a class="crosslink" href="#dev-lirc-existiert-nicht">/dev/lirc existiert nicht
</a></li><li><a class="crosslink" href="#RAW-Modus">RAW-Modus
</a></li><li><a class="crosslink" href="#USB-IR-IgorUSB">USB IR / IgorUSB
</a></li><li><a class="crosslink" href="#Reaktionszeit-verringern">Reaktionszeit verringern
</a></li><li><a class="crosslink" href="#irexec-irw-No-such-file-or-directory">irexec / irw  "No such file or directory...</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./LIRC.png" class="image-left" src="./_/05df40462e4acf2cdadcc44f0bb391cc8699c239.png"/></p><p>Mit LIRC (Linux Infrared Remote Control) ist es möglich, das Linux-System mit einer Fernbedienung zu steuern. Dazu sind ein Infrarot-Empfänger am PC und eine handelsübliche Fernbedienung nötig. Auch wenn der Name es nicht vermuten lässt: Auch Funkfernsteuerungen werden unterstützt. Weitere Informationen zu LIRC sind auf der offiziellen <a class="external" href="http://www.lirc.org/" rel="nofollow">LIRC-Homepage</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> und in den <a class="crosslink" href="#Links">Links</a> am Ende dieses Artikels zu finden.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
LIRC kann direkt aus den Paketquellen installiert<sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>lirc</strong> (<em>universe</em>)</p></li><li><p><strong>lirc-x</strong> (<em>universe</em>, optional )</p></li><li><p><strong>liblircclient0</strong> (<em>universe</em>, optional, um bestimmte Programme steuern zu können)</p></li><li><p><strong>inputlirc</strong> (<em>universe</em>, optional, liest automatisch die Eingaben aller <strong>/dev/input/eventX</strong>-Geräte aus; etliche Geräte funktionieren damit "Out-of-the-Box".)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install lirc lirc-x liblircclient0 inputlirc </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install lirc lirc-x liblircclient0 inputlirc </pre></div></div><p>
</p></div></div><p>Bei der Installation von <strong>lirc</strong> wird abgefragt, welche Fernbedienung und welcher Sender (<code class="notranslate">Transmitter</code>) verwendet werden sollen. Die Angabe des Transmitters ist allerdings nur in dem seltenen Falle notwendig, wenn via Computer ein weiteres Gerät (Stereo-Anlage, CD-Player etc.) gesteuert werden soll. Falls die eigene Fernbedienung/Sender nicht aufgeführt sind, dort <code class="notranslate">None</code> auswählen; z.B. auch dann, wenn <a class="crosslink" href="#Verwenden-von-inputlirc">inputlirc</a> zum Einsatz kommen soll.</p><p>Falls falsche Eingaben gemacht wurden, kann die ganze Prozedur im Terminal<sup><a href="#source-2">[2]</a></sup> mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg-reconfigure lirc </pre></div></div><p>erneut durchgeführt werden.</p><p>Ggf. kann für die Fernbedienung (z.B. für etliche Fernbedienungen, die zu USB-Sticks gehören) auch der Eintrag <code class="notranslate">Linux Input Layer (dev/input/eventX)</code> verwendet werden. Im nächstfolgenden Dialog dann das verwendete Gerät (<code class="notranslate">Device</code>) eintragen (unter neueren Lirc-Versionen auch direkt auswählbar). Dieses kann mit dem Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">cat /proc/bus/input/devices </pre></div></div><p>in Erfahrung gebracht werden, aus dem Eintrag geht das verwendete Gerät hervor, z.B.</p><pre class="notranslate">I: Bus=0003 Vendor=0000 Product=0000 Version=0000
N: Name="em2880/em2870 remote control"
P: Phys=USB
S: Sysfs=/devices/virtual/input/input6
U: Uniq=
H: Handlers=kbd event6 
B: EV=100003
B: KEY=4afc334 0000000 0 0 0 0 0000 1a0 c0000801 9e96c0 0 0 ffd</pre><p>In diesem Falle müsste, ersichtlich aus Zeile <code class="notranslate">H: Handlers=kbd event6</code>, als Gerät <code class="notranslate">/dev/input/event6</code> ausgewählt werden.</p></div><div class="section_1"><h2 id="Einrichten-von-LIRC-und-der-Fernbedienung">Einrichten von LIRC und der Fernbedienung<a class="headerlink" href="#Einrichten-von-LIRC-und-der-Fernbedienung">¶</a></h2><p>
Um LIRC einzurichten gibt es zwei Möglichkeiten (funktionieren nicht gleichzeitig; entweder <strong>inputlirc</strong> oder die (manuelle) Einrichtung):
</p><ul><li><p>Verwenden von 'inputlirc' </p></li><li><p>(Manuelle) Einrichtung der <a class="crosslink" href="#hardware-conf-einrichten">hardware.conf</a> und der  <a class="crosslink" href="#lircd-conf-einrichten">lircd.conf</a></p></li></ul><p>Wichtig: Bei Verwendung der manuellen Einrichtung sollte zunächst <strong>inputlirc</strong> deinstalliert werden, da die manuelle Konfiguration ansonsten von der automatischen Einrichtung durch <strong>inputlirc</strong> bei jedem Neustart des Systems überschrieben wird.</p><div class="section_2"><h3 id="Verwenden-von-inputlirc">Verwenden von 'inputlirc'<a class="headerlink" href="#Verwenden-von-inputlirc">¶</a></h3><p>
inputlirc liest standardmäßig alle Impulse aller <strong>/dev/input/event*</strong>-Geräte aus. Dabei wird auf die Tastenbelegung zurückgegriffen, die auch der Kernel verwendet (definiert in <strong>/usr/include/linux/input.h</strong>). Damit erübrigt sich für viele USB-Fernbedienungen und sogenannte HID-Geräte (<strong>H</strong>uman <strong>I</strong>nterface <strong>D</strong>evices, z.B. Fernbedienungen mit integriertem Joystick oder Trackball etc.) eine aufwändige LIRC-Konfiguration, da die Impulse ohne weitere Arbeiten erkannt werden. Weder in der <strong>hardware.conf</strong> noch in der <strong>lircd.conf</strong> brauchen spezielle Angaben gemacht zu werden (bei der Installation von LIRC einfach überall <em>"None"</em> angeben; das Paket <strong>lirc</strong> selbst wird allerdings gebraucht, schon um z.B. <a class="internal" href="./lirc/tasten_mit_funktionen_belegen.html#irexec">irexec</a> oder <code class="notranslate">irw</code> verwenden zu können). Der LIRC-daemon (lircd) wird nicht benötigt; ggf. darauf achten, dass in der <strong>hardware.conf</strong> die Werte für <code class="notranslate">START_LIRCD=""</code> auf  <code class="notranslate">false</code> gesetzt sind.  Der inputlirc-Daemon <code class="notranslate">inputlircd</code> wird automatisch beim Systemstart ausgeführt.</p><div class="section_3"><h4 id="Funktionstest-fuer-inputlirc">Funktionstest für inputlirc<a class="headerlink" href="#Funktionstest-fuer-inputlirc">¶</a></h4><p>
Bei einem Test sollte für die Tasten bei der Verwendung von <strong>irw</strong> im Terminal z.B.</p><pre class="notranslate">66 0 KEY_HOME event6
8b 0 KEY_MENU event6
2 0 KEY_1 event6</pre><p>ausgegeben werden; die Tastennamen  (die dritte Variable der Ausgabe, also z.B. <code class="notranslate">KEY_HOME</code>] können dann in einer <a class="internal" href="./lirc/tasten_mit_funktionen_belegen.html#.lircrc">.lircrc</a> verwendet werden.</p><p>Falls gar keine Ausgabe erfolgt, oder falls es Probleme gibt, die Nummerntasten zu verwenden (nur für diese keine Ausgabe bei <code class="notranslate">irw</code>) hilft es, in einem Editor<sup><a href="#source-3">[3]</a></sup> mit Rootrechten in der <strong>/etc/default/inputlirc</strong>-Datei folgende Optionen festzulegen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span># Options to be passed to inputlirc.
EVENTS="/dev/input/event*"
OPTIONS="-g -m 0"
</pre></div>
</td></tr></table></div><p>Die Option <code class="notranslate">-g</code> ist mit Vorsicht zu verwenden; sie führt dazu, dass nur noch inputlirc auf die Impulse der festgelegten Geräte reagiert. Daher nur bei festgelegten <code class="notranslate">events</code> (s.u.) nutzen, sonst fällt ggf. Maus und Tastatur aus! (Die weiter unten beschriebene Anpassung von <a class="crosslink" href="#lirc.fdi">lirc.fdi</a> sollte damit hinfällig werden). <code class="notranslate">-m 0</code> sorgt dafür, dass alle Tasten erkannt werden; Standard ist, dass die Tasten unterhalb der Wertes <code class="notranslate">88</code>  (das sind die der "Standard-Tastatur") nicht ausgelesen werden. Weiteres zu den verwendbaren Optionen in der <a class="internal" href="./man.html">man</a>-Page (Befehl <code class="notranslate">man inputlircd</code>).</p><p>In <strong>/etc/default/inputlirc</strong> kann (bei Verwendung der <code class="notranslate">"-g"</code>-Option muss!) auch festgelegt werden, welche <code class="notranslate">events</code> inputlirc tatsächlich auslesen soll; dazu "<strong>*</strong>" durch das gewünschte <code class="notranslate">event</code> ersetzen, oder auch mehrere <code class="notranslate">events</code> angeben (z.B. <code class="notranslate">EVENTS="/dev/input/event4, /dev/input/event5"</code>), ansonsten kann es zu Problemen z.B. mit Maus und Keyboard kommen, weil deren Eingaben dann nur noch von inputlirc ausgelesen werden. Ggf. lässt sich dort auch etwas wie <code class="notranslate">/dev/input/by-path/pci-5-2--event-ir</code> festlegen (siehe dazu auch <a class="crosslink" href="#Wechselndes-eventX">hier</a>). Die Angaben werden erst nach einem Neustart von inputlirc wirksam:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/inputlirc restart ## für 14.04
sudo systemctl restart inputlirc.service </pre></div></div><p>Zur Verwendung der Fernbedienung ist allerdings eine funktionsfähige <a class="internal" href="./lirc/tasten_mit_funktionen_belegen.html">.lircrc</a>-Datei nötig.</p></div></div><div class="section_2"><h3 id="Manuelle-Einrichtung">"Manuelle" Einrichtung<a class="headerlink" href="#Manuelle-Einrichtung">¶</a></h3><p>
</p><div class="section_3"><h4 id="hardware-conf-einrichten">hardware.conf einrichten<a class="headerlink" href="#hardware-conf-einrichten">¶</a></h4><p>
Nach der Installation müssen die LIRC-Module geladen<sup><a href="#source-5">[5]</a></sup> und der passende Treiber verwendet werden. Welche Module, und welcher Treiber, benötigt werden, hängt von der verwendeten Hardware ab. Eine umfangreiche Liste findet sich <a class="external" href="http://www.lirc.org/html/table.html" rel="nofollow">hier</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Sie werden automatisch beim Systemstart geladen, wenn die richtigen Werte in die <strong>hardware.conf</strong> eingetragen sind. Wenn schon bei der Installation die passenden Angaben gemacht wurden, sind diese bereits in der Datei gespeichert. Sie befindet sich in <strong>/etc/lirc</strong>, in ihr können auch weitere Parameter festgelegt werden, die der LIRC-Daemon dann bei jedem Start verwendet. Welche davon zwingend benötigt werden und welche nicht, variiert je nach verwendeter Hardware. Bei Unsicherheiten kann man den jeweiligen Eintrag vorerst leer lassen. Alle Parameter werden zwischen den beiden <strong>" "</strong> eingetragen. Zeilen, die mit einer <code class="notranslate">#</code> beginnen, sind Kommentare.</p><table style="width: 97%"><tr class="titel"><td colspan="2">  Bestandteile der hardware.conf </td></tr><tr class="kopf"><td>  Zeile </td><td> Erklärung </td></tr><tr><td> <em>LIRCD_ARGS</em> </td><td> Parameter die <strong>lircd</strong> bei jedem Start ausführt. </td></tr><tr><td> <em>START_LIRCMD</em> </td><td> Der LIRC mouse daemon ermöglicht es, den Mauszeiger über die Fernbedienung zu steuern. Soll <strong>lircmd</strong> beim Start von <strong>lircd</strong> geladen werden, muss die Zeile einkommentiert und auf <em>true</em> gesetzt werden. </td></tr><tr><td> <em>LOAD_MODULES</em> </td><td> Bei <em>true</em> versucht <strong>lircd</strong> selbstständig ein passendes Modul für die verwendete Hardware zu laden. </td></tr><tr><td> <em>DRIVER</em> </td><td> Wählt einen Treiber aus. Wenn die Fernbedienung über <strong>/dev/input/"irgendwas"</strong> angesprochen wird, sollte hier "<code class="notranslate">devinput</code>" eingetragen werden. Eine Liste weiterer Treiber findet man mittels "<code class="notranslate">lircd --driver=help</code>" </td></tr><tr><td> <em>DEVICE</em> </td><td> Über welches Device die Fernbedienung angesprochen wird, z.B. <strong>/dev/input/eventX</strong>. </td></tr><tr><td> <em>MODULES</em> </td><td> Gibt an, welches Kernelmodul<sup><a href="#source-5">[5]</a></sup> <strong>lircd</strong> laden soll. </td></tr><tr><td> <em>LIRCD_CONF</em> </td><td> Hier kann ein individueller Pfad zur <em>lircd.conf</em> angegeben werden. Standard ist <strong>~/.lircd.conf</strong>. </td></tr><tr><td> <em>LIRCMD_CONF</em> </td><td> Hier kann ein individueller Pfad zur <em>lircmd.conf</em> angegeben werden. Standard ist <strong>~/.lircmd.conf</strong>. </td></tr></table><p>
Ab lirc-0.8.3 wird außerdem zwischen den Einträgen für die Fernbedienung (<code class="notranslate">REMOTE</code>) und Sender (<code class="notranslate">TRANSMITTER</code>, nur benötigt, wenn IR-Signale von einem tatsächlich vorhandenen Sender an andere Geräte weitergesendet werden sollen, siehe <a class="external" href="http://www.lirc.org/html/irsend.html" rel="nofollow">irsend</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ) unterschieden; eine für <code class="notranslate">Linux input layer (/dev/input/eventX)</code> und das  Gerät <code class="notranslate">/dev/input/event6</code> von lirc-0.8.3 automatisch erstellte <strong>hardware.conf</strong> sieht so aus:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span># /etc/lirc/hardware.conf
#
#Chosen Remote Control
REMOTE="Linux input layer (/dev/input/eventX)"
REMOTE_MODULES=""
REMOTE_DRIVER="devinput"
REMOTE_DEVICE="/dev/input/event6"
REMOTE_LIRCD_CONF="generic/devinput.conf"
REMOTE_LIRCD_ARGS=""

#Chosen IR Transmitter
TRANSMITTER="None"
TRANSMITTER_MODULES=""
TRANSMITTER_DRIVER=""
TRANSMITTER_DEVICE=""
TRANSMITTER_LIRCD_CONF=""
TRANSMITTER_LIRCD_ARGS=""

#Enable lircd
START_LIRCD="true"

#Don't start lircmd even if there seems to be a good config file
#START_LIRCMD="false"

#Try to load appropriate kernel modules
LOAD_MODULES="true"

# Default configuration files for your hardware if any
LIRCMD_CONF=""

#Forcing noninteractive reconfiguration
#If lirc is to be reconfigured by an external application
#that doesn't have a debconf frontend available, the noninteractive
#frontend can be invoked and set to parse REMOTE and TRANSMITTER
#It will then populate all other variables without any user input
#If you would like to configure lirc via standard methods, be sure
#to leave this set to "false"
FORCE_NONINTERACTIVE_RECONFIGURATION="false"
START_LIRCMD=""
</pre></div>
</td></tr></table></div></div><div class="section_3"><h4 id="lircd-conf-einrichten">lircd.conf einrichten<a class="headerlink" href="#lircd-conf-einrichten">¶</a></h4><p>
</p><table style="width: 34%; float: right; clear: right"><tr class="titel"><td colspan="2"> Fernbedienungscodes </td></tr><tr class="kopf"><td> Modell </td><td> Download </td></tr><tr><td> TS35 DVB-T Technisat Airstar 2</td><td><a class="internal missing" href="./lirc/lircd.conf.html">lircd.conf</a> </td></tr><tr><td> Terratec Cinergy Hybrid T USB XS </td><td> <a class="crosslink" href="http://paste.ubuntuusers.de/10458/">lircd.conf</a> </td></tr></table><p>
Bei jedem Tastendruck wird ein Zahlen-Buchstaben-Code an den Rechner gesendet (Bsp. <code class="notranslate">0x0067</code>). Die <strong>lircd.conf</strong> stellt einen für Menschen nachvollziehbaren Zusammenhang zwischen den gesendeten Codes und den entsprechenden Tasten auf der Fernbedienung her. Ggf. wird bei der Installation bereits eine passende Konfiguration erstellt; z.T. sind sie unter <strong>/usr/share/lirc/remotes/</strong> bereits vorhanden und werden in der automatisch erstellten <strong>lircd.conf</strong> einfach per <code class="notranslate">include</code> aufgerufen. Als Beispiel dafür wieder eine automatisch erstellte <strong>lircd.conf</strong> für <code class="notranslate">Linux Input Layer</code>, Gerät <code class="notranslate">/dev/input/event6</code>, die eigentlich nur aus dieser einen <code class="notranslate">include</code>-Zeile besteht:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>#This configuration has been automatically generated via
#the Ubuntu LIRC package maintainer scripts.
#
#It includes the default configuration for the remote and/or
#transmitter that you have selected during package installation.
#
#Feel free to add any custom remotes to the configuration
#via additional include directives or below the existing
#Ubuntu include directives from your selected remote and/or
#transmitter.

#Configuration for the Linux input layer (/dev/input/eventX) remote:
include /usr/share/lirc/remotes/generic/devinput.conf
</pre></div>
</td></tr></table></div><p>Vorgefertigte <strong>lircd.conf</strong>-Dateien findet man ggf. unter <a class="external" href="http://lirc.sourceforge.net/remotes/" rel="nofollow">lirc.sourceforge.net</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>, die dann mit Root-Rechten nach <strong>/etc/lirc</strong> kopiert werden müssen. Falls keine passende vorhanden ist (oder man sich unsicher ist), kann mit <code class="notranslate">irrecord</code> sehr einfach eine eigene <strong>lircd.conf</strong> erstellt werden. <code class="notranslate">irrecord</code> benötigt den verwendeten Treiber, das verwendete <code class="notranslate">Device</code>, einen Speicherort für die <strong>lircd.conf</strong> und Root-Rechte:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo irrecord -H &lt;Treibername&gt; -d /dev/&lt;das_ermittelte_device&gt; /pfad/zur/lircd.conf </pre></div></div><p>Danach die Anweisungen befolgen und die Datei unter <strong>/etc/lirc/lircd.conf</strong> abspeichern (Root-Rechte nötig). Ab Version 0.8.6 sind standardmäßig nur noch bestimmte Tastennamen vorgesehen, sie lassen sich mit dem Befehl <code class="notranslate">irrecord -l</code> auflisten.</p></div><div class="section_3"><h4 id="Funktionstest-der-Konfiguration">Funktionstest der Konfiguration<a class="headerlink" href="#Funktionstest-der-Konfiguration">¶</a></h4><p>
Nach einem Neustart von <code class="notranslate">lircd</code> und <code class="notranslate">irw</code> mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/lirc restart ## für 14.04
sudo systemctl restart lirc.service
irw </pre></div></div><p>kann getestet werden, ob LIRC die Signale der Fernbedienung erkennt. Die Ausgabe sieht beispielsweise wie folgt aus:</p><pre class="notranslate">0000000000000000 00 KEY_UP lircd.conf
0000000000000000 00 KEY_DOWN lircd.conf</pre><p>Es erscheinen u.a. die in der <strong>lircd.conf</strong> hinterlegten Tastennamen (<code class="notranslate">KEY_UP</code>, <code class="notranslate">KEY_DOWN</code>), die dann für die <a class="internal" href="./lirc/tasten_mit_funktionen_belegen.html#.lircrc">.lircrc</a> verwendet werden können. Ggf. erscheinen bei jedem Tastendruck zwei oder mehr Ausgaben; eigentlich sollte das keine Probleme verursachen, da in der Standardeinstellung Wiederholungen zunächst ignoriert werden. Falls aber die Befehle auch im Normalbetrieb doppelt ausgeführt werden, wie in <a class="internal" href="./lirc.html#Doppeltes-Ausfuehren-von-Befehlen">Doppeltes Ausführen von Befehlen</a> angegeben verfahren.</p><p>Falls keine Ausgabe erfolgt, kann ein erweiterter Test aufschlussreich sein. Dazu wird LIRC mit folgendem Befehl gestartet</p><div class="bash"><div class="contents"><pre class="notranslate">sudo lircd --nodaemon -H devinput -d /dev/input/event6 </pre></div></div><p>wobei die Parameter <code class="notranslate">-H</code> (driver) und <code class="notranslate">-d</code> (device) der eigenen Konfiguration angepasst werden müssen.</p><p>Ggf. muss zuvor ein laufendes <code class="notranslate">lircd</code> z.B. mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/lirc stop ## für 14.04
sudo systemctl stop lirc.service </pre></div></div><p>beendet werden.</p><p>In einem <span class="underline">weiteren</span> Terminal kann jetzt <code class="notranslate">irw</code> aufgerufen werden; wenn alles funktioniert, wird für jede Taste der Fernbedienung etwas wie oben beschrieben ausgegeben.
<a class="crosslink anchor" href="#lirc.fdi" id="lirc.fdi"></a>
Falls allerdings, bei Verwendung des "<code class="notranslate">devinput</code>"-Treibers gelegentlich der Fall, im ersten Terminal jetzt eine Meldung wie</p><pre class="notranslate">lircd-0.8.3[8085]: can't get exclusive access to events comming from `/dev/input/event6' interface</pre><p>erscheint, muss die Datei <strong>/usr/share/hal/fdi/preprobe/20thirdparty/lirc.fdi</strong> (existiert erst seit Version 0.8.3!) in einem Editor<sup><a href="#source-3">[3]</a></sup> so angepasst werden, dass dort die eigene Fernbedienung (aus der "<code class="notranslate">cat /proc/bus/input/devices</code>"-Ausgabe ersichtlich) statt des dort angegebenen Strings "<code class="notranslate">saa7134</code>" in der Zeile</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>      <span class="p">&lt;</span><span class="nt">match</span> <span class="na">key</span><span class="o">=</span><span class="s">"info.product"</span> <span class="na">contains_ncase</span><span class="o">=</span><span class="s">"saa7134"</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div><p>eingetragen wird. Für die LIRC-Version &gt; 0.8.4a müssen ggf. auch alle weiteren Einträge entfernt werden; damit steht dann in der lirc.fdi nur noch:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<span class="p">&lt;</span><span class="nt">deviceinfo</span> <span class="na">version</span><span class="o">=</span><span class="s">"0.2"</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">device</span><span class="p">&gt;</span>
     <span class="p">&lt;</span><span class="nt">match</span> <span class="na">key</span><span class="o">=</span><span class="s">"info.product"</span> <span class="na">contains_ncase</span><span class="o">=</span><span class="s">"Eigene Fernbedienung"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">merge</span> <span class="na">key</span><span class="o">=</span><span class="s">"info.ignore"</span> <span class="na">type</span><span class="o">=</span><span class="s">"bool"</span><span class="p">&gt;</span>true<span class="p">&lt;/</span><span class="nt">merge</span><span class="p">&gt;</span>
     <span class="p">&lt;/</span><span class="nt">match</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">device</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">deviceinfo</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div><p>Danach <span class="underline">müssen</span> HAL und der <a class="internal" href="./xserver.html">XServer</a> neu gestartet werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/hal restart
sudo /etc/init.d/gdm restart </pre></div></div><p>Im Zweifelsfall den Rechner neu booten. Ein Neustart von LIRC alleine reicht nicht aus!</p><p>Falls <code class="notranslate">irw</code> auch dann keine Ergebnisse liefert, ist vermutlich keine passende <a class="internal" href="./lirc.html#lircd-conf-einrichten">lircd.conf</a>-Datei vorhanden, oder es ist zuvor ein Fehler unterlaufen; ggf. wird aber auch die Fernbedienung nicht unterstützt (was eher unwahrscheinlich ist). Einige Empfänger können mit gleichzeitig installiertem <strong>inputlirc</strong> nicht betrieben werden, das Programm muss dann gestoppt und ggf. das Paket ganz deinstalliert werden.</p></div></div></div><div class="section_1"><h2 id="Tasten-mit-Funktionen-belegen">Tasten mit Funktionen belegen<a class="headerlink" href="#Tasten-mit-Funktionen-belegen">¶</a></h2><p>
Jetzt müssen den Tasten der Fernbedienung die gewünschten Funktionen zugeordnet werden. Mit diesem umfangreichen Thema beschäftigt sich ein <a class="internal" href="./lirc/tasten_mit_funktionen_belegen.html">eigener Unterartikel</a>.</p></div><div class="section_1"><h2 id="Problemloesungen">Problemlösungen<a class="headerlink" href="#Problemloesungen">¶</a></h2><p>
Bei der Installation sollte es eigentlich keine allzu großen Schwierigkeiten geben. Da jedoch die Einrichtung sehr komplex ist, werden hier Lösungsansätze für eventuell auftretende Probleme vorgestellt.</p><div class="section_2"><h3 id="Doppeltes-Ausfuehren-von-Befehlen">Doppeltes Ausführen von Befehlen<a class="headerlink" href="#Doppeltes-Ausfuehren-von-Befehlen">¶</a></h3><p>
Wenn bei einer Fernbedienung, die über den <code class="notranslate">devinput</code>-Treiber läuft, beim Tastendruck der zugehörige Befehl doppelt ausgeführt wird, und auch nicht durch die Parameter <a class="internal" href="./lirc/tasten_mit_funktionen_belegen.html#repeat">repeat</a> und <a class="internal" href="./lirc/tasten_mit_funktionen_belegen.html#delay">delay</a> beeinflussbar ist, hilft es, in der <strong>.lircd.conf</strong> den <code class="notranslate">pre_data</code>-Wert auf</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>   pre_data  0x8001
</pre></div>
</td></tr></table></div><p>zu setzen, und den <code class="notranslate">toggle_bit_mask</code>-Wert zu löschen/auszukommentieren. Viele Fernbedienungen senden als Standard zweimal (teilweise auch häufiger) den Impuls der Taste, um sicherzustellen, dass er wirklich ankommt. Allerdings gibt es auch Fernbedienungen, die auf einen Tastendruck hin nicht mehrfach den identischen Impuls, sondern auch noch abwechselnd unterschiedliche Impulse senden, die sich aber meist nur in den "high order bit" am Anfang des gesendeten Codes unterscheiden (Infos dazu auf <a class="external" href="http://codeka.com/forums/viewtopic.php?f=3&amp;t=60#p388" rel="nofollow">codeka.com</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>). In einer, mit mit <strong>irrecord</strong> erstellten, <strong>lircd.conf</strong> für derartige Fernbedienungen findet sich ein Eintrag wie</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>  toggle_bit_mask   0x8000000 
</pre></div>
</td></tr></table></div><p>Dieser Filter führt dazu, dass die Impulse, z.B. von irw, doppelt ausgegeben werden.</p><p>Im Normalfall werden doppelte Befehle (wenn nicht explizit anders angegeben) von <strong>.lircrc</strong> ignoriert; allerdings werden durch diese <code class="notranslate">toggle-bit-mask</code> gefilterten Impulse mit dem <code class="notranslate">devinput</code>-Treiber nicht mehr als "identische", sondern als zwei unterschiedliche Befehle aufgefasst, und somit auch beide hintereinander ausgeführt (ein bekannter Bug in <code class="notranslate">irrecord</code>). Das führt dazu, dass z.B. keine einzelnen Zahlen mehr eingegeben werden können, und Wechsel-Tasten sofort wieder in den Ausgangszustand zurückspringen. Abhilfe kann zum einen das Auskommentieren dieser Zeile schaffen (dann wird der zweite Impulse nicht mehr verarbeitet), allerdings lassen sich so noch keine Dauertastendrücke (wie z.B. zur Lautstärkeregelung wünschenswert) realisieren. Mit dem <code class="notranslate">pre_data 0x8001</code>-Wert wirkt dann auch der zweite gesendete Impulse (der beim Loslassen der Taste generiert wird) nicht mehr, und die Impulse können bei längerem Druck wie erwünscht als Wiederholung erkannt werden.</p></div><div class="section_2"><h3 id="Wechselndes-eventX">Wechselndes "eventX"<a class="headerlink" href="#Wechselndes-eventX">¶</a></h3><p>
Wenn es Probleme mit dem Ansprechen der Fernbedienung gibt, weil von Start zu Start (aufgrund unterschiedlicher Verwendung der USB-Anschlüsse o.ä.) unterschiedliche "events" ausgegeben werden, kann ggf. auch ein fester Wert in die <strong>hardware.conf</strong> eingetragen werden, unter dem dann die Fernbedienung immer erkannt werden sollte. Dazu mit</p><div class="bash"><div class="contents"><pre class="notranslate">ls -l /dev/input/by-path/* </pre></div></div><p>die Geräte nach Pfad-Angabe auflisten; das Ergebnis sieht in etwa so aus:</p><pre class="notranslate">lrwxrwxrwx 1 root root 9 2009-02-22 13:16 /dev/input/by-path/pci-0000:00:10.1-usb-0:1:1.0-event-mouse -&gt; ../event5
lrwxrwxrwx 1 root root 9 2009-02-22 13:16 /dev/input/by-path/pci-0000:00:10.1-usb-0:1:1.0-mouse -&gt; ../mouse1
lrwxrwxrwx 1 root root 9 2009-02-22 13:16 /dev/input/by-path/pci-5-2--event-ir -&gt; ../event7
lrwxrwxrwx 1 root root 9 2009-02-22 13:16 /dev/input/by-path/platform-i8042-serio-0-event-kbd -&gt; ../event1
lrwxrwxrwx 1 root root 9 2009-02-22 13:16 /dev/input/by-path/platform-pcspkr-event-spkr -&gt; ../event6</pre><p>Der "event"-Wert, den man mit <code class="notranslate">cat /proc/bus/input/devices</code> erhalten hat, mit dem entsprechenden Wert abgleichen (hier für die Fernbedienung <code class="notranslate">pci-5-2--event-ir</code> als <code class="notranslate">event7</code>) und den String in der <strong>/etc/lirc/hardware.conf</strong> eintragen, hier also z.B.</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>REMOTE_DEVICE="/dev/input/by-path/pci-5-2--event-ir"
</pre></div>
</td></tr></table></div><p>statt</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>REMOTE_DEVICE="/dev/input/event7"
</pre></div>
</td></tr></table></div><p>verwenden.</p><p>Das funktioniert allerdings nicht, wenn für den Receiver bei <code class="notranslate">cat /proc/bus/input/devices</code> ein "virtuelles" Gerät angegeben wird, wie z.B. hier:</p><pre class="notranslate">S: Sysfs=/devices/virtual/input/input6</pre><p>Dann gibt es auch bei <code class="notranslate">ls -l /dev/input/by-path/*</code> keine passende Ausgabe für das Gerät.</p><div class="section_3"><h4 id="Eigene-udev-Regel-erstellen">Eigene udev-Regel erstellen<a class="headerlink" href="#Eigene-udev-Regel-erstellen">¶</a></h4><p>
Falls für die Fernbedienung keine Einträge in <strong>/dev/input/by-path/</strong> zu finden sind, kann man versuchen, eine eigene <a class="internal" href="./udev.html">udev</a>-Regel anzulegen. Gleiches gilt auch für Fernbedienungen ("HID", Human Interface Devices), die sich als Maus und Tastatur mit gleichem Namen ins System einhängen. Das kann man daran erkennen, dass <code class="notranslate">cat /proc/bus/input/devices</code> zwei Geräte mit gleichem Namen aufführt. Um eine udev-Regel zu verfassen muss mit <code class="notranslate">cat /proc/bus/input/devices</code> der Name des oder der Fernbedienungen herausgefunden werden, z.B.:</p><pre class="notranslate">CoI: Bus=0003 Vendor=05a4 Product=9881 Version=0110
-&gt; N: Name="HID 05a4:9881" &lt;-
P: Phys=usb-0000:00:10.3-1/input0
S: Sysfs=/class/input/input11
U: Uniq=
H: Handlers=kbd event7 
B: EV=120013
B: KEY=e080ffdf 1cfffff ffffffff fffffffe
B: MSC=10
B: LED=7
de</pre><p>Mit diesem kann man in <strong>/etc/udev/rules.d/10-local.rules</strong> (muss ggf. angelegt werden; Root-Rechte werden benötigt) eine udev-Regel erstellen:</p><pre class="notranslate">KERNEL=="event*",ATTRS{name}=="HID 05a4:9881",SYMLINK+="input/ir"</pre><p>Der "<code class="notranslate">*</code>" gibt an, dass alle events durchsucht werden sollen. Der Eintrag nach <code class="notranslate">ATTRS{name}</code> gibt den Namen des Gerätes an und <code class="notranslate">SYMLINK</code> erstellt einen Link auf das angegebene Verzeichnis. Mit diesem kann das Gerät dann auch von inputlirc angesprochen werden. Falls nun zwei Geräte für die Fernbedienung mit dem selben Namen bestehen, kann die udev-Regel auch mit den <code class="notranslate">Phys</code>-Angaben erstellt werden:</p><pre class="notranslate">CodeI: Bus=0003 Vendor=05a4 Product=9881 Version=0110
N: -&gt; Name="HID 05a4:9881" &lt;-
P: -&gt; Phys=usb-0000:00:10.3-1/input0 &lt;-
S: Sysfs=/class/input/input11
U: Uniq=
H: Handlers=kbd event7 
B: EV=120013
B: KEY=e080ffdf 1cfffff ffffffff fffffffe
B: MSC=10
B: LED=7

I: Bus=0003 Vendor=05a4 Product=9881 Version=0110
N: -&gt; Name="HID 05a4:9881"&lt;-
P: -&gt; Phys=usb-0000:00:10.3-1/input1 &lt;-
S: Sysfs=/class/input/input12
U: Uniq=
H: Handlers=kbd mouse1 event8 
B: EV=17
B: KEY=1f0000 0 2020000 3878 d801d001 1e0000 0 0 0
B: REL=103
B: MSC=10
</pre><p>Die Regel würde dann folgendermaßen aussehen:</p><pre class="notranslate">KERNEL=="event*",ATTRS{phys}=="usb-0000:00:10.3-1/input0",SYMLINK+="input/ira"
KERNEL=="event*",ATTRS{phys}=="usb-0000:00:10.3-1/input1",SYMLINK+="input/irb"</pre><p>Jedes Gerät wird nun zu einem eigenen Verzeichnis verlinkt. <code class="notranslate">udev</code> muss nun noch neu gestartet werden mit einem Reboot oder:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo udevadm trigger </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p><code class="notranslate">sudo /etc/init.d/udev restart</code> startet nur den udev-Daemon neu, ohne einen neuen Link <strong>/dev/input/ir</strong> anzulegen.
</p></div></div><p>
Inputlirc kann sie nun folgendermaßen ansprechen:</p><p><strong>/etc/default/inputlirc</strong></p><pre class="notranslate"># Options to be passed to inputlirc.
EVENTS="/dev/input/ira /dev/input/irb"
OPTIONS="-g -m 0"</pre></div></div><div class="section_2"><h3 id="Fehlerhafte-Tastenerkennung-bei-dvb-usb-dib0700-1-xx-fw">Fehlerhafte Tastenerkennung bei dvb-usb-dib0700-1.xx.fw<a class="headerlink" href="#Fehlerhafte-Tastenerkennung-bei-dvb-usb-dib0700-1-xx-fw">¶</a></h3><p>
Bei Receivern von Karten, die über die <a class="external" href="http://www.linuxtv.org/wiki/index.php/DVB-T_USB_Devices#DiB0700_USB2.0_DVB-T_devices" rel="nofollow">Firmware</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> <strong>dvb-usb-dib0700-1.xx.fw</strong> betrieben werden (z.B. TerraTec Cinergy T USB XXS, Hauppauge WinTV-NOVA-T-500) kann es zu Fehl- bzw. Nicht-Erkennung von Impulsen der Fernbedienung kommen. Abhilfe kann folgender Eintrag in <strong>/etc/modprobe.d/options</strong> schaffen:</p><pre class="notranslate">options dvb_usb_dib0700 dvb_usb_dib0700_ir_proto=0</pre><p>Danach sollten die Impulse eindeutig erkannt werden können (siehe auch im <a class="crosslink topic" href="https://forum.ubuntuusers.de/topic/fernsteuerung-fuer-dvb-usb-stick-geht-nicht/">Forum</a> und <a class="crosslink topic" href="https://forum.ubuntuusers.de/topic/terratec-cinergy-dt-usb-xs-lirc/">Forum</a> im Forum).</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die weiteren Problemlösungen wurden noch nicht mit einer aktuellen Version von Lirc getestet. Sie könnten daher veraltet sein und nicht mehr funktionieren.
</p></div></div></div><div class="section_2"><h3 id="Fehler-beim-Laden-des-lirc-serial-Moduls">Fehler beim Laden des lirc_serial-Moduls<a class="headerlink" href="#Fehler-beim-Laden-des-lirc-serial-Moduls">¶</a></h3><p>
Falls beim Laden des <code class="notranslate">lirc_serial</code>-Moduls ein Fehler auftritt, kann ggf. Folgendes Abhilfe schaffen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo setserial /dev/ttyS0 uart none </pre></div></div><p>Nummerierung in Linux und Windows: 
</p><table style="width: 40%"><tr class="titel"><td colspan="3">  /dev/ttyS* </td></tr><tr class="kopf"><td> <strong>Schnittstelle</strong> </td><td> <strong>Linux Device</strong> </td><td> <strong>Windows Device</strong> </td></tr><tr><td> 1 </td><td> /dev/ttyS0 </td><td> COM 1 </td></tr><tr><td> 2 </td><td> /dev/ttyS1 </td><td> COM 2 </td></tr></table><p>
Dauerhaft kann das in der Datei <strong>/var/lib/setserial/autoserial.conf</strong> festgelegt werden.</p></div><div class="section_2"><h3 id="irw-und-mode2-geben-keine-Ausgabe">irw und mode2 geben keine Ausgabe<a class="headerlink" href="#irw-und-mode2-geben-keine-Ausgabe">¶</a></h3><p>
Falls <code class="notranslate">irw</code> und <code class="notranslate">mode2</code> keine Ausgabe ergeben, kann Folgendes hilfreich sein:</p><div class="bash"><div class="contents"><pre class="notranslate">mode2 -d /dev/lirc0 </pre></div></div><p>Sollte es nun zu einer Ausgabe bei  <code class="notranslate">mode2</code> kommen, muss der lirc-Daemon mit dem Zusatz <code class="notranslate">-d /dev/lirc0</code> gestartet werden. Das verwendete Gerät lässt sich aber auch in der <strong>hardware.conf</strong> festlegen.</p></div><div class="section_2"><h3 id="irw-gibt-keine-Ausgabe-bei-einer-mit-irrecord-selbst-erstellten-lircd-conf">irw gibt keine Ausgabe bei einer mit irrecord selbst erstellten lircd.conf<a class="headerlink" href="#irw-gibt-keine-Ausgabe-bei-einer-mit-irrecord-selbst-erstellten-lircd-conf">¶</a></h3><p>
Wird für die eigene Fernbedienung keine passende Konfiguration mitgeliefert, kann nach obiger Anleitung mit <code class="notranslate">irrecord</code> eine eigene Konfiguration erstellt werden. Es kann vorkommen, dass <code class="notranslate">irw</code> mit einer so selbst erzeugten Konfiguration keine Ausgabe erzeugt, obwohl das Einlernen der Fernbedienung mit <code class="notranslate">irrecord</code> funktioniert hat. Dies kann darauf zurückzuführen sein, dass die durch <code class="notranslate">irrecord</code> erzeugte Konfiguration fehlerhaft ist und <code class="notranslate">irrecord</code> in der erzeugten <code class="notranslate">lircd.conf</code> zusätzlich zum Tastencode noch weitere Informationen hinterlegt. Eine solche Konfiguration sieht dann bspw. so aus:
</p><pre class="notranslate">[...]
      begin codes
          KEY_PAUSE                0x04000400000030 0x00000000000000
          KEY_1                    0x04000400000001 0x00000000000001
          KEY_2                    0x04000400000002 0x00000000000001
          KEY_3                    0x04000400000003 0x00000000000001
          KEY_4                    0x04000400000004 0x00000000000001
          KEY_5                    0x04000400000005 0x00000000000001
      end codes
[...]</pre><p>
In obigem Beispiel ist die zweite Hex-Zahl nach dem Tastencode entsprechend <a class="external" href="http://winlirc.sourceforge.net/technicaldetails.html" rel="nofollow">der Definition der lircd.conf</a> falsch; eine solche falsche Zeile wird von <code class="notranslate">lircd</code> ohne Fehler ignoriert. Löscht man die zweite Hex-Zahl (meist <code class="notranslate">0x0</code> oder <code class="notranslate">0x1</code>) in den Tastencode-Zeilen, funktioniert die Konfiguration meist ohne Probleme.</p></div><div class="section_2"><h3 id="dev-lirc-existiert-nicht">/dev/lirc existiert nicht<a class="headerlink" href="#dev-lirc-existiert-nicht">¶</a></h3><p>
Falls das Gerät <strong>/dev/lirc</strong> nicht existiert, kann es helfen, einen Symlink auf <strong>/dev/lirc0</strong> zu legen:</p><div class="bash"><div class="contents"><pre class="notranslate">ln -s /dev/lirc0 /dev/lirc </pre></div></div><p>Das löst das Problem allerdings nur temporär. Um langfristig eine Lösung zu haben, Folgendes durchführen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo echo KERNEL="lirc0", SYMLINK="lirc" &gt;&gt; /etc/udev/udev.rules
echo lirc_i2c | sudo tee -a /etc/modules </pre></div></div><p>Eigentlich wäre der zweite Schritt nicht notwendig, da das Modul <code class="notranslate">lirc_i2c</code> vom LIRC-Daemon geladen wird. Allerdings scheint es so zu sein, dass der Symlink erst nach dem Start des LIRC-Daemons angelegt wird. Daher muss das Modul erneut geladen werden.</p></div><div class="section_2"><h3 id="RAW-Modus">RAW-Modus<a class="headerlink" href="#RAW-Modus">¶</a></h3><p>
Hin und wieder kommt es vor, dass eine Fernbedienung durch <code class="notranslate">irrecord</code> nicht erkannt wird und zum Dekodieren der Signale der RAW-Modus zum Einsatz kommt. Leider ist diese Art der Dekodierung nicht nur hardwarehungrig, sondern auch äußerst unpräzise, wodurch es nicht selten zu unterschiedlichen Kommandos bei identischem Tastendruck kommt. Momentan ist auch keine erfolgversprechende Lösung bekannt, die über das doppelte Einlesen der Signale hinausgeht, abgesehen von der Neuanschaffung einer entsprechenden Hardware.</p></div><div class="section_2"><h3 id="USB-IR-IgorUSB">USB IR / IgorUSB<a class="headerlink" href="#USB-IR-IgorUSB">¶</a></h3><p>
Neben den seriellen gibt es auch noch USB-Infrarotempfänger, wobei es aber leider häufig zu Problemen kommen kann. So werden USB-IR's von manchen Mainboards (z.B. Intel) erst dann erkannt, wenn man einen USB-Hub dazwischen schaltet.</p></div><div class="section_2"><h3 id="Reaktionszeit-verringern">Reaktionszeit verringern<a class="headerlink" href="#Reaktionszeit-verringern">¶</a></h3><p>
Unter Umständen bemerkt man, dass das Navigieren durch Menü recht träge ist. Die kann an einer nicht zeitnahen Umsetzung schnell aufeinanderfolgender Tastendrücke liegen. Um das Problem in den Griff zu bekommen, muss man in der Datei <strong>lircd.conf</strong> mit den Parameter <code class="notranslate">gap</code> und <code class="notranslate">repeat_gap</code> etwas "spielen". Beispielwerte können aus dem nachfolgenden Codeblock entnommen werden:</p><pre class="notranslate">  gap           100000
  repeat_gap    10</pre></div><div class="section_2"><h3 id="irexec-irw-No-such-file-or-directory">irexec / irw  "No such file or directory"<a class="headerlink" href="#irexec-irw-No-such-file-or-directory">¶</a></h3><p>
Auch nach korrekter Installation und Konfiguration kann der Aufruf von irexec / irw fehlschlagen:</p><div class="bash"><div class="contents"><pre class="notranslate">irexec </pre></div></div><p>
</p><pre class="notranslate">irexec: could not connect to socket
irexec: No such file or directory </pre><div class="bash"><div class="contents"><pre class="notranslate">irw </pre></div></div><p>
</p><pre class="notranslate">connect: No such file or directory</pre><p>Der Aufruf von irw unter Angabe des richtigen Sockets <strong>/dev/lircd</strong> funktioniert jedoch.</p><div class="bash"><div class="contents"><pre class="notranslate">irw /dev/lircd  </pre></div></div><p>
</p><pre class="notranslate">71 0 KEY_MUTE event4
71 0 KEY_MUTE event4
a8 0 KEY_REWIND event4
a8 0 KEY_REWIND event4
...</pre><p>
Dem Programm irexec kann das richtige Socket nicht übergeben werden.</p><p>Das Problem besteht darin, dass die Programme irw und irexec auf die Datei <strong>/var/run/lirc/lircd</strong> zugreifen, welche nicht mehr angelegt wird. Der Paket-Maintainer hat das Standard-Socket von <strong>/var/run/lirc/lircd</strong> nach <strong>/dev/lircd</strong> verlegt, die Programme irw und irexec jedoch <a class="external" href="http://ubuntu-virginia.ubuntuforums.org/showpost.php?p=7952609&amp;postcount=20" rel="nofollow">bisher nicht angepasst</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Auch das Verzeichnis <strong>/var/run/lirc/</strong> existiert dann i.d.R. nicht.</p><p>Das Verzeichnis und der Link auf das richtige Socket müssen dann angelegt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir -p /var/run/lirc
sudo ln -s /dev/lircd /var/run/lirc/lircd </pre></div></div><p>Diese Lösung ist nicht persistent. Das Verzeichnis und der Link unter <strong>/var/run/</strong> können aber bei jedem Systemstart<sup><a href="#source-4">[4]</a></sup> über den Eintrag in der <a class="internal" href="./rc.local.html">rc.local</a> angelegt werden:</p><pre class="notranslate">mkdir -p /var/run/lirc/ &amp;&amp; ln -s /dev/lircd /var/run/lirc/lircd</pre></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.lirc.org/" rel="nofollow">Offizielle LIRC-Homepage</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://pc-portal.at/module.php?mod=knowledgebase&amp;art=11&amp;page=2&amp;PHPSESSID=09a05be84825b4d8fcd20847e37c5f22" rel="nofollow">Tutorial zum Einrichten (kurz) und Nutzen von LIRC</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> </p></li><li><p><a class="external" href="http://doc.ubuntu-fr.org/lircrc" rel="nofollow">Zahlreiche .lircrc Beispiele</a> <img alt="{fr}" src="./_/a4d7caed6af30e5c7549b4de45c71ed5f7036425.png"/> </p></li><li><p><a class="external" href="http://www.lirc.org/faq.html" rel="nofollow">LIRC FAQ und Links zu Hardware</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.loggn.de/linux-xbmc-aus-bereitschaftsmodus-per-mce-fernbedienung-aufwecken/" rel="nofollow">Linux – XBMC aus Bereitschaftsmodus per MCE-Fernbedienung aufwecken</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="http://stuff.nekhbet.ro/2006/07/10/make-an-infrared-remote-control-for-pc.html" rel="nofollow">Bauen eines seriellen IR-Controllers</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://fabian.dillmeier.de/lirc/" rel="nofollow">Ausführliche Anleitung zur Konfiguration der <strong>.lircrc</strong></a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="http://www.loggn.de/htpc-media-center-logitech-harmony-reagiert-traege-unter-windows-und-linux/" rel="nofollow">HTPC – Media Center – Logitech Harmony reagiert träge unter Windows und Linux</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="http://www.loggn.de/ubuntu-lirc-xbmc-mit-pc-funkfernbedienung-x10-steuern/" rel="nofollow">HowTo - Ubuntu – LIRC – XBMC mit PC-Funkfernbedienung X10 steuern</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="http://www.loggn.de/ubuntu-lirc-konfiguration-mit-rc6-ir605q-147a-e03e-und-logitech-harmony/" rel="nofollow">HowTo - Ubuntu – LIRC Konfiguration mit MCE RC6 IR-Empfänger und einer Logitech Harmony</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./lirc/a/revision/941283.html">Diese Revision</a> wurde am 15. Mai 2017 20:27 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./lirc.html">Lirc</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>