<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Redis › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./redis.html">Redis</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Redis">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./redis/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./redis/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./redis/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./redis/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./redis/a/backlinks.html">Redis</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Einen Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./packprogramme.html">Ein Archiv entpacken</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./programme_kompilieren.html">Ein Programm kompilieren</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li></ol></div></div><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#Paketquellen">Paketquellen
</a></li><li><a class="crosslink" href="#PPA">PPA
</a></li><li><a class="crosslink" href="#Manuell">Manuell
</a></li></ol></li><li><a class="crosslink" href="#Benutzung">Benutzung
</a><ol class="arabic"><li><a class="crosslink" href="#Starten-des-Server">Starten des Server
</a></li><li><a class="crosslink" href="#Redis-Kommandozeile">Redis Kommandozeile
</a></li><li><a class="crosslink" href="#Publish-Subscribe">Publish / Subscribe
</a></li><li><a class="crosslink" href="#Lua-Skripting">Lua Skripting
</a></li><li><a class="crosslink" href="#Speicherverbrauch-beim-Schreiben-der-Datenbank-optimieren">Speicherverbrauch beim Schreiben der Dat...</a></li><li><a class="crosslink" href="#Benchmark-aufrufen">Benchmark aufrufen
</a></li></ol></li><li><a class="crosslink" href="#Datentypen">Datentypen
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a><ol class="arabic"><li><a class="crosslink" href="#Replikation">Replikation
</a></li><li><a class="crosslink" href="#Redis-Cluster">Redis-Cluster
</a></li></ol></li><li><a class="crosslink" href="#Deinstallation">Deinstallation
</a><ol class="arabic"><li><a class="crosslink" href="#bei-Installation-ueber-Paketquellen-oder-PPA">bei Installation über Paketquellen oder ...</a></li><li><a class="crosslink" href="#manuelle-Installation">manuelle Installation
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="redis_logo.png" class="image-left" src="./_/72fe687deffc9a5cb95c920fdeee332372ddafed.png"/>
<a class="external" href="http://redis.io" rel="nofollow">Redis</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein „Key-Value Store“ (oder kurz nur KV Store), ins Deutsche übersetzt „Schlüssel-Werte Datenbank“. Hier werden die Daten immer in Form von Schlüssel-Werte-Paaren gespeichert. Man kann sich die Datenbank also so vorstellen, dass darin nur eine Tabelle mit zwei Spalten existiert, nämlich einer Spalte für den Schlüssel und einer für den Wert. Da Redis aber verschiedene <a class="crosslink" href="#Datentypen">Datentypen</a> für die Werte kennt, bezeichnen die Entwickler die Datenbank aber bevorzugt als "data structure store".</p><p>Im Vergleich zu anderen Datenbanken wie z.B. <a class="internal" href="./mysql.html">MySQL</a>, <a class="internal" href="./postgresql.html">PostgreSQL</a> oder <a class="internal" href="./couchdb.html">CouchDB</a> ist Redis extrem schnell. Selbst auf halbwegs aktuellen Desktop-Rechner schafft die Datenbank über 100.000 (einfache) Schreibvorgänge und über 80.000 (einfache) Lesevorgänge pro Sekunde. Dies liegt primär auch daran, dass die Datenbank komplett im RAM gehalten wird und nur nach einer bestimmten Zeit oder einer bestimmten Anzahl geänderter Werte auf die Festplatte geschrieben wird. Des Weiteren beherrscht Redis <a class="crosslink" href="#Replikation">Replikation</a> und ist seit der Version 3.0 auch <a class="crosslink" href="#Redis-Cluster">Cluster-fähig</a>.</p><p>Redis ist als Server-Client-Architektur ausgelegt, d.h. der Redis-Server läuft als Dienst (im Hintergrund) und kann dann per Client abgefragt werden. Weiterhin ist bei der Redis-Installation auch eine Kommandozeile enthalten, über welche sich der volle Funktionsumfang des Servers nutzen lässt.</p><p>Wichtig ist auch noch, dass bei Redis Schlüssel „alles“ sind und Werte „nichts“. D.h. alle Abfragen beziehen sich immer auf einen Schlüssel und liefern einen Wert zurück. Abfrage zu Werten gibt es nicht - Befehle wie z.B. "Zeige mir den Schlüssel zum Wert foobar" gibt es nicht.</p><p>Seit Version 0.10 benutzt auch <a class="crosslink" href="https://ubuntuusers.de/inyoka/">Inyoka</a> (die Software, auf der auch dieses Wiki von ubuntuusers.de läuft) Redis als Datenspeicher, zusätzlich zu MySQL.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
</p><div class="section_2"><h3 id="Paketquellen">Paketquellen<a class="headerlink" href="#Paketquellen">¶</a></h3><p>
Redis befindet sich in den Paketquellen von Ubuntu und kann über das Paket</p><ul><li><p><strong>redis-server</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install redis-server </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install redis-server </pre></div></div><p>
</p></div></div><p>installiert werden - allerdings in alten (veralteten) Versionen. Von daher sollte die manuelle Installation bevorzugt werden.</p></div><div class="section_2"><h3 id="PPA">PPA<a class="headerlink" href="#PPA">¶</a></h3><p>
Es existieren verschiedene PPAs für Redis, allerdings wird keines davon von direkt von den Redis-Entwicklern gepflegt.</p><p>Ein PPA, welches für alle Ubuntu-Versionen eine aktuellere - aber nicht unbedingt die aktuellste -  Version von Redis bereitstellt, ist das von Chris Lea:</p><p>Adresszeile zum <a class="internal" href="./paketquellen_freischalten/ppa.html#PPA-hinzufuegen">Hinzufügen</a> des PPAs:
</p><ul><li><p><strong>ppa:chris-lea/redis-server</strong> </p></li></ul><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
Zusätzliche <a class="internal" href="./fremdquellen.html">Fremdquellen</a> können das System gefährden. 
</p><hr/><p>Ein PPA unterstützt nicht zwangsläufig alle Ubuntu-Versionen. Weitere Informationen sind der <img alt="Wiki/Vorlagen/PPA/ppa.png" class="image-default" src="./_/237f3a0f00c3091056c1a912d81e924e8391ed6b.png"/> <a class="external" href="https://launchpad.net/~chris-lea/+archive/redis-server" rel="nofollow">PPA-Beschreibung</a> des Eigentümers/Teams <a class="interwiki interwiki-lpuser" href="https://launchpad.net/~chris-lea">chris-lea</a> zu entnehmen.
</p></div></div><p>
Damit Pakete aus dem PPA genutzt werden können, müssen die Paketquellen <a class="internal" href="./paketquellen_freischalten.html">neu eingelesen</a> werden.</p></div><div class="section_2"><h3 id="Manuell">Manuell<a class="headerlink" href="#Manuell">¶</a></h3><p>
Da Redis keine weiteren Abhängigkeiten hat, ist das Selberkompilieren sehr einfach. Zuerst lädt man von der <a class="external" href="http://www.redis.io/download" rel="nofollow">Downloadseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> die aktuelle stabile Version herunter und entpackt diese<sup><a href="#source-4">[4]</a></sup>, z.B. ins Homeverzeichnis.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Im folgenden wird davon ausgegangen, dass die Daten nach <strong>/home/BENUTZER/redis-3.2.3</strong> entpackt wurden.
</p></div></div><p>Dann wechselt man in das so entstandene Verzeichnis <strong>redis-3.2.3</strong> und startet das Kompilieren<sup><a href="#source-5">[5]</a></sup> einfach durch den Befehl<sup><a href="#source-2">[2]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">make </pre></div></div><p>Nach dem Durchlauf des Compilers ist Redis einsatzbereit. Alle benötigten Dateien liegen im Verzeichnis <strong>/home/BENUTZER/redis-3.2.3/src</strong></p><p>Wer die Installation testen möchte, der kann dies direkt über den Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">make test </pre></div></div><p>machen.</p><p>Muss man Redis systemweit manuell installieren und die passenden Startskripte zum automatischen Start von Redis beim Booten anlegen, sind noch die folgenden Befehle auszuführen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo make install
cd utils
sudo ./install_server.sh </pre></div></div></div></div><div class="section_1"><h2 id="Benutzung">Benutzung<a class="headerlink" href="#Benutzung">¶</a></h2><p>
In der Standardinstallation lauscht Redis auf Port <code class="notranslate">6379</code> und allen Adressen. Die Einstellungen können in der <a class="crosslink" href="#Konfiguration">Konfiguration</a> geändert werden.</p><div class="section_2"><h3 id="Starten-des-Server">Starten des Server<a class="headerlink" href="#Starten-des-Server">¶</a></h3><p>
Ist Redis systemweit installiert läuft der Server nach dem Booten des Rechners automatisch.</p><p>Bei manueller lokaler Installation muss der Datenbank-Server von Hand gestartet werden. Dazu wechselt man ins Verzeichnis <strong>src</strong> und ruft den Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">./redis-server </pre></div></div><p>auf. Der Server läuft bei händischem Start standardmäßig im Vordergrund - dies kann ebenfalls in der Konfigurationsdatei angepasst werden - und die Logausgabe erfolgt auf stdout, also in der Regel den Terminal. Zu beachten ist bei lokaler Installation noch, dass Redis beim Starten eine Standardkonfiguration verwendet und <span class="underline">nicht</span> die Konfigurationsdatei (zu finden im entpackten Verzeichnis) einliest. Ist dies gewünscht, muss der Pfad dorthin explizit angegeben werden:</p><div class="bash"><div class="contents"><pre class="notranslate">./redis-server /home/BENUTZER/redis-3.2.3/redis.conf </pre></div></div></div><div class="section_2"><h3 id="Redis-Kommandozeile">Redis Kommandozeile<a class="headerlink" href="#Redis-Kommandozeile">¶</a></h3><p>
Redis bringt eine eigene, interaktive Kommandozeile mit, über die der volle Funktionsumfang der Servers verfügbar ist. Bei systemweiter Installation ruft man diese über</p><div class="bash"><div class="contents"><pre class="notranslate">redis-cli </pre></div></div><p>auf. Ansonsten muss man wieder ins Verzeichnis <strong>src</strong> wechseln und dort</p><div class="bash"><div class="contents"><pre class="notranslate">./redis-cli </pre></div></div><p>aufrufen.</p><p>Eine Übersicht über alle Befehle findet man in der <a class="external" href="http://redis.io/commands" rel="nofollow">Befehlsliste</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> von Redis.</p></div><div class="section_2"><h3 id="Publish-Subscribe">Publish / Subscribe<a class="headerlink" href="#Publish-Subscribe">¶</a></h3><p>
Redis ist auch ein <a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern">Publish-Subscribe Server</a>. Hier können Nachrichten an Kanäle gesendet werden ("Publish"), auf dem Empfänger dann lauschen können ("subscribe"). Wie dies bei Redis umgesetzt ist, kann in der offiziellen <a class="external" href="http://www.redis.io/topics/pubsub" rel="nofollow">Dokumentation zu Pub/Sub</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> nachgelesen werden.</p></div><div class="section_2"><h3 id="Lua-Skripting">Lua Skripting<a class="headerlink" href="#Lua-Skripting">¶</a></h3><p>
Seit Version 2.6 unterstützt Redis server-seitig das Ausführen von <a class="internal" href="./lua.html">Lua</a>-Skripten. Damit können z.B. Daten aus der Datenbank auf dem Server ver- / bearbeitet werden, bevor sie als Ergebnis zurück geliefert werden. Weitere Informationen sind in der <a class="external" href="http://www.redis.io/commands/eval" rel="nofollow">Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> zu finden.</p></div><div class="section_2"><h3 id="Speicherverbrauch-beim-Schreiben-der-Datenbank-optimieren">Speicherverbrauch beim Schreiben der Datenbank optimieren<a class="headerlink" href="#Speicherverbrauch-beim-Schreiben-der-Datenbank-optimieren">¶</a></h3><p>
Wenn die Redis-Datenbank viele Daten enthält und somit relativ viel RAM (bezogen auf des insgesamt verfügbare RAM) belegt kann es passieren, dass beim Speichern der Datenbank auf die Festplatte der Redis-Server abstürtzt, weil nicht genügten RAM verfügbar ist.</p><p>Abhilfe schafft man, indem man in die Datei <strong>/etc/sysctl.conf</strong> die Zeile</p><pre class="notranslate">vm.overcommit_memory=1</pre><p>einträgt. Die Hintergründe dazu sind in den <a class="external" href="http://redis.io/topics/faq" rel="nofollow">Redis FAQs</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> unter dem Punkt <em>"Background saving is failing with a fork() error under Linux even if I've a lot of free RAM!"</em> erklärt und auch im <a class="external" href="http://redis.io/topics/admin" rel="nofollow">Redis Administration Guide</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p></div><div class="section_2"><h3 id="Benchmark-aufrufen">Benchmark aufrufen<a class="headerlink" href="#Benchmark-aufrufen">¶</a></h3><p>
Bei der Installation wird direkt auch ein Benchmark-Programm mit installiert. Bei systemweiter Installation kann man dies über</p><div class="bash"><div class="contents"><pre class="notranslate">redis-benchmark </pre></div></div><p>aufrufen. Bei lokaler Installation muss man ins Verzeichnis <strong>src</strong> wechseln und dort</p><div class="bash"><div class="contents"><pre class="notranslate">./redis-benchmark </pre></div></div><p>aufrufen.</p></div></div><div class="section_1"><h2 id="Datentypen">Datentypen<a class="headerlink" href="#Datentypen">¶</a></h2><p>
Redis kennt aktuell acht verschiedenen Datentypen:</p><p>
</p><table><tr class="titel"><td colspan="2">Redis Datentypen </td></tr><tr class="kopf"><td>Datentyp </td><td> Beschreibung </td></tr><tr><td> String </td><td> Eine beliebige Zeichenfolge (z.B. Text) </td></tr><tr><td> List </td><td> Entspricht einem <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Feld_(Datentyp)">Array</a>, die Elemente (=Strings) werden über einen positiven, ganzzahligen, null-basierten Index angesprochen (d.h. das erste Element der Liste hat den Index 0, das zweite 1 usw.). </td></tr><tr><td> Hash </td><td> Entspricht einem <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Assoziatives_Datenfeld">assoziativem Array</a>, die Elemente bestehen hier wiederum aus Schlüssel-Werten Paaren. </td></tr><tr><td> Set </td><td> Entspricht „List", ausser dass - eben im Gegensatz zu List - Elemente nur genau einmal vorkommen dürfen. </td></tr><tr><td> Sorted Set </td><td> Entspricht einem Set, nur dass zusätzlich der Index des Elements explizit mit angegeben wird. </td></tr><tr><td> Bitmaps </td><td> eine spezielle Version des Datentyps "String", bei dem nur Nullen und Einsen, eben Bits, gespeichert werden </td></tr><tr><td> HyperLogLogs </td><td> probabilistische Datenstruktur, mit der sich die <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/M%C3%A4chtigkeit_(Mathematik)">Kardinalität</a> einer Datenmenge sehr speichereffizient bestimmen lässt </td></tr><tr><td> Geodaten </td><td> Varianten des Sortes Sets, bei dem Geodaten in der Form "LATITUDE, LONGITUDE, ORT" angegeben werden. LATITUDE und LONGITUDE müssen in Dezimalgrad angegeben werden. Damit ist es z.B. möglich Abstände zwischen zwei Orten zu berechnen oder eine Umkreissuche durchzuführen. </td></tr></table><p>Für die Datenbank sind alle Werte einfach nur eine folge von Bytes, d.h. es gibt keine Unterscheidung, ob Textstrings oder binäre Daten gespeichert werden. Eine ausführlichere Erläuterung der Datentype findet man auf der Seite <a class="external" href="http://redis.io/topics/data-types" rel="nofollow">Data Types</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p><p>Redis unterstützt übrigens nicht die Verschachtelung von Datentypen. Ein Set kann z.B. nur aus Strings bestehen, nicht aber aus Listen, Hashs etc.</p></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Redis wird über die zentrale Datei <strong>redis.conf</strong> konfiguriert. Bei systemweiter Installation liegt diese im Verzeichnis <strong>/etc/redis/</strong> und kann mit einem mit einem Editor mit Root-Rechten<sup><a href="#source-3">[3]</a></sup> bearbeitet werden. Bei lokaler Installation liegt diese im Verzeichnis <strong>/home/BENUTZER/Redis-3.2.3</strong> und kann mit einem Editor editiert werden. Die Datei ist sehr ausführlich kommentiert.</p><p>Eingestellt werden kann hier z.B. auf welcher IP-Adresse und auf welchem Port lauschen soll, Details zu <a class="crosslink" href="#Replikation">Replikation</a>, Passwortschutz für die Datenbank sowie in welchen Intervallen Redis die Daten auf Festplatte speichern soll.</p><p>Weiterhin kann in der Konfigurationsdatei eingestellt werden, dass Redis im sogenannten „Append-only“-Modus betrieben werden soll. Dies bedeutet, dass Redis jede Änderung in der Datenbank direkt in eine separate Datei schreibt (nicht die Datenbank selber). Dies gewährleistet - im Vergleich zum reinen asynchronen Speichern - eine höhere Datensicherheit bei einem Absturz des System, verlangsamt die Datenbank aber auch. „Append only” und asynchrones Schreiben kann kombiniert werden, die Wege schliessen sich nicht aus. Nach einem Absturz wird die Datenbank aus der Datei <strong>appendonly.log</strong> rekonstruiert, so dass in der Regel kein Schreibvorgang verloren sein sollte. Um die Datei <strong>appendonly.log</strong> nicht zu gross werden zu lassen, sollte in regelmässigen Abständen der Befehl <code class="notranslate">bgwriteaof</code> ausgeführt werden.</p><div class="section_2"><h3 id="Replikation">Replikation<a class="headerlink" href="#Replikation">¶</a></h3><p>
Redis beherrscht Ein-Weg-Replikation („Master-Slave-Replikation“) mit Bordmitteln. Innerhalb der zuvor beschriebenen Konfigurationsdatei kann im Abschnitt <em>"Replication"</em> festgelegt werden, ob der Redis-Server einem anderen Server, dessen IP-Adressen und Port anzugeben ist, folgen soll. D.h. alle Änderungen dieses Redis-Server („Master”) werden auf den lokalen Redis-Server „Slave“ repliziert.</p></div><div class="section_2"><h3 id="Redis-Cluster">Redis-Cluster<a class="headerlink" href="#Redis-Cluster">¶</a></h3><p>
Seit der Version 3.0 ist Redis cluster-fähig, wobei für eine Redis-Cluster mindestens drei Redis-Server benötigt werden. Der Redis-Cluster nutzt dabei Hash-Slots und jeder Server innerhalb des Clusters ist für die Speicherung eines Teils der Hash-Slots zuständig.</p><p>Eine ausführliche Einführung in Redis-Cluster inklusive weiterführender Links ist in der Dokumentation auf der Seite <a class="external" href="http://www.redis.io/topics/cluster-tutorial" rel="nofollow">Redis Cluster-Tutorial</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> zu finden.</p></div></div><div class="section_1"><h2 id="Deinstallation">Deinstallation<a class="headerlink" href="#Deinstallation">¶</a></h2><p>
</p><div class="section_2"><h3 id="bei-Installation-ueber-Paketquellen-oder-PPA">bei Installation über Paketquellen oder PPA<a class="headerlink" href="#bei-Installation-ueber-Paketquellen-oder-PPA">¶</a></h3><p>
Die Deinstallation erfolgt wie gewohnt über die <a class="internal" href="./paketverwaltung.html">Paketverwaltung</a></p></div><div class="section_2"><h3 id="manuelle-Installation">manuelle Installation<a class="headerlink" href="#manuelle-Installation">¶</a></h3><p>
Hat man keine systemweite Installation reicht zu Deinstallation, einfach das Verzeichnis inklusive Unterverzeichnissen zu löschen, in das Redis entpackt wurde.</p><p>Bei systemweiter Installation ist noch etwas mehr Handarbeit notwendig. Zuerst wechselt man ins Verzeichnis <strong>/usr/local/bin</strong> und führt dort den Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">sudo rm redis-* </pre></div></div><p>aus<sup><a href="#source-2">[2]</a></sup><sup><a href="#source-6">[6]</a></sup></p><p>Dann wechselt man ins Verzeichnis <strong>/etc</strong> und löscht dort das komplette Verzeichnis <strong>redis</strong>, wozu Root-Rechte<sup><a href="#source-6">[6]</a></sup> notwendig sind. Dann wechselt man ins Verzeichnis <strong>/etc/init.d</strong> und löscht dort, ebenfalls mit Root-Rechten, die Datei <strong>redis_6379</strong>.</p><p>Jetzt müssen noch die Log-Datei und die Datenbank(en) gelöscht werden. Dazu wechselt man ins Verzeichnis <strong>/var/log</strong> und löscht die Datei <strong>redis_6379.log</strong>. Dann wechselt man ins Verzeichnis <strong>/var/lib</strong> und löscht dort rekursiv das Verzeichnis <strong>redis</strong>. Für alles sind Root-Rechte notwendig.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://redis.io/documentation" rel="nofollow">Die Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> von Redis, welche viele Beispiele und Tipps enthält</p></li><li><p><a class="external" href="http://redis.io/topics/twitter-clone" rel="nofollow">Beispielanwendung</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - es wird ein kleiner Twitter-Clone mit Redis als Datenbank „entwickelt“. Absolut lesenswert, da hier eine sehr gute Einführungen in die Strukturierungen des Datenbank-Schemas eines Key Value Stores gegeben wird.</p></li><li><p><a class="external" href="http://openmymind.net/2012/1/23/The-Little-Redis-Book/" rel="nofollow">The Little Redis Book</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - freies, kurzes "Buch" zu Redis, welches einen sehr gute und kompakte Einführung bietet</p></li><li><p><a class="external" href="http://try.redis-db.com/" rel="nofollow">Live-Version</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> von Redis online ausprobieren</p></li><li><p><a class="external" href="http://www.freiesmagazin.de/mobil/freiesMagazin-2012-09.html#12_09_redis" rel="nofollow">Artikel in freiesMagazin</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>, welcher eine Einführung mit vielen Beispielen in die Datentypen von Redis gibt</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./redis/a/revision/940658.html">Diese Revision</a> wurde am 9. Mai 2017 00:03 von <a href="https://ubuntuusers.de/user/ubot/">ubot</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./redis.html">Redis</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>