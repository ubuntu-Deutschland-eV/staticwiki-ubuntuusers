<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>tesseract-ocr › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./tesseract-ocr.html">tesseract-ocr</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/tesseract-ocr">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./tesseract-ocr/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./tesseract-ocr/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./tesseract-ocr/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./tesseract-ocr/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./tesseract-ocr/a/backlinks.html">tesseract-ocr</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./packprogramme.html">Archive entpacken</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./rechte.html">Rechte für Dateien und Ordner ändern</a></p></li></ol></div></div><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Benutzung">Benutzung
</a><ol class="arabic"><li><a class="crosslink" href="#Mehrere-Sprachen">Mehrere Sprachen
</a></li><li><a class="crosslink" href="#Direktes-Erstellen-von-PDF-Dateien">Direktes Erstellen von PDF-Dateien
</a></li><li><a class="crosslink" href="#Layout-Analyse">Layout-Analyse
</a></li></ol></li><li><a class="crosslink" href="#tesseract-ocr-trainieren">tesseract-ocr trainieren
</a></li><li><a class="crosslink" href="#Frontends">Frontends
</a><ol class="arabic"><li><a class="crosslink" href="#xsane2tess">xsane2tess
</a></li></ol></li><li><a class="crosslink" href="#Alternativen">Alternativen
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/terminal.png" class="image-left" src="./_/e81889fd6e485dd32e1cde611eabc18abced7993.png"/>
<a class="interwiki interwiki-github" href="https://github.com/tesseract-ocr">tesseract-ocr</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein Kommandozeilenprogramm zur <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Texterkennung">Texterkennung</a>. Ursprünglich von <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Hewlett_Packard">Hewlett Packard</a> zwischen 1984 und 1995 als kommerzielles Programm entwickelt, wurde der Code 2005 freigegeben. Die Entwicklung wird von Google unterstützt, da eine Open Source-Lösung zur Erstellung von E-Books benötigt wurde. Das Programm unterstützt etliche westeuropäische und asiatische Sprachen wie z.B. vietnamesisch. tesseract-ocr ist ein reines Zeichenerkennungs-Programm, es liefert keine Layout-Analyse, und gibt unformatierten Text, ab Version 3.00 auch <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/hOCR%20%20(Standard)">hOCR</a>, ab 3.03 zudem als <a class="internal" href="./pdf.html">PDF</a> aus. Die Texterkennung kann theoretisch auch "trainiert" werden.</p><p>Es gibt einige Projekte, die auf tesseract-ocr zurückgreifen, siehe  <a class="crosslink" href="#Frontends">grafische Frontends</a>, die das Programm als OCR-Engine verwenden. Auch aus <a class="internal" href="./xsane.html#xsane2tess">XSane</a> heraus kann das Programm verwendet werden.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
tesseract-ocr ist in den Paketquellen vorhanden. Installiert <sup><a href="#source-1">[1]</a></sup> werden müssen die folgenden Pakete:</p><ul><li><p><strong>tesseract-ocr</strong> (<em>universe</em>)</p></li><li><p><strong>tesseract-ocr-deu</strong> (<em>universe</em>, und/oder mindestens eine Sprachdatei, z.B. <strong>-eng</strong>, <strong>-fra</strong>, <strong>-ita</strong>, <strong>-ndl</strong>, <strong>-por</strong>, <strong>-spa</strong>, <strong>-vie</strong>, oder <strong>-deu-frak</strong> (Fraktur-Erkennung))</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install tesseract-ocr tesseract-ocr-deu </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install tesseract-ocr tesseract-ocr-deu </pre></div></div><p>
</p></div></div><p>Ab <a class="internal" href="./trusty.html">Ubuntu 14.04</a> liegt tesseract-ocr in der Version 3.03 vor.</p></div><div class="section_1"><h2 id="Benutzung">Benutzung<a class="headerlink" href="#Benutzung">¶</a></h2><p>
Die allgemeine Syntax auf der Kommando-Zeile <sup><a href="#source-5">[5]</a></sup> lautet:</p><div class="bash"><div class="contents"><pre class="notranslate">tesseract IMAGE OUTPUTBASE [-l LANGID]  [-psm N] [KONFIGURATIONSDATEI...]  </pre></div></div><p>Tesseract 3.0x kann aufgrund der verwendeten <a class="external" href="http://www.leptonica.com/" rel="nofollow">Leptonica-Bibliotheken</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> so gut wie jedes Bildformat verarbeiten, allerdings können PDF-Dateien nicht direkt verwendet werden.</p><p>Die Ausgabe erfolgt im einfachen Text-Format mit den Zeilenumbrüchen wie in der Vorlage; die Erkennungsqualität ist, natürlich abhängig von der Bildqualität der Vorlage, für "Standardschriftarten" sehr hoch, auch gängige Sonderzeichen werden gut erkannt. Ab Version 3.0x ist über das Konfigurationsskript <strong>hocr</strong> auch die Ausgabe in einem <strong>html</strong>-Format möglich, in dem auch die Positionen der erkannten Wörter gespeichert werden. Sinnvoll z.B. für sog. PDF-Sandwiches, in denen eine durchsuchbare Textlage unter der Grafik eingebettet wird (siehe z.B. <a class="internal" href="./pdfsandwich.html">pdfsandwich</a>).</p><div class="section_2"><h3 id="Mehrere-Sprachen">Mehrere Sprachen<a class="headerlink" href="#Mehrere-Sprachen">¶</a></h3><p>
Um mehrsprachige Vorlagen besser erkennen zu lassen, können die Sprachen ab Version 3.03 auch kombiniert werden, indem sie bei der <code class="notranslate">l</code>-Option durch ein <strong>+</strong>-Zeichen ohne Leerstellen angehängt werden. Sinnvoll auch bei Vorlagen, in denen Fraktur/Kyrillisch/Griechisch und lateinische Schriften gleichzeitig verwendet werden (Lexika o.ä., z.B. mit <code class="notranslate">-l deu+deu-frak</code>).</p></div><div class="section_2"><h3 id="Direktes-Erstellen-von-PDF-Dateien">Direktes Erstellen von PDF-Dateien<a class="headerlink" href="#Direktes-Erstellen-von-PDF-Dateien">¶</a></h3><p>
Ab Version 3.03 lassen sich mit Tesseract direkt <a class="internal" href="./pdf.html">PDF</a>-Dateien mit durchsuchbare Textebene aus den Vorlagen erstellen. Dazu wird bei der Texterkennung die Konfigurationsdatei <strong>pdf</strong> verwendet; der Aufruf erfolgt also als
</p><div class="bash"><div class="contents"><pre class="notranslate">tesseract -l LANGID EINGABEBILD AUSGABENAME pdf </pre></div></div><p>tesseract erstellt daraus ein <strong>AUSGABENAME.pdf</strong>. Umwege über hOCR-Dateien, und <a class="internal" href="./exactimage.html#hocr2pdf">hocr2pdf</a>, die zudem oft nur mäßige Passung erreichten, können damit elegant umgangen werden, siehe aber <a class="internal" href="./pdf.html#oversized">Warnung vor überdimensionierten PDFs</a>.</p></div><div class="section_2"><h3 id="Layout-Analyse">Layout-Analyse<a class="headerlink" href="#Layout-Analyse">¶</a></h3><p>
Mit der <code class="notranslate">-psm</code>-Option lässt sich festlegen, dass tesseract nur bestimmte Subroutinen zur Layout-Analyse durchführt, oder die Vorlage als einen festgelegten Vorlagentyp auffasst. <code class="notranslate">N</code> steht dabei für einen Zahlwert</p><p>
</p><table><tr class="titel"><td colspan="2">psm-Optionen </td></tr><tr class="kopf"><td>Optionsnr. </td><td> Funktion </td></tr><tr><td> <code class="notranslate">0</code> </td><td> Nur Ausrichtung und Skript-Erkennung (OSD "Orientation and script detection"), erst ab Tesseract 3.03 direkt nutzbar, siehe auch <a class="internal" href="./xsane2djvu.html#Automatisches-Drehen-der-Vorlage">Automatisches Drehen von Vorlagen</a> </td></tr><tr class="highlight"><td><code class="notranslate">1</code> </td><td> Automatische Seitensegmentierung mit OSD. </td></tr><tr><td> <code class="notranslate">2</code> </td><td> Automatische Seitensegmentierung, aber keine OSD, oder Texterkennung (OCR). </td></tr><tr class="highlight"><td><code class="notranslate">3</code> </td><td> Vollständige automatische Seitensegmentierung, aber keine OSD (Standardeinstellung). </td></tr><tr><td> <code class="notranslate">4</code> </td><td> Behandelt die Vorlage als eine einzelne Textspalte mit unterschiedlichen Zeichengrößen. </td></tr><tr class="highlight"><td><code class="notranslate">5</code> </td><td> Behandelt die Vorlage als einzelnen einheitlichen Textblock im Blocksatz. </td></tr><tr><td> <code class="notranslate">6</code> </td><td> Behandelt die Vorlage als einheitlichen Textblock </td></tr><tr class="highlight"><td><code class="notranslate">7</code> </td><td> Behandelt das Bild als einzelne Textzeile. </td></tr><tr><td> <code class="notranslate">8</code> </td><td> Behandelt das Bild als einzelnes Wort. </td></tr><tr class="highlight"><td><code class="notranslate">9</code> </td><td> Behandelt das Bild als einzelnes, im Kreis geschriebenes Wort. </td></tr><tr><td> <code class="notranslate">10</code> </td><td> Behandelt das Bild als einzelnes Zeichen. </td></tr></table></div></div><div class="section_1"><h2 id="tesseract-ocr-trainieren">tesseract-ocr trainieren<a class="headerlink" href="#tesseract-ocr-trainieren">¶</a></h2><p>
Anders als <a class="internal" href="./cuneiform-linux.html">Cuneiform-Linux</a> kann tesseract-ocr "trainiert" werden; es ist möglich, es komplett für neue Sprachen anzulernen, ggf. auch für bestehende Sprachen zu verbessern (z.B. wenn Vorlagen verwendet werden, die "ungewöhnliche" Schriftarten beinhalten, oder qualitativ nicht so hochwertig sind).</p></div><div class="section_1"><h2 id="Frontends">Frontends<a class="headerlink" href="#Frontends">¶</a></h2><p>
Die Frontends werden im Übersichtsartikel <a class="internal" href="./texterkennung.html">Texterkennung</a> ab dem Punkt <a class="internal" href="./texterkennung.html#OCR-Programme-mit-grafischer-Oberflaeche">OCR-Programme mit grafischer Oberfläche</a> beschrieben. Viele davon unterstützen tesseract-ocr.</p><p>An dieser Stelle wird nur die Nutzung von <a class="internal" href="./xsane.html">XSane</a> in Verbindung mit tesseract-ocr beschrieben.</p><div class="section_2"><h3 id="xsane2tess">xsane2tess<a class="headerlink" href="#xsane2tess">¶</a></h3><p>
<img alt="XSane/xsane-logo.png" class="image-right" src="./_/f2dfa6da37105e77c232b5cab004a8e96d4b3c07.png"/>
tesseract-ocr kann auch direkt aus <a class="internal" href="./xsane.html">XSane</a> heraus verwendete werden, möglich sind Ausgaben im reinen Text- oder im hOCR/html-Format (z.B. für Sandwich-PDFs). Verarbeitung von Mehrfachscans können durch auch die Angabe einer Sammel-Ausgabedatei erstellt werden.</p><p>Das Texterkennungsprogramm wird mit folgendem <a class="crosslink" href="./tesseract-ocr.html">xsane2tess3-Skript</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> eingebunden:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#    xsane2tess3 - tesseractOCR directly from xsane</span>
<span class="c1">#    Copyright (C) 2012-2017 Heinrich Schwietering</span>
<span class="c1"># </span>
<span class="c1">#    This program is free software: you can redistribute it and/or modify</span>
<span class="c1">#    it under the terms of the GNU General Public License as published by</span>
<span class="c1">#    the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1">#    (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1">#    This program is distributed in the hope that it will be useful,</span>
<span class="c1">#    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1">#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1">#    GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1">#    You should have received a copy of the GNU General Public License</span>
<span class="c1">#    along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">##############################################################################</span>
<span class="c1">#</span>
<span class="c1">#                                   xsane2tess3 0.2</span>
<span class="c1">#</span>
<span class="c1">#                          *** tesseract made simple ***</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">##############################################################################</span>
<span class="c1">#</span>
<span class="c1"># xsane2tess is a TesseractOCR wrapper to be able to use tesseract with xsane</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="nv">TEMP_DIR</span><span class="o">=</span>/tmp/      <span class="c1"># folder for temporary files (all files)</span>
<span class="nv">ERRORLOG</span><span class="o">=</span><span class="s2">"xsane2tess3.log"</span>  <span class="c1"># file where STDERR goes </span>

<span class="c1">#TEST="testoutput.txt"</span>

<span class="k">if</span> <span class="o">[[</span> -z <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>  <span class="o">]]</span>
  <span class="k">then</span>
  <span class="nb">echo</span> <span class="s2">"Usage: </span><span class="nv">$0</span><span class="s2"> [OPTIONS]</span>

<span class="s2">  xsane2tess3 scans images with TesseractOCR</span>
<span class="s2">  and outputs the text in a file or as hocr/html document</span>

<span class="s2">  OPTIONS:</span>
<span class="s2">    -i &lt;file1&gt;  define input file (any image-format supported)</span>
<span class="s2">    -o &lt;file2&gt;  define output-file (*.txt/hOCR)</span>
<span class="s2">    -l &lt;lang&gt;  define language-data tesseract should use</span>
<span class="s2">    -e &lt;config&gt; filename for tesseract</span>
<span class="s2">    -f &lt;/path/to/Final&gt; name and path fot multiscan document</span>

<span class="s2">  Progress- &amp; error-messages will be stored in this logfile:</span>
<span class="s2">     </span><span class="nv">$TEMP_DIR$ERRORLOG</span><span class="s2"></span>

<span class="s2">  xsane2tess depends on</span>
<span class="s2">    - XSane, http://www.xsane.org/</span>
<span class="s2">    - TesseractOCR, http://code.google.com/p/tesseract-ocr/</span>

<span class="s2">  Some coding was stolen from 'ocube'</span>
<span class="s2">  http://www.geocities.com/thierryguy/ocube.html</span>
<span class="s2">  </span>
<span class="s2">  This adaption is based on xsane2tess  </span>
<span class="s2">  http://doc.ubuntu-fr.org/xsane2tess, </span>

<span class="s2">  Hints always welcome! heinrich (dot) schwietering (at) gmx (dot) de</span>

<span class="s2">"</span>
  <span class="nb">exit</span>
<span class="k">fi</span>


<span class="c1"># get options...</span>
<span class="k">while</span> <span class="nb">getopts</span> <span class="s2">":i:o:l:c:f:"</span> OPTION
  <span class="k">do</span>
  <span class="k">case</span> <span class="nv">$OPTION</span> in
    i <span class="o">)</span>  <span class="c1"># input filename (with path)</span>
      <span class="nv">FILE_PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$OPTARG</span><span class="s2">"</span>
    <span class="p">;;</span>
    o <span class="o">)</span>  <span class="c1"># output filename</span>
      <span class="nv">FILE_OUT</span><span class="o">=</span><span class="s2">"</span><span class="nv">$OPTARG</span><span class="s2">"</span>
    <span class="p">;;</span>
    l <span class="o">)</span>  <span class="c1"># Language-selection</span>
      <span class="nv">LANG</span><span class="o">=</span><span class="s2">"</span><span class="nv">$OPTARG</span><span class="s2">"</span>
    <span class="p">;;</span>
    c <span class="o">)</span>  <span class="c1"># use hocr configfile</span>
      <span class="nv">CONFILE</span><span class="o">=</span><span class="s2">"</span><span class="nv">$OPTARG</span><span class="s2">"</span>
    <span class="p">;;</span>
    f <span class="o">)</span>  <span class="c1"># final name for multiscan ocr file</span>
      <span class="nv">FINAL</span><span class="o">=</span><span class="s2">"</span><span class="nv">$OPTARG</span><span class="s2">"</span>
    <span class="p">;;</span>
  <span class="k">esac</span>
<span class="k">done</span>

<span class="c1"># redirect STDOUT to FILE_OUT</span>
<span class="nb">exec</span> <span class="m">1</span>&gt;&gt;<span class="nv">$FILE_OUT</span>

<span class="c1"># redirect STDERR to ERRORLOG</span>
<span class="nb">exec</span> <span class="m">2</span>&gt;&gt;<span class="nv">$TEMP_DIR$ERRORLOG</span>

<span class="c1"># strip path from FILE_PATH, use filename only</span>
<span class="nv">IN_FILE</span><span class="o">=</span><span class="s2">"</span><span class="si">${</span><span class="nv">FILE_PATH</span><span class="p">##*/.*</span><span class="si">}</span><span class="s2">"</span>

<span class="nb">echo</span> <span class="s2">"~~~+++~~~~+++~~~"</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>

<span class="c1"># start OCR (tesseract expands output with *.txt/.html)</span>
tesseract <span class="s2">"</span><span class="nv">$IN_FILE</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$FILE_OUT</span><span class="s2">"</span> -l <span class="s2">"</span><span class="nv">$LANG</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$CONFILE</span><span class="s2">"</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="nb">echo</span> Tesseract used with <span class="s2">"</span><span class="nv">$LANG</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$CONFILE</span><span class="s2">"</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>

<span class="o">{</span> <span class="k">if</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span> !<span class="o">=</span> <span class="s1">''</span> <span class="o">]]</span>
  <span class="k">then</span>
	<span class="o">{</span> <span class="k">if</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$CONFILE</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">""</span> <span class="o">]]</span>
	<span class="k">then</span>
		<span class="c1"># check if final txt file is already existing</span>
    		<span class="o">{</span> <span class="k">if</span> <span class="o">[[</span> ! -a <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.txt <span class="o">]]</span>
     		<span class="k">then</span>
<span class="c1"># start final ocr file</span>
        	cp <span class="s2">"</span><span class="nv">$FILE_OUT</span><span class="s2">"</span>.txt <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.txt <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>
		<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">.txt started"</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>
		<span class="k">else</span>
                mv <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.txt <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.new.txt
		cat <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.new.txt <span class="s2">"</span><span class="nv">$FILE_OUT</span><span class="s2">"</span>.txt &gt; <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.txt
		<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$FILE_OUT</span><span class="s2">.txt added to </span><span class="nv">$FINAL</span><span class="s2">.txt"</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>
		rm <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.new.txt
		<span class="k">fi</span> <span class="o">}</span>
	<span class="k">else</span>
<span class="c1"># check if final hocr file is already existing</span>
    		<span class="o">{</span> <span class="k">if</span> <span class="o">[[</span> ! -a <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.hocr <span class="o">]]</span>
     		<span class="k">then</span>
<span class="c1"># start final ocr file</span>
        	cp <span class="s2">"</span><span class="nv">$FILE_OUT</span><span class="s2">.hocr"</span> <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.hocr <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>
		<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">.hocr started"</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>
		<span class="k">else</span>
                mv <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.hocr <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.new.hocr
		cat <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.new.hocr <span class="s2">"</span><span class="nv">$FILE_OUT</span><span class="s2">"</span>.hocr &gt; <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.hocr
		<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$FILE_OUT</span><span class="s2">.hocr added to </span><span class="nv">$FINAL</span><span class="s2">.hocr"</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>
		rm <span class="s2">"</span><span class="nv">$FINAL</span><span class="s2">"</span>.new.hocr
		<span class="k">fi</span> <span class="o">}</span>
 	<span class="k">fi</span> <span class="o">}</span>
	rm <span class="nv">$FILE_OUT</span>	
	<span class="k">else</span>
<span class="c1"># STDOUT scanned text =&gt; FILE_OUT</span>
	cat <span class="s2">"</span><span class="nv">$FILE_OUT</span><span class="s2">"</span>.*

<span class="k">fi</span> <span class="o">}</span>

rm <span class="nv">$FILE_OUT</span>.*

<span class="nb">echo</span> <span class="s2">"~~~+++~~~~+++~~~"</span><span class="k">$(</span>date +%c<span class="k">)</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>

Es wird in einen Editor <span class="o">[</span><span class="m">4</span><span class="o">]</span> geladen, dann mit Root-Rechten <span class="o">[</span><span class="m">3</span><span class="o">]</span> unter z.B. <span class="s1">'''/usr/local/bin/xsane2tess3.sh'''</span> gespeichert und ausführbar <span class="o">[</span><span class="m">6</span><span class="o">]</span> gemacht. Die Logdatei <span class="s1">'''xsane2tess3.log'''</span> wird in <span class="s1">'''/tmp'''</span> angelegt, im Skript kann optional das  gewünschte Temporär-Verzeichnis in Zeile <span class="m">32</span> eintragen werden.

In <span class="s1">''</span><span class="s2">"XSane -&gt; Einstellung -&gt; Konfiguration -&gt; Texterkennung"</span><span class="s1">''</span> wird als OCR-Befehl <span class="s1">''</span><span class="s2">"/usr/local/bin/xsane2tess3.sh"</span><span class="s1">''</span> sowie weitere Optionen eingesetzt, als Option für die Eingabedatei <span class="s1">''</span><span class="s2">"-i"</span><span class="s1">''</span>, für die Ausgabedatei <span class="s1">''</span><span class="s2">"-o"</span><span class="s1">''</span>, alles andere bleibt frei.

Weitere Optionen sind:

<span class="o">{{{</span><span class="c1">#!vorlage Tabelle</span>
&lt;<span class="nv">rowclass</span><span class="o">=</span><span class="s2">"kopf"</span>&gt;Option
Funktion
+++
<span class="sb">`</span>-l KÜRZEL<span class="sb">`</span>
OCR-Sprachkürzel der zu verwendenden Sprache<span class="p">;</span> entsprechendes Sprachpaket muss installiert sein
+++
&lt;<span class="nv">rowclass</span><span class="o">=</span><span class="s2">"highlight"</span>&gt;<span class="sb">`</span>-c hocr<span class="sb">`</span>
Verwendung des Konfigurationsskript <span class="s1">'''hocr'''</span>
+++
<span class="sb">`</span>-f /PFAD/ZUR/SAMMELDATEI<span class="sb">`</span>
Name der Sammeldatei zur einfachen Erkennung von Mehrfachscans, z.B. für ADF-Scanner sinnvoll. Ohne Angabe des Pfades wird die Sammeldatei im Homeverzeichnis des Benutzers abgelegt. Beim Namen keine Endung angeben, die ensprechende Endung <span class="o">(</span><span class="s1">'''.txt'''</span> oder <span class="s1">'''.html'''</span><span class="o">)</span> wird automatisch verwendet.
</pre></div>
</td></tr></table></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Angaben müssen sehr exakt erfolgen, es dürfen zwischen den Optionen <span class="underline">nur einfache</span> Leerzeichen verwendet werden, sonst kommt es zu Fehlern!
</p></div></div><p>Beispiele für die Eingabe
</p><pre class="notranslate">/PFAD/ZU/xsane2tess3.sh -l deu -c hocr</pre><p>
Erstellt wird eine einseitige hocr/html-Datei.</p><pre class="notranslate">/PFAD/ZU/xsane2tess3.sh -l deu-frak -f /Home/BENUTZER/Texterkennung/Gothik-Text</pre><p>Erstellt wird die Datei <strong>Gothik-Text.txt</strong> im "Mehrfachmodus", verwendet wird Fraktur-Erkennung für deutschsprachige Vorlagen. An die Datei könne auch später weitere OCR-Ergebnisse angehängt werden. Das gewählte Verzeichnis muss existieren und für den Benutzer beschreibbar sein.</p><p>Als Einstellung wird in XSane der Betrachter-Modus, sowie <em>"Strichzeichnung"</em> und  als Auflösung <em>"300 dpi"</em> (welche Bildformat ist egal; bei sehr kleiner Schrift ggf. eine höhere Auflösung wählen). Nun wird die Vorlage gescannt und dann im Betrachter die <img alt="xsane/xsane-ocr.jpg" class="image-default" src="./_/4e3625efd312583aec31a27d72d118b883c2ed49.png"/>-Taste bedient. Mit tesseract erfolgt die eigentliche Texterkennung. Die Datei wird dann mit dem ausgewählten Namen (entsprechende Endung angeben!) im ausgewählten Verzeichnis abgespeichert, die nicht mehr benötigten Bild-Dateien werden gelöscht. Wenn im <span class="underline">Betrachtermodus</span> zum Abspeichern der gleiche Dateiname verwendet wird, werden weitere Texterkennungen an die bestehende Datei angehängt; sehr praktisch, um auch mehrseitige Texte gleich in einer Textdatei ausgeben zu können.</p><p>Alternativ kann auch als Speicherformat <em>"TEXT"</em> angegeben werden, wenn keine Überprüfung der Ausgabe nötig ist. Damit lässt sich der "Umweg" über den Betrachter-Modus umgehen und direkt eine OCR-Datei anlegen, z.B. beim Einscannen mehrerer Text-Seiten über ADF-Scanner sinnvoll. Mit Verwendung der Option <code class="notranslate">-f</code> werden die OCR-Ergebnisse auch im Speicher-Modus umstandslos aneinandergehängt. Dabei ist es egal, was für Angaben für den Speicherort und Dateiname im Einstellungsfenster verwendet werden, die Angabe im Konfigurationsfenster zum OCR-Befehl hat den Vorrang; natürlich darf nicht der gleiche Name im selben Verzeichnis gewählt werden.</p><p>Dieses xsane2tess-Skript ist <a class="external" href="http://forum.mandriva.com/viewtopic.php?p=833499&amp;sid=db42f7878c8323153d705d9638bc0496#833499" rel="nofollow">dem Mandriva-Forum</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> entnommen. Das Original-xsane2tess-Skript ist <a class="external" href="http://doc.ubuntu-fr.org/xsane2tess" rel="nofollow">hier</a> <img alt="{fr}" src="./_/a4d7caed6af30e5c7549b4de45c71ed5f7036425.png"/> auf der französischen Ubuntu-Seite ubuntu-fr.org veröffentlicht worden. Es existiert eine weitere modifizierte Version im italienischen <a class="external" href="http://linux.p2pforum.itwiki/OCR_con_tesseract_in_XSane" rel="nofollow">linux.p2pforum</a> <img alt="{it}" src="./_/930fd8dc73b1f910b5895683133163f4f4210dbd.png"/>, die ohne Sprachangabe funktioniert (ggf. sinnvoll für Texte in nicht-unterstützen Sprachen).</p></div></div><div class="section_1"><h2 id="Alternativen">Alternativen<a class="headerlink" href="#Alternativen">¶</a></h2><p>
</p><ul><li><p>Siehe <a class="internal" href="./texterkennung.html">Texterkennung</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/>, vergleichbare Ergebnisse erzielt eigentlich nur <a class="internal" href="./cuneiform-linux.html">Cuneiform-Linux</a>.</p></li></ul><p>
</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.ocr-extract.com/" rel="nofollow">Free Online-OCR-Service</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> welcher tesseract-3.0.1 + imagemagick verwendet </p></li><li><p><a class="internal" href="./ocrfeeder.html">OCRFeeder</a> Programm, das verschiedene OCR-engines verwenden kann (auch tesseract-ocr) und auch Layout-Erkennung liefert.</p></li><li><p><a class="external" href="http://www.auxnet.de/sandy-skript-zum-erstellen-von-sandwich-pdfs-unter-ubuntu-14-04/" rel="nofollow">Sandy</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> Skript zum Erstellen von Sandwich-PDFs unter Ubuntu 14.04+</p></li><li><p><a class="external" href="http://groups.google.com/group/tesseract-ocr" rel="nofollow">tesseract-ocr-Forum</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> auf groups.google.com</p></li><li><p><a class="external" href="http://heise.de/-1674881" rel="nofollow">Texterkennung mit Tesseract OCR</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - heise Open Source, 08/2012</p></li><li><p><a class="crosslink" href="./tesseract-ocr.html">Vortrag über die Geschichte von tesseract-ocr</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> <strong>.pdf</strong>, 22 S. / ca. 490 KB, 07/2007</p></li><li><p><a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/Tesseract_(software)">tesseract-ocr</a></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./tesseract-ocr/a/revision/942653.html">Diese Revision</a> wurde am 20. Juli 2017 16:13 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./tesseract-ocr.html">tesseract-ocr</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>