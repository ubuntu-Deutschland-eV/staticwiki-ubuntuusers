<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>couchdb-python › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./couchdb-python.html">couchdb-python</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/couchdb-python">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./couchdb-python/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./couchdb-python/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./couchdb-python/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./couchdb-python/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./couchdb-python/a/backlinks.html">couchdb-python</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#Manuell">Manuell
</a></li></ol></li><li><a class="crosslink" href="#Benutzung">Benutzung
</a><ol class="arabic"><li><a class="crosslink" href="#Python-Modul">Python-Modul
</a></li><li><a class="crosslink" href="#Hilfsprogramme">Hilfsprogramme
</a></li></ol></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a><ol class="arabic"><li><a class="crosslink" href="#couchdb-dump-bricht-mit-einen-UnicodeEncodeError-ab">couchdb-dump bricht mit einen UnicodeEnc...</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="couchdb-python.png" class="image-left" src="./_/5514a8c69a8db673e0374462f877896292ee11f4.png"/>
<a class="interwiki interwiki-github" href="https://github.com/djc/couchdb-python">couchdb-python</a> ist ein Python-Modul, mit dessen Hilfe auf die dokumentenorientierte Datenbank <a class="internal" href="./couchdb.html">CouchDB</a> aus <a class="internal" href="./python.html">Python</a> heraus zugegriffen werden kann. Weiterhin gibt es einen <a class="external" href="http://packages.python.org/CouchDB/mapping.html" rel="nofollow">Mapper</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>, der die JSON-basierten Dokumente aus CouchDB auf Python-Objekt abbildet sowie ein <a class="external" href="http://packages.python.org/CouchDB/views.html" rel="nofollow">View Server</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>, der es erlaubt, <a class="internal" href="./couchdb.html#Views">CouchDB Views</a> für die Datenbank in Python zu schreiben.</p><p>Interessant ist couchdb-python aber auch für Nicht-Python-Programmierer, da zwei weitere Hilfsprogramme <strong>couchdb-dump</strong> und <strong>couchdb-load</strong> mit an Bord sind. Diese ermöglichen, eine Sicherung des Inhalts einer Datenbank lokal in eine Datei zu erstellen und diese dann auch wieder in eine Datenbank zurück zu spielen. Beides ist mit den Bordmittel von CouchDB so nicht möglich.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
couchdb-python kann direkt aus den Quellen installiert werden<sup><a href="#source-1">[1]</a></sup>, das zugehörige Paket heißt:</p><ul><li><p><strong>python-couchdb</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install python-couchdb </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install python-couchdb </pre></div></div><p>
</p></div></div><div class="section_2"><h3 id="Manuell">Manuell<a class="headerlink" href="#Manuell">¶</a></h3><p>
Die Version aus den Quellen ist nicht unbedingt die aktuellste Version. Wer diese benötigt, der kann das neuste Modul z.B. auch über <a class="internal" href="./pip.html">pip</a> installieren. Der entsprechende Befehl lautet<sup><a href="#source-2">[2]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">pip couchdb #für Python 2
pip3 couchdb #für Python 3 </pre></div></div><p>Bei systemweiter Installation muss der Befehl mit Root-Rechten<sup><a href="#source-3">[3]</a></sup> ausgeführt werden.</p></div></div><div class="section_1"><h2 id="Benutzung">Benutzung<a class="headerlink" href="#Benutzung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Python-Modul">Python-Modul<a class="headerlink" href="#Python-Modul">¶</a></h3><p>
Wer das Modul für eigene Projekte nutzen möchte, der sollte sich mit den beiden Hauptklassen <code class="notranslate">couchdb.client</code> und <code class="notranslate">couchdb.schema</code> beschäftigen. Erstere enthält alle benötigten Klassen und Methoden zum Abfragen der Datenbank sowie zum Anlegen von Datenbanken und Dokumenten, letztere stellt den eingangs erwähnten Mapper bereit.</p><p>Eine ausführliche Beschreibung mit vielen Beispielen ist in der <a class="external" href="http://packages.python.org/CouchDB/" rel="nofollow">offiziellen Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> zu finden.</p></div><div class="section_2"><h3 id="Hilfsprogramme">Hilfsprogramme<a class="headerlink" href="#Hilfsprogramme">¶</a></h3><p>
Wie in der Einleitung bereits erwähnt, bringt couchdb-python zwei Hilfsprogramme mit, mit deren Hilfe sich eine Datenbank komplett, also sowohl Dokumente als auch Views, lokal in eine einzige Datei sichern und auch aus dieser Datei wieder zurück spielen lassen. Dies ist z.B. dann nützlich, wenn man eine Datenbank zwischen zwei CouchDB Servern transferieren will, welche nicht im selben Netzwerk sind, so dass keine Replikation möglich ist.</p><p>Technisch gesehen wird beim Dump die Datenbank einfach in eine einzige große Textdatei geschrieben, wobei der Inhalt im Format <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/JSON">JSON</a> abgelegt wird. Dabei wird immer nur die aktuellste Revision gesichert wird.</p><p>Der Befehl zum Sichern einer Datenbank (hier: <code class="notranslate">MEINE_DB</code>) in eine Datei (hier: <strong>mein.dump</strong>) lautet<sup><a href="#source-2">[2]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">couchdb-dump http://localhost:5984/MEINE_DB &gt; mein.dump </pre></div></div><p>Der Befehl zum Zurückspielen in die Datenbank <code class="notranslate">MEINE_NEUE_DB</code> lautet:</p><div class="bash"><div class="contents"><pre class="notranslate">couchdb-load http://localhost:5984/MEINE_NEUE_DB &lt; mein.dump </pre></div></div><p>Da für die Zieldatenbank alle Dokumente neu sind, beginnt hier die Revisionszählung wieder bei eins - unabhängig davon, welche Revisionsnummern die Dokumente in der Ausgangsdatenbank hatten. Wenn die Revisionsnummern also beim Transfer der Dokumente erhalten bleiben soll, ist der Weg via <code class="notranslate">couchdb-dump</code> und <code class="notranslate">couchdb-load</code> also nicht der geeignete.</p></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="couchdb-dump-bricht-mit-einen-UnicodeEncodeError-ab">couchdb-dump bricht mit einen UnicodeEncodeError ab<a class="headerlink" href="#couchdb-dump-bricht-mit-einen-UnicodeEncodeError-ab">¶</a></h3><p>
couchdb-dump (aus der Version 0.8 des Pakets <strong>python-couchdb</strong>) bricht den Dump mit einem "UnicodeEncodeError" ab, wenn die ID eines Dokuments Nicht-ASCII-Zeichen (wie z.B. <code class="notranslate">äöüß</code>) enthält. Details inkl. Patches siehe auch <a class="interwiki interwiki-googlecode" href="https://code.google.com/p/couchdb-python/issues/detail?id=179">Ticket 179</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p><p>Ab <a class="internal" href="./xenial.html">Ubuntu 16.04</a> ist der Fehler behoben.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="interwiki interwiki-github" href="https://github.com/djc/couchdb-python">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://couchdbkit.org/" rel="nofollow">Couchdbkit</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - alternatives Python-Modul für CouchDB</p></li><li><p><a class="internal" href="./couchdb.html">CouchDB</a></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./couchdb-python/a/revision/940784.html">Diese Revision</a> wurde am 9. Mai 2017 01:05 von <a href="https://ubuntuusers.de/user/ubot/">ubot</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./couchdb-python.html">couchdb-python</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>