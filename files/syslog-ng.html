<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>syslog-ng › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./syslog-ng.html">syslog-ng</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/syslog-ng">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./syslog-ng/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./syslog-ng/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./syslog-ng/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./syslog-ng/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./syslog-ng/a/backlinks.html">syslog-ng</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
Dieser Artikel ist mit keiner aktuell unterstützten Ubuntu-Version getestet! Bitte diesen Artikel testen und das getestet-Tag entsprechend anpassen.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Pfad-zu-den-Log-Dateien">Pfad zu den Log-Dateien
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Anwendungen und insbesondere Serverdienste schreiben Protokolldateien, um bestimmte Systemzustände, Ereignisse oder Schwellwerte zu protokollieren. Nicht nur in Testphasen kann es sinnvoll sein, diese Protokolle zu sammeln und auszuwerten. <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Syslog">Syslog</a> ist faktisch ein Standard zur Übermittlung von Protokoll-Meldungen in einem Netzwerk. <a class="external" href="http://www.balabit.com/network-security/syslog-ng/" rel="nofollow">Syslog-ng</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist eine weit verbreitete, freie Implementierung eines Syslog-Servers unter Linux oder Unix und bietet weitere Funktionen im Vergleich zu syslog. Zusätzlich wurden mit syslog-ng einige Schwachstellen beseitigt.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Um syslog-ng zu installieren<sup><a href="#source-1">[1]</a></sup>, benötigt man das Paket 
</p><ul><li><p><strong>syslog-ng</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install syslog-ng </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install syslog-ng </pre></div></div><p>
</p></div></div><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die Installation von syslog-ng entfernt rsyslog.
</p></div></div></div><div class="section_1"><h2 id="Pfad-zu-den-Log-Dateien">Pfad zu den Log-Dateien<a class="headerlink" href="#Pfad-zu-den-Log-Dateien">¶</a></h2><p>
Die Log-Dateien liegen dann unter <strong>/var/log</strong>. Standardmäßig loggt syslog-ng in die Datei <strong>/var/log/syslog</strong></p></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Die Einstellungen für die Logs findet man in der Datei <strong>/etc/syslog-ng/syslog-ng.conf</strong>. Hier sind einige Logs voreingestellt. Will man weitere Logs definieren, muss man in dieser Konfigurationsdatei eine Quelle, einen Filter und ein Ziel (Englisch: source, filter, destination) definieren. So kann man syslog-ng auch als Syslog-Server im Netzwerk einrichten. Die Konfiguration kann anschließend mit dem Befehl
</p><div class="bash"><div class="contents"><pre class="notranslate">syslog-ng --syntax-only </pre></div></div><p>
überprüft werde.</p><div class="section_2"><h3 id="Beispiel-Log-Dateien-des-Routers">Beispiel: Log-Dateien des Routers<a class="headerlink" href="#Beispiel-Log-Dateien-des-Routers">¶</a></h3><p>
Um das Prinzip zu verdeutlichen, sei nachfolgend beschrieben, wie man syslog-ng dazu bringt, die Log-Dateien des heimischen Netzwerkrouters zu verwalten. Die Benutzung von syslog-ng bietet sich an, da zwar auch ein normaler syslogd diese Daten empfangen und in eine gemeinsame Log-Datei schreiben kann, es jedoch nur mit syslog-ng möglich ist, die Daten anhand der Absenderadresse (der IP-Adresse des Routers) in eine separate Log-Datei zu schreiben.</p><p>Angenommen der Router hat die IP-Adresse 192.168.0.1 und ist in der Lage, die Logfiles über UDP-Port 514 an einen Syslog-Server zu übermitteln (das ist Standard). Dann muss man zunächst dem Router mitteilen, dass er seine Logs an den Server zu richten hat. Das kann man bei gängigen Routern über eine Web-Oberfläche machen (siehe Router-Handbuch). Das setzt natürlich voraus, dass der Router seine Logs an einen syslog-Server richten kann.</p><p>In Datei <strong>/etc/syslog-ng/syslog-ng.conf</strong> müssen nun für diese Logs Quelle, Ziel und Filter eingetragen werden. Hierzu öffnet man die Datei mit Rootechten <sup><a href="#source-3">[3]</a></sup> in einem Editor<sup><a href="#source-4">[4]</a></sup> und fügt die folgenden Zeilen ein:
</p><pre class="notranslate">source s_udp
{
    udp(port(514));
};</pre><p>
Der obige Befehl fügt die Quelle zu. Das Quellen-Tag kennt auch noch den Parameter <code class="notranslate">ip</code>. Dieser Parameter ist optional.  Hier kann die IP-Adresse des Hosts (nicht der Logging-Gäste) angegeben werden. Da das nur der Syslog-Server sein kann, kann man hier auch mit</p><pre class="notranslate">source s_udp
{
    udp(ip(127.0.0.1) port(514));
};</pre><p>
die Loopback-Adresse des Servers eingeben oder</p><pre class="notranslate">source s_udp
{
    udp(ip(&lt;IP-Adresse des Servers&gt;) port(514));
};</pre><p>
die IP-Adresse des Servers eingeben oder eben diesen Parameter weglassen.</p><p>Nun muss noch ein Ziel für die Logs eingegeben werden. Dazu dient der Eintrag <code class="notranslate">destination</code>:
</p><pre class="notranslate">destination d_router { 
	file("/var/log/router.log");
 };</pre><p>
Der Name des Zieleintrags (hier <code class="notranslate">d_router</code>) kann frei vergeben werden.</p><p>Außerdem muss ein Filter definiert werden. Das passiert mit dem Eintrag
</p><pre class="notranslate">filter f_router { 
	host("192.168.0.1");
 };</pre><p>
Der Name des Filters (hier <code class="notranslate">f_router</code>) kann frei vergeben werden. Als Host wird die IP-Adresse des Routers eingetragen.</p><p>Quelle, Ziel und Filter müssen schließlich noch im Log-Tag zusammengeführt werden:
</p><pre class="notranslate">log { 
      source(s_udp); 
      filter(f_router);
      destination(d_router); 
}; </pre><p>Nachdem die Datei <strong>/etc/syslog-ng/syslog-ng.conf</strong> gespeichert wurde, muss der Syslog-Dienst im Terminal<sup><a href="#source-2">[2]</a></sup> neu gestartet werden:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/syslog-ng restart </pre></div></div><p>Wenn nun keine Fehlermeldung erscheint, lauscht der Syslog-Server auf Port 514 auf syslogs vom Router und schreibt sie in die Datei <strong>/var/log/router.log</strong>.</p><p>An diesem Beispiel soll nur das Prinzip erläutert werden. Weitergehende Informationen sind der <a class="external" href="https://www.balabit.com/sites/default/files/documents/syslog-ng-ose-latest-guides/en/syslog-ng-ose-guide-admin/html/index.html" rel="nofollow">offiziellen Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> zu entnehmen.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.balabit.com/network-security/syslog-ng/opensource-logging-system/overview" rel="nofollow">Webseite von syslog-ng</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Syslog">syslog bei Wikipedia</a></p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Syslog-ng">syslog-ng bei Wikipedia</a></p></li><li><p><a class="external" href="http://www.wikidorf.de/reintechnisch/Inhalt/SyslogNGEinfuehrung" rel="nofollow">Einführung in syslog-ng</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="https://wiki.debian.org/DebianEdu/HowTo/syslog-ng" rel="nofollow">syslog-ng howto</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./syslog-ng/a/revision/941449.html">Diese Revision</a> wurde am 19. Mai 2017 08:51 von <a href="https://ubuntuusers.de/user/Qupfer/">Qupfer</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./syslog-ng.html">syslog-ng</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>