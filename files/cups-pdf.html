<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>CUPS-PDF › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./cups-pdf.html">CUPS-PDF</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/CUPS-PDF">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./cups-pdf/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./cups-pdf/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./cups-pdf/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./cups-pdf/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./cups-pdf/a/backlinks.html">CUPS-PDF</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./sudo.html">Root-Rechte erlangen</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./paketinstallation_deb.html">Ein einzelnes Paket installieren</a>, <em>optional</em></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Verwendung">Verwendung
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Problemhebung">Problemhebung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/Oxygen/pdf.png" class="image-left" src="./_/9bc8630f860273651655c7cce892de6a2cbd2f2f.png"/>
<img alt="./pdf-cubs4.png" class="image-right" src="./_/c70f8e0c3a49c4c44e0c69a197de24ccb97e1d6c.png"/>
<a class="external" href="http://www.cups-pdf.de/" rel="nofollow">CUPS-PDF</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein Backend für den Druckdienst <a class="internal" href="./cups.html">CUPS</a>. Es handelt sich um ein Programm mit einer langen Tradition: bis einschließlich <a class="internal" href="./hardy.html">Ubuntu 8.04</a> war es standardmäßig vorinstalliert und wurde genutzt, um Dokumente programmunabhängig im <a class="internal" href="./pdf.html">PDF</a>-Format drucken zu können. Ab <a class="internal" href="./intrepid.html">Ubuntu 8.10</a> wurde es durch die Funktion <strong>gtkprint</strong> abgelöst, das zumindest bei <a class="internal" href="./gtk.html">GTK</a>-basierenden Anwendungen eine Postscript- bzw. PDF-Datei direkt erzeugen kann. Dazu wird im Dialog <em>"Drucken"</em> der virtuelle Drucker <em>"In Datei drucken"</em> ausgewählt und das Ausgabeformat sowie der Name der Datei angegeben. Inzwischen enthält auch KDE eine entsprechende Funktion.</p><p>Möchte man in wirklich allen Programmen PDF-Dateien erzeugen, bietet sich dennoch die zusätzliche Einrichtung von CUPS-PDF an. Im Gegensatz zu gtkprint steht CUPS-PDF auch in Java- und mittels Wine ausgeführten Windows-Anwendungen zur Verfügung. Es kann auch als virtueller Drucker in einem papierlosen Netzwerk genutzt werden, wenn man CUPS erlaubt, die lokal vorhandenen Drucker anderen Clients zur Verfügung zu stellen.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
<img alt="Wiki/Icons/synaptic.png" class="image-right" src="./_/5f59c9b9aac5b4e2ab9c85b868bf348c72dc10aa.png"/>
Ab <a class="internal" href="./xenial.html">Ubuntu 16.04</a> installiert man das folgende Paket <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>printer-driver-cups-pdf</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install printer-driver-cups-pdf </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install printer-driver-cups-pdf </pre></div></div><p>
</p></div></div><p>
bei älteren Ubuntu-Versionen dagegen:</p><ul><li><p><strong>cups-pdf</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install cups-pdf </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install cups-pdf </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Verwendung">Verwendung<a class="headerlink" href="#Verwendung">¶</a></h2><p>
Bei der Installation wird automatisch ein neuer Drucker mit dem Namen <em>"PDF-Drucker"</em> angelegt. Zur Kontrolle und Konfiguration dienen je nach Desktop-Oberfläche unterschiedliche Werkzeuge:</p><ul><li><p>Unity, GNOME 3: <a class="internal" href="./gnome_druckerkonfiguration.html">GNOME Druckerkonfiguration</a></p></li><li><p>MATE, LXDE, Xfce: <a class="internal" href="./gnome_druckerkonfiguration.html#Alte-Druckerkonfiguration">system-config-printer</a></p></li><li><p>KDE: <a class="internal" href="./kde_druckerkonfiguration.html">KDE Druckerkonfiguration</a></p></li></ul><p>
Auch im Browser kann CUPS-PDF verwaltet werden. Dazu gibt man die Internet-Adresse (URL) <code class="notranslate">http://localhost:631/printers/</code> in die Adresszeile des Browsers ein. Nun werden alle installierten Drucker anzeigt.</p><p>Die Voreinstellungen sind in der Regel korrekt gesetzt. Kontrollieren sollte man dennoch das Papierformat (DIN A4) und bei Bedarf den DPI-Wert. In den meisten Fällen reicht eine Auflösung von 300 oder 600 dpi aus.</p><p>Dokumente werden in einem konfigurierbaren Verzeichnis gespeichert: früher per Vorgabe unter <strong>~/PDF/</strong>, ab Ubuntu 10.10 direkt im <a class="internal" href="./homeverzeichnis.html">Homeverzeichnis</a>.</p></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
<img alt="Wiki/Icons/settings.png" class="image-right" src="./_/44291e0203c1fed32d9b02c10c138504ec425e3d.png"/>
Nach jeder manuellen Änderung der Konfiguration muss CUPS neu gestartet werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service cups restart </pre></div></div><p>
oder alternativ:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/cups restart </pre></div></div><div class="section_2"><h3 id="Umbenennen-des-Druckers">Umbenennen des Druckers<a class="headerlink" href="#Umbenennen-des-Druckers">¶</a></h3><p>
Ein Ändern des Standardnamens <em>"PDF-Drucker"</em> ist nicht bei jeder Ubuntu-Variante ohne Weiteres möglich. Dann muss die Datei <strong>/etc/cups/printers.conf</strong> in einem Editor mit Root-Rechten <sup><a href="#source-3">[3]</a></sup> bearbeitet werden. Hier sucht man den Eintrag</p><pre class="notranslate">&lt;Printer "Name"&gt;</pre><p>wobei <code class="notranslate">Name</code> durch den den aktuellen Druckernamen ersetzt werden muss. Dieser Name kann dann einfach ersetzt werden. Es dürfen aber keine Leerzeichen im Namen vorkommen. Alternativ kann die CUPS-Weboberfläche unter <code class="notranslate">http://localhost:631/printers/</code> genutzt werden.</p></div><div class="section_2"><h3 id="ndern-des-Speicherorts">Ändern des Speicherorts<a class="headerlink" href="#ndern-des-Speicherorts">¶</a></h3><p>
Wer den Ausgabeordner ändern möchte, muss die Datei <strong>/etc/cups/cups-pdf.conf</strong> in einem Editor mit Root-Rechten bearbeiten. Hier sucht man die Zeile mit</p><pre class="notranslate">Out ${HOME}/PDF</pre><p>
und ändert den Ausgabeordner (statt PDF) wie gewünscht ab.</p><p>Da CUPS durch <a class="internal" href="./apparmor.html">AppArmor</a> überwacht wird, ist noch ein zusätzlicher Eingriff erforderlich. Dazu die Datei <strong>/etc/apparmor.d/usr.sbin.cupsd</strong> in einem Editor mit Root-Rechten bearbeiten und in den Zeilen:</p><pre class="notranslate">@{HOME}/PDF/ rw,
@{HOME}/PDF/* rw,</pre><p>
ebenfalls den gewünschten Ausgabeordner zweimal (statt PDF) anpassen. Anschließend müssen AppArmor und CUPS neu gestartet werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/apparmor restart
sudo /etc/init.d/cups restart </pre></div></div></div><div class="section_2"><h3 id="berschreiben-verhindern">Überschreiben verhindern<a class="headerlink" href="#berschreiben-verhindern">¶</a></h3><p>
Speziell bei Internetseiten kann es passieren, dass erstellte PDF-Dokumente immer wieder überschrieben werden. Hintergrund dieses Problems ist, dass als Dateiname von CUPS-PDF automatisch der Seitentitel benutzt wird. Wenn dieser nicht individuell gesetzt ist, wird eine bereits bestehende Datei mit dem gleichen Namen überschrieben.</p><p>Um das zu verhindern, wird die Datei <strong>/etc/cups/cups-pdf.conf</strong> mit Root-Rechten editiert und der folgende Eintrag wie folgt abgeändert:</p><pre class="notranslate">### Key: Label
##  label all jobs with a unique job-id in order to avoid overwriting old
##  files in case new ones with identical names are created; always true for
##  untitled documents
##  0: label untitled documents only
##  1: label all documents with a preceeding "job_#-"
##  2: label all documents with a tailing "-job_#" (version &gt; 2.5 only)
### Default: 0

Label 1</pre><p>Auch nach dieser Änderung muss CUPS neu gestartet werden. Damit wird in Zukunft jede erstellte PDF-Datei eindeutig benannt (nummeriert) und ein versehentliches Überschreiben verhindert.</p></div></div><div class="section_1"><h2 id="Problemhebung">Problemhebung<a class="headerlink" href="#Problemhebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Erzeugte-PDF-Dateien-sind-nicht-durchsuchbar">Erzeugte PDF-Dateien sind nicht durchsuchbar<a class="headerlink" href="#Erzeugte-PDF-Dateien-sind-nicht-durchsuchbar">¶</a></h3><p>
Ab <a class="internal" href="./natty.html">Ubuntu 11.04</a> ist die Nutzung von CUPS-PDF durch diverse Fehler (z.B. <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/820820">820820</a>, <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/942866">942866</a>) stark beeinträchtigt: PDF-Dateien sind unleserlich und/oder nicht mehr durchsuchbar, weil teilweise Text als Bild gespeichert wird. Abhilfe schafft das Herunterladen der nicht betroffenen älteren Version <a class="external" href="http://old-releases.ubuntu.com/ubuntu/pool/universe/c/cups-pdf/" rel="nofollow">cups-pdf_2.5.0-17ubuntu1~lucid1</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> als einzelnes Paket, das anschließend manuell installiert werden muss <sup><a href="#source-5">[5]</a></sup>.</p><p>Damit die ältere Version nicht bei der nächsten Systemaktualisierung wieder überschrieben wird, sperrt man das Paket in der Paketverwaltung. Falls diese eine solche Option nicht kennt (z.B. im Falle des <a class="internal" href="./software-center.html">Software-Centers</a>), weicht man auf die Kommandozeile bzw. ein Terminal aus:</p><div class="bash"><div class="contents"><pre class="notranslate">echo cups-pdf hold | sudo dpkg --set-selections </pre></div></div></div><div class="section_2"><h3 id="Schwierigkeiten-mit-Apparmor">Schwierigkeiten mit Apparmor<a class="headerlink" href="#Schwierigkeiten-mit-Apparmor">¶</a></h3><p>
Wenn CUPS-PDF Probleme bereitet:
</p><blockquote><p>"... apparmor="DENIED" operation="mknod"  parent=16861 profile="/usr/lib/cups/backend/cups-pdf" ..."</p></blockquote><p>so hilft eine Ergänzung in <strong>/etc/apparmor.d/usr.sbin.cupsd</strong>:
</p><pre class="notranslate">  capability mknod,</pre><p>
Anschließend wie oben beschrieben CUPS und AppArmor neu starten.</p></div><div class="section_2"><h3 id="PDF-A-Erstellung">PDF/A-Erstellung<a class="headerlink" href="#PDF-A-Erstellung">¶</a></h3><p>
Möchte man das Ausgabeformat auf <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/PDF/A">PDF/A</a> (konkret PDF/A-1b) umstellen, editiert man die Datei <strong>/etc/cups/cups-pdf.conf</strong> mit Root-Rechten und passt folgende Zeile an (die entscheidende Änderung ist gelb markiert):</p><pre class="notranslate">GSCall %s -q <strong class="highlighted">-dPDFA</strong> -dCompatibilityLevel=%s -dNOPAUSE -dBATCH -dSAFER -sDEVICE=pdfwrite -sOutputFile="%s" -dAutoRotatePages=/PageByPage -dAutoFilterColorImages=false -dColorImageFilter=/FlateEncode -dPDFSETTINGS=/prepress -c .setpdfwrite -f %s</pre><p>
Falls die Zeile mit einem <code class="notranslate">#</code> beginnt, dieses entfernen, um die Änderung zu aktivieren. Für eine Erläuterung der Parameter siehe <a class="internal" href="./ghostscript.html">Ghostscript</a>.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.cups-pdf.de/" rel="nofollow">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="internal" href="./druckwerkzeuge.html">Druckwerkzeuge</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Programmübersicht</p></li><li><p><a class="internal" href="./drucker.html">Drucker</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersicht zum Thema</p></li><li><p><a class="internal" href="./howto/cups-pdf_mit_wasserzeichen_und_e-mailversand_via_thunderbird.html">Howto/CUPS-PDF mit Wasserzeichen und E-Mailversand via Thunderbird</a></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./cups-pdf/a/revision/940840.html">Diese Revision</a> wurde am 9. Mai 2017 01:27 von <a href="https://ubuntuusers.de/user/ubot/">ubot</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./cups-pdf.html">CUPS-PDF</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>