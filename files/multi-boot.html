<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Multi-Boot › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./multi-boot.html">Multi-Boot</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Multi-Boot">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./multi-boot/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./multi-boot/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./multi-boot/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./multi-boot/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./multi-boot/a/backlinks.html">Multi-Boot</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./desktop-cd.html">Ubuntu von einer Live-CD starten</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./gparted.html#Installation">Starten des Partitionseditors</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./manuelle_partitionierung.html">Manuelle Partitionierung</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./gparted.html">Setzen von Markierungen im Partitions-Manager</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./grub_2/skripte.html">Die Konfiguration des Bootmanagers GRUB bearbeiten</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./terminal.html#GNOME-Ubuntu">Ein Terminal öffnen</a></p></li></ol></div></div><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Multi-Boot-Installation-mit-versteckten-Windows-Systemen">Multi-Boot-Installation mit versteckten Wi...</a><ol class="arabic"><li><a class="crosslink" href="#Warum-verstecken">Warum verstecken?
</a></li><li><a class="crosslink" href="#Vor-und-Nachteile-des-Versteckens">Vor- und Nachteile des Versteckens
</a></li></ol></li><li><a class="crosslink" href="#Vorgehensweise">Vorgehensweise
</a><ol class="arabic"><li><a class="crosslink" href="#Schritt-1-Vorbereitung-der-Festplatte-mittels-Ubuntu-Live-CD">Schritt 1 - Vorbereitung der Festplatte ...</a></li><li><a class="crosslink" href="#Schritt-2-Installation-der-ersten-Windows-Version">Schritt 2 - Installation der ersten Wind...</a></li><li><a class="crosslink" href="#Schritt-3-Verstecken-der-Windows-Partition-mit-der-Ubuntu-Live-CD">Schritt 3 - Verstecken der Windows Parti...</a></li><li><a class="crosslink" href="#Schritt-4-Installation-der-naechsten-Windows-Version">Schritt 4 - Installation der nächsten Wi...</a></li><li><a class="crosslink" href="#Schritt-5-Installation-von-Ubuntu">Schritt 5 - Installation von Ubuntu
</a></li><li><a class="crosslink" href="#Schritt-6-Anpassen-der-Konfigurationsdatei-des-GRUB">Schritt 6 - Anpassen der Konfigurationsd...</a></li></ol></li></ol></div><div class="section_1"><h2 id="Multi-Boot-Installation-mit-versteckten-Windows-Systemen">Multi-Boot-Installation mit versteckten Windows-Systemen<a class="headerlink" href="#Multi-Boot-Installation-mit-versteckten-Windows-Systemen">¶</a></h2><p>
<img alt="Wiki/Icons/ubuntu.png" class="image-left" src="./_/6c909fd4ac21dfdba21aadeb8014970a3f3f583a.png"/> <img alt="Wiki/Icons/windows_users.png" class="image-left" src="./_/b1713bfb13b2eb21be79f766ad0c8ecdf029dda7.png"/></p><p>Dieser Artikel beschreibt, wie man mehrere Windows-Systeme unabhängig voneinander neben einer oder auch mehrerer Ubuntu-Installationen einrichtet. Dabei werden die Windows-Installationen voreinander versteckt.</p><div class="section_2"><h3 id="Warum-verstecken">Warum verstecken?<a class="headerlink" href="#Warum-verstecken">¶</a></h3><p>
Installiert man mehrere Windows-Systeme auf einem Computer, so landen die eigentlichen Startdateien, um Windows laden zu können, standardmäßig alle auf der selben Partition. Über den Bootmanager der zuletzt installierten Windows-Version werden dabei die schon vorhandenen Windows-Systeme gestartet.</p><p>Dies funktioniert aber automatisch nur, wenn die zuletzt installierte Windows-Version die zuvor installierten Windows-Versionen erkennen kann. Das ist in der Regel nur bei der neuesten Windows-Version der Fall. Deswegen muss man entweder eine bestimmte Installationsreihenfolge einhalten - nämlich von alt nach neu - oder man muss auf recht umständliche Art einem älteren Windows-Bootmanager beibringen, ein neueres Windows zu starten.</p><p>Installiert man auf ein solches System Ubuntu, so wird standardmäßig <a class="internal" href="./grub_2/grundlagen.html">GRUB</a> der Haupt-Bootmanager für das gesamte System, über den dann auch der Bootmanager der zuletzt installierten Windows-Version aufgerufen wird. Somit hat man zwei Boot-Menüs mit teilweise gleichen Auswahl-Möglichkeiten hintereinander, was viele als verwirrend und ineffektiv empfinden.</p><p>Versteckt man aber die Windows-Versionen voreinander, so werden deren Boot-Dateien auf die Partition installiert, auf die auch das jeweilige Windows-System installiert wird. Dadurch sind die Windows-Versionen voneinander unabhängig, so dass die Reihenfolge der Windows-Installationen beliebig erfolgen kann. Über GRUB kann man dann jeweils direkt den Bootmanager der Windows-Version laden, die man auch starten möchte.</p></div><div class="section_2"><h3 id="Vor-und-Nachteile-des-Versteckens">Vor- und Nachteile des Versteckens<a class="headerlink" href="#Vor-und-Nachteile-des-Versteckens">¶</a></h3><p>
Das Verstecken der Windows-System-Partitionen hat aber auch nicht nur Vorteile:</p><table><tr style="background-color: #F9EAAF"><td> <strong>Vorteile</strong> </td><td> <strong>Nachteile</strong> </td></tr><tr><td style="vertical-align: top; width: 50%"> GRUB kann direkt den Bootmanager der Windows-Version starten, die letztlich auch geladen werden soll. </td><td style="vertical-align: top; width: 50%"> Mit dieser Methode kann man neben Ubuntu maximal drei Windows-Versionen installieren, da die <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Partitionstabelle">Partitionstabelle</a> auf der Festplatte eines IBM-DOS-kompatiblen PC nur maximal vier Primär-Partitionen aufnehmen kann. </td></tr><tr><td style="vertical-align: top"> Nach Entfernen eines Windows-Systems bleiben die noch vorhandenen Windows-Systeme ohne Nacharbeiten über GRUB startbar. </td><td> Da die Systeme voreinander versteckt werden, kann man zunächst nicht von einem Windows-System auf ein anderes Windows-System zugreifen. Dazu muss die entsprechende Windows-Partition erst manuell sichtbar gemacht werden. </td></tr><tr><td style="vertical-align: top"> Die Reihenfolge, in der die Windows-Versionen aufgespielt werden, spielt keine Rolle. </td><td> Sollte Ubuntu und damit auch GRUB deinstalliert werden, sind Nacharbeiten notwendig, um alle vorhanden Windows-Versionen wieder starten zu können. </td></tr><tr><td> XP löscht normalerweise alle Wiederherstellungspunkte, die es auf der Partition von neueren Windows-Versionen findet. Das Problem ist bei Microsoft bekannt und die offizielle <a class="external" href="http://support.microsoft.com/kb/926185/de" rel="nofollow">Support Page von Microsoft</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> schlägt einige Änderungen in der Registry vor. Das Verstecken von neueren Windows-Versionen vor Windows XP umgeht diese Problematik. </td><td> </td></tr></table><p>
</p></div></div><div class="section_1"><h2 id="Vorgehensweise">Vorgehensweise<a class="headerlink" href="#Vorgehensweise">¶</a></h2><p>
Wie bereits eingangs erwähnt, spielt die Installations-Reihenfolge keine Rolle. Das gilt aber nur, wenn man folgende Grundsätze beachtet:</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Sind auf dem Computer bereits andere Betriebssysteme vorhanden, so sollten wichtige Daten vor einer weiteren Installation gesichert werden. Hat man für die bereits installierten Betriebssysteme außerdem kein Installations-Medium zur Hand, so sollte man von dem betreffende System ein vollständiges Backup anlegen.
</p></div></div><ol class="arabic"><li><p>Primär-Partitionen, die für die jeweilige Windows-Installation nicht genutzt werden sollen, müssen unbedingt zuvor <a class="crosslink" href="#Schritt-3---Verstecken-der-Windows-Partition-mit-der-Ubuntu-Live-CD">versteckt</a> werden, da andernfalls die Startdateien für das zur Installation stehende Windows unter Umständen nicht auf die gewünschte Primär-Partition abgelegt werden. Zudem schützt dies davor, dass die Primär-Partitionen, die für die Installation nicht genutzt werden sollen, bei der Installation eventuell beschädigt werden.</p></li><li><p>Um nach einer Windows-Installation sämtliche Systeme starten zu können, muss GRUB, sofern er bereits installiert war, <a class="internal" href="./grub_2/reparatur.html">wiederhergestellt</a> und <a class="crosslink" href="#Schritt-6---Anpassen-der-Konfigurationsdatei-des-GRUB">angepasst</a> werden.</p></li></ol><p>
</p><div class="section_2"><h3 id="Schritt-1-Vorbereitung-der-Festplatte-mittels-Ubuntu-Live-CD">Schritt 1 - Vorbereitung der Festplatte mittels Ubuntu-Live-CD<a class="headerlink" href="#Schritt-1-Vorbereitung-der-Festplatte-mittels-Ubuntu-Live-CD">¶</a></h3><p>
Als erstes startet man das System mit der <a class="internal" href="./live-cd.html">Live-CD</a><sup><a href="#source-1">[1]</a></sup>, öffnet GParted<sup><a href="#source-2">[2]</a></sup> und partitioniert die Festplatte manuell<sup><a href="#source-3">[3]</a></sup>. Dabei ist es wichtig, dass für die Windows-System-Partitionen jeweils eine Primär-Partition eingerichtet wird, so dass sich folgendes Partitions-Schema empfiehlt:</p><table><tr style="background-color: #F9EAAF"><td colspan="2"> <strong>Partition</strong> </td><td> <strong>Bezeichnung</strong> </td><td> <strong>Inhalt</strong> </td><td> <strong>erforderlich/optional</strong> </td></tr><tr><td colspan="2">1. Primär-Partition </td><td> XP </td><td> Windows XP </td><td> erforderlich </td></tr><tr><td colspan="2">2. Primär-Partition </td><td> Vista </td><td> Windows Vista </td><td> erforderlich </td></tr><tr><td colspan="2">3. Primär-Partition </td><td> Win7 </td><td> Windows 7 </td><td> optional </td></tr><tr><td colspan="2">Erweiterte Partition </td><td> erweitert </td><td> </td><td> erforderlich </td></tr><tr><td> </td><td> 1. Logische Partition </td><td> Ubuntu </td><td> Ubuntu </td><td> erforderlich </td></tr><tr><td> </td><td> 2. Logische Partition </td><td> swap </td><td> Auslagerungsdatei (Swap) </td><td> erforderlich </td></tr><tr><td> </td><td> 3. Logische Partition </td><td> windata </td><td> Windows-Daten </td><td> optional </td></tr></table><p>
Die Bezeichnung und der Inhalt der Partitionen ist austauschbar. So könnte die 1. Primär-Partition z.B. auch Windows 7 und die zweite Primär-Partition Windows XP aufnehmen.</p><p>Abschließend setzt man die Markierung der ersten Primär-Partition auf <em>"boot"</em><sup><a href="#source-3">[3]</a></sup> und stellt die beiden anderen Primär-Partitionen auf <em>"hidden"</em>.</p></div><div class="section_2"><h3 id="Schritt-2-Installation-der-ersten-Windows-Version">Schritt 2 - Installation der ersten Windows-Version<a class="headerlink" href="#Schritt-2-Installation-der-ersten-Windows-Version">¶</a></h3><p>
<img alt="Wiki/Icons/hd-windows.png" class="image-left" src="./_/79013301d7598f0e01edae8234183b0b5e43ed55.png"/></p><p>Als nächstes startet man das System mittels der Windows-Installations-CD/DVD, welche man auf die erste Primär-Partition installieren will. Welche Version das ist, ist wie bereits erwähnt egal, sofern man wie in Schritt 1 beschrieben, die übrigen Primär-Partitionen versteckt hat.</p></div><div class="section_2"><h3 id="Schritt-3-Verstecken-der-Windows-Partition-mit-der-Ubuntu-Live-CD">Schritt 3 - Verstecken der Windows Partition mit der Ubuntu Live-CD<a class="headerlink" href="#Schritt-3-Verstecken-der-Windows-Partition-mit-der-Ubuntu-Live-CD">¶</a></h3><p>
Nach erfolgreicher Windows-Installation startet man das System nun wieder mit der Ubuntu Live-CD, öffnet GParted und setzt die Partition, auf der man gerade das Windows installiert hat, auf <em>"hidden"</em> und entfernt die Markierung <em>"boot"</em>. Außerdem setzt man die Partition, auf der nun das nächste Windows installiert werden soll, auf <em>"boot"</em> und entfernt dort das <em>"hidden"</em>.</p></div><div class="section_2"><h3 id="Schritt-4-Installation-der-naechsten-Windows-Version">Schritt 4 - Installation der nächsten Windows-Version<a class="headerlink" href="#Schritt-4-Installation-der-naechsten-Windows-Version">¶</a></h3><p>
<img alt="Wiki/Icons/hd-windows.png" class="image-left" src="./_/79013301d7598f0e01edae8234183b0b5e43ed55.png"/></p><p>Nun startet man die zweite Windows-Version von der entsprechenden Installations-CD/DVD und installiert diese auf der zweiten Primär-Partition.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Je nach verwendeter Windows-Version werden die versteckten Partitionen innerhalb des Windows-Setup zwar angezeigt, können für eine Installation aber nicht ausgewählt werden bzw. es kommt zu einer Fehlermeldung, falls man es versehentlich doch versucht.
</p></div></div></div><div class="section_2"><h3 id="Schritt-5-Installation-von-Ubuntu">Schritt 5 - Installation von Ubuntu<a class="headerlink" href="#Schritt-5-Installation-von-Ubuntu">¶</a></h3><p>
<img alt="Wiki/Icons/hd-linux.png" class="image-left" src="./_/29886ae043fd16dc3a200bba08dbeee4613ad401.png"/></p><p>Jetzt kann Ubuntu installiert und eingerichtet werden. Bei der Installation ist dabei darauf zu achten, dass man die Option im Setup anwählt, die einem das manuelle Festlegen und Ändern der Partitionen erlaubt. Dort kann man dann die bereits erstellten Ubuntu-Partitionen den gewünschten Einhängepunkten zuweisen.</p></div><div class="section_2"><h3 id="Schritt-6-Anpassen-der-Konfigurationsdatei-des-GRUB">Schritt 6 - Anpassen der Konfigurationsdatei des GRUB<a class="headerlink" href="#Schritt-6-Anpassen-der-Konfigurationsdatei-des-GRUB">¶</a></h3><p>
<img alt="Wiki/Icons/Oxygen/text-x-generic.png" class="image-left" src="./_/bb6adeee919e5aedf2258b2ef86922efec678862.png"/></p><p>Damit die Windows-Versionen entsprechend weiterhin voreinander versteckt bleiben, muss man die Konfigurationsdatei des GRUB anpassen.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Windows kann nicht von einer versteckten Partition starten!
</p></div></div><div class="section_3"><h4 id="GRUB-2">GRUB 2<a class="headerlink" href="#GRUB-2">¶</a></h4><p>
GRUB 2 erkennt zwar mittels des Skriptes <strong>/etc/grub.d/30_os-prober</strong> grundsätzlich die Starteinträge der verschiedenen Windows-Versionen auch dann, wenn deren Partition versteckt sind, die so generierten Einträge kümmern sich aber nicht um das Sichtbar- bzw. Unsichtbarmachen der verschiedenen Windows-Versionen. Also muss auch hier manuell nachgebessert werden.</p><p>Zunächst kann man aber die mittels os-prober erkannten Starteinträge aus der Datei <strong>/boot/grub/grub.cfg</strong> kopieren und als Grundlage für die angepassten Einträge verwenden.</p><p>Nachdem man diese Einträge aus dem Abschnitt <code class="notranslate">30_os-prober</code> kopiert hat, öffnet man die Datei <strong>/etc/grub.d/40_custom</strong> zur Bearbeitung und fügt sie dort ein.</p><p>GRUB 2 verwendet <code class="notranslate">parttool</code>, um Partitionen zu bearbeiten. Damit kann man unter anderem Partition sichtbar machen oder verstecken sowie die Boot-Markierung setzen:</p><p><img alt="Wiki/Icons/Oxygen/preferences-system.png" class="image-left" src="./_/453145a5d9daefa383994ceff6898e46fb337e83.png"/></p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="nb">exec</span> tail -n +3 <span class="nv">$0</span>
<span class="c1"># This file provides an easy way to add custom menu entries.  Simply type the</span>
<span class="c1"># menu entries you want to add after this comment.  Be careful not to change</span>
<span class="c1"># the 'exec tail' line above.</span>
menuentry <span class="s2">"Microsoft Windows XP Home Edition (on /dev/sda1)"</span> <span class="o">{</span>
	insmod ntfs
	parttool <span class="o">(</span>hd0,1<span class="o">)</span> hidden-	
	parttool <span class="o">(</span>hd0,3<span class="o">)</span> hidden+	
	parttool <span class="o">(</span>hd0,2<span class="o">)</span> hidden+	
	parttool <span class="o">(</span>hd0,1<span class="o">)</span> boot+
	<span class="nb">set</span> <span class="nv">root</span><span class="o">=(</span>hd0,1<span class="o">)</span>
	search --no-floppy --fs-uuid --set 12acd9f9acd9d6f7
	drivemap -s <span class="o">(</span>hd0<span class="o">)</span> <span class="si">${</span><span class="nv">root</span><span class="si">}</span>
	chainloader +1
<span class="o">}</span>
menuentry <span class="s2">"Windows Vista (loader) (on /dev/sda2)"</span> <span class="o">{</span>
	insmod ntfs
	parttool <span class="o">(</span>hd0,2<span class="o">)</span> hidden-	
	parttool <span class="o">(</span>hd0,1<span class="o">)</span> hidden+	
	parttool <span class="o">(</span>hd0,3<span class="o">)</span> hidden+
	parttool <span class="o">(</span>hd0,2<span class="o">)</span> boot+	
	<span class="nb">set</span> <span class="nv">root</span><span class="o">=(</span>hd0,2<span class="o">)</span>
	search --no-floppy --fs-uuid --set 5aec3f20ec3ef5bb
	chainloader +1
<span class="o">}</span>
menuentry <span class="s2">"Windows 7 (loader) (on /dev/sda3)"</span> <span class="o">{</span>
	insmod ntfs
	parttool <span class="o">(</span>hd0,3<span class="o">)</span> hidden-	
	parttool <span class="o">(</span>hd0,1<span class="o">)</span> hidden+	
	parttool <span class="o">(</span>hd0,2<span class="o">)</span> hidden+
	parttool <span class="o">(</span>hd0,3<span class="o">)</span> boot+
	<span class="nb">set</span> <span class="nv">root</span><span class="o">=(</span>hd0,3<span class="o">)</span>
	search --no-floppy --fs-uuid --set 66ab81cd593c1aa6
	chainloader +1
<span class="o">}</span>
</pre></div>
</td></tr></table></div><p>In diesem Beispiel befindet sich auf <strong>sda1</strong> Windows XP, auf <strong>sda2</strong> Windows Vista und auf <strong>sda3</strong> Windows 7. In den jeweiligen Abschnitten wird im search-Befehl die UUID der entsprechenden Partition angegeben (z.B. 12acd9f9acd9d6f7). Diese Angaben müssen der tatsächlich vorgefundenen Situation angepasst werden.</p><p>Nun speichert und schließt man das Skript <strong>40_custom</strong>.</p><p>Danach muss man noch dafür sorgen, dass das Skript <strong>/etc/grub.d/30_os-prober</strong> nicht mehr abgearbeitet wird, in dem man die Datei <strong>/etc/default/grub</strong> zur Bearbeitung öffnet und dort folgende Zeile einfügt:</p><pre class="notranslate">GRUB_DISABLE_OS_PROBER=true </pre><p>Schließlich öffnet man ein Terminal<sup><a href="#source-6">[6]</a></sup> und übernimmt die Anpassungen mit folgendem Befehl endgültig:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-grub </pre></div></div></div><div class="section_3"><h4 id="GRUB-Legacy">GRUB Legacy<a class="headerlink" href="#GRUB-Legacy">¶</a></h4><p>
Bei Verwendung von GRUB Legacy - bis einschließlich Jaunty - öffnet man nach Abschluss der Installation die Datei <strong>/boot/grub/menu.lst</strong> zur Bearbeitung <sup><a href="#source-3">[3]</a></sup>.</p><p>Mittels der Befehle <code class="notranslate">unhide (hdX,Y)</code> und <code class="notranslate">hide (hdX,Y)</code> kann man beim Aufruf eines Starteintrages innerhalb von GRUB eine Partition sichtbar machen oder verstecken. Die Boot-Markierung setzt GRUB Legacy mittels des Befehls <code class="notranslate">makeactive</code>:</p><p><img alt="Wiki/Icons/Oxygen/preferences-system.png" class="image-left" src="./_/453145a5d9daefa383994ceff6898e46fb337e83.png"/></p><p>Das Ganze kann dann so aussehen:</p><pre class="notranslate">### END DEBIAN AUTOMAGIC KERNELS LIST

title		Windows XP
hide		(hd0,1)
unhide		(hd0,0)
root		(hd0,0)
makeactive
savedefault
chainloader	+1

title		Windows Vista x64
hide		(hd0,0)
unhide		(hd0,1)
root		(hd0,1)
makeactive
savedefault
chainloader	+1</pre><p>In diesem Fall liegt Windows XP auf <strong>sda1</strong> und Windows Vista auf <strong>sda2</strong>. Sollte sich das anders verhalten, muss man die Einträge entsprechend anpassen.</p><p></p></div></div></div></div>
<p class="meta">
<a href="./multi-boot/a/revision/929858.html">Diese Revision</a> wurde am 11. Januar 2017 20:13 von <a href="https://ubuntuusers.de/user/XM-Franz/">XM-Franz</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./multi-boot.html">Multi-Boot</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>