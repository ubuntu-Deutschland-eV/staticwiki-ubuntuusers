<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>ethtool › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./ethtool.html">ethtool</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/ethtool">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./ethtool/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./ethtool/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./ethtool/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./ethtool/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./ethtool/a/backlinks.html">ethtool</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./sudo.html">root-Rechte</a> </p></li></ol></div></div><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Netzwerk-Grundlagen">Netzwerk-Grundlagen
</a></li><li><a class="crosslink" href="#Diagnose-und-Konfiguration">Diagnose und Konfiguration
</a></li><li><a class="crosslink" href="#Erweiterte-Einstellungen">Erweiterte Einstellungen
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>
<img alt="Wiki/Icons/Oxygen/network-wired.png" class="image-left" src="./_/c42bed614f71317813665e45f260529bfb354615.png"/></p><p><strong>ethtool</strong> ist ein Konfigurations- und Diagnosewerkzeug für kabelgebundene Netzwerkkarten.</p><p>Die Einstellmöglichkeiten sind sehr umfangreich, aber auch abhängig von der verwendeten Netzwerk-Hardware und dem verwendeten Treibermodul. Nicht alle hier gezeigten Konfigurationsmöglichkeiten können mit jedem Gerät umgesetzt werden.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Zur Installation ist das gleichnamige Paket aus der Paketverwaltung zu installieren <sup><a href="#source-1">[1]</a></sup>.</p><ul><li><p><strong>ethtool</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install ethtool </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install ethtool </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Netzwerk-Grundlagen">Netzwerk-Grundlagen<a class="headerlink" href="#Netzwerk-Grundlagen">¶</a></h2><p>
Aktuelle Netzwerkkarten erkennen automatisch die möglichen Einstellungen und verbinden sich zur Gegenstelle, wie einen Netzwerk-Router oder einem Netzwerk-Switch, mit der bestmöglichen Geschwindigkeit. Die Konfiguration erfolgt über die sog. <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Autonegotiation">Autonegotiation</a>-Funktion. Dazu werden die Einstellungen über ein bestimmtes Verfahren automatisch zwischen den Endgeräten ausgehandelt. Ältere <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Ethernet">Ethernet</a>-Karten (10Base-T) verwenden das Normal-Link-Pulse-Verfahren (NLP), Fast-Ethernet (10/100MBit/s) und schnellere Karten das Fast-Link-Pulse-Verfahren (FLP). Die Pulse werden in regelmäßigen Abständen von einigen Millisekunden gesendet.</p><p>Durch beschädigte Kabel oder Anschlussstecker kann es trotz gelungener Verbindung dennoch zu Übertragungsfehlern kommen. Eine Beschädigung oder ein Bruch des Netzwerkkabels muss nicht zwingend von außen sichtbar sein. Ein Kabelbruch verhindert z.B. eine gleichzeitige Übertragung der Daten in beide Richtungen (Duplex). Quetschungen beeinflussen, je nach Qualität und Ausführung des Kabels, die sog. Durchgangsdämpfung stark und somit auch die Übertragung bzw. Signalqualität. Die Synchronisation zwischen zwei Netzwerkgeräten kann scheitern oder es kommt vermehrt zu Übertragungsfehlern.</p><p>Korrodierte Kontakte bei billigen Steckverbindern der Kabel oder der Netzwerkkarte sorgen ebenfalls für Verbindungsprobleme. Ein Austausch der Stecker, Kabel oder Reinigung der Kontaktflächen schafft Abhilfe.</p><p>Können durch Austausch der Kabel und einen Wechsel der verwendeten Anschlüsse am verwendeten Router oder Netzwerk-Switch Fehler ausgeschlossen werden, so ist ein Treiber- oder Konfigurationsproblem, sowie ein Defekt der Netzwerk-Karte natürlich ebenfalls möglich.</p><p>ethtool bietet hier über Terminal <sup><a href="#source-2">[2]</a></sup> die Möglichkeit einer Fehlerdiagnose sowie verschiedene Einstellungen der Netzwerkkarte anzupassen und zu testen.</p></div><div class="section_1"><h2 id="Diagnose-und-Konfiguration">Diagnose und Konfiguration<a class="headerlink" href="#Diagnose-und-Konfiguration">¶</a></h2><p>
Die in den Beispielen verwendete  Schnittstelle <code class="notranslate">eth0</code> ist durch die Bezeichnung der tatsächlich verwendeten Netzwerkkarte zu ersetzen. ethtool muss in den meisten Fällen mit Root-Rechten <sup><a href="#source-3">[3]</a></sup> gestartet werden, um Abfragen zu ermöglichen oder Einstellungen ändern zu können.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Viele Karten akzeptiert Einstellungsänderungen oft nur in Kombination unter Angabe der Parameter für Autonegotiation und Übertragungsmodus. Um die Geschwindigkeit z.B. auf 100 MBit/s zu ändern, verwendet man in diesem Fall folgenden Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -s eth0 speed 100 duplex full autoneg on  </pre></div></div><p>
</p></div></div><p>Möchte man bestimmte Einstellungen der Karte schon bei Systemstart festlegen, kann die benötigte Befehlszeile in das Startskript <a class="internal" href="./rc.local.html">rc.local</a> eingetragen werden.</p><div class="section_2"><h3 id="Datenuebertragung-und-Fehlerabfrage">Datenübertragung und Fehlerabfrage<a class="headerlink" href="#Datenuebertragung-und-Fehlerabfrage">¶</a></h3><p>
Neben der Standardabfrage mit <code class="notranslate">ifconfig</code> liefert ethtool eine detailliertere Auswertung und Anzeige bei eventuell auftretenden Übertragungsfehlern.</p><p>Abfrage:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -S eth0 </pre></div></div><p>Beispielausgabe:
</p><pre class="notranslate">NIC statistics:
     rx_packets: 3623
     tx_packets: 3787
     rx_bytes: 3295936
     tx_bytes: 587243
     rx_broadcast: 3
     tx_broadcast: 63
     rx_multicast: 23
     tx_multicast: 89
     rx_errors: 0
     tx_errors: 0
     tx_dropped: 0
     multicast: 23
     collisions: 0
     rx_length_errors: 0
     rx_over_errors: 0
     rx_crc_errors: 0
     rx_frame_errors: 0
     rx_no_buffer_count: 0
     rx_missed_errors: 0
     tx_aborted_errors: 0
     tx_carrier_errors: 0
     tx_fifo_errors: 0
     tx_heartbeat_errors: 0
     tx_window_errors: 0
     tx_abort_late_coll: 0
     tx_deferred_ok: 0
     tx_single_coll_ok: 0
     tx_multi_coll_ok: 0
     tx_timeout_count: 0
     tx_restart_queue: 0
     rx_long_length_errors: 0
     rx_short_length_errors: 0
     rx_align_errors: 0
     tx_tcp_seg_good: 0
     tx_tcp_seg_failed: 0
     rx_flow_control_xon: 0
     rx_flow_control_xoff: 0
     tx_flow_control_xon: 0
     tx_flow_control_xoff: 0
     rx_long_byte_count: 3295936
     rx_csum_offload_good: 3534
     rx_csum_offload_errors: 0
     rx_header_split: 0
     alloc_rx_buff_failed: 0
     tx_smbus: 0
     rx_smbus: 0
     dropped_smbus: 0
     rx_dma_failed: 0
     tx_dma_failed: 0</pre></div><div class="section_2"><h3 id="Konfiguration-auslesen">Konfiguration auslesen<a class="headerlink" href="#Konfiguration-auslesen">¶</a></h3><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool eth0 </pre></div></div><p>Beispielausgabe für eine Fast-Ethernet Karte:</p><pre class="notranslate">Settings for eth0:
## ab hier werden Geräteinformationen angezeigt
	Supported ports: [ TP ]
	Supported link modes:   10baseT/Half 10baseT/Full 
	                        100baseT/Half 100baseT/Full 
	Supports auto-negotiation: Yes
	Advertised link modes:  10baseT/Half 10baseT/Full 
	                        100baseT/Half 100baseT/Full 
	Advertised pause frame use: No
	Advertised auto-negotiation: Yes

## ab hier werden Informationen der Gegenstelle (Switch/Router/PC) angezeigt
	Link partner advertised link modes:  Not reported
	Link partner advertised pause frame use: No
	Link partner advertised auto-negotiation: No

## ab hier werden die momentanen Einstellungen der Karte angezeigt
	Speed: 100Mb/s
	Duplex: Full
	Port: Twisted Pair
	PHYAD: 1
	Transceiver: internal
	Auto-negotiation: on
	MDI-X: off
	Supports Wake-on: pumbag
	Wake-on: g
	Current message level: 0x00000001 (1)
	Link detected: yes</pre><p>Die Ausgabe teilt sich in Angaben zu den möglichen Einstellungen und Informationen zur Gegenstelle im oberen und der momentanen Konfiguration der Karte im unteren Abschnitt der Ausgabe.</p></div><div class="section_2"><h3 id="Geschwindigkeit-und-Modus">Geschwindigkeit und Modus<a class="headerlink" href="#Geschwindigkeit-und-Modus">¶</a></h3><p>
Ändert die Übertragungsgeschwindigkeit in MBit/Sekunde und den Übertragungsmodus. <code class="notranslate">Half</code> bedeutet, dass Daten jeweils nur in eine Richtung übertragen werden. <code class="notranslate">Full</code> aktiviert gleichzeitiges Senden und Empfangen von Daten (Standard).</p><p>Report der Einstellungen:</p><pre class="notranslate">	Supported link modes:   10baseT/Half 10baseT/Full 
	                        100baseT/Half 100baseT/Full 
...
	Speed: 100Mb/s
	Duplex: Full</pre><p>
Einstellung ändern:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -s eth0 speed [10|100|1000] duplex [half|full] </pre></div></div></div><div class="section_2"><h3 id="Autonegotiation">Autonegotiation<a class="headerlink" href="#Autonegotiation">¶</a></h3><p>
Report der Einstellungen:
</p><pre class="notranslate">	Supports auto-negotiation: Yes
	Advertised link modes:  10baseT/Half 10baseT/Full 
	                        100baseT/Half 100baseT/Full 
...
	Auto-negotiation: on</pre><p>Einstellung ändern:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -s eth0 autoneg [on|off] </pre></div></div><p>Autoerkennung manuell wiederholen:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -r eth0 </pre></div></div><p>
Hinweis: Eine bestehende Verbindung kann dadurch unterbrochen werden!</p></div><div class="section_2"><h3 id="Wake-On-Lan">Wake-On-Lan<a class="headerlink" href="#Wake-On-Lan">¶</a></h3><p>
Setzt mögliche <a class="internal" href="./wol.html">WOL</a>-Optionen. Nicht alle Karten und Treiber unterstützen diese Funktion.</p><p>Report der Einstellungen:
</p><pre class="notranslate">	Supports Wake-on: pumbag
	Wake-on: g</pre><p>Einstellung ändern:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -s eth0 wol [p|u|m|b|a|g|s|d] </pre></div></div><p>
</p><table style="width: 95%"><tr class="titel"><td colspan="2"> Optionen </td></tr><tr class="kopf"><td> Parameter </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">p</code> </td><td> WOL bei Netzwerkaktivität </td></tr><tr><td> <code class="notranslate">u</code> </td><td> WOL bei unicast Daten - Datenpakete sind an ein bestimmtes Gerät adressiert </td></tr><tr><td> <code class="notranslate">m</code> </td><td> WOL bei multicast Daten - Datenpakete sind <span class="underline">nicht</span> an ein bestimmtes Gerät adressiert </td></tr><tr><td> <code class="notranslate">b</code> </td><td> WOL bei Broadcast Daten - Datenpakete werden von einem Punkt an alle Teilnehmer im Netzwerk gesendet </td></tr><tr><td> <code class="notranslate">a</code> </td><td> WOL gemäß <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Address_Resolution_Protocol">ARP-Protokoll</a> </td></tr><tr><td> <code class="notranslate">g</code> </td><td> WOL bei <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Wake_On_LAN">Magic Packet</a> </td></tr><tr><td> <code class="notranslate">s</code> </td><td> aktiviert ein Kennwort für Magic-Packet </td></tr><tr><td> <code class="notranslate">d</code> </td><td> WOL abgeschaltet - alle vorangehenden Optionen werden gelöscht. </td></tr></table><p>Kennwort und Modus für WOL festlegen, sofern unterstützt:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -s eth0 wol s
sudo ethtool -s eth0 sopass xx:yy:zz:aa:bb:cc </pre></div></div><p>
Das Kennwort muss als sechs Byte große Zeichenkette im hex-Format (xx:yy:zz:aa:bb:cc) angegeben werden.</p></div><div class="section_2"><h3 id="Zusaetzliche-Informationen">Zusätzliche Informationen<a class="headerlink" href="#Zusaetzliche-Informationen">¶</a></h3><p>
Folgender Befehl liefert Informationen zum verwendeten Treibermodul, zur Firmware und PCI Bus-Nummer:</p><p>Abfrage:
</p><div class="bash"><div class="contents"><pre class="notranslate">ethtool -i eth0 </pre></div></div><p>Beispielausgabe:
</p><pre class="notranslate">driver: e1000e
version: 1.0.2-k2
firmware-version: 1.1-2
bus-info: 0000:00:19.0</pre></div><div class="section_2"><h3 id="MDI-X">MDI-X<a class="headerlink" href="#MDI-X">¶</a></h3><p>
<a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Medium_Dependent_Interface">MDI-X</a> (Medium Dependent Interface/ X = Crossover) bezeichnet ein Verfahren zur automatischen Anschlusserkennung und des verwendeten Kabeltyps. So können bei einer Direktverbindung zweier Rechner normale <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Patchkabel">Patchkabel</a> <span class="underline">oder</span> gekreuzte Kabel (Crosslink-Kabel) verwendet werden. Alle Gigabit Ethernet-Karten und einige Fast-Ethernet-Karten unterstützen diese Funktion. Einstellungen können hierzu nicht geändert werden. Wird diese Option bei Abfrage der Konfiguration nicht angezeigt, unterstützt die verwendete Karte diese Funktion sehr wahrscheinlich nicht. Siehe dazu auch <a class="internal" href="./pc-direktverbindung_per_netzwerk-kabel.html">PC-Direktverbindung per Netzwerk-Kabel</a>.</p></div></div><div class="section_1"><h2 id="Erweiterte-Einstellungen">Erweiterte Einstellungen<a class="headerlink" href="#Erweiterte-Einstellungen">¶</a></h2><p>
</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Dieser Abschnitt richtet sich an fortgeschrittene Anwender.
</p></div></div><div class="section_2"><h3 id="Adaptererkennung">Adaptererkennung<a class="headerlink" href="#Adaptererkennung">¶</a></h3><p>
Zur besseren Erkennung einzelner Karten und des zugehörigen Anschlusses kann man die Verbindungs-LED, sofern vorhanden, für eine vorgegebene Zeit blinken lassen. Das ist z.B. in Serversystemen mit mehreren Netzwerkkarten hilfreich.</p><p>Funktion auslösen:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -p eth0 10 </pre></div></div><p>
Hier blinkt die Anzeige für zehn Sekunden.</p></div><div class="section_2"><h3 id="Groesse-der-Datenpakete">Größe der Datenpakete<a class="headerlink" href="#Groesse-der-Datenpakete">¶</a></h3><p>
Abfrage:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -g eth0 </pre></div></div><p>Beispielausgabe:
</p><pre class="notranslate">Ring parameters for eth0:
Pre-set maximums:
RX:		4096
RX Mini:	0
RX Jumbo:	0
TX:		4096
Current hardware settings:
RX:		256
RX Mini:	0
RX Jumbo:	0
TX:		256</pre><p>Ändern entsprechender Parameter:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -G ethX [rx N] [rx-mini N] [rx-jumbo N] [tx N] </pre></div></div><p>
Hinweis: <code class="notranslate">rx-jumbo</code> / Jumboframes gibt es nur bei Gigabit Netzwerkkarten.</p></div><div class="section_2"><h3 id="Anschluss-Port-umschalten">Anschluss-Port umschalten<a class="headerlink" href="#Anschluss-Port-umschalten">¶</a></h3><p>
Sofern die Karte über verschiedenen Anschlüsse verfügt, lassen sich diese umschalten. Standard ist TP (Twisted-Pair).</p><p>Report der Einstellung:
</p><pre class="notranslate">	Supported ports: [ TP ]
...</pre><p>Ändern entsprechender Werte:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -s eth0 port [tp|aui|bnc|mii] </pre></div></div><p>Begrifferkärung:
</p><ul><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Twisted_Pair">Twisted_Pair</a> - tp (Standard)</p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Attachment_Unit_Interface">Attachment Unit Interface</a> - aui</p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Koaxiale_Steckverbinder_f%C3%BCr_Hochfrequenzanwendungen">BNC-Steckverbindungen</a> - bnc</p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/MII">Media Independent Interface</a> - mii</p></li></ul><p>
</p></div><div class="section_2"><h3 id="Transceiver-umschalten">Transceiver umschalten<a class="headerlink" href="#Transceiver-umschalten">¶</a></h3><p>
Transceiver = Kombination aus Sender und Empfänger.</p><pre class="notranslate">...
	Transceiver: internal</pre><p>Ändern entsprechender Werte:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -s eth0 xcvr [internal|external] </pre></div></div><p>
Die Funktion ist normalerweise wirkungslos.</p></div><div class="section_2"><h3 id="Paketmanagement">Paketmanagement<a class="headerlink" href="#Paketmanagement">¶</a></h3><p>
Erweiterte Einstellungen zur Verarbeitung von Netzwerkpaketen und zur Leistungssteigerung wie <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/TCP_segmentation_offload">TCP-segmentation-offload</a>, UFO (udp fragmentation offload), GSO (generic segmentation offload), GRO (generic receive offload) LRO (large receive offload) <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Speicherdirektzugriff">Speicherdirektzugriff</a> und <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Busmastering">Busmastering</a> (<strong>sg</strong> / scatter-gather):</p><p>Abfrage:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -k eth0 </pre></div></div><p>Beispielausgabe:
</p><pre class="notranslate">Offload parameters for eth0:
rx-checksumming: on
tx-checksumming: on
scatter-gather: on
tcp-segmentation-offload: off
udp-fragmentation-offload: off
generic-segmentation-offload: on
generic-receive-offload: off
large-receive-offload: off</pre><p>Entsprechende Optionen können wie folgt geändert werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -K eth0 [rx on|off] [tx on|off] [sg on|off] [tso on|off] [ufo on|off] [gso on|off] [lro on|off] </pre></div></div></div><div class="section_2"><h3 id="Statusregister">Statusregister<a class="headerlink" href="#Statusregister">¶</a></h3><p>
Abfrage:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -d eth0 raw off </pre></div></div><p>Beispielausgabe:</p><pre class="notranslate">MAC Registers
-------------
0x00000: CTRL (Device control register)  0x18100240
      Endian mode (buffers):             little
      Link reset:                        normal
      Set link up:                       1
      Invert Loss-Of-Signal:             no
      Receive flow control:              enabled
      Transmit flow control:             enabled
      VLAN mode:                         disabled
      Auto speed detect:                 disabled
      Speed select:                      1000Mb/s
      Force speed:                       no
      Force duplex:                      no
0x00008: STATUS (Device status register) 0x0008064B
      Duplex:                            full
      Link up:                           link config
      TBI mode:                          disabled
      Link speed:                        100Mb/s
      Bus type:                          PCI
      Bus speed:                         33MHz
      Bus width:                         32-bit
0x00100: RCTL (Receive control register) 0x04008002
      Receiver:                          enabled
      Store bad packets:                 disabled
      Unicast promiscuous:               disabled
      Multicast promiscuous:             disabled
      Long packet:                       disabled
      Descriptor minimum threshold size: 1/2
      Broadcast accept mode:             accept
      VLAN filter:                       disabled
      Canonical form indicator:          disabled
      Discard pause frames:              filtered
      Pass MAC control frames:           don't pass
      Receive buffer size:               2048
0x02808: RDLEN (Receive desc length)     0x00001000
0x02810: RDH   (Receive desc head)       0x00000065
0x02818: RDT   (Receive desc tail)       0x00000063
0x02820: RDTR  (Receive delay timer)     0x00000000
0x00400: TCTL (Transmit ctrl register)   0x3103F0FA
      Transmitter:                       enabled
      Pad short packets:                 enabled
      Software XOFF Transmission:        disabled
      Re-transmit on late collision:     enabled
0x03808: TDLEN (Transmit desc length)    0x00001000
0x03810: TDH   (Transmit desc head)      0x000000D8
0x03818: TDT   (Transmit desc tail)      0x000000D8
0x03820: TIDV  (Transmit delay timer)    0x00000008
PHY type:                                unknown</pre></div><div class="section_2"><h3 id="EEProm-auslesen">EEProm auslesen<a class="headerlink" href="#EEProm-auslesen">¶</a></h3><p>
Abfrage:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ethtool -e eth0 raw off </pre></div></div><p>Beispielausgabe (Auszug):
</p><pre class="notranslate">Offset		Values
------		------
0x0000		<strong class="highlighted">00 24 21 0e 8f 4a</strong> 00 08 ff ff 12 10 ff ff ff ff 
0x0010		ff ff ff ff c3 10 2c 50 62 14 c0 10 86 80 00 00 
0x0020		02 04 00 00 00 00 85 86 20 00 00 00 00 00 07 00 
0x0030		84 06 40 2b 43 00 04 00 ad ba ad ba be 10 bf 10 
0x0040		ad ba 4c 29 bd 10 ad ba 00 00 00 00 00 00 00 00 
0x0050		00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
0x0060		00 01 00 40 32 12 07 40 ff ff ff ff ff ff ff ff 
...</pre><p>Im ersten Block befindet sich z.B. die MAC-Adresse der Karte.</p><p>Ändern entsprechender Werte:</p><div class="bash"><div class="contents"><pre class="notranslate">ethtool -E eth0 [magic N] [offset N] [value N]  </pre></div></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Patchkabel">Patchkabel</a></p></li><li><p><a class="external" href="http://www.hardware-bastelkiste.de/index.html?nw_tp.html" rel="nofollow">hardware-bastelkiste.de</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Aufbau und Anschluss verschiedener Netzwerkkabel </p></li><li><p><a class="external" href="http://www.wind-gmbh.com/LAN-Kabel/netzwerk_cat.htm" rel="nofollow">wind-gmbh.com</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Netzwerk-Kabel selbst gebaut </p></li><li><p><a class="external" href="http://linux.die.net/man/8/ethtool" rel="nofollow">ethtool - Linux man page</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./ethtool/a/revision/753088.html">Diese Revision</a> wurde am 19. September 2014 05:57 von <a href="https://ubuntuusers.de/user/elektronenblitz63/">elektronenblitz63</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./ethtool.html">ethtool</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>