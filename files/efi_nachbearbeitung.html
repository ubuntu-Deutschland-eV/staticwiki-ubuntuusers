<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>EFI_Nachbearbeitung › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./efi_nachbearbeitung.html">EFI Nachbearbeitung</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/EFI_Nachbearbeitung">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./efi_nachbearbeitung/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./efi_nachbearbeitung/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./efi_nachbearbeitung/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./efi_nachbearbeitung/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./efi_nachbearbeitung/a/backlinks.html">EFI Nachbearbeitung</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./editor.html">Einen Editor verwenden</a></p></li></ol></div></div><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#EFI-Eintrag-neu-erstellen">EFI-Eintrag neu erstellen
</a></li><li><a class="crosslink" href="#Andere-Distribution-einbinden">Andere Distribution einbinden
</a><ol class="arabic"><li><a class="crosslink" href="#Zusaetzliches-Bootverzeichnis-erstellen">Zusätzliches Bootverzeichnis erstellen
</a><ol class="arabic"><li><a class="crosslink" href="#Systeme-ohne-secure-boot">Systeme ohne secure-boot
</a></li><li><a class="crosslink" href="#Systeme-mit-secure-boot">Systeme mit secure-boot
</a></li></ol></li><li><a class="crosslink" href="#Eintrag-NVRAM-erstellen">Eintrag NVRAM erstellen
</a></li><li><a class="crosslink" href="#Anzeige-Grubmenue-anpassen">Anzeige Grubmenü anpassen
</a></li></ol></li><li><a class="crosslink" href="#Secure-Boot-nachruesten">Secure-Boot nachrüsten
</a><ol class="arabic"><li><a class="crosslink" href="#Pakete-installieren">Pakete installieren
</a></li><li><a class="crosslink" href="#Start-ohne-secure-boot">Start ohne secure-boot
</a></li><li><a class="crosslink" href="#Secure-Boot-wieder-entfernen">Secure-Boot wieder entfernen
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a><ol class="arabic"><li><a class="crosslink" href="#Links-intern">Links - intern
</a></li><li><a class="crosslink" href="#Links-extern">Links - extern
</a></li></ol></li></ol></div><p>Seit mehreren Jahren kommen zunehmend Computer-Systeme auf den Markt, die mit einem Unified Extensible Firmware Interface <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Extensible_Firmware_Interface">(U)EFI</a> statt dem lange Zeit genutzten <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/BIOS">BIOS</a> ausgestattet sind. Deshalb soll in diesem Artikel die Aufmerksamkeit auf den durch diese Technik entstehenden Unterschied gelenkt werden.</p><p>Beschrieben wird das Konfigurieren eines Rechners nach der Installation, wie es zur Zeit bei Ubuntu und deren Derivaten erforderlich werden kann. Es werden Hinweise und Problemlösungen gegeben, wie man Einstellungen vornimmt, die bei einer normal ablaufenden Installation nicht automatisch vorgenommen werden.</p><p>Dabei wird in diesem Unterabschnitt auf Besonderheiten eingegangen, die den ersten Start nach erfolgter Installation betreffen - sofern sie etwas mit der Nutzung von (U)EFI zu tun haben. Anderweitige Probleme mit Ubuntu auf EFI-Systemen, die eventuell nach längerer Laufzeit hervortreten, sind nicht Gegenstand dieses Artikels.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Alle Hinweise und Beschreibungen in diesem Artikel beziehen sich ausschließlich auf eine Installation auf einem Rechner mit einem (U)EFI-BIOS.
</p></div></div><div class="section_1"><h2 id="EFI-Eintrag-neu-erstellen">EFI-Eintrag neu erstellen<a class="headerlink" href="#EFI-Eintrag-neu-erstellen">¶</a></h2><p>
Sollte kein EFI-Eintrag vorhanden sein, muss dieser (neu) erstellt werden, wie es in <a class="internal" href="./efi_problembehebung.html#EFI-Eintrag-wurde-geloescht-oder-zerstoert">EFI Problembehebung</a> beschrieben ist.</p></div><div class="section_1"><h2 id="Andere-Distribution-einbinden">Andere Distribution einbinden<a class="headerlink" href="#Andere-Distribution-einbinden">¶</a></h2><p>
Der Ubuntu-Installer erkennt während der Installation nicht immer andere, bereits vorhandene EFI-Installationen. Deshalb muss man bei Installationen bis <a class="internal" href="./trusty_tahr.html">Trusty Tahr</a> (14.04 LTS) die Einträge anderer Betriebssysteme im <a class="internal" href="./grub_2.html">GRUB 2</a>-Menü in einem späteren Arbeitsgang nachholen. Entsprechende Beschreibungen und Vorgaben findet man unter
</p><ul><li><p><a class="internal" href="./grub_2/skripte.html#Beispiel-EFI-Modus">GRUB 2/Skripte</a> -&gt; andere Betriebssysteme im EFI-Modus starten</p></li></ul><p>
Andererseits sollte man bei einem Upgrade prüfen, ob der Windows-Eintrag im Grub-Menü, der über ein separates <a class="internal" href="./grub_2/skripte.html">Skript</a> eingebracht wurde, wieder entfernt werden kann.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Dieses ist konzeptionell so vorgesehen und nicht als <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/"></a>Fehler zu betrachten. EFI-Modus bedeutet eben, dass man das EFI-Menü zur Auswahl benutzen kann.</p><p>Für das Einbinden einer anderen Distribution auf einem externen Datenträger siehe <a class="internal" href="./efi_externer-datenträger.html">diese separate Beschreibung</a>.
</p></div></div><div class="section_2"><h3 id="Zusaetzliches-Bootverzeichnis-erstellen">Zusätzliches Bootverzeichnis erstellen<a class="headerlink" href="#Zusaetzliches-Bootverzeichnis-erstellen">¶</a></h3><p>
Bei einem Mehrfach-Bootsystem kann die mehrfache Benutzung des <a class="internal" href="./efi_grundlagen.html#EFI-Bootverzeichnis">Bootverzeichnisses</a> (<strong>/boot/efi</strong>)<strong>/EFI/ubuntu</strong> dazu führen, dass dieses Verzeichnis und dessen Datei(en) bei der Installation eines weiteren Derivats überschrieben werden - insbesondere bei einer Aktualisierung von <a class="internal" href="./grub_2.html">GRUB 2</a>-Paketen führt das dann zu unkontrollierten Startbedingungen.</p><p>Aus diesem Grund empfiehlt es sich bei einem sekundären Betriebssystems, gleich nach der Installation und nachdem man sich vom allgemeinen funktionieren der neuen Installation überzeugt hat, ein gesondertes Verzeichnis mit einer markanten Bezeichnung zu erstellen, quasi als "Parkplatz" für die redundante nicht benötigte GRUB-Installation und deren automatische Aktualisierungen.</p><p>Dazu kann man in der Datei <strong>/etc/default/grub</strong> mit Root-Rechten in einem <a class="internal" href="./editor.html">Editor</a> seiner Wahl <sup><a href="#source-2">[2]</a></sup> die Zeile mit
</p><pre class="notranslate">GRUB_DISTRIBUTOR=`lsb_release -i -s 2&gt; /dev/null || echo Debian`</pre><p>
beispielhaft ändern in
</p><pre class="notranslate">GRUB_DISTRIBUTOR="Precise-Server"</pre><p>
und dann GRUB erneut installieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-install </pre></div></div><p>Damit wird für diese Installation dauerhaft der GRUB-Installationspfad auf
</p><ul><li><p>(/boot/efi)<strong>/EFI/precise-server</strong> </p></li></ul><p>gelegt und auch ein darauf fixierter Eintrag im <strong>NVRAM</strong> angelegt.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Der Befehl <code class="notranslate">grub-install</code> verändert aus der Vorgabe in der Datei <strong>/etc/default/grub</strong> Großbuchstaben immer auf Kleinbuchstaben!
</p></div></div><div class="section_3"><h4 id="Systeme-ohne-secure-boot">Systeme ohne secure-boot<a class="headerlink" href="#Systeme-ohne-secure-boot">¶</a></h4><p>
Bei Systemen ohne <strong>secure-boot</strong>-Fähigkeit wird hierbei nur die Datei <strong>grubx64.efi</strong> im Bootverzeichnis angelegt.</p></div><div class="section_3"><h4 id="Systeme-mit-secure-boot">Systeme mit secure-boot<a class="headerlink" href="#Systeme-mit-secure-boot">¶</a></h4><p>
Bei Systemen mit <strong>secure-boot</strong>-Fähigkeit werden hierbei die Dateien <strong>grubx64.efi</strong>, <strong>grub.cfg</strong> sowie evtl. <strong>shimx64.efi</strong> angelegt. Ab <a class="internal" href="./saucy_salamander.html">Saucy Salamander</a> noch evtl. zusätzlich die Datei <strong>MokManager.efi</strong>.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Das Verzeichnis <strong>/boot/efi/EFI/ubuntu</strong> darf nie gelöscht werden - dieses wird immer von dem aktuellen primären Betriebssystem benutzt! Die sekundären Betriebssysteme werden dann über den <a class="internal" href="./grub_2/konfiguration.html#Skript-30-os-prober">GRUB 2 Menü-Eintrag</a> im primären Betriebssystem aufgerufen / gestartet.</p><p>Nur im Fall eines unsignierten Bootloaders (nicht-secure-boot-fähig) ist der automatisch entstandene zusätzliche <a class="internal" href="./efibootmgr.html#Auflistung-aller-Eintraege-Kurzformat">EFI-Menü-Eintrag</a> mit der entprechenden <strong>/boot/grub/grub.cfg</strong> des sekundären Betriebssystems verknüpft. Im Fall eines signierten GRUB-Bootloaders (secure-boot-fähig) <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/1647235">ist dies nicht gegeben</a>, sodass bei Benutzung immer wieder die <strong>/boot/grub/grub.cfg</strong> des primären Betriebssystems ausgeführt würde. Um dies zu ändern müsste dafür in der z.B. <strong>EFI\precise-server\grubx64.efi</strong> die Zeichenkette "EFI\ubuntu" mittels eines Hex-Editors in "EFI\precise-server" manipuliert werden, wodurch jedoch wegen der dann ungültigen Signatur <strong>secure boot</strong> nicht mehr möglich ist.</p><p>Nachdem ein sekundäres Betriebssystem über das primäre Betriebssystem gestartet werden kann, sollte man deshalb den zusätzlichen <a class="internal" href="./efibootmgr.html#Booteintrag-loeschen">Eintrag für das sekundäre Betriebssystem im <strong>NVRAM</strong> wieder löschen</a>!
</p></div></div></div></div><div class="section_2"><h3 id="Eintrag-NVRAM-erstellen">Eintrag NVRAM erstellen<a class="headerlink" href="#Eintrag-NVRAM-erstellen">¶</a></h3><p>
Ubuntu versucht per Default als Regeleintrag im <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/NVRAM">NVRAM</a> die nächste freie Position ab #0000 aufwärts zu belegen. Wird eine derartige Position aber vom EFI-BIOS für andere Zwecke gebraucht (Hardware- und Hersteller abhängig), so wird dieser Eintrag nur flüchtig angelegt und wird dann bei einem Reboot nicht mehr angezeigt und damit das Ubuntu nicht mehr auswählbar.</p><p>Als Lösung wird die Bearbeitung des EFI-Menü empfohlen - indem man im Terminal <sup><a href="#source-1">[1]</a></sup></p><div class="bash"><div class="contents"><pre class="notranslate">sudo efibootmgr | grep ^Boot[0-9] | cut -b 5-8 </pre></div></div><p>eingibt - es werden die benutzten Einträge im <strong>NVRAM</strong> angezeigt. Beispielhaft wird <code class="notranslate">000A</code> als freier Platz angenommen, man kann im Terminal <sup><a href="#source-1">[1]</a></sup> mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo efibootmgr -c --bootnum 000A -d /dev/sda -p 1 -L "Precise Server" -l \\EFI\\precise-server\\grubx64.efi </pre></div></div><p>einen neuen <a class="internal" href="./efibootmgr.html#Booteintrag-erstellen">EFI-Menueintrag</a> anlegen (bitte die jeweils doppelten <em>"backslash"</em> bei der Eingabe beachten).</p></div><div class="section_2"><h3 id="Anzeige-Grubmenue-anpassen">Anzeige Grubmenü anpassen<a class="headerlink" href="#Anzeige-Grubmenue-anpassen">¶</a></h3><p>
Für Ubuntu wird aufgrund der System-ID als Anzeige im Grubmenü immer "Ubuntu" verwendet, auch wenn es sich z.B. um das Derivat "Lubuntu" handelt. Dieser Umstand als solches ist für viele Benutzer unbefriedigend. Damit diese Anzeige auf das jeweils wirkliche Derivat in einer Installation mit mehreren Derivaten hinweist, kann man ab <a class="internal" href="./trusty_tahr.html">Trusty Tahr</a> für jede Installation auch die zutreffende Bezeichnung sich anzeigen lassen.</p><p>Dazu muss für <span class="underline">jede</span> Installation <a class="internal" href="./grub_2/skripte.html#Anzeige-in-der-Menuezeile">diese Maßnahmen</a> ausgeführt werden. Nach einem
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-grub </pre></div></div><p>
im primären System werden dann auch die Bezeichnungen aus den sekundären Systemen übernommen.</p></div></div><div class="section_1"><h2 id="Secure-Boot-nachruesten">Secure-Boot nachrüsten<a class="headerlink" href="#Secure-Boot-nachruesten">¶</a></h2><p>
Hat man Ubuntu auf einem Rechner mit <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/UEFI">UEFI</a> ohne <strong>secure-boot</strong>-Eigenschaften installiert, so kann man diese Schutzmaßnahme auch nachträglich in ein bestehendes System einbringen.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Alle ISO-Dateien der verschiedenen Ubuntu-Derivate werden erst nach und nach mit der <strong>secure-boot</strong>-Eigenschaft ausgestattet, um damit auch gleich in diesem Modus installieren zu können. Man sollte die Fähigkeit des Bootens über eine <strong>EFI-Firmware</strong> mit aktiven <strong>secure-boot</strong> vorab mit Ubuntu bzw. einem Derivat seiner Wahl auf z.B. einem USB-Stick ausgiebig testen!</p><p>Beispielhafte  Einstellungen von <strong>secure-boot</strong> sind <a class="internal" href="./efi_grundlagen.html#Secure-Boot">diesen Bildern</a> zu entnehmen. Diese Einstellungen sind im eigenen System sinngemäß aufzusuchen und soweit erforderlich einzustellen.
</p></div></div><p>Bevor man mit der Nachinstallation der Pakete beginnt, sollte man sein System - zumindest aber die Paketlisten - auf den aktuellen Stand bringen. Dazu gibt man in ein Terminal <sup><a href="#source-1">[1]</a></sup> ein:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get update </pre></div></div><div class="section_2"><h3 id="Pakete-installieren">Pakete installieren<a class="headerlink" href="#Pakete-installieren">¶</a></h3><p>
</p><ul><li><p><strong>linux-signed-generic </strong></p></li><li><p><strong>grub-efi-amd64-signed </strong></p></li><li><p><strong>shim-signed</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install linux-signed-generic  grub-efi-amd64-signed  shim-signed </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install linux-signed-generic  grub-efi-amd64-signed  shim-signed </pre></div></div><p>
</p></div></div><p>Es werden je nach der Ubuntuversion und dem Stand der Updates weitere Pakete automatisch der Installation hinzugefügt. Mit der Installation der Pakete wird automatisch die <a class="internal" href="./grub_2.html">GRUB 2</a>-Datei <strong>/boot/grub/grub.cfg</strong> auf den neuesten Stand gebracht. Bis hierhin ist diese Maßnahme leicht wieder rückgängig zu machen. Man kann diese Pakete in einem Terminal <sup><a href="#source-1">[1]</a></sup> wieder aus dem System entfernen mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get purge "Liste installierte Pakete" </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Es wird nur der aktuelle Kernel umgestellt! Bei dem <code class="notranslate">update-grub</code> wird im Submenü-Verzeichnis ab der zweiten Kernelgruppe die bisherigen, nicht signierten Kernel weiter verwendet. Erkennbar daran, dass der Zeile mit </p><pre class="notranslate">linux	/boot/vmlinuz-<strong class="highlighted">3.8.0-0-generic</strong> root=UUID=2eea1ed3-a715-4722-8aba-7dc4a7f99e9b ro   quiet splash $vt_handof </pre><p> hinter der Kernelbezeichnung das <strong class="highlighted"><code class="notranslate">.efi.signed</code></strong> fehlt! Dieser Kernel kann aber im normalen EFI-Modus gestartet und weiterhin als Notstarter verwendet werden.
</p></div></div><p>Nun muss man nur noch in das EFI-BIOS (<strong>NVRAM</strong>) die neuen Gegebenheiten im Terminal <sup><a href="#source-1">[1]</a></sup> eintragen mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo grub-install --uefi-secure-boot # --force </pre></div></div><p>Die hierbei erfolgte Anzeige sowie die <strong>/boot/grub/grub.cfg</strong> sollte man danach erst einmal auf Plausibilität überprüfen, bevor man das System rebootet. Die Option <code class="notranslate">--force</code> wird nur angewendet, wenn je nach der Fehlermeldung ein weiterer Versuch ausgeführt werden soll.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wird das System nach der Umstellung im EFI-<strong>secure-boot</strong>-Modus gestartet, so ist die Option <code class="notranslate">--uefi-secure-boot</code> bei einem erneuten <code class="notranslate">grub-install</code> nicht mehr erforderlich!
</p></div></div></div><div class="section_2"><h3 id="Start-ohne-secure-boot">Start ohne secure-boot<a class="headerlink" href="#Start-ohne-secure-boot">¶</a></h3><p>
Ein derart umgestelltes System kann jederzeit auch über den normale EFI-Modus ohne <strong>secure-boot</strong>-Einstellung gestartet werden - es erfolgt dann auf dem Monitor der (kurze) Hinweis:
</p><pre class="notranslate">secure boot not enabled</pre><p>
auf dem Bildschirm, was aber keinen Einfluss auf das nachfolgende Starten hat.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Man sollte beachten, dass sofern in diesem Zustand ein Kernelupdate ausgeführt wird, das relevante Paket <strong>linux-signed-generic</strong> entfernt wird und danach mit diesem Kernel kein <strong>secure-boot</strong> mehr möglich ist. Auch werden nachfolgende Updates ohne die entsprechenden <strong>-signed-</strong> Pakete ausgeführt. Man muss dann die obige <a class="crosslink" href="#Pakete-installieren">Nachinstallation</a> wiederholen.
</p></div></div></div><div class="section_2"><h3 id="Secure-Boot-wieder-entfernen">Secure-Boot wieder entfernen<a class="headerlink" href="#Secure-Boot-wieder-entfernen">¶</a></h3><p>
Es ist zwar nicht zwingend erforderlich, aber man kann das System durch Entfernen des Paketes <strong>grub-efi-amd64-signed</strong> wieder auf den normalen EFI-Modus umstellen. Dazu gibt man in das Terminal <sup><a href="#source-1">[1]</a></sup> ein:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get purge grub-efi-amd64-signed </pre></div></div><p>Zu beachten ist dabei, dass die Einträge im Verzeichnis (<strong>/boot/efi</strong>)<strong>EFI/ubuntu</strong> bzw. in einem selbst erstellten Verzeichnis gemäß <a class="crosslink" href="#Anderes-Bootverzeichnis-erstellen">Anderes Bootverzeichnis</a> von Hand gelöscht werden müssen.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><div class="section_2"><h3 id="Links-intern">Links - intern<a class="headerlink" href="#Links-intern">¶</a></h3><p>
</p><ul><li><p><a class="internal" href="./efi_bootmanagement.html">EFI_Bootmanagement</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersicht zur Artikelserie </p><ul><li><p><a class="internal" href="./efi_grundlagen.html">EFI_Grundlagen</a> - Alles Wissenwerte rund um Ubuntu mit einem (U)EFI-BIOS]</p></li><li><p><a class="internal" href="./efi_installieren.html">EFI_Installieren</a> - Hinweise vor einer und zur Installation</p></li><li><p><a class="internal" href="./efi_deinstallieren.html">EFI_Deinstallieren</a> - Hinweise und Maßnahmen beim Entfernen eines Betriebssystemes</p></li><li><p><a class="internal" href="./efi_externer-datenträger.html">EFI Externer-Datenträger</a> - Einzelnes System oder Multiboot auf externen Datenträger einrichten</p></li><li><p><a class="internal" href="./efi_modus_umstellen.html">EFI Modus umstellen</a> - Umstellung der Boot-Modi von (U)EFI nach BIOS</p></li><li><p><a class="internal" href="./efibootmgr.html">Das EFI_Werkzeug</a> - (U)EFI-Menü einstellen und prüfen</p></li><li><p><a class="internal" href="./efi_usb-stick.html">EFI USB-Stick</a> - Einen USB-Stick für <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/UEFI">UEFI</a> aufberieten</p></li><li><p><a class="internal" href="./efi_problembehebung.html">EFI_Problembehebung</a> - eine Sammlung von Erfahrungen, Fragen und Abhilfen</p></li></ul></li></ul><p>
</p><ul><li><p><a class="internal" href="./dualboot.html">Dualboot</a> - Installation von Ubuntu neben Windows</p></li><li><p><a class="internal" href="./system_verschlüsseln/alternate_installation.html">System verschlüsseln</a> - Verschlüsselte Installation von Ubuntu neben Windows</p></li><li><p><a class="internal" href="./laufwerksverwaltung.html#Laufwerksabbild-wiederherstellen">Laufwerksverwaltung</a> - Eine ISO-Datei auf einen USB-Stick direkt übertragen</p></li></ul><p>
</p></div><div class="section_2"><h3 id="Links-extern">Links - extern<a class="headerlink" href="#Links-extern">¶</a></h3><p>
</p><ul><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Extensible_Firmware_Interface">UEFI</a> - Unified Extensible Firmware Interface</p></li><li><p><a class="external" href="http://www.uefi.org/home/" rel="nofollow">UEFI Spezifikation</a><img alt="{us}" src="./_/36152d62b7197ebd79bc885a8a2614445933cf09.png"/> - Aufbau und Grundsätze</p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/NVRAM">NVRAM</a> -  Non-Volatile Random-Access Memory</p></li><li><p><a class="external" href="http://community.acer.com/t5/Aspire/Bootreihenfolge-permanent-%C3%A4ndern-Probleme-mit-UEFI-Firmware-in/td-p/329256" rel="nofollow">ACER Rechner</a> - Bootreihenfolge ändern</p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./efi_nachbearbeitung/a/revision/940354.html">Diese Revision</a> wurde am 8. Mai 2017 11:31 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./efi_nachbearbeitung.html">EFI Nachbearbeitung</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>