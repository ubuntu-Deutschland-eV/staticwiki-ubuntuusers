<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>k10ctl › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./k10ctl.html">k10ctl</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/k10ctl">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./k10ctl/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./k10ctl/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./k10ctl/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./k10ctl/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./k10ctl/a/backlinks.html">k10ctl</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
Dieser Artikel ist mit keiner aktuell unterstützten Ubuntu-Version getestet! Bitte diesen Artikel testen und das getestet-Tag entsprechend anpassen.
</p></div></div><p>
</p><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./packprogramme.html">Archive entpacken</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./kernelmodule.html">Umgang mit Kernelmodulen (Treibern)</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./programme_starten.html">Ein Programm ohne Menüeintrag starten</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Wichtige-Befehle">Wichtige Befehle
</a></li><li><a class="crosslink" href="#Undervolting">Undervolting
</a></li><li><a class="crosslink" href="#Beispiel-Laden-von-festen-Einstellungen">Beispiel - Laden von festen Einstellungen
</a></li><li><a class="crosslink" href="#Stabilitaet-testen">Stabilität testen
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><a class="interwiki interwiki-sourceforge" href="http://sourceforge.net/projects/k10ctl">K10ctl</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein Kommandozeilenprogramm, welches einem die Änderung der Spannung und der Taktfrequenz von <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/AMD_K10">AMD K10 CPUs</a> erlaubt. Dazu zählen Modelle aus den Reihen Opteron, Phenom, Phenom II, Athlon X2 und Sempron (mit AM3-Architektur).</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Änderung der Spannung und Taktfrequenz kann zu Schäden an der Hardware oder zu einem instabilen System führen.
</p></div></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
</p><div class="section_2"><h3 id="Kompilieren">Kompilieren<a class="headerlink" href="#Kompilieren">¶</a></h3><p>
Über <a class="interwiki interwiki-sourceforge" href="http://sourceforge.net/projects/k10ctl/files/k10ctl/090709">SourceForge</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> steht eine Archivdatei <strong>k10ctl.tar.bz2</strong> zum Herunterladen bereit. Nachdem man diese herunter geladen und entpackt<sup><a href="#source-1">[1]</a></sup> hat, wechselt man in das Verzeichnis, in das das Archiv entpackt wurde. Das Programm ist bereits für 32-bit-Systeme vorkompiliert und benötigt keine externen Bibliotheken. Anschließend wird die ausführbare Datei mit Root-Rechten nach <strong>/usr/local/sbin</strong> kopiert bzw. verschoben.</p></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Nun muss noch das Kernelmodul<sup><a href="#source-5">[5]</a></sup> <code class="notranslate">msr</code> geladen werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe msr </pre></div></div><p>
Um <code class="notranslate">msr</code> dauerhaft zu laden, muss es mit einem Editor<sup><a href="#source-6">[6]</a></sup> mit Root-Rechten<sup><a href="#source-3">[3]</a></sup> in <strong>/etc/modules</strong> am Dateiende eingetragen werden.</p><p>Beispiel:
</p><pre class="notranslate"># /etc/modules: kernel modules to load at boot time.
#
# This file contains the names of kernel modules that should be loaded
# at boot time, one per line. Lines beginning with "#" are ignored.

loop
lp
rtc
msr</pre></div><div class="section_1"><h2 id="Wichtige-Befehle">Wichtige Befehle<a class="headerlink" href="#Wichtige-Befehle">¶</a></h2><p>
Nun ist es möglich, k10ctl über das Terminal<sup><a href="#source-4">[4]</a></sup> zu starten. Der Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo k10ctl 0-3 </pre></div></div><p>
fragt die aktuellen Spannung ab, wobei <code class="notranslate">0-3</code> für die CPU-Kerne steht, also in diesem Fall eine Vierkern-CPU. Möchte man die Spannung anpassen, verwendet man den folgenden Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo k10ctl 0-3 3 -cv 64 -nv 38 </pre></div></div><p>Die Spannung der CPU wird mit der Option <code class="notranslate">-cv</code> angepasst. Dabei ist zu beachten: Je höher der Wert, desto niedriger die Spannung. Für die die Northbridge wird der Zusatz <code class="notranslate">-nv</code> verwendet. Die Zahl hinter <code class="notranslate">0-3</code>, in diesem Fall die <code class="notranslate">3</code>, bezeichnet den P-State für welchen die Änderung vorgenommen werden soll. Es gibt 4 P-States, wobei P-State 3 für die niedrigste Frequenz steht (800Mhz) und P-State 0 für die höchste Frequenz (abhängig vom CPU-Modell). CPUs mit 4 oder mehr Kernen haben 5 P-States. Der P-State 0 ist dann der sogenannte Turbo-Modus: Ein oder zwei Kerne werden quasi übertaktet, während die anderen heruntertakten.</p><p>Beim Ändern der Spannung für <code class="notranslate">-cv</code> sollten die jeweiligen <a class="external" href="http://products.amd.com/en-us/DesktopCPUResult.aspx" rel="nofollow">Obergrenzen der Lastspannung</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> beachtet werden, um Schäden zu vermeiden. Bei manchen Kombinationen aus Mainboard und CPU sind Untergrenzen fest eingebaut. Die maximale Spannung für die Northbridge beträgt je nach CPU-Modell 1,1V bis 1,3V.</p><p>Nach unten hin ist die Stabilität des Systems die Grenze. Dies sollte auch vorher ausgiebig mit Prime getestet werden.</p></div><div class="section_1"><h2 id="Undervolting">Undervolting<a class="headerlink" href="#Undervolting">¶</a></h2><p>
<a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Undervolting">Undervolting</a> bezeichnet das systematische Absenken der CPU-Spannung (evtl. auch der Northbridge), um den Leistungsverbrauch des Systems zu senken. Nebeneffekt ist eine geringere Temparatur. Nach dem Absenken der Spannung um einen Schritt wird mit Prime die Stabilität getestet. Wenn das System einfriert oder Fehler anzeigt, ist die Untergrenze erreicht.</p><div class="section_2"><h3 id="Aktuelle-Werte">Aktuelle Werte<a class="headerlink" href="#Aktuelle-Werte">¶</a></h3><p>
Zuerst braucht man die aktuellen Werte aller P-States. Da die Werte aller Kerne gleich sind, reichen die des ersten Kerns.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo k10ctl 0 </pre></div></div><pre class="notranslate">VID interface mode: serial
CPU0
Current P-State: 3      Fastest P-State: 1
               NbVid   NbDid  CpuVid  CpuDid  CpuFid           UNb   CpuMult      UCpu     PCore
P-State 0:        34       0      14       0      17      1125.0mV  16.50000  1375.0mV   21725mW
P-State 1:        34       0      26       0      12      1125.0mV  14.00000  1225.0mV   18375mW
P-State 2:        34       0      28       0       6      1125.0mV  11.00000  1200.0mV   13920mW
P-State 3:        34       0      30       1      14      1125.0mV   7.50000  1175.0mV    9988mW
P-State 4:        34       0      34       1       0      1125.0mV   4.00000  1125.0mV    6188mW</pre><p>In diesem Fall handelt es sich um einen Sechskernprozessor, die interessanten P-States sind 1-4.</p></div><div class="section_2"><h3 id="Spannung-um-eine-Stufe-senken">Spannung um eine Stufe senken<a class="headerlink" href="#Spannung-um-eine-Stufe-senken">¶</a></h3><p>
Für den P-State 1 liegt der Wert von CpuVid bei 26. Die daraus resultierende Spannung wird danach berechnet, ob das Mainboard im <em>"parallel VID interface mode"</em> oder <em>"serial VID interface mode"</em> arbeitet. Zitat von der (ehemaligen) Projektseite:
</p><blockquote><p>"In parallel VID interface mode the conversion formula is</p><p>if vid&gt;=64 then U=375 mV</p><p>else if vid&gt;=32 then U=1162.5mV - vid=12.5 mV</p><p>else U=1550mV - vid*25 mV.</p><p>In serial VID interface mode it is</p><p>if vid&gt;=124 then U=0 mV</p><p>else U=1550mV - vid*12.5 mV."</p></blockquote><p>
So kann man gezielt Spannungen ansteuern. Der aktuelle Wert ist in der Ausgabe unter <em>"UCpu"</em> abzulesen. Eine Absenkung um eine Stufe bedeutet in diesem Fall eine Reduzierung um 0,0125 Volt.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo k10ctl 0-5 1 -cv 27 ## Senkung für alle Kerne im P-State 1 um eine Stufe </pre></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Senkung der Spannung sollte pro Schritt nicht größer sein als 0,025 Volt.
</p></div></div></div></div><div class="section_1"><h2 id="Beispiel-Laden-von-festen-Einstellungen">Beispiel - Laden von festen Einstellungen<a class="headerlink" href="#Beispiel-Laden-von-festen-Einstellungen">¶</a></h2><p>
Die Einstellung sind über <strong><a class="internal" href="./rc.local.html">/etc/rc.local</a></strong> zu laden <sup><a href="#source-6">[6]</a></sup>, damit sie automatisch bei jedem Neustart zur Verfügung stehen. Beispiel:</p><pre class="notranslate">#!/bin/sh -e
#
# rc.local
#
# This script is executed at the end of each multiuser runlevel.
# Make sure that the script will "exit 0" on success or any other
# value on error.
#
# In order to enable or disable this script just change the execution
# bits.
#
# By default this script does nothing.

/usr/local/sbin/k10ctl 0-3 3 -cv 64 -nv 40
/usr/local/sbin/k10ctl 0-3 2 -cv 48 -nv 38
/usr/local/sbin/k10ctl 0-3 1 -cv 42 -nv 37
/usr/local/sbin/k10ctl 0-3 0 -cv 36 -nv 36

exit 0</pre></div><div class="section_1"><h2 id="Stabilitaet-testen">Stabilität testen<a class="headerlink" href="#Stabilitaet-testen">¶</a></h2><p>
Die Stabilität der gewählten Spannung kann mit dem Benchmark mprime (<a class="external" href="ftp://mersenne.org/gimps/" rel="nofollow">mprimeVERSION.tar.gz</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> oder <a class="external" href="ftp://mersenne.org/gimps/" rel="nofollow">mprimeVERSION-linux64.tar.gz</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/>) getestet werden. Die Archivdatei kann in ein beliebiges Verzeichnis entpackt<sup><a href="#source-1">[1]</a></sup> werden. Sobald mprime entpackt wurde und man mittels Terminal<sup><a href="#source-4">[4]</a></sup> in das Verzeichnis, in dem sich mprime befindet gewechselt hat, kann mprime nun gestartet<sup><a href="#source-7">[7]</a></sup> werden.</p><div class="bash"><div class="contents"><pre class="notranslate">./mprime </pre></div></div><p>
In einem zweiten Terminalfenster sollte mit <a class="internal" href="./top.html">top</a> kontrollieren, ob mprime auch auf allen Kernen läuft (100% bei einem Kern, 200% bei zwei usw.).</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="interwiki interwiki-sourceforge" href="http://sourceforge.net/projects/k10ctl">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://prime.haugk.co.uk" rel="nofollow">Projektseite von mprime</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Undervolting">Undervolting</a></p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/AMD_K10">AMD K10</a></p></li><li><p><a class="external" href="http://products.amd.com/en-us/DesktopCPUResult.aspx" rel="nofollow">AMD Desktop Processors</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - technische Daten der AMD-CPUs</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./k10ctl/a/revision/943277.html">Diese Revision</a> wurde am 26. August 2017 14:54 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./k10ctl.html">k10ctl</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>