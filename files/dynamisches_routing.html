<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Dynamisches_Routing › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./dynamisches_routing.html">Dynamisches Routing</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Dynamisches_Routing">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./dynamisches_routing/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./dynamisches_routing/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./dynamisches_routing/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./dynamisches_routing/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./dynamisches_routing/a/backlinks.html">Dynamisches Routing</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Prinzipielle-Funktionsweise">Prinzipielle Funktionsweise
</a></li><li><a class="crosslink" href="#Verfuegbare-Protokolle">Verfügbare Protokolle
</a><ol class="arabic"><li><a class="crosslink" href="#Protokoll-bersicht">Protokoll - Übersicht
</a><ol class="arabic"><li><a class="crosslink" href="#RIP-Routing-Information-Protocol">RIP - Routing Information Protocol
</a></li><li><a class="crosslink" href="#OSPF-Open-Shortest-Path-First">OSPF - Open Shortest Path First
</a></li><li><a class="crosslink" href="#IS-IS-Intermediate-System-To-Intermediate-System">IS-IS - Intermediate System To Interme...</a></li><li><a class="crosslink" href="#EIGRP">EIGRP
</a></li><li><a class="crosslink" href="#BGP-Border-Gateway-Protocol">BGP - Border Gateway Protocol
</a></li><li><a class="crosslink" href="#OLSR-Optimized-Link-State-Routing-Protocol">OLSR - Optimized Link State Routing Pr...</a></li></ol></li></ol></li><li><a class="crosslink" href="#Implementierungen">Implementierungen
</a><ol class="arabic"><li><a class="crosslink" href="#bersichtstabelle">Übersichtstabelle
</a></li><li><a class="crosslink" href="#Quagga-Beispiel">Quagga - Beispiel
</a></li><li><a class="crosslink" href="#BIRD-Beispiel">BIRD - Beispiel
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/service.png" class="image-left" src="./_/afb6c1869d3e3412cb022363511bce77dccf937a.png"/>
Die Aufgabe eines <a class="internal" href="./router.html">Routers</a> besteht darin, Pakete zwischen mehreren Netzen zu vermitteln. Dazu muss dem Router bekannt sein, wie ein Zielnetzwerk zu erreichen ist. Der Aufwand, diese Information manuell zu pflegen, steigt mit jedem angeschlossenen Router. Kommt es noch zu häufigen Änderungen in der Netztopologie, werden Technologien benötigt die auf diese Änderungen dynamisch reagieren.</p><p>Beim dynamischen Routing geht es um die Fähigkeit eines Routers oder Servers, die angeschlossene Netzwerktopologie selbständig zu erlernen, auf Veränderungen zu reagieren und daraus Rückschlüsse auf die optimale Route zum Zielnetzwerk zu ziehen.</p><div class="section_1"><h2 id="Prinzipielle-Funktionsweise">Prinzipielle Funktionsweise<a class="headerlink" href="#Prinzipielle-Funktionsweise">¶</a></h2><p>
Um unter Ubuntu einen Router zu betreiben, gibt es unterschiedliche Routing-Daemons (Dienste). Diese arbeiten alle nach dem gleichen Prinzip: Sie erlernen aus der Routing-Tabelle des Kernels die direkt angeschlossenen Netzwerke/Interfaces und ggf. statisch konfigurierte Routen. Anschließend verteilen sie diese Informationen (je nach Konfiguration) an ihre Nachbar-Router. Diese sammeln diese Informationen und verteilen ihrerseits die ihnen bekannten Netzwerke und Routen. So bildet sich nach einer Initialisierungsphase auf jedem Router ein Abbild der Netzwerktopologie.</p><p>Diese Routen-Tabellen existieren parallel zur Kernel-Routing Tabelle, stehen dementsprechend für Paket-Routing erst einmal nicht zur Verfügung. Erst in einem zweiten Schritt wird abhängig von der Konfiguration entschieden, welche Route dem Kernel bekannt gemacht wird. Dabei wird nur der nächste Nachbar (Gateway) und das Zielnetzwerk in die Routing-Tabelle kopiert.</p><p>Ist dieser Vorgang auf allen Routern durchgeführt, kann zwischen den Netzen geroutet werden. Das Routing selber übernimmt der Kernel bzw. das IP-Subsystem. Das Routing-Protokoll ist nur für die Routenfindung verantwortlich.</p></div><div class="section_1"><h2 id="Verfuegbare-Protokolle">Verfügbare Protokolle<a class="headerlink" href="#Verfuegbare-Protokolle">¶</a></h2><p>
Es gibt unterschiedliche Routing-Prokolle für unterschiedliche Anwendungsfälle. Die geläufigsten Vertreter für kabelgebundene Netze sind OSPF, RIP und BGP. Jüngst hinzugekommen sind RAdv für IPv6 und neuere Verfahren für offene Mesh Netzwerke. Bekanntester Vertreter ist hier OLSR.</p><div class="section_2"><h3 id="Protokoll-bersicht">Protokoll - Übersicht<a class="headerlink" href="#Protokoll-bersicht">¶</a></h3><p>
</p><div class="section_3"><h4 id="RIP-Routing-Information-Protocol">RIP - Routing Information Protocol<a class="headerlink" href="#RIP-Routing-Information-Protocol">¶</a></h4><p>
Vorteile:
</p><ul><li><p>geringe Anforderung an Hardware (CPU, RAM)</p></li></ul><p>Nachteile:
</p><ul><li><p>konvergiert langsam nach Topologie-Änderung. Fällt eine bekannte Route aus, muss die Ersatzroute erst erneut gelernt werden.</p></li><li><p>hat Probleme bei Loops/Multi-Homing</p></li><li><p>maximale Pfadlänge zwischen zwei Netzen limitiert auf 15 Router</p></li></ul><p>
Ein sehr einfaches Routing Protokoll der <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Distanzvektoralgorithmus">DistantVektor-Familie</a>. Ein Router teilt alle ihm bekannten Routen mit seinem Nachbarn. Dieser erlernt eine Route nur, wenn die Route unbekannt ist oder deren Kosten geringer sind als die bekannte Route. Wird eine bessere Route erlernt, wird die alte Route verworfen. Dies hält die Routing-Tabelle klein, hat aber den Nachteil, dass keine Loops erkannt werden können. Obwohl es zwei mögliche Routen zu einem Ziel gibt, kennen alle Router nur eine Route. Je nach Topologie nutzen ein paar Router jedoch die Alternativroute als Primär-Route. Fällt eine der beiden Routen aus, ist das Zielnetzwerk für alle von dieser Route betroffenen Router nicht erreichbar. Erst wenn von einem Router mit Alternativroute eine Routen-Bekanntmachung versendet wird, verteilt sich die Information über die Alternativroute über das ganze Netz.</p><p>Siehe auch: <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Routing_Information_Protocol">RIP</a> - Wikipedia</p></div><div class="section_3"><h4 id="OSPF-Open-Shortest-Path-First">OSPF - Open Shortest Path First<a class="headerlink" href="#OSPF-Open-Shortest-Path-First">¶</a></h4><p>
Vorteile:
</p><ul><li><p>konvergiert "sofort". Alle Alternativrouten sind immer bekannt.</p></li><li><p>kann stabil mit Loops und Multi-Homing umgehen.</p></li></ul><p>Nachteile:
</p><ul><li><p>Höhere Anforderungen an Hardware (CPU und RAM)</p></li></ul><p>
Bei OSPF handelt es sich um ein sogenanntes <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Link-State">LinkState</a> Protokoll. Den Namen hat es vom Dijkstras Algorithmus "Shortest Path First" geerbt, der zur Routenfindung genutzt wird. Der Hauptunterschied zu RIP ist, dass jeder Router im OSPF-Netz jeden anderen Router und deren Routen kennt. Das umgeht die Hauptkritikpunkte von RIP. Wenn ein beliebiger Router die Information erhält, dass eine Route ausgefallen ist, kann dieser sofort ermitteln, ob eine Ersatzroute vorhanden ist. Auch die Problematik der Loop-Erkennung entfällt beim "Shortest Path First"-Algorithmus. Diese Vorteile werden mit höherem Aufwand für die Hardware erkauft. Um Bandbreite zu schonen, wird beim Protokoll-Start ein primärer (designated router) und sekundärer Router (backup designated router) "gewählt". Über diese werden dann die Topologie-Informationen verteilt. So muss nicht jeder Router an jeden anderen Router Informationen verteilen.</p><p>Siehe auch: <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/OSPF">OSPF</a> - Wikipedia</p></div><div class="section_3"><h4 id="IS-IS-Intermediate-System-To-Intermediate-System">IS-IS - Intermediate System To Intermediate System<a class="headerlink" href="#IS-IS-Intermediate-System-To-Intermediate-System">¶</a></h4><p>
IS-IS ähnelt OSPF stark. Es nutzt sogar den gleichen Dijkstras Algorithmus zur Routenermittlung. Dementsprechend erbt es auch die Stärken und Schwächen von OSPF. Wichtigstes Alleinstellungsmerkmal gegenüber OSPF ist die Unabhängigkeit vom IP-Stack. IS-IS setzt auf den CLNS-OSI-Stack auf und ist somit prinzipiell in der Lage, jedes routingfähige Protokoll zu Verwalten. So war IS-IS von Anfang an in der Lage, IPv6 Routen zu verwalten, wohingegen RIP und OSPF jeweils erweitert werden mussten.</p><p>Siehe auch: <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/IS-IS">IS-IS</a> - Wikipedia</p></div><div class="section_3"><h4 id="EIGRP">EIGRP<a class="headerlink" href="#EIGRP">¶</a></h4><p>
Ein von CISCO entwickeltes Hybrid-Routing Protokoll. Es hat sowohl Eigenschaften eines Distant-Vektor als auch Link-State Protokolls.</p><p>Weitere Informationen: <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/EIGRP">EIGRP</a> - Wikipedia</p></div><div class="section_3"><h4 id="BGP-Border-Gateway-Protocol">BGP - Border Gateway Protocol<a class="headerlink" href="#BGP-Border-Gateway-Protocol">¶</a></h4><p>
Das Border-Gateway-Protokoll ist der einzige Vertreter der Exterior-Gateway-Protokollklasse. Diese kommen hauptsächlich zur Kommunikation zwischen großen Netzen zum Einsatz. Bei BGP handelt es sich im Prinzip um ein Distant-Vektor-Protokoll, das jedoch so verbessert wurde, dass Skalierungs- und Loop-Probleme nicht auftreten.</p><p>Siehe auch: <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Border_Gateway_Protocol">BGP</a> - Wikipedia</p></div><div class="section_3"><h4 id="OLSR-Optimized-Link-State-Routing-Protocol">OLSR - Optimized Link State Routing Protocol<a class="headerlink" href="#OLSR-Optimized-Link-State-Routing-Protocol">¶</a></h4><p>
Hierbei handelt es sich, wie der Name schon angibt, um ein Link-State-Protokoll wie OSPF oder IS-IS. Allerdings wurden Anpassungen vorgenommen, damit das Protokoll besser in Ad-Hoc Umgebungen skaliert. Da sich Ad-Hoc Netze schnell ändern können, skaliert das Konzept eines "designated Routers" pro Netzwerk nicht. OLSR Router wählen in einer 2-Hop Umgebung ihren "Vertreter" (multipoint relay, MPR). Dieser verteilt dann die Topologie-Informationen. Eine weitere Eigenschaft von OLSR ist, dass es keinen Mechanismus bietet, um zu garantieren, dass eine Topologie-Änderung alle Teilnehmer erreicht hat. Die Änderung werden einfach so oft ins Netz geflutet, dass jeder Teilnehmer sie mitbekommen muss.</p><p>Siehe auch: <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/OLSR">OLSR</a> - Wikipedia</p></div></div></div><div class="section_1"><h2 id="Implementierungen">Implementierungen<a class="headerlink" href="#Implementierungen">¶</a></h2><p>
Das Feld der verfügbaren Implementierungen teilt sich in zwei Routing-Suites und spezielle Einzelimplementierungen. Bei den Suites stehen sich Quagga und BIRD gegenüber. Beide decken ungefähr den gleichen Funktionsumfang ab.</p><ul><li><p><a class="external" href="http://www.nongnu.org/quagga/" rel="nofollow">Quagga</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist die ältere Implementierung, wird aber u.a. von Canonical weiterentwickelt. Die Suite startet für jedes Protokoll einen eigenen Daemon, die untereinander kommunizieren. Das hat den Vorteil, dass einzelne Daemonen abstürzen können, ohne gleich den ganzen Router unbrauchbar zu machen. Für Linux-Systeme ungewöhnlich gestaltet sich die Konfiguration der Daemonen. Jeder Daemon macht einen Telnetport auf, über den er Befehle entgegen nimmt. Diese Befehlssyntax ähnelt stark der CISCO Syntax. Prinzipiell ist es möglich, die Daemonen mit einer Minimalkonfiguration zu starten, via Telnet on-the-fly zu konfigurieren und abschließend die Konfiguration speichern zu lassen.</p></li></ul><p>
</p><ul><li><p><a class="external" href="http://bird.network.cz/" rel="nofollow">BIRD</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> entstand ursprünglich als Studentenprojekt, hat sich mittlerweile aber als ernstzunehmende Alternative zu Quagga etabliert. Einige Internet-Exchanges setzten zum Beispiel auf BIRD anstatt auf Quagga. In den Publikationen wird sowohl die Performance als auch die Stabilität gegenüber Quagga hervorgehoben. BIRD bietet zwar auch ein Commandline-Interface, ist jedoch nicht über Telnet erreichbar und dient auch nicht zur Konfiguration. Die komplette Konfiguration läuft UNIXartig über eine einfach gehaltene  Konfigurationsdatei.</p></li></ul><p>
Quelle: <a class="interwiki interwiki-pdf" href="http://www.uknof.org.uk/uknof15/Preston-Routeserver.pdf">LINX - BIRD Route Server Daemon Deployment</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p><div class="section_2"><h3 id="bersichtstabelle">Übersichtstabelle<a class="headerlink" href="#bersichtstabelle">¶</a></h3><p>
</p><p>
</p><table style="width: 75%"><tr class="titel"><td colspan="4">Verfügbare Implementierungen </td></tr><tr class="kopf"><td> </td><td style="text-align: center">Quagga </td><td style="text-align: center">BIRD </td><td style="text-align: center">OLSRd </td></tr><tr><td> OSPF </td><td class="gruen" style="text-align: center">Ja </td><td class="gruen" style="text-align: center">Ja </td><td class="grau" style="text-align: center">Nein </td></tr><tr><td class="rot" style="text-align: left">IS-IS </td><td style="text-align: center; background-color: Orange">Ja (Hinweis beachten) </td><td class="grau" style="text-align: center">Nein </td><td class="grau" style="text-align: center">Nein </td></tr><tr><td> RIP </td><td class="gruen" style="text-align: center">Ja </td><td class="gruen" style="text-align: center">Ja </td><td class="grau" style="text-align: center">Nein </td></tr><tr><td class="rot" style="text-align: left">EIGRP </td><td colspan="3" style="text-align: center">CISCO eigener Standard </td></tr><tr><td> BGP </td><td class="gruen" style="text-align: center">Ja </td><td class="gruen" style="text-align: center">Ja </td><td class="grau" style="text-align: center">Nein </td></tr><tr><td> RAdv </td><td class="gruen" style="text-align: center">Ja </td><td class="gruen" style="text-align: center">Ja </td><td class="grau" style="text-align: center">Nein </td></tr><tr><td> OLSR </td><td class="grau" style="text-align: center">Nein </td><td class="grau" style="text-align: center">Nein </td><td class="gruen" style="text-align: center">Ja </td></tr></table></div><div class="section_2"><h3 id="Quagga-Beispiel">Quagga - Beispiel<a class="headerlink" href="#Quagga-Beispiel">¶</a></h3><p>
Benötigt werden folgende Pakete:</p><ul><li><p><strong>quagga</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install quagga </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install quagga </pre></div></div><p>
</p></div></div><p>
Nach der Installation findet man unter <strong>/etc/quagga/</strong> zwei Konfigurationsdateien:</p><ul><li><p><strong>daemons</strong> und </p></li><li><p><strong>debian.conf</strong></p></li></ul><p>
In <strong>daemons</strong> wird definiert, welche Dienste gestartet werden sollen. Der Zebra-Dienst wird immer gebraucht, wenn Routen in den Kernel exportiert werden sollen.</p><pre class="notranslate">zebra=yes
bgpd=no
ospfd=yes
ospf6d=no
ripd=no
ripngd=no
isisd=no</pre><p>
Die Datei <strong>debian.conf</strong> legt fest, auf welchen Interfaces die Telnet-Ports aufgemacht werden. Standardmäßig wird dort an das Loopback-Interface gebunden.</p><p>Für den einfachen Start findet man unter <strong>/usr/share/doc/quagga/examples</strong> Beispielkonfigurationen für alle Dienste (Daemonen). Hier ein sehr einfaches OSPF-Beispiel:</p><p><strong>/etc/quagga/zebra.conf</strong>:
</p><pre class="notranslate">!setzt den Routernamen
hostname ospf-router
!aktiviert das Logging über syslog
log syslog

!starte Konfiguration für Interface br0
interface br0
!Aktiviert die Überwachung des Medialinks
  link-detect
interface ath1
   link-detect</pre><p><strong>/etc/quagga/ospf.conf</strong>:
</p><pre class="notranslate">log syslog
!Starte Konfiguration des br0 Interfaces für OSPF-Parameter
interface br0
  !Das Interface hat die fiktiven Kosten 10. Dieser Wert wird für die Gewichtung der besten Route benutzt.
  ip ospf cost 10
  !Ein HELLO-Packet wird alle 30 Sekunden an die Nachbarn verteilt. WICHTIG: Dieser wert muss bei allen Teilnehmern gleich sein.
  ip ospf hello-interval 30
  !Bei einer fehlgeschlagenen Aktualisierung wird das Paket nach 5 Sekunden wiederholt.
  ip ospf retransmit-interval 5
  !Meldet sich ein Router nach 120 Sekunden nicht, wird er als "nicht verfügbar" angesehen und seine Routen werden verworfen.
  ip ospf dead-interval 120
  ip ospf network broadcast

!Aktiviere OSPF
router ospf
  !setzt die Router-ID - wird zum Bestimmen des "designated Routers" benötigt.
  ospf router-id 10.10.69.2
  !Aktiviere OSPF auf br0 (diesem ist 10.10.69.2 zugeordnet
  network 10.10.69.0/24 area 0
  !Verteile (statische) Routen die im Kernel hinterlegt wurden
  redistribute kernel
  !Verteile alle direkt angeschlossenen Netzwerke
  redistribute connected
  !Aktiviere logging für diverse Events
  debug ospf ism status
  debug ospf nsm status
  debug ospf zebra</pre><p>Im Beispiel sind an den Router zwei Netzwerkinterfaces angeschlossen, jedoch wird OSPF nur auf dem <code class="notranslate">br0</code>-Interface betrieben.
Eine komplette Dokumentation aller Konfigurationsbefehle gibt es hier: <a class="external" href="http://www.nongnu.org/quagga/docs.html" rel="nofollow">Quagga-Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Für den schnelleren Einstieg dient eine <a class="external" href="http://openmaniak.com/quagga_tutorial.php" rel="nofollow">Beispielanleitung</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p></div><div class="section_2"><h3 id="BIRD-Beispiel">BIRD - Beispiel<a class="headerlink" href="#BIRD-Beispiel">¶</a></h3><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die BIRD-Version, die mit Ubuntu 12.04 und 14.04 ausgeliefert wird, ist stark veraltet. Einige Funktionen werden noch nicht unterstützt und die verwendete iBGP-Implementierung entspricht nicht dem Standard. Ein "Personal Package Archiv" (PPA) wird direkt vom Entwickler angeboten und gepflegt.
</p></div></div><p>Adresszeile zum <a class="internal" href="./paketquellen_freischalten/ppa.html#PPA-hinzufuegen">Hinzufügen</a> des PPAs:
</p><ul><li><p><strong>ppa:cz.nic-labs/bird</strong> </p></li></ul><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
Zusätzliche <a class="internal" href="./fremdquellen.html">Fremdquellen</a> können das System gefährden. 
</p><hr/><p>Ein PPA unterstützt nicht zwangsläufig alle Ubuntu-Versionen. Weitere Informationen sind der <img alt="Wiki/Vorlagen/PPA/ppa.png" class="image-default" src="./_/237f3a0f00c3091056c1a912d81e924e8391ed6b.png"/> <a class="external" href="https://launchpad.net/~cz.nic-labs/+archive/bird" rel="nofollow">PPA-Beschreibung</a> des Eigentümers/Teams <a class="interwiki interwiki-lpuser" href="https://launchpad.net/~cz.nic-labs">cz.nic-labs</a> zu entnehmen.
</p></div></div><p>
Damit Pakete aus dem PPA genutzt werden können, müssen die Paketquellen <a class="internal" href="./paketquellen_freischalten.html">neu eingelesen</a> werden.</p><p>Nach dem Aktualisieren der Paketquellen wird folgendes Paket benötigt:</p><ul><li><p><strong>bird</strong> (<em>ppa</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install bird </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install bird </pre></div></div><p>
</p></div></div><p>Nach der Installation findet man die Konfiguration unter <strong>/etc/bird/bird.conf</strong>. Hier ein einfaches OSPF-Beispiel:
</p><pre class="notranslate">#Aktiviert das Logging über syslog
log syslog all;

#setzt die Router-ID (wird zum bestimmen 
router id 10.11.0.1;

protocol kernel {
  #Alle gelernten Routen werden dem Kernel bekannt gemacht.
  export all;
}

protocol device {
  #Überprüft die Interfaces alle 60 Sekunden
  scan time 60;           
}

protocol ospf {
  #Legt fest was geloggt werden soll.
  debug { states, routes, interfaces };
  area 0 {
    interface "eth0" 10.10.69.0/24 {
      cost 10; #legt die Kosten für die Route fest.
      type broadcast;
      hello 30; #Ein HELLO-Packet wird alle 30 Sekunden an die Nachbarn verteilt. WICHTIG: Dieser Wert muss bei allen Teilnehmern gleich sein.
      retransmit 5; #Bei einer fehlgeschlagenen Aktualisierung wird das Paket nach 5s wiederholt.
      wait 10; #Nach dem Hochfahren des Dämons wird 10s gewartet, bis die Wahl des Designated Routers gestartet wird.
      dead 120; #Meldet sich ein Router nach 120s nicht, wird er als "nicht verfügbar" angesehen und seine Routen werden verworfen.
      authentication none; #Es wird keine Authentifizierung der LSA-Pakete vorgenommen.
      check link; #Der MediaLink wird überprüft.
   };

   interface "eth1.1" 192.168.99.0/24 { 
     cost 10; #legt die Kosten für die Route fest.
     stub; #OSPF-Bird propagiert keine angeschlossenen Netzwerk. Um ein Lokales Netz bekannt zu machen, aber nicht als OSPF-Netz zu nutzen, wird STUB verwendet.
     check link;
   };
}</pre><p>
Wie im Quagga-Beispiel wird hier ein Netz für OSPF freigeschaltet, ein weiteres wird nur bekannt gemacht.</p><p>Eine komplette Dokumentation aller Konfigurationsbefehle gibt es hier: <a class="external" href="http://bird.network.cz/?get_doc&amp;f=bird.html" rel="nofollow">Bird-Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./router.html">Router</a> - Einen Rechner als Router verwenden</p></li><li><p><a class="internal" href="./netzwerk.html">Netzwerk</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li><li><p><a class="external" href="http://bird.network.cz/" rel="nofollow">BIRD-Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.nongnu.org/quagga/" rel="nofollow">Quagga-Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://networking.ringofsaturn.com/IP/Routing.php" rel="nofollow">Routing Overview</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Übersicht über IP-Routing</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./dynamisches_routing/a/revision/938927.html">Diese Revision</a> wurde am 3. Mai 2017 17:24 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./dynamisches_routing.html">Dynamisches Routing</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>