<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>lighttpd › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./lighttpd.html">lighttpd</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/lighttpd">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./lighttpd/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./lighttpd/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./lighttpd/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./lighttpd/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./lighttpd/a/backlinks.html">lighttpd</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Server-steuern">Server steuern
</a></li><li><a class="crosslink" href="#Zusatzmodule">Zusatzmodule
</a></li><li><a class="crosslink" href="#Logdateien">Logdateien
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./lighttpd_logo.png" class="image-left" src="./_/98267860b15fd3eaca905d965d0111e0af574a85.png"/>
<a class="external" href="http://www.lighttpd.net/" rel="nofollow">lighttpd</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> (gesprochen "lighty") ist ein <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Webserver">Webserver</a>, der weit weniger Ressourcen benötigt als z.B. <a class="internal" href="./apache.html">Apache</a> und so vor allem für sehr große Lasten oder sehr schwache Systeme gut geeignet ist. Er wurde von Jan Kneschke entwickelt und ist durch Module erweiterbar. FastCGI ermöglicht beispielsweise das Ausführen von PHP Code. SCGI ergänzt lighty um Ruby oder auch Python.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
lighttpd lässt sich direkt aus den offiziellen Paketquellen installieren <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>lighttpd</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install lighttpd </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install lighttpd </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Der lighttpd wird über die Datei <strong>/etc/lighttpd/lighttpd.conf</strong> konfiguriert. Diese lässt sich mit einem beliebigen Texteditor <sup><a href="#source-2">[2]</a></sup> mit Root-Rechten bearbeiten. Die wichtigsten Optionen sollen hier kurz vorgestellt werden. Zahlreiche weitere Konfigurationsmöglichkeiten finden sich ausführlich beschrieben in der Konfigurationsdatei selbst.</p><div class="section_2"><h3 id="Datenpfad-bestimmen">Datenpfad bestimmen<a class="headerlink" href="#Datenpfad-bestimmen">¶</a></h3><p>
lighttpd sucht im Verzeichnis <strong>/var/www/</strong> nach Webseiten, die er darstellen soll. Möchte man hier ein anderes Verzeichnis nutzen, so kann man dies über den Eintrag</p><pre class="notranslate">## a static document-root, for virtual-hosting take look at the
## server.virtual-* options
server.document-root       = "/var/www/"</pre><p>
definieren. Dabei ist zu beachten, dass der Benutzer <em>"www-data"</em>, unter dem der Webserver läuft, auf diese Daten zumindest lesend zugreifen können muss. Anschließend kann man über <code class="notranslate">http://localhost/</code> die Webseiten aufrufen.</p><p>Sollte bereits eine <strong>index.php</strong> oder ähnlich vorhanden, aber die Erweiterung für <a class="internal" href="./php.html">PHP</a> noch nicht installiert sein, bekommt man die Fehlermeldung <code class="notranslate">403</code>. Nach der erfolgreichen Installation der entsprechenden Erweiterung sollte diese verschwunden sein.</p><div class="section_3"><h4 id="Virtuelle-Hosts">Virtuelle Hosts<a class="headerlink" href="#Virtuelle-Hosts">¶</a></h4><p>
Sollen für verschiedene Hostnamen unterschiedliche Verzeichnisse verwendet werden, so kann dies mit Hilfe des Moduls <a class="external" href="http://trac.lighttpd.net/trac/wiki/Docs%3AModSimpleVhost" rel="nofollow">mod_simple_vhost</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> eingestellt werden (die Option <code class="notranslate">server.virtual-*</code>, welche noch in der Konfigurationsdatei erwähnt wird, ist veraltet).</p><p>Zunächst wird die Konfiguration für virtuelle Hosts prinzipiell zugeschaltet. Dies geschieht mit dem Befehl <sup><a href="#source-3">[3]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">lighty-enable-mod simple-vhost </pre></div></div><p>Dadurch wird ein Link im Verzeichnis <strong>/etc/lighttpd/conf-enabled/</strong> gesetzt. Die eigentliche Konfiguration könnte dann so aussehen, wie ein Beispiel in <strong>/etc/lighttpd/conf-available/10-simple-vhost.conf</strong> zeigt:</p><pre class="notranslate">## Beispiel für /etc/lighttpd/conf-available/10-simple-vhost.conf
server.modules += ( "mod_simple_vhost" )
$HTTP["host"] =~ "^(?i:wahlen\.dresden\.de(?::\d+)?)$" {
     server.document-root = "/var/www/wahlen/"
}
$HTTP["host"] =~ "^(?i:(?i:www\.)?preview\.dresden\.(?i:de|eu)(?::\d+)?)$" {
     server.document-root = "/var/www/sites/dresden.de/preview/web-site/"
}
$HTTP["host"] =~ "^(?i:(?i:www\.)?(?i:dresden|dd)\.(?i:de|eu)(?::\d+)?)$" {
     server.document-root = "/var/www/sites/dresden.de/www/web-site/"
}
$HTTP["host"] =~ "^(?i:(?i:www\.)?(?i:13februar|13\.februar)\.(?i:dresden|dd)\.(?i:de|eu)(?::\d+)?)$" {
     server.document-root = "/var/www/sites/dresden.de/13februar/web-site/"
}
$HTTP["host"] =~ "^(?i:(?i:www\.)?13februarpreview\.(?i:dresden|dd)\.(?i:de|eu)(?::\d+)?)$" {
     server.document-root = "/var/www/sites/dresden.de/13februarpreview/web-site/"
}</pre><p>Zu den Ausdrücken: """^(...""" siehe auch <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Regul%C3%A4rer%20Ausdruck">Regulärer Ausdruck</a> und <a class="external" href="http://www.regular-expressions.info/reference.html" rel="nofollow">regular-expressions.info</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p></div></div><div class="section_2"><h3 id="Netzwerk-Port-bestimmen">Netzwerk-Port bestimmen<a class="headerlink" href="#Netzwerk-Port-bestimmen">¶</a></h3><p>
Möchte man lighttpd z.B. parallel zum Webserver Apache betreiben, so würden beide Server Port <code class="notranslate">80</code> nutzen. Dies ist jedoch nicht möglich: eine Port kann nur von einer Anwendung verwendet werden. Bei Bedarf lässt sich der Port, auf dem lighttpd auf Anfragen entgegen nimmt, über die Option</p><pre class="notranslate">## bind to port (default: 80)
server.port               = 8080</pre><p>
festlegen. In diesem Beispiel würde man den Port des lighttpd auf <code class="notranslate">8080</code> setzen. In diesem Fall müsste man Webseiten über die URL <code class="notranslate">http://localhost:8080/</code> aufrufen.</p></div><div class="section_2"><h3 id="An-den-Localhost-binden">An den Localhost binden<a class="headerlink" href="#An-den-Localhost-binden">¶</a></h3><p>
Betreibt man den Webserver an einem Rechner, der direkt aus dem Internet erreichbar ist, so möchte man den Webserver eventuell nur an den localhost, sprich an den Rechner selber, binden. Dadurch lässt sich der Webserver weder aus dem Netzwerk noch aus dem Internet erreichen. Dies lässt sich durch die Option</p><pre class="notranslate">## bind to localhost only (default: all interfaces)
server.bind                = "localhost"</pre><p>
erreichen.</p></div><div class="section_2"><h3 id="Dokumentationen-freigeben">Dokumentationen freigeben<a class="headerlink" href="#Dokumentationen-freigeben">¶</a></h3><p>
Auf einem Linux-System befinden sich im Verzeichnis <strong>/usr/share/doc/</strong> zahlreiche Dokumentationen im HTML-Format. Diese Anleitungen kann lighttpd auch im Netzwerk zur Verfügung stellen. Sie werden von Haus aus eingebunden. Man kann sie vom Rechner, auf dem auch der Webserver zu erreichen ist, unter der Adresse <code class="notranslate">http://localhost/doc/</code> aufrufen. Allerdings ist der Zugriff auf den localhost beschränkt. Sollen andere Rechner im Netzwerk die Dokumentationen aufrufen können, muss die Beschränkung auf den localhost auskommentiert werden:</p><pre class="notranslate">#### handle Debian Policy Manual, Section 11.5. urls
#### and by default allow them only from localhost

#$HTTP["remoteip"] == "127.0.0.1" {
        alias.url += (
                "/doc/" =&gt; "/usr/share/doc/",
                "/images/" =&gt; "/usr/share/images/"

        )
        $HTTP["url"] =~ "^/doc/|^/images/" {
                dir-listing.activate = "enable"
        }
#}</pre><p>
Anschließend lassen sich die Dokumentationen von einem beliebigen Rechner unter <code class="notranslate">http://&lt;serverip&gt;/doc/</code> aufrufen.</p></div></div><div class="section_1"><h2 id="Server-steuern">Server steuern<a class="headerlink" href="#Server-steuern">¶</a></h2><p>
Wie alle anderen Dienste bringt lighttpd Start/Stop-Skripte mit. Diese Skripte lassen sich natürlich auch zum Kontrollieren des Webservers verwenden:</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein
sudo /etc/init.d/lighttpd {start|stop|restart|reload|force-reload}
# Beispiel
sudo /etc/init.d/lighttpd restart </pre></div></div><ul><li><p><code class="notranslate">start</code> - Startet den Server </p></li><li><p><code class="notranslate">stop</code> - Stoppt den Server </p></li><li><p><code class="notranslate">restart</code> - Startet den Server neu, bestehende Verbindungen auf den Server werden gekappt </p></li><li><p><code class="notranslate">reload</code> - Lädt die Konfigurationsdateien neu, ohne dass Verbindungen getrennt werden </p></li><li><p><code class="notranslate">force-reload</code> - Lädt die Konfigurationsdateien neu, wobei bestehende Verbindungen getrennt werden. </p></li></ul><p>Mehr dazu im Wiki unter <a class="internal" href="./dienste.html">Dienste</a>.</p></div><div class="section_1"><h2 id="Zusatzmodule">Zusatzmodule<a class="headerlink" href="#Zusatzmodule">¶</a></h2><p>
Auch lighttpd lässt sich durch Module um zusätzliche Funktionen erweitern. So lassen sich Interpretersprachen wie z.B. PHP einbinden. Oder Webseiten können aus den Homeverzeichnissen der Benutzer gelesen werden. Vielleicht wird eine Verschlüsselung per SSL gewünscht?</p><div class="section_2"><h3 id="Userdir">Userdir<a class="headerlink" href="#Userdir">¶</a></h3><p>
Wie üblich ist es möglich, dass der Webserver auch Daten aus den Homeverzeichnissen der lokalen Benutzer auslesen kann. Dazu muss der jeweilige Benutzer einen Ordner <strong>~/public_html</strong> in seinem Homeverzeichnis anlegen und dort dem Benutzer <em>"www-data"</em> des Webservers zumindest Leserechte geben. Wenn dann noch das Modul mittels</p><div class="bash"><div class="contents"><pre class="notranslate">sudo lighty-enable-mod userdir </pre></div></div><p>
aktiviert und der Webserver neu gestartet wurde, so können die dort hinterlegten Dateien über <code class="notranslate">http://localhost/~benutzername/</code> ausgelesen werden.</p></div><div class="section_2"><h3 id="CGI">CGI<a class="headerlink" href="#CGI">¶</a></h3><p>
<a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Common_Gateway_Interface">CGI</a> ist eine Schnittstelle zwischen Webserver und Betriebssystem, um z.B. Perl Scripte auch über den Webserver auszuführen. So können dynamische Inhalte erzeugt werden. Das benötigte Modul muss mittels</p><div class="bash"><div class="contents"><pre class="notranslate">sudo lighty-enable-mod cgi </pre></div></div><p>
aktiviert werden. Nach einem Neustart des Webservers können nun Skripte im Verzeichnis <strong>/usr/lib/cgi-bin</strong> abgelegt und über <code class="notranslate">http://localhost/cgi-bin/beispiel.cgi</code> aufgerufen werden. Dabei ist zu beachten, dass der Benutzer <em>"www-data"</em>, unter dem der Webserver läuft, diese Daten lesen und auch ausführen können muss.</p></div><div class="section_2"><h3 id="PHP">PHP<a class="headerlink" href="#PHP">¶</a></h3><p>
Grundvoraussetzung ist, dass <a class="internal" href="./php.html">PHP</a> überhaupt auf dem Rechner installiert ist. PHP 5 lässt sich über das Paket</p><ul><li><p><strong>php5-cgi</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install php5-cgi </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install php5-cgi </pre></div></div><p>
</p></div></div><p>
installieren <sup><a href="#source-1">[1]</a></sup>. Anschließend muss man die Module in lighty aktivieren:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo lighty-enable-mod fastcgi
sudo lighty-enable-mod fastcgi-php </pre></div></div></div><div class="section_2"><h3 id="SSL">SSL<a class="headerlink" href="#SSL">¶</a></h3><p>
Über <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Transport_Layer_Security">TLS</a> (SSL) kann man verschlüsselte Verbindungen zum Webserver aufbauen. Diese Funktion muss ebenfalls erst über ein Modul aktiviert werden. Grundvoraussetzung ist, dass das folgende Paket installiert <sup><a href="#source-1">[1]</a></sup> ist.</p><ul><li><p><strong>openssl</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install openssl </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install openssl </pre></div></div><p>
</p></div></div><p>
Anschließend kann das Modul aktiviert werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo lighty-enable-mod ssl </pre></div></div><p>
Besitzt man ein gültiges SSL-Zertifikat, so sollte man es nach <strong>/etc/lighttpd/server.pem</strong> kopieren. Möchte man einen individuellen Pfad nutzen, so kann man diesen in der Datei <strong>/etc/lighttpd/conf-available/10-ssl.conf</strong> setzen. Natürlich kann man sich auch ein eigenes SSL-Zertifikat mittels</p><div class="bash"><div class="contents"><pre class="notranslate">cd /etc/lighttpd
sudo openssl req -new -x509 -keyout server.pem -out server.pem -days 365 -nodes </pre></div></div><p>erstellen. Allerdings geben Webbrowser dann eine Warnung aus, dass dieses Zertifikat nicht verifiziert werden kann. Die Verbindung wird aber trotzdem verschlüsselt. Ist das Zertifikat hinterlegt und der Webserver neu gestartet, so erreicht man die verschlüsselten Seiten ab jetzt über <code class="notranslate">https://localhost/ https://localhost/</code>.</p></div><div class="section_2"><h3 id="HTTP-Authentifizierung">HTTP-Authentifizierung<a class="headerlink" href="#HTTP-Authentifizierung">¶</a></h3><p>
Um Verzeichnisse mit einem Passwortschutz zu versehen, ist das Modul <em>auth</em> notwendig und wird über</p><div class="bash"><div class="contents"><pre class="notranslate">sudo lighty-enable-mod auth </pre></div></div><p>
aktiviert. Die von <a class="internal" href="./apache.html">Apache</a> bekannte Verwendung von <em>.htaccess</em>-Dateien ist mit lighty leider nicht möglich. Stattdessen müssen die Einstellungen in der Konfigurationsdatei <strong>/etc/lighttpd/conf-enabled/10-auth.conf</strong> vorgenommen und der Webserver neu gestartet werden. Die Authentifizierung ist mit <em>basic</em> und <em>digest</em> möglich, wobei die Backends <em>plain</em>, <em>htpasswd</em>, <em>htdigest</em> und <em>ldap</em> verwendet werden können. Weitere Informationen können im <a class="external" href="http://redmine.lighttpd.net/projects/1/wiki/Docs:ModAuth" rel="nofollow">lighttpd Wiki</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> nachgelesen werden. Dort ist unter anderem vermerkt, dass die <em>digest</em>-Implementierung (noch) nicht sicher ist.</p><p>Um beispielsweise die Verzeichnisse <strong>/secure</strong> und <strong>/anderer/pfad/secure</strong> mit einer <code class="notranslate">basic</code>-Authentifizierung über <strong>.htpasswd</strong> zu versehen ist, folgender Eintrag in der <strong>10-auth.conf</strong> nötig:</p><pre class="notranslate">auth.backend = "htpasswd"
auth.backend.htpasswd.userfile = "/pfad/zu/.htpasswd"
auth.require = ( "/secure" =&gt;
    (
    "method"  =&gt; "basic",
    "realm"   =&gt; "anzuzeigender Text bei der Passworteingabe",
    "require" =&gt; "valid-user"
    ),
                 "/anderer/pfad/secure" =&gt;
    (
    "method"  =&gt; "basic",
    "realm"   =&gt; "Text für den anderen Pfad",
    "require" =&gt; "valid-user"
    ),
)</pre><p>
Die <strong>.htpasswd</strong>-Datei muss, wenn die Authentifizierung mit <em>basic</em> verwendet wird, Passwort-Hashes im Format:</p><pre class="notranslate">valid-user:$apr1$RDb7c6Qj$hWfvs2G2OLDCFbtN9s8Qf1</pre><p>
enthalten. Diese können mittels des Apache-Werkzeugs <strong>htpasswd</strong> komfortabel erzeugt werden. Dabei ist zu beachten, dass lighttpd nur die Verwendung des modifizierten Apache-MD5-Hashs unterstützt, welcher mittels</p><div class="bash"><div class="contents"><pre class="notranslate">htpasswd -m &lt;pwfile&gt; &lt;username&gt; </pre></div></div><p>
erzeugt werden kann.</p><p>Sollen weitere Verzeichnisse mit anderen <strong>.htpasswd</strong>-Dateien geschützt werden, so muss man die URL filtern und zu dem Filter eine eigene <strong>.htpasswd</strong>-Datei angeben. Im folgenden Beispiel wird das Verzeichnis <strong>/geheim</strong> mit einer anderen Passwortdatei versehen:</p><pre class="notranslate">$HTTP["url"] =~ "^/geheim" {
auth.backend = "htpasswd"
auth.backend.htpasswd.userfile = "/pfad/zur/anderen/.htpasswd"
auth.require = ( "/geheim" =&gt;
    (
    "method"  =&gt; "basic",
    "realm"   =&gt; "Bitte geben Sie Benutzername und Passwort für den geheimen Bereich ein. ",
    "require" =&gt; "valid-user"
    ),
)
}</pre><p>Mit der Anweisung:
</p><pre class="notranslate">    "require" =&gt; "valid-user"</pre><p>werden alle user in der Datei <strong>/pfad/zu/.htpasswd</strong> zugelassen.</p><p>möchte man dies einschränken, so muss folgendes konfiguriert werden:
</p><pre class="notranslate">    "require" =&gt; "user=myUser"</pre></div><div class="section_2"><h3 id="WebDAV">WebDAV<a class="headerlink" href="#WebDAV">¶</a></h3><p>
<a class="internal" href="./webdav.html">WebDAV</a> ist ein Standard, mit dem Verzeichnisse auf einem Webserver wie eine Netzwerkfestplatte benutzt werden können. Auch diese Funktion lässt sich über ein Modul für lighttpd aktivieren. Dabei ist zu beachten, dass noch nicht alle Funktionen im entsprechenden Modul vollständig implementiert sind. Außerdem gibt es zwei Arten, wie man dieses Modul installieren kann, die sich auch von der Funktions-Unterstützung her unterscheiden.</p><div class="section_3"><h4 id="Minimale-WebDAV-Unterstuetzung">Minimale WebDAV-Unterstützung<a class="headerlink" href="#Minimale-WebDAV-Unterstuetzung">¶</a></h4><p>
Das in den offiziellen Paketquellen von Ubuntu enthaltene Modul lässt sich mit dem folgendem Paket installieren <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>lighttpd-mod-webdav</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install lighttpd-mod-webdav </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install lighttpd-mod-webdav </pre></div></div><p>
</p></div></div><p>
Dieses enthält aber lediglich die Webdav-Funktionen <code class="notranslate">GET</code>, <code class="notranslate">POST</code>, <code class="notranslate">HEAD</code>, <code class="notranslate">PROPFIND</code>, <code class="notranslate">OPTIONS</code>, <code class="notranslate">MKCOL</code>, <code class="notranslate">PUT</code> und <code class="notranslate">DELETE</code>. Damit ist es nicht möglich, Dateien zu verschieben, zu kopieren oder als Festplatte einzubinden.</p></div><div class="section_3"><h4 id="Erweiterte-Unterstuetzung">Erweiterte Unterstützung<a class="headerlink" href="#Erweiterte-Unterstuetzung">¶</a></h4><p>
Um Webdav-Funktionen wie (UN)LOCK, die das Einbinden als Festplatte ermöglichen, nutzen zu können, muss man sich lighttpd selbst aus dem Quelltext <a class="internal" href="./programme_kompilieren.html">kompilieren</a>. Dazu sind die folgenden Pakete notwendig:</p><ul><li><p><strong>build-essentials</strong> (der Compiler)</p></li><li><p><strong>libsqlite3-0</strong></p></li><li><p><strong>libsqlite3-dev</strong></p></li><li><p><strong>libxml2</strong></p></li><li><p><strong>libxml2-dev</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install build-essentials libsqlite3-0 libsqlite3-dev libxml2 libxml2-dev </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install build-essentials libsqlite3-0 libsqlite3-dev libxml2 libxml2-dev </pre></div></div><p>
</p></div></div><p>
Anschließend lädt man den <a class="external" href="http://www.lighttpd.net/download" rel="nofollow">Quelltext</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> herunter. Nachdem man diesen entpackt hat, wechselt man in den entpackten Ordner und führt dort ein</p><pre class="notranslate">./configure --with-webdav-props --with-webdav-locks</pre><p>
aus. Wenn ein Fehler ausgegeben wird, fehlen eventuell noch Pakete. Werden keine Fehler ausgegeben, kompiliert man mit</p><pre class="notranslate">make</pre><p>
Zuletzt kann man den neuen lighttpd dann mit <code class="notranslate">sudo checkinstall</code> oder <code class="notranslate">sudo make install</code> installieren.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wer die Webdav-Ressource mit einer Authentifizierung schützen will, sollte sich mal <a class="external" href="http://redmine.lighttpd.net/projects/lighttpd/wiki/Docs:ModAuth" rel="nofollow">mod_auth</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ansehen.
</p></div></div></div></div></div><div class="section_1"><h2 id="Logdateien">Logdateien<a class="headerlink" href="#Logdateien">¶</a></h2><p>
Natürlich schreibt auch lighttpd ausführliche Logdateien. Zur Kontrolle oder Fehlersuche kann man diese auslesen. Man findet sie unter <strong>/var/log/lighttpd</strong>. Mehr zu Thema Logdateien findet man <a class="internal" href="./logdateien.html">hier</a> im Wiki.</p></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="PDF-Dateien">PDF-Dateien<a class="headerlink" href="#PDF-Dateien">¶</a></h3><p>
Um Probleme beim Anzeigen von größeren PDF-Dateien zu vermeiden, sollte die Konfigurationsdatei <strong>/etc/lighttpd/lighttpd.conf</strong> um folgendes ergänzt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">$HTTP["url"] =~ "\.(?i:pdf)$" {
    server.range-requests = "disable"
} </pre></div></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.lighttpd.net/" rel="nofollow">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p><ul><li><p><a class="external" href="http://redmine.lighttpd.net/projects/lighttpd/wiki" rel="nofollow">Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul></li><li><p><a class="internal" href="./serverdienste.html">Webserver</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Programmübersicht</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./lighttpd/a/revision/939162.html">Diese Revision</a> wurde am 4. Mai 2017 18:00 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./lighttpd.html">lighttpd</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>