<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Anjuta › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./anjuta.html">Anjuta</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Anjuta">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./anjuta/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./anjuta/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./anjuta/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./anjuta/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./anjuta/a/backlinks.html">Anjuta</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
Dieser Artikel ist mit keiner aktuell unterstützten Ubuntu-Version getestet! Bitte diesen Artikel testen und das getestet-Tag entsprechend anpassen.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Paketen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./paketquellen.html">Paketquellen anpassen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./packprogramme.html">Archive entpacken</a> </p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./paketinstallation_deb.html">Ein einzelnes Paket manuell installieren</a> </p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./programme_kompilieren.html">Programme kompilieren</a> </p></li><li><p><a class="crosslink anchor" href="#source-7" id="source-7"></a> <a class="internal" href="./editor.html">Dateien mit einem Editor öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Voraussetzung">Voraussetzung
</a></li><li><a class="crosslink" href="#Installation-der-Entwicklungsumgebung">Installation der Entwicklungsumgebung
</a><ol class="arabic"><li><a class="crosslink" href="#Installation-aus-den-Ubuntu-Quellen">Installation aus den Ubuntu-Quellen
</a></li><li><a class="crosslink" href="#Installation-aus-dem-Quellcode">Installation aus dem Quellcode
</a></li></ol></li><li><a class="crosslink" href="#Ein-neues-Projekt-erstellen">Ein neues Projekt erstellen
</a></li><li><a class="crosslink" href="#Programm-erstellen-kompilieren-und-ausfuehren">Programm erstellen, kompilieren und ausfüh...</a></li><li><a class="crosslink" href="#Bibliotheken-hinzufuegen">Bibliotheken hinzufügen
</a><ol class="arabic"><li><a class="crosslink" href="#pkg-config">pkg-config
</a></li><li><a class="crosslink" href="#m4-Skript">m4-Skript
</a></li><li><a class="crosslink" href="#Direkte-Pfadangabe">Direkte Pfadangabe
</a></li></ol></li><li><a class="crosslink" href="#Grafische-Oberflaeche-erstellen">Grafische Oberfläche erstellen
</a><ol class="arabic"><li><a class="crosslink" href="#Vorbereitungen">Vorbereitungen
</a></li><li><a class="crosslink" href="#Glade-Datei-erstellen">Glade Datei erstellen
</a></li><li><a class="crosslink" href="#Dateien-zum-Projekt-hinzufuegen">Dateien zum Projekt hinzufügen
</a></li><li><a class="crosslink" href="#Der-Quelltext-zu-diesem-Beispiel">Der Quelltext zu diesem Beispiel
</a></li></ol></li><li><a class="crosslink" href="#GNOME-Menueeintrag-erstellen">GNOME Menüeintrag erstellen
</a></li><li><a class="crosslink" href="#Source-Paket-und-Ubuntu-Paket-erstellen">Source Paket und Ubuntu Paket erstellen
</a><ol class="arabic"><li><a class="crosslink" href="#Quellcode-weitergeben">Quellcode weitergeben
</a></li><li><a class="crosslink" href="#Debian-Paket-erstellen">Debian Paket erstellen
</a></li></ol></li><li><a class="crosslink" href="#Fehler">Fehler
</a></li><li><a class="crosslink" href="#Links">Links
</a><ol class="arabic"><li><a class="crosslink" href="#Entwicklungsumgebungen">Entwicklungsumgebungen
</a></li><li><a class="crosslink" href="#Toolkits">Toolkits
</a></li><li><a class="crosslink" href="#Autoconf-und-Automake">Autoconf und Automake
</a></li><li><a class="crosslink" href="#Literatur">Literatur
</a></li></ol></li></ol></div><p><img alt="./anjuta_logo.png" class="image-left" src="./_/b686f184f7f5a2612b5bfc9a3e960cbcb0ddd4ea.png"/>
<a class="external" href="http://www.anjuta.org/" rel="nofollow">Anjuta</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist eine vollständige Entwicklungsumgebung (IDE) für den <a class="internal" href="./gnome.html">GNOME</a>-Desktop, die mit vielen <a class="internal" href="./programmiersprache.html">Programmiersprachen</a> (C, C++, <a class="internal" href="./python.html">Python</a>, <a class="internal" href="./java.html">Java</a> ...) zurecht kommt. Sie kann durch Plugins beliebig erweitert werden, allerdings wird aufgrund der Fülle an Plugins nur auf eine Auswahl eingegangen.</p><p>Diese Seite soll helfen, mit dieser IDE vollständige Programme zu erstellen. Dabei wird erklärt, wie Bibliotheken zu einem Projekt richtig hinzugefügt werden, eine grafische Oberfläche für <a class="internal" href="./gui-toolkits.html#GTK">GTK+</a> mit dem Glade-Plugin erstellt und aus diesem Programm ein Paket gemacht wird. Des Weiteren wird sich das Beispielprogramm bei der Installation automatisch ins GNOME-Menü integrieren.</p><p>Dieser Artikel bezieht sich auf die <a class="internal" href="./programmiersprache.html#C">Programiersprache C</a>, allerdings lässt sich die Arbeitsweise auf die meisten anderen Programmiersprachen fast eins zu eins übertragen.</p><div class="section_1"><h2 id="Voraussetzung">Voraussetzung<a class="headerlink" href="#Voraussetzung">¶</a></h2><p>
Hier eine Auswahl der wichtigsten Pakete, die generell zur Software-Entwicklung in der Sprache C benötigt werden:</p><ul><li><p><strong>build-essential</strong></p></li><li><p><strong>autogen</strong></p></li><li><p><strong>automake</strong></p></li><li><p><strong>libtool</strong></p></li><li><p><strong>libglade2-dev</strong></p></li><li><p><strong>libgtk2.0-dev</strong></p></li><li><p><strong>libgnome2-dev</strong></p></li><li><p><strong>libgtk2.0-doc</strong></p></li><li><p><strong>libgnome2-doc</strong></p></li><li><p><strong>intltool</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install build-essential autogen automake libtool libglade2-dev libgtk2.0-dev libgnome2-dev libgtk2.0-doc libgnome2-doc intltool </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install build-essential autogen automake libtool libglade2-dev libgtk2.0-dev libgnome2-dev libgtk2.0-doc libgnome2-doc intltool </pre></div></div><p>
</p></div></div><p>Diese Liste kann je nach Bedarf ggf. noch erweitert werden.</p></div><div class="section_1"><h2 id="Installation-der-Entwicklungsumgebung">Installation der Entwicklungsumgebung<a class="headerlink" href="#Installation-der-Entwicklungsumgebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Installation-aus-den-Ubuntu-Quellen">Installation aus den Ubuntu-Quellen<a class="headerlink" href="#Installation-aus-den-Ubuntu-Quellen">¶</a></h3><p>
Es wird einfach das nachfolgend genannte Paket installiert <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>anjuta</strong> (<em>universe</em> <sup><a href="#source-2">[2]</a></sup>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install anjuta </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install anjuta </pre></div></div><p>
</p></div></div><p>Wer dazu eine umfangreiche Hilfe möchte, installiert ebenfalls</p><ul><li><p><strong>devhelp</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install devhelp </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install devhelp </pre></div></div><p>
</p></div></div><p>Für grafische Oberflächen eignet sich</p><ul><li><p><strong>glade</strong> (<em>universe</em>)</p></li></ul><p>
Die Anwendungen können anschließend über das GNOME-Startmenü aufgerufen werden.</p><p>Lässt sich Anjuta nicht erfolgreich starten, hilft es unter Umständen, wenn im persönlichen Ordner das versteckte Verzeichnis <strong>.anjuta</strong> gelöscht wird, sofern dieses noch aus einer früheren Installation stammt.</p></div><div class="section_2"><h3 id="Installation-aus-dem-Quellcode">Installation aus dem Quellcode<a class="headerlink" href="#Installation-aus-dem-Quellcode">¶</a></h3><p>
Für die Kompilierung der Programme werden folgende Pakete benötigt:  
</p><ul><li><p><strong>libbonoboui2-dev</strong></p></li><li><p><strong>libgnomeui-dev</strong></p></li><li><p><strong>libwnck-dev</strong></p></li><li><p><strong>firefox-dev</strong></p></li><li><p><strong>libgnomeprint2.2-dev</strong></p></li><li><p><strong>libgnomeprintui2.2-dev</strong></p></li><li><p><strong>libvte-dev</strong></p></li><li><p><strong>libxslt1-dev</strong></p></li><li><p><strong>libpcre3-dev</strong></p></li><li><p><strong>binutils-dev</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install libbonoboui2-dev libgnomeui-dev libwnck-dev firefox-dev libgnomeprint2.2-dev libgnomeprintui2.2-dev libvte-dev libxslt1-dev libpcre3-dev binutils-dev </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install libbonoboui2-dev libgnomeui-dev libwnck-dev firefox-dev libgnomeprint2.2-dev libgnomeprintui2.2-dev libvte-dev libxslt1-dev libpcre3-dev binutils-dev </pre></div></div><p>
</p></div></div><p>Für die Installation wird der aktuelle Quellcode von der <a class="external" href="http://www.anjuta.org/downloads" rel="nofollow">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> herunterladen.</p><p>Folgende zusätzliche Pakete müssen ebenfalls auf der Anjuta-Seite als Quelltext <a class="external" href="http://www.anjuta.org/downloads" rel="nofollow">heruntergeladen</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> dann entpackt <sup><a href="#source-4">[4]</a></sup> und kompiliert <sup><a href="#source-6">[6]</a></sup> werden, falls die Pakete in den Quellen zu alt sind.</p><ul><li><p><strong>gdl</strong> </p></li><li><p><strong>gnome-build</strong> </p></li><li><p><strong>glade3</strong> </p></li><li><p><strong>devhelp</strong> </p></li></ul><p> 
Erst danach kann man das eigentliche Anjuta-Paket kompilieren <sup><a href="#source-6">[6]</a></sup> und installieren. Wenn alles geklappt hat, erscheint jetzt im GNOME-Menü unter <em>"Programmierung"</em> der Eintrag <em>"Anjuta - IDE"</em>.</p></div></div><div class="section_1"><h2 id="Ein-neues-Projekt-erstellen">Ein neues Projekt erstellen<a class="headerlink" href="#Ein-neues-Projekt-erstellen">¶</a></h2><p>
Der Umgang mit der Anjuta-Oberfläche soll an einer Hello-World-Anwendung gezeigt, welche immer mehr ausgebaut wird.</p><p><em>"Datei -&gt; Neu -&gt; Projekt"</em> öffnet den Druiden, der hilft, das neue Projekt einzurichten. Dieser wird kurz darauf geöffnet und enthält auch eine Beschreibung über den Zweck des Programms. Als nächstes wird der Typ ausgewählt. In diesem Fall erstellt <em>"Generic</em>" eine Vorlage mit grundlegenden Dateien zur Dokumentation, Kompilierung und einer Quelltextdatei mit einer Minimalroutine.</p><p>Im nächsten Dialog werden Daten hinzugefügt, welche das Projekt näher beschreiben.</p><ul><li><p>Der Name des Projekts sollte in diesem Falle <code class="notranslate">tutor</code> heißen.  </p></li><li><p>Unter <em>"Destination"</em> wird das Verzeichnis eingetragen, in welchem das Projekt gespeichert werden soll.  </p></li><li><p>Falls schon vorher bekannt ist, welche Bibliotheken verwendet werden sollen, kann man <em>"Configure external package"</em> auf <em>"Ja"</em> stellen.  </p></li></ul><p>Im letzten Schritt beim Konfigurieren der externen Pakete steht u.a. für den Eintrag <em>gtk+-2.0 &gt;= 2.10.6</em>. Daher wird der <code class="notranslate">./configure</code> - Aufruf dem Benutzer später eine Fehlermeldung geben, falls die installierte Version kleiner als 2.10.6 ist. Dazu später mehr im Abschnitt <a class="crosslink" href="#Bibliotheken">Bibliotheken hinzufügen</a>.</p><p>Folgende Bildserie veranschaulicht den Vorgang:</p><div style="clear: both"><div class="contents"></div></div><p>
</p><table style="float: left; margin: 10px 5px; border: none"><tr><td style="text-align: center; background-color: #E2C889; border: none"> <img alt="druide_2.png" class="image-default" src="./_/9b4a0409011a187ee1ea6752a43072eb8a4cd283.png"/> </td></tr><tr><td style="text-align: center; background-color: #F9EAAF; border: none"> Projekttyp</td></tr></table><div><div class="contents"></div></div><p>
</p><table style="float: left; margin: 10px 5px; border: none"><tr><td style="text-align: center; background-color: #E2C889; border: none"> <img alt="druide_3.png" class="image-default" src="./_/a89854c820e66210794e6b17f991ff92825c28af.png"/> </td></tr><tr><td style="text-align: center; background-color: #F9EAAF; border: none"> Basisinformationen</td></tr></table><div><div class="contents"></div></div><p>
</p><table style="float: left; margin: 10px 5px; border: none"><tr><td style="text-align: center; background-color: #E2C889; border: none"> <img alt="druide_4.png" class="image-default" src="./_/0d96638ecc492bb6603ddd5cbcb07a9056607841.png"/> </td></tr><tr><td style="text-align: center; background-color: #F9EAAF; border: none"> Projektoptionen</td></tr></table><div><div class="contents"></div></div><p>
</p><table style="float: left; margin: 10px 5px; border: none"><tr><td style="text-align: center; background-color: #E2C889; border: none"> <img alt="druide_5.png" class="image-default" src="./_/867f4b8460db9a616b02599cc5206891af7631d9.png"/> </td></tr><tr><td style="text-align: center; background-color: #F9EAAF; border: none"> externe Pakete konfigurieren</td></tr></table><div><div class="contents"></div></div><div style="clear: both"><div class="contents"></div></div></div><div class="section_1"><h2 id="Programm-erstellen-kompilieren-und-ausfuehren">Programm erstellen, kompilieren und ausführen<a class="headerlink" href="#Programm-erstellen-kompilieren-und-ausfuehren">¶</a></h2><p>
Jetzt wird erst einmal <span class="underline">automatisch</span> <code class="notranslate">./autogen.sh</code> beziehungsweise <code class="notranslate">./configure</code> ausgeführt und es erscheinen mehrere Meldungen im unteren Bereich von Anjuta. Falls dies nicht der Fall sein sollte, kann man auch auf <em>"Generieren -&gt; Run Autogenerate"</em> klicken. Wenn man etwas an den Compiler oder Linkereinstellungen verändert (z.B. Bibliotheken einfügen), sollte man diesen Befehl erneut aufrufen. Denn das <strong>autogen</strong>-Skript erzeugt die Dateien für den Befehl <code class="notranslate">./configure</code> welcher wiederum die Dateien für <code class="notranslate">make</code> bereitstellt.</p><p>Links im Bild sieht man den Projektbaum (im Projekt-Tabulator). Ein Doppelklick auf <strong>main.c</strong> unter dem Ast <em>"tutor"</em> präsentiert die Anwendung. In dem Quelltext steht bislang nur der Befehl zur Textausgabe:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"Hello world</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">return</span> <span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div><p>Um die Anwendung zu kompilieren kann man auf <em>"Erstellen -&gt; Compile"</em> klicken oder 
<span class="key">F9</span>  drücken. Der Compiler meldet im Ausgabefenster <em>"succesfull!"</em> Der Befehl zum Kompilieren <sup><a href="#source-6">[6]</a></sup> nennt sich <code class="notranslate">make</code> und kann natürlich auch wie gewohnt manuell im Terminal aufgerufen werden.</p><p>Gestartet wird das Programm mit <em>"Ausführen -&gt; Ausführen"</em> oder 
<span class="key">F3</span> . Zum Starten im Terminal würde man ohne grafische Oberfläche einfach <code class="notranslate">./tutor</code> verwenden. Nach Start des Programms öffnet sich ein Terminalfenster mit folgender Ausgabe:</p><div class="bash"><div class="contents"><pre class="notranslate">Hello world </pre></div></div><p><a class="crosslink anchor" href="#Bibliotheken" id="Bibliotheken"></a></p></div><div class="section_1"><h2 id="Bibliotheken-hinzufuegen">Bibliotheken hinzufügen<a class="headerlink" href="#Bibliotheken-hinzufuegen">¶</a></h2><p>
Um unter Anjuta eine Bibliothek hinzuzufügen, gibt es mehrere Möglichkeiten auf die im Folgenden kurz eingegangen wird.</p><div class="section_2"><h3 id="pkg-config">pkg-config<a class="headerlink" href="#pkg-config">¶</a></h3><p>
</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="anjuta_project_properties.png" class="image-default" src="./_/31d9a89d932cef9f15cffe18978e68466ca9807c.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 200px"> Projekt-Eigenschaften</td></tr></table><p>Wenn die gewünschte Bibliothek von <code class="notranslate">pkg-config</code> unterstützt wird, hat man in der Regel leichtes Spiel. Dann überprüft ein Makro welche Version vorhanden ist und gibt einem die entsprechenden Pfade für die Konfiguration zurück. Möchte man eine Liste der unterstützten Pakete haben und dann anschließend erfahren, welche Version dieses Pakets auf dem System installiert ist, so kann man das im Terminal durch folgende Befehle erreichen:</p><div class="bash"><div class="contents"><pre class="notranslate">pkg-config --list-all
pkg-config gtk+-2.0 --modversion </pre></div></div><p>Unter Anjuta klickt man dazu auf  <em>"Project -&gt; Properties"</em> und dann auf den Reiter <em>"Packages"</em>. Um nun eine neue Bibliothek einzufügen, klickt man als erstes auf <em>"Add module"</em> mit dem Namen TUTOR. Der Name ist eine Art Variable, die die Information über die Bibliotheken enthalten soll. Mit <em>"Add Package"</em> kann man dann die Bibliothek zur Liste hinzufügen. Falls eine Versionsüberprüfung erwünscht ist, trägt man noch in der rechten Spalte <code class="notranslate">&gt;= Versionnummer</code> ein. Wobei statt dem Wort <code class="notranslate">Versionsnummer</code> die entsprechende Zahl eingegeben werden muss.</p><p>Durch diesen Schritt wird veranlasst, dass die zwei Variablen <code class="notranslate">$(TUTOR_CFLAGS)</code> und <code class="notranslate">$(TUTOR_LIBS)</code> erzeugt werden und diese entsprechenden Optionen für den Compiler und den Linker enthalten.</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="anjuta_flags_dialog.png" class="image-default" src="./_/cc7093b6524b3770f36d3aca6dd74656cdb2182c.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 200px"> Gruppen-Eigenschaften</td></tr></table><p>Um dem Compiler dies mitzuteilen klickt man mit <img alt="linke Maustaste" class="image-default" src="./_/9c03a73e06581c6d6932d30e0750812ed76e6022.png"/> auf <em>"src -&gt; Properties"</em> im Projekt - Fenster. Dort ergänze man zu den vorhanden Einträgen <code class="notranslate"></code>$(TUTOR_CFLAGS)<code class="notranslate"></code>. Diese Variable enthält die Pfade, die man auch mit dem Befehl <strong>pkg-config gtk+-2.0 --cflags</strong> erhalten würde.</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="anjuta_libs_dialog.png" class="image-default" src="./_/de20fa84bfc8aa58fb4c8cb33945c5df6eb81dab.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 200px"> Ziel-Eigenschaften</td></tr></table><p>Für den Linker ist die Prozedur sehr ähnlich. Allerdings klickt man hier stattdessen auf den Programmnamen, in diesem Fall <em>"tutor -&gt; Properties"</em> im Projekt - Fenster. Dort ergänzt man den Eintrag <code class="notranslate">$(TUTOR_LIBS)</code> unter <em>"Libraries"</em>. Die Variable enthält die Pfade, die man auch mit dem Befehl <code class="notranslate">pkg-config gtk+-2.0 --libs</code> erhalten würde.</p><p>An der Stelle wird noch kurz erklärt, was Anjuta intern in den Dateien verändert hat. Die wichtigste Dateien, von Automake / Autoconf sind <strong>configure.ac</strong> und <strong>Makefile.am</strong>. Man kann diese Dateien ohne Probleme in Anjuta öffnen und editieren. Die IDE erkennt selbständig Änderungen und bessert automatisch die Menüeinstellungen aus. Zunächst einmal wurde in die <strong>configure.ac</strong> folgendes Makro eingefügt:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>PKG_CHECK_MODULES(TUTOR, gtk+-2.0 &gt;= 2.10.6 libglade-2.0 &gt;= 2.6.0) 
AC_SUBST(TUTOR_CFLAGS)
AC_SUBST(TUTOR_LIBS)
</pre></div>
</td></tr></table></div><p>Das bedeutet salopp ausgedrückt: Überprüfe ob gtk+-2.0 und libglade-2.0 in den richtigen Versionen vorliegen und fülle die Variablen <code class="notranslate"></code>$(TUTOR_CFLAGS)<code class="notranslate"></code> und <code class="notranslate"></code>$(TUTOR_LIBS)<code class="notranslate"></code> mit den entsprechenden Werten.</p><p>In der Datei <strong>src/Makefile.am</strong> findet man die Ausdrücke <code class="notranslate">TUTOR_CFLAGS</code>- und <code class="notranslate">TUTOR_LIBS</code>-Variable wieder, die dem Compiler und dem Linker die Pfade und Bibliotheken mitteilen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nv">INCLUDES</span> <span class="o">=</span> <span class="se">\ </span>
        -DPACKAGE_LOCALE_DIR<span class="o">=</span><span class="se">\"</span><span class="s2">"</span><span class="k">$(</span>prefix<span class="k">)</span><span class="s2">/</span><span class="k">$(</span>DATADIRNAME<span class="k">)</span><span class="s2">/locale"</span><span class="se">\"</span> <span class="se">\</span>
        -DPACKAGE_SRC_DIR<span class="o">=</span><span class="se">\"</span><span class="s2">"</span><span class="k">$(</span>srcdir<span class="k">)</span><span class="s2">"</span><span class="se">\"</span> <span class="se">\</span>
        -DPACKAGE_DATA_DIR<span class="o">=</span><span class="se">\"</span><span class="s2">"</span><span class="k">$(</span>datadir<span class="k">)</span><span class="s2">"</span><span class="se">\"</span> <span class="se">\</span>
        <span class="k">$(</span>TUTOR_CFLAGS<span class="k">)</span>
<span class="nv">tutor_LDADD</span> <span class="o">=</span> <span class="se">\</span>
        <span class="k">$(</span>TUTOR_LIBS<span class="k">)</span>
</pre></div>
</td></tr></table></div><p>Jetzt muss nur noch <strong>autogen.sh</strong> ausgeführt werden. Das erreicht man durch  "<em>Generieren -&gt; Run autogenerate</em>". Damit sind die die Bibliotheken richtig zum Projekt hinzugefügt und man kann sich ganz dem Programmieren widmen.</p></div><div class="section_2"><h3 id="m4-Skript">m4-Skript<a class="headerlink" href="#m4-Skript">¶</a></h3><p>
Diese Art eine Bibliothek hinzuzufügen ist nicht viel komplizierter. Man sollte sich dennoch damit beschäftigen, da es relativ viele Bibliotheken gibt, die pkg-config nicht beherrschen (z.B. wxWidget, SDL, ... ). Die meisten Bibliotheken installieren eine Makrodatei mit der Endung <strong>.m4 </strong> ins Verzeichnis <strong>/usr/share/aclocal</strong> Öffnet man die entsprechende Datei, so wird meist am Anfang erklärt, wie dieses Makro mit <strong>automake</strong> zu benutzen ist. Zum Beispiel trägt man, wenn man die SDL-Bibliothek benutzen will, folgendes Makro in die Datei <strong>configure.ac</strong> des Projektes ein:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>dnl Checks for libraries. 
dnl Check for SDL
SDL_VERSION=1.2.0
AM_PATH_SDL($SDL_VERSION,
            :,
            AC_MSG_ERROR([*** SDL version $SDL_VERSION not found!])
)
</pre></div>
</td></tr></table></div><p>Dieses Makro überprüft die Version und legt die Variablen <code class="notranslate">$(SDL_CFLAGS)</code> und <code class="notranslate">$(SDL_LIBS)</code> an. Diese müssen wie bei der pkg-Methode dem Compiler und dem Linker mitgeteilt werden. Dies funktioniert analog zur oben beschriebenen Methode.</p><p>Danach sollte wieder <code class="notranslate">autogen.sh</code> ausführt oder auf <em>"Generieren -&gt; Run Autogenerate"</em> geklickt werden.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Es gibt verschiedene Möglichkeiten, die das Einfügen solcher Bibliotheken erleichtern:</p><ul><li><p>Einen Assistenten schreiben, der das Konfigurieren übernimmt und die entsprechenden Zeilen automatisch in die Dateien einfügt, wenn man den Anwendungsdruiden ausführt. Hier könnte man sich als Beispiel den <strong>wxWidgets Wizard</strong> genauer ansehen. </p></li><li><p>Das <strong>Macro Plugin</strong> aktivieren (<em>"Einstellungen -&gt; Plugins"</em>) und für Bibliotheken entsprechende Makros erstellen. </p></li><li><p>Selbst ein Plugin für Anjuta entwickeln. Informationen dazu gibt es in der <a class="external" href="http://anjuta.org/documentations/subpage/documents/libanjuta/index.html" rel="nofollow">Anjuta Entwicklerdokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li></ul></div></div></div><div class="section_2"><h3 id="Direkte-Pfadangabe">Direkte Pfadangabe<a class="headerlink" href="#Direkte-Pfadangabe">¶</a></h3><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Diese Methode scheint am einfachsten, ist jedoch problembehaftet, eher unsauber und daher wenn möglich zu vermeiden. 
</p></div></div><p>Man kann natürlich die Bibliotheken auch einfach hinzufügen, indem man auf <em>"src -&gt; Properties"</em> klickt und <code class="notranslate">sdl-config --cflags</code> oder die direkten Pfade <code class="notranslate">-I/usr/include/SDL -D_GNU_SOURCE=1 -D_REENTRANT</code> einfügt. Dasselbe gilt für die Linkereinstellungen, in diesem Fall <code class="notranslate">sdl-config --libs</code> oder <code class="notranslate">-L/usr/lib -lSDL -lpthread</code> unter <em>"tutor -&gt; Properties"</em></p><p>Diese Methode funktioniert zwar auch, führt aber keine Versionsüberprüfung durch. Außerdem werden die Pfade nicht automatisch eingestellt. Es wird dann beim <code class="notranslate">configure</code>-Prozess kein Hinweis ausgegeben, dass die Bibliothek fehlt oder der Pfad nicht gefunden wurde. Beim Kompilieren werden dann teilweise kryptische Fehlermeldungen ausgegeben, die schwer zu interpretieren sind.</p><p><a class="crosslink anchor" href="#Glade" id="Glade"></a>
</p></div></div><div class="section_1"><h2 id="Grafische-Oberflaeche-erstellen">Grafische Oberfläche erstellen<a class="headerlink" href="#Grafische-Oberflaeche-erstellen">¶</a></h2><p>
</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="gtk_linker.png" class="image-default" src="./_/6879b5234e755273cf0961defa9375a45d88b164.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 200px"> Ziel-Eigenschaften</td></tr></table><p>Mit Anjuta kann man zusammen mit dem Glade-Plugin auch komplette graphische Oberflächen auf eine sehr kompfortable Art und Weise erstellen.</p><div class="section_2"><h3 id="Vorbereitungen">Vorbereitungen<a class="headerlink" href="#Vorbereitungen">¶</a></h3><p>
Damit Autoconnect Signale automatisch mit ihrer entsprechenden Callback-Funktion verbunden werden, muss die Linkereinstellungen noch um die Option <code class="notranslate">-export-dynamic</code> erweitert werden.</p></div><div class="section_2"><h3 id="Glade-Datei-erstellen">Glade Datei erstellen<a class="headerlink" href="#Glade-Datei-erstellen">¶</a></h3><p>
Das Glade-Interface-Designer-Widget findet man unter <em>"Datei -&gt;  Neu -&gt; Glade File"</em>. Es gibt hier vier wichtige Bereiche:</p><p>
</p><table><tr class="titel"><td colspan="2"> Glade-Interface-Designer </td></tr><tr class="kopf"><td> Fenstername </td><td> Erklärung </td></tr><tr><td> <strong>Palette</strong> </td><td> Dieser Bereich enthält alle Steuerelemente (Buttons, Textwidget,...)   </td></tr><tr><td> <strong>Designer</strong> </td><td> Eine Art graphischer Editor, in den die Steuerelemente gezogen werden können.   </td></tr><tr><td> <strong>Widgets</strong> </td><td> Alle Elemente (Buttons, Window, Container, ...) heißen Widgets. Die Elemente, die im Designer sichtbar sind, sind hier in einer Baumstruktur angeordnet und können ausgewählt werden um ihre Eigenschaften zu verändern  </td></tr><tr><td> <strong>Properties</strong> </td><td> Im Eigenschaftsfenster kann man jedem Widget z.B.. Signale (<img alt="linke Maustaste" class="image-default" src="./_/9c03a73e06581c6d6932d30e0750812ed76e6022.png"/> auf Button), Größe usw. zuordnen  </td></tr></table><p>Für unser Beispiel bauen wir nun folgende Oberfläche:</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="glade_interface_designer.png" class="image-default" src="./_/8474d60498ebebcef280af46b2f67e80a4b55c42.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 250px"> Glade-Interface-Designer</td></tr></table><ul><li><p><em>"Toplevels -&gt; Neues Fenster"</em> <img alt="./neues_fenster.png" class="image-default" src="./_/58d8bf77a545e7577d13313f8d5c2d8e9f59d19a.png"/> </p></li><li><p><em>"Containers -&gt; Vertical Box"</em> <img alt="./vertical_box.png" class="image-default" src="./_/a97f3cddd38437f12685b6d101dd3370e1a41313.png"/> (Anzahl der Elemente: 2)  </p><ul><li><p>Oberer Teil des Containers:  </p><ul><li><p><em>"Control and Display -&gt; Label"</em> <img alt="./label.png" class="image-default" src="./_/146337442ff3101e3cb1e3454702be67bda2adb2.png"/> (unter <em>"Properties: General -&gt; Beschriftung"</em>: <code class="notranslate">Dies ist ein Text</code>)  </p></li></ul></li><li><p>Unterer Teil des Containers:  </p><ul><li><p><em>"Containers -&gt; Horizontal Button Box"</em> <img alt="./horizont_button_box.png" class="image-default" src="./_/9f724a1ebc69c1b00e0cf83fb64f9bedc17a1056.png"/> (Anzahl der Element 2, unter <em>"Properties: Anordnungsstil -&gt; Spread"</em>)  </p><ul><li><p>Linke Seite und rechte Seite jeweils eine Schaltfläche <img alt="./button.png" class="image-default" src="./_/d1fb16597cf6b6c1406821985a12492e5ab53529.png"/> einfügen  </p></li></ul></li></ul></li></ul></li></ul><p>
Jetzt noch ein paar Signale zuordnen, die beim <img alt="linke Maustaste" class="image-default" src="./_/9c03a73e06581c6d6932d30e0750812ed76e6022.png"/> auf die Schaltflächen ausgelöst werden sollen:</p><p>
</p><table><tr class="kopf"><td> Signal </td><td> Handler </td></tr><tr><td> <em>"window1: Properties -&gt; Signals -&gt; Gtk-Widget -&gt; delete-event"</em> </td><td> <em>gtk_main_quit</em> </td></tr><tr><td> <em>"button1: Properties -&gt; Signals -&gt; GtkButton -&gt; clicked"</em> </td><td> <em>on_button1_clicked</em> </td></tr><tr><td> <em>"button2: Properties -&gt; Signals -&gt; GtkButton -&gt; clicked"</em> </td><td> <em>on_button2_clicked</em> </td></tr></table><p>Wenn alles so aussieht wie auf dem Bild rechts, muss das Glade Projekt nur noch gespeichert mittels <em>"Glade -&gt; Save as"</em>  gespeichert werden. Als Dateinamen <strong>tutor.glade</strong> wählen und sie im <strong>/src</strong> - Verzeichnis speichern. Dannach wird das Glade-Plugin über <em>"Glade -&gt; Close"</em> beendet.</p><p><a class="crosslink anchor" href="#Dateien" id="Dateien"></a>
</p></div><div class="section_2"><h3 id="Dateien-zum-Projekt-hinzufuegen">Dateien zum Projekt hinzufügen<a class="headerlink" href="#Dateien-zum-Projekt-hinzufuegen">¶</a></h3><p>
Die erzeugte Glade Datei muss jetzt noch zu diesem Projekt hinzufügt werden, schließlich will man ja, dass die Datei beim Installieren des Programms auch mit installiert wird. Wenn man eine neue Datei zu einem Projekt hinzufügen möchte (dies gilt auch für andere Dateien, wie z.B. Icons), geht man folgendermaßen vor:</p><div style="clear: both"><div class="contents"></div></div><p>
</p><table style="float: left; margin: 10px 5px; border: none"><tr><td style="text-align: center; background-color: #E2C889; border: none"> <img alt="add_target.png" class="image-default" src="./_/439f255d47040e0fdb53b8b8015ab3ce1097f0cf.png"/> </td></tr><tr><td style="text-align: center; background-color: #F9EAAF; border: none"> Add Target</td></tr></table><div><div class="contents"></div></div><p>
</p><table style="float: left; margin: 10px 5px; border: none"><tr><td style="text-align: center; background-color: #E2C889; border: none"> <img alt="new_target.png" class="image-default" src="./_/af8966712f60314d5337201ce7127001351f5044.png"/> </td></tr><tr><td style="text-align: center; background-color: #F9EAAF; border: none"> Target Glade erzeugen</td></tr></table><div><div class="contents"></div></div><p>
</p><table style="float: left; margin: 10px 5px; border: none"><tr><td style="text-align: center; background-color: #E2C889; border: none"> <img alt="add_source_file.png" class="image-default" src="./_/473504dd9aa855a241fb8a42abe78b9a3d900ac8.png"/> </td></tr><tr><td style="text-align: center; background-color: #F9EAAF; border: none"> Add Source File</td></tr></table><div><div class="contents"></div></div><p>
</p><table style="float: left; margin: 10px 5px; border: none"><tr><td style="text-align: center; background-color: #E2C889; border: none"> <img alt="add_source.png" class="image-default" src="./_/92b082678822db29874514516305f981ac36ab96.png"/> </td></tr><tr><td style="text-align: center; background-color: #F9EAAF; border: none"> tutor.glade hinzu fügen</td></tr></table><div><div class="contents"></div></div><div style="clear: both"><div class="contents"></div></div><p>Im Projekt Fenster auf <em>"src"</em> klicken und dann auf <em>"Add Target"</em>. Dieses Zielen wird nun Glade genant. Der <em>"Target Type"</em> ist: <em>Miscellaneous Data</em>. Danach wird die Glade-Datei <strong>tutor.glade</strong> zum Ziel Glade mittels <em>"Glade -&gt; Add Source File"</em> hinzu gefügt.</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="group_prop.png" class="image-default" src="./_/42d2cb0703664358146926af3af4944242c21e1a.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 200px"> Gruppen-Eigenschaften</td></tr></table><p>Jetzt muss nur noch der Installationspfad für dieses Ziel angegeben werden: Dazu geht man auf <em>"src -&gt; properties"</em>. Hier werden die <em>"Group properties"</em> angezeigt. Unter Glade trägt man dann <strong>$(datadir)/tutor/glade</strong> ein.</p></div><div class="section_2"><h3 id="Der-Quelltext-zu-diesem-Beispiel">Der Quelltext zu diesem Beispiel<a class="headerlink" href="#Der-Quelltext-zu-diesem-Beispiel">¶</a></h3><p>
Diesen Quelltext kann man in die <strong>main.c</strong> kopieren. Danach musst nur noch auf <em>"Generieren -&gt; Generieren"</em> klicken und das Programm ausführen. Dabei wird ein Fenster mit zwei Buttons geöffnet. Wenn man auf einen der Button klickt erscheint im Terminal button1 oder button2. Das Programm sollte selbsterklärend sein. Wenn man genauere Informationen über die Befehle erfahren möchte, schaut man die GTK - Referenz an.</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;config.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;gtk/gtk.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;glade/glade.h&gt;</span><span class="cp"></span>
<span class="kt">void</span> <span class="nf">on_button1_clicked</span><span class="p">(</span><span class="n">GtkButton</span><span class="o">*</span><span class="n">button</span><span class="p">,</span><span class="n">gpointer</span> <span class="n">user_data</span><span class="p">)</span> <span class="c1">// Callback Funktion</span>
<span class="p">{</span>
     <span class="n">g_print</span><span class="p">(</span><span class="s">"button1</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">on_button2_clicked</span><span class="p">(</span><span class="n">GtkButton</span><span class="o">*</span><span class="n">button</span><span class="p">,</span><span class="n">gpointer</span> <span class="n">user_data</span><span class="p">)</span> <span class="c1">// Callback Funktion</span>
<span class="p">{</span>
     <span class="n">g_print</span><span class="p">(</span><span class="s">"button2</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">//Wenn das Programm installiert wird, sollte man die folgende</span>
<span class="c1">//Zeile auskommentieren</span>
<span class="c1">//#define GLADE_FILE PACKAGE_DATA_DIR"/tutor/glade/tutor.glade"</span>
<span class="cp">#define GLADE_FILE "tutor.glade"</span>
<span class="n">GtkWidget</span><span class="o">*</span> <span class="nf">create_window</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
     <span class="n">GtkWidget</span> <span class="o">*</span><span class="n">window</span><span class="p">;</span>
     <span class="n">GladeXML</span> <span class="o">*</span><span class="n">gxml</span><span class="p">;</span>
     <span class="n">gxml</span> <span class="o">=</span> <span class="n">glade_xml_new</span> <span class="p">(</span><span class="n">GLADE_FILE</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span> <span class="c1">// Glade Datei laden</span>
     <span class="n">glade_xml_signal_autoconnect</span> <span class="p">(</span><span class="n">gxml</span><span class="p">);</span> <span class="c1">// Signale mit Callback- Funktionen verbinden z.B. on_button1_clicked</span>
     <span class="n">window</span> <span class="o">=</span> <span class="n">glade_xml_get_widget</span> <span class="p">(</span><span class="n">gxml</span><span class="p">,</span> <span class="s">"window1"</span><span class="p">);</span> <span class="c1">// Nach Widget window1 suchen und dem Pointer window zusweisen</span>
     <span class="k">return</span> <span class="n">window</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span> <span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
     <span class="n">GtkWidget</span> <span class="o">*</span><span class="n">window</span><span class="p">;</span>
     <span class="n">gtk_init</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">argc</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">argv</span><span class="p">);</span> <span class="c1">// Gtk Initialisieren</span>
     <span class="n">window</span> <span class="o">=</span> <span class="n">create_window</span> <span class="p">();</span> <span class="c1">// Window erstellen mit der Glade Datei</span>
     <span class="n">gtk_widget_show</span> <span class="p">(</span><span class="n">window</span><span class="p">);</span>  <span class="c1">// Window anzeigen</span>
     <span class="n">gtk_main</span> <span class="p">();</span> <span class="c1">// Repeat schleifen - Wartet auf Signale z.B. Button klicken ...</span>
     <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div></div></div><div class="section_1"><h2 id="GNOME-Menueeintrag-erstellen">GNOME Menüeintrag erstellen<a class="headerlink" href="#GNOME-Menueeintrag-erstellen">¶</a></h2><p>
Nett wäre es jetzt noch, wenn sich unser Programm beim Installieren direkt ins GNOME-Menü integrieren würde. Mit Anjuta ist das auch gar nicht schwer und es lässt sich auch mit dem bisher Gelernten erreichen:</p><p>Zuerst erstellt man ein weiteres Target mit dem Namen "<em>Desktop_Menu</em>" (Typ: <em>Miscellaneous Data</em>) und fügt eine neue Datei zum Projekt hinzu der man den Namen <strong>tutor.desktop</strong> gibt. Das alles geht analog zur obigen Anleitung: <a class="crosslink" href="#Dateien">Dateien zum Projekt hinzufügen</a>.</p><p>Da Menüeinträge im Normalfall durch ein spezifisches Icon gekennzeichnet werden, ist es sinnvoll, dass man seinem Programm ebenfalls eines spendiert. Wer möchte kann zu Testzwecken  dieses <img alt="./tutor.png" class="image-default" src="./_/b00f7950d6dd4c684090383dc4b14c199d39f732.png"/> verwenden. Das Icon kopiert man nach <strong>src/tutor.png</strong> und fügt die Datei zum Target "<em>Desktop_Icon</em>" hinzu, nachdem man es erzeugt hat.</p><p>Die Installationspfade unter Group Properties:</p><p>
</p><table><tr class="titel"><td colspan="2"> Installationspfade </td></tr><tr class="kopf"><td> Name </td><td> Pfad </td></tr><tr><td> Desktop_menu </td><td> $(datadir)/applications </td></tr><tr><td> Glade </td><td> $(datadir)/tutor/glade </td></tr><tr><td> Desktop_Icon </td><td> $(datadir)/pixmaps </td></tr></table><p>Die Datei <strong>tutor.desktop</strong> könnte z.B. folgendermaßen aussehen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>[Desktop Entry] 
Version=0.1
Name=Tutor Version 0.1
Comment=Testanwendung
Exec=tutor
Icon=tutor
Terminal=true
Type=Application
Categories=GNOME;GTK;Application;AudioVideo;
StartupNotify=true
</pre></div>
</td></tr></table></div><p>
Wenn man das Programm jetzt mit <strong>make install</strong> oder über <em>"Generieren -&gt; Install Projekt"</em> installiert, wird ein neuer Menüeintrag mit dem Namen "<em>Tutor</em>" und dem gewählten Icon unter "<em>Anwendungen -&gt; Unterhaltungsmedien</em>" erscheinen.</p></div><div class="section_1"><h2 id="Source-Paket-und-Ubuntu-Paket-erstellen">Source Paket und Ubuntu Paket erstellen<a class="headerlink" href="#Source-Paket-und-Ubuntu-Paket-erstellen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Quellcode-weitergeben">Quellcode weitergeben<a class="headerlink" href="#Quellcode-weitergeben">¶</a></h3><p>
Programme unter Linux werden oft als gepackter Quellcode mit der Dateibezeichnung <em>"Name-Version.tar.gz"</em> weitergeben. Dies hat den Vorteil, dass das Programm auf anderen Computern weiterbearbeitet werden kann. Darüber hinaus ist es so auch dadurch möglich Programme auf Nicht-Debian-Systemen zu installieren.</p><p>Um die Datei <strong>tutor-0.1.tar.gz</strong> zu erzeugen, gibt man im Terminal <sup><a href="#source-3">[3]</a></sup> den Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">make dist </pre></div></div><p>ein. Unter Anjuta erreicht man dies durch <em>"Generieren -&gt; Build Tarball"</em>. Hierbei werden werden nur die Dateien gepackt, die notwendig für die Ausführung des Programms sind. Unwichtiges, wie Objektleichen oder Notizdateien werden weg gelassen. Damit das Make-System die hinzugefügten Dateien als notwendig erkennt, wird in der Datei <strong>src/Makefile.am</strong> folgendes ergänzt:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nv">EXTRA_DIST</span> <span class="o">=</span> <span class="se">\ </span>
<span class="k">$(</span><span class="nv">Desktop_Menu_DATA</span><span class="k">)</span> <span class="err">\</span>
<span class="k">$(</span><span class="nv">Glade_DATA</span><span class="k">)</span> <span class="err">\</span>
<span class="k">$(</span><span class="nv">Desktop_Icon_DATA</span><span class="k">)</span>
</pre></div>
</td></tr></table></div><p>und in der Datei <strong>Makefile.am</strong>:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nv">EXTRA_DIST</span> <span class="o">=</span> <span class="se">\ </span>
<span class="k">$(</span><span class="nv">tutordoc_DATA</span><span class="k">)</span> <span class="err">\</span>
<span class="err">tutor.anjuta</span>
</pre></div>
</td></tr></table></div><p>Das Beispielprogramm kann jetzt z.B. hier heruntergeladen werden: <a class="crosslink" href="http://media.ubuntuusers.de/wiki/attachments/13/28/tutor-0.1.tar.gz" title="http://media.ubuntuusers.de/wiki/attachments/13/28/tutor-0.1.tar.gz">http://media.ubuntuusers.de/wiki/attachments/13/28/tutor-0.1.tar.gz</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/></p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Bevor das Programm mit <strong>make install</strong> installiert wird, sollte die Zeile 15 in der <strong>main.c</strong> auskommentiert und die Zeile 16 gelöscht werden, da sonst die Glade-Datei nicht im richtigen Verzeichnis gesucht wird. 
</p></div></div></div><div class="section_2"><h3 id="Debian-Paket-erstellen">Debian Paket erstellen<a class="headerlink" href="#Debian-Paket-erstellen">¶</a></h3><p>
Debian Pakete haben gewöhnlich die Dateiendung <strong>.deb</strong> und sollen jedem die einfache Installation deines Programms ermöglichen. Da Ubuntu ein <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Derivat_(Software)">Derivat</a> von Debian ist, finden sie auch hier Verwendung. An dieser Stelle wird auf den Artikel <a class="internal" href="./paketbau.html">Ubuntu-Pakete erstellen</a> im Wiki verwiesen, in dem dieses Thema sehr ausführlich besprochen wird.</p><p><a class="crosslink anchor" href="#Fehler" id="Fehler"></a>
</p></div></div><div class="section_1"><h2 id="Fehler">Fehler<a class="headerlink" href="#Fehler">¶</a></h2><p>
Obwohl Anjuta 2.1 schon sehr stabil läuft, enthält es trotzdem noch einige Fehler und stürzt hin und wieder ab. Es kommt hin und wieder vor, dass Anjuta beim Eintragen des Installationspfades in die Datei <strong>Makefile.am</strong> am Ende des Pfades ein Leerzeichen zuviel einträgt. Das führt dazu, dass z.B. die .desktop-Datei nicht ins richtige Verzeichnis installiert wird.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><div class="section_2"><h3 id="Entwicklungsumgebungen">Entwicklungsumgebungen<a class="headerlink" href="#Entwicklungsumgebungen">¶</a></h3><p>
</p><ul><li><p><a class="external" href="http://www.anjuta.org/" rel="nofollow">Anjuta.org/</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - u.a. weitere Tipps und Dokumentation  </p></li><li><p><a class="external" href="http://glade.gnome.org/" rel="nofollow">Glade - A User Interface Designer</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - zum grafischen Erstellen der Benutzeroberfläche  </p></li></ul><p>
</p></div><div class="section_2"><h3 id="Toolkits">Toolkits<a class="headerlink" href="#Toolkits">¶</a></h3><p>
</p><ul><li><p><a class="external" href="http://www.gtk.org/" rel="nofollow">Gtk.org</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - weitere Dokumentation und Tutorials  </p></li><li><p><a class="external" href="http://www.jamesh.id.au/software/libglade/" rel="nofollow">libglade Tutorial</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.gtkmm.org/" rel="nofollow">Gtkmm.org</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - GTK für C++  </p></li></ul><p>
</p></div><div class="section_2"><h3 id="Autoconf-und-Automake">Autoconf und Automake<a class="headerlink" href="#Autoconf-und-Automake">¶</a></h3><p>
Tutorials zu dem Thema:</p><ul><li><p><a class="external" href="http://autotoolset.sourceforge.net/tutorial.html" rel="nofollow">Learning the GNU development tools</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.seul.org/docs/autotut/" rel="nofollow">autotut: Using GNU auto{conf,make,header}</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.lrde.epita.fr/~adl/autotools.html" rel="nofollow">Autotools Tutorial</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Präsentation auch für Gettext</p></li></ul><p>
</p></div><div class="section_2"><h3 id="Literatur">Literatur<a class="headerlink" href="#Literatur">¶</a></h3><p>
</p><ul><li><p><a class="external" href="https://www.rheinwerk-verlag.de/gnome-20_356/" rel="nofollow">GNOME 2.0 - Das Entwicklerhandbuch</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> von Matthias Warkus (vergriffen, aber evtl. noch gebraucht erhältlich) </p></li><li><p><a class="external" href="http://www.apress.com/book/view/1590597931" rel="nofollow">Foundations of GTK+ Development</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> von Andrew Krause  </p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./anjuta/a/revision/938392.html">Diese Revision</a> wurde am 28. April 2017 19:00 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./anjuta.html">Anjuta</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>