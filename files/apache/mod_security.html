<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Apache/mod_security › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../apache/mod_security.html">mod security</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Apache/mod_security">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../apache/mod_security/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../apache/mod_security/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../apache/mod_security/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../apache/mod_security/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../apache/mod_security/a/backlinks.html">mod security</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../editor.html">Einen Editor verwenden</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Vorbereitung">Vorbereitung
</a></li><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Kontrolle">Kontrolle
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Dieser Artikel beschränkt sich auf die Sicherung des Webservers <a class="internal" href="../apache.html">Apache</a> unter <a class="internal" href="../trusty.html">Ubuntu 14.04</a> durch das Modul <a class="external" href="https://modsecurity.org/" rel="nofollow">ModSecurity</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Einen übergeordneten Artikel findet man im Wiki unter <a class="internal" href="../apache/sicherheit.html">Apache/Sicherheit</a>.</p><p>mod_security arbeitet ähnlich einem <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Intrusion_Prevention_System">Intrusion Prevention System</a> (IPS). Die Entwickler des Moduls nennen die Regeln <em>corerules</em>. Wird gegen eine dieser <em>corerules</em> verstoßen, so wird dies vom Modul aktiv gemeldet. Hier ist zwischen einer Warnung und einem Fehler zu unterscheiden. Fehler werden mit einer ID versehen. Bei einem Fehler wird der Netzwerkverkehr des anfragenden Clients blockiert. Die Meldungen werden in der <strong>/var/log/apache2/error.log</strong> ausgegeben. Zudem führt das Modul unter <strong>/var/log/apache2/modsec_audit.log</strong> eine ausführliche Protokolldatei.</p><p>Hier ein Beispiel für einen Fehler mit <a class="internal" href="../mysql/werkzeuge.html#phpMyAdmin">phpMyAdmin</a>. Fehler und Blockade mit der dazugehörigen ID sind gelb hervorgehoben:
</p><blockquote><p>Sat Dec 15 21:18:45 2012] <strong class="highlighted">[error]</strong> [client 221.345.123.67] ModSecurity: <strong class="highlighted">Access denied with code 403 (phase 1)</strong>. Match of "streq %{SESSION.UA}" against "TX:ua_hash" required. [file "/usr/share/modsecurity-crs/optional_rules/modsecurity_crs_16_session_hijacking.conf"] [line "35"] <strong class="highlighted">[id "981060"]</strong> [msg "Warning - Sticky SessionID Data Changed - User-Agent Mismatch."] [hostname "meinedomain.net"] [uri "/phpmyadmin/js/cross_framing_protection.js"] [unique_id "UMzbJX8AAQEAACPAHPMAAAAJ"]</p></blockquote><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Apache-Module sollte man immer in ihren <strong>/etc/apache2/mods-available/*.conf</strong>-Dateien ändern, nie in ihren <strong>/etc/apache2/mods-enabled/*.load</strong>-Dateien!
</p></div></div><div class="section_1"><h2 id="Vorbereitung">Vorbereitung<a class="headerlink" href="#Vorbereitung">¶</a></h2><p>
Um überprüfen zu können, ob dieses Modul auch ordnungsgemäß arbeitet, gibt es eine denkbar einfache Lösung. Man erstellt im document-root des Webservers eine Datei <strong>test.php</strong> <sup><a href="#source-1">[1]</a></sup><sup><a href="#source-2">[2]</a></sup> und folgendem Inhalt:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="nv">$secret_file</span> <span class="o">=</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">'secret_file'</span><span class="p">];</span>
<span class="k">include</span> <span class="p">(</span> <span class="nv">$secret_file</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</td></tr></table></div><p>
Anschließend muss der Webserver neu gestartet werden <sup><a href="#source-3">[3]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service apache2 reload </pre></div></div><p> 
Ruft man nun in einem beliebigen Browser die URL <code class="notranslate">http://SERVER_IP_ODER_NAME/test.php?secret_file=/etc/passwd</code> auf, wird die Datei <strong>/etc/passwd</strong> angezeigt, was sicherlich nicht im Sinne des Serverbetreibers ist...</p></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
mod_security ist direkt in den Paketquellen von Ubuntu enthalten. Benötigt wird folgendes Paket <sup><a href="#source-4">[4]</a></sup>:</p><ul><li><p><strong>libapache2-mod-security2</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install libapache2-mod-security2 </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install libapache2-mod-security2 </pre></div></div><p>
</p></div></div><p>Anschließend muss das Modul noch aktiviert werden. Dies geschieht am einfachsten mit den folgenden Befehlen im Terminal:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo a2enmod security2 </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Um Fehlermeldungen auf Grund eines unzureichenden <em>Header Response Handlings</em> zu erhalten, sollte das Modul <a class="external" href="https://httpd.apache.org/docs/2.4/mod/mod_headers.html" rel="nofollow">ModHeaders</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> aktiviert werden. Dies geschieht am einfachsten mit den folgenden Befehlen im Terminal:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo a2enmod headers </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
</p><div class="section_2"><h3 id="Corerules">Corerules<a class="headerlink" href="#Corerules">¶</a></h3><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die Konfigurationsdateien für dieses Modul befindet sich unter <strong>/etc/modsecurity/modsecurity.conf-recommended</strong>.
</p></div></div><p>Damit Apache diese Konfigurationsdatei auch lädt, kopiert man diese:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /etc/modsecurity/modsecurity.conf-recommended /etc/modsecurity/modsecurity.conf </pre></div></div><p>Öffnet man nun die Datei <strong>/etc/modsecurity/modsecurity.conf</strong> mit einem beliebigen Texteditor, befindet sich das Modul im Erkennungsmodus (Detectionmode). In diesem Modus werden keine <em>corerules</em> geladen und es wird daher kein Client aktiv blockiert.</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c"># -- Rule engine initialization ----------------------------------------------</span>

<span class="c"># Enable ModSecurity, attaching it to every transaction. Use detection</span>
<span class="c"># only to start with, because that minimises the chances of post-installation</span>
<span class="c"># disruption.</span>
<span class="c">#</span>
<span class="nb">SecRuleEngine</span> DetectionOnly # Operationsmodus

<span class="c">#SecFilterSelective SCRIPT_FILENAME "export\.php$" chain</span>
<span class="c">#SecFilterSelective ARG_what "\.\."</span>
...
...
..
.
</pre></div>
</td></tr></table></div><p>Mit der Installation von mod_security werden <em>corerules</em> mitgeliefert, die jedoch in der Voreinstellung nicht geladen werden. Hierzu muss man die Datei <strong>/etc/modsecurity/modsecurity.conf</strong> bearbeiten. Die Datei sollte am Beginn den Befehl <strong>SecRuleEngine On</strong> beinhalten. Ebenso muss der Pfad zu den <em>corerules</em> angegeben werde. Die mitgelieferten <em>corerules</em> befinden sich im Verzeichnis <strong>/usr/share/modsecurity-crs/</strong>.</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c"># -- Rule engine initialization ----------------------------------------------</span>

<span class="c"># Enable ModSecurity, attaching it to every transaction. Use detection</span>
<span class="c"># only to start with, because that minimises the chances of post-installation</span>
<span class="c"># disruption.</span>
<span class="c">#</span>
<span class="c">#SecRuleEngine DetectionOnly</span>
<span class="c">#</span>
<span class="nb">SecRuleEngine</span> <span class="k">On</span>                                   

<span class="nb">Include</span> <span class="sx">/usr/share/modsecurity-crs/</span>*.conf
<span class="nb">Include</span> <span class="sx">/usr/share/modsecurity-crs/base_rules/</span>*.conf
<span class="nb">Include</span> <span class="sx">/usr/share/modsecurity-crs/optional_rules/</span>*.conf

<span class="c">#SecFilterSelective SCRIPT_FILENAME "export\.php$" chain</span>
<span class="c">#SecFilterSelective ARG_what "\.\."</span>
....
...
..
.
</pre></div>
</td></tr></table></div><p>
</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Corerules werden von <a class="external" href="http://spiderlabs.github.com/owasp-modsecurity-crs/" rel="nofollow">modsecurity-corerules</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> kontinuierlich weiterentwickelt und stehen zum Download zur Verfügung.
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Per Voreinstellung schreibt das Modul seine Ausgaben nach <strong>/opt/modsecurity/var/audit/</strong>. Möchte man dies ändern, sucht man in der Datei <strong>/etc/modsecurity/modsecurity.conf</strong> (unter Ubuntu 12.04 <strong>/etc/apache2/conf.d/modsecurity.conf</strong>) nach dem Absatz:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c"># -- Audit log configuration -------------------------------------------------</span>
</pre></div>
</td></tr></table></div><p>Hier kann man den Absatz wie folgend editieren:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c"># Log the transactions that are marked by a rule, as well as those that</span>
<span class="c"># trigger a server error (determined by a 5xx or 4xx, excluding 404,</span>
<span class="c"># level response status codes).</span>
.
..
...
<span class="c"># Use a single file for logging. This is much easier to look at, but</span>
<span class="c"># assumes that you will use the audit log only ocassionally.</span>
<span class="c">#</span>
<span class="nb">SecAuditLogType</span> Serial

<span class="c"># Specify the path for concurrent audit logging.</span>
<span class="c">#SecAuditLogStorageDir /opt/modsecurity/var/audit/</span>
<span class="nb">SecAuditLog</span> <span class="sx">/var/log/apache2/modsec_audit.log</span>
...
..
.
</pre></div>
</td></tr></table></div><p>
</p></div></div><p>
Die Konfiguration mit aktiven <em>corerules</em> wird nun neu geladen.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service apache2 restart
sudo service apache2 force-reload </pre></div></div></div></div><div class="section_1"><h2 id="Kontrolle">Kontrolle<a class="headerlink" href="#Kontrolle">¶</a></h2><p>
Mit dem zu Beginn erstellten Dokument kann man kontrollieren, ob das Modul auch adäquat arbeitet. Man ruft in einem beliebigen Browser die URL <code class="notranslate">http://SERVER_IP_ODER_NAME/test.php?secret_file=/etc/passwd</code> auf. Erhält man ein "<code class="notranslate">HTTP 403 -access denied</code>", arbeitet das Modul wie vorgesehen.</p><div class="section_2"><h3 id="Anwendungen-Dienste-ausschliessen">Anwendungen/Dienste ausschließen<a class="headerlink" href="#Anwendungen-Dienste-ausschliessen">¶</a></h3><p>
Wenn man Anwendungen/Dienste am Webserver erreichen will, wird mod_security dies verweigern. Wie am obigen Beispiel mit phpMyAdmin deutlich wird, kann man nun auf Grund der Fehlermeldungen in der <strong>/var/log/apache2/error.log</strong> die Fehler-IDs filtern und freigeben.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Je weniger Fehler-IDs man freigibt, desto klüger. Des Weiteren sollte man für jede/n Anwendung/Dienst die Fehler-IDs individuell herausarbeiten. Generell alle Fehler freizugeben, kommt einem Untergraben von mod_security gleich und hebelt damit dessen Wirkung aus.
</p></div></div><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c"># -- Rule engine initialization ----------------------------------------------</span>

<span class="c"># Enable ModSecurity, attaching it to every transaction. Use detection</span>
<span class="c"># only to start with, because that minimises the chances of post-installation</span>
<span class="c"># disruption.</span>
<span class="c">#</span>
<span class="c">#SecRuleEngine DetectionOnly</span>
<span class="nb">SecRuleEngine</span> <span class="k">On</span>

<span class="nb">Include</span> <span class="sx">/usr/share/modsecurity-crs/</span>*.conf
<span class="nb">Include</span> <span class="sx">/usr/share/modsecurity-crs/base_rules/</span>*.conf
<span class="nb">Include</span> <span class="sx">/usr/share/modsecurity-crs/optional_rules/</span>*.conf

<span class="c">#SecFilterSelective SCRIPT_FILENAME "export\.php$" chain</span>
<span class="c">#SecFilterSelective ARG_what "\.\."</span>

<span class="c">#Rule to exclude phpmyadmin</span>
<span class="nt">&lt;LocationMatch</span> <span class="s">'^/phpmyadmin/'</span><span class="nt">&gt;</span>
<span class="nb">SecRuleRemoveById</span> <span class="m">981143</span>,981185,981186,981203,981144,981060,981184,981203
<span class="nt">&lt;/LocationMatch&gt;</span>

<span class="c"># -- Request body handling ---------------------------------------------------</span>

<span class="c"># Allow ModSecurity to access request bodies. If you don't, ModSecurity</span>
<span class="c"># won't be able to see any POST parameters, which opens a large security</span>
<span class="c"># hole for attackers to exploit.</span>
<span class="c">#</span>
<span class="nb">SecRequestBodyAccess</span> <span class="k">On</span>
....
...
..
.
</pre></div>
</td></tr></table></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wenn man eine sehr ausführliche debug-Informationen des Moduls erhalten möchte, sucht man in der <strong>/etc/apache2/conf.d/modsecurity.conf</strong> nach dem Absatz:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c"># -- Debug log configuration -------------------------------------------------</span>
</pre></div>
</td></tr></table></div><p>Hier kann man den Absatz wie folgend editieren:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c"># The default debug log configuration is to duplicate the error, warning</span>
<span class="c"># and notice messages from the error log.</span>
<span class="c">#</span>
<span class="c">#SecDebugLog /opt/modsecurity/var/log/debug.log</span>
<span class="c">#SecDebugLogLevel 3</span>
<span class="nb">SecDebugLog</span> <span class="sx">/var/log/apache2/modsec_debug.log</span>
<span class="nb">SecDebugLogLevel</span> <span class="m">5</span>
</pre></div>
</td></tr></table></div><p>
"<code class="notranslate">SecDebugLogLevel 5</code>" stellt die ausführlichste Ausgabe dar.
</p></div></div><p>
Nach einem neuerlichen Laden der Konfiguration, kann man nun (wie im Beispiel am Anfang des Artikels beschrieben) auf phpMyAdmin zugreifen.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service apache2 restart
sudo service apache2 force-reload </pre></div></div></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
Dieses Modul arbeitet nur mit dem Webserver Apache. Fehler sind in den folgenden Log-Dateien ersichtlich:
</p><ul><li><p><strong>/var/log/syslog</strong></p></li><li><p><strong>/var/log/apache2/access.log</strong></p></li><li><p><strong>/var/log/apache2/error.log</strong></p></li><li><p><strong>/var/log/apache2/modsec_audit.log</strong></p></li><li><p><strong>/var/log/apache2/modsec_debug.log</strong></p></li></ul><p>
</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="https://modsecurity.org/" rel="nofollow">ModSecurity</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="https://modsecurity.comodo.com/" rel="nofollow">ModSecurity Overview</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://spiderlabs.github.com/owasp-modsecurity-crs/" rel="nofollow">modsecurity-corerules</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="internal" href="../apache_2.4.html">Apache 2.4</a> - Hauptartikel</p></li><li><p><a class="internal" href="../apache/sicherheit.html">Apache/Sicherheit</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../apache/mod_security/a/revision/939117.html">Diese Revision</a> wurde am 4. Mai 2017 11:19 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../apache.html">Apache</a></li>
<li><a href="../apache/mod_security.html">mod security</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>