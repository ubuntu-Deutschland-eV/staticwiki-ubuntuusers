<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Ubuntu_umziehen › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./ubuntu_umziehen.html">Ubuntu umziehen</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Ubuntu_umziehen">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./ubuntu_umziehen/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./ubuntu_umziehen/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./ubuntu_umziehen/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./ubuntu_umziehen/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./ubuntu_umziehen/a/backlinks.html">Ubuntu umziehen</a></h1>
<div id="page"><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./partitionierung/grundlagen.html">Grundlagen: Partitionen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Voraussetzungen">Voraussetzungen
</a></li><li><a class="crosslink" href="#berblick-verschaffen">Überblick verschaffen
</a></li><li><a class="crosslink" href="#Ubuntu-LiveCD-herunterladen">Ubuntu LiveCD herunterladen
</a></li><li><a class="crosslink" href="#Partition-erstellen">Partition erstellen
</a></li><li><a class="crosslink" href="#Partitionen-unter-der-LiveCD-einbinden">Partitionen unter der LiveCD einbinden
</a></li><li><a class="crosslink" href="#Daten-mit-dem-Programm-rsync-kopieren">Daten mit dem Programm rsync kopieren
</a></li><li><a class="crosslink" href="#Alternative-Daten-mit-dem-Programm-cp-kopieren">Alternative -  Daten mit dem Programm cp k...</a></li><li><a class="crosslink" href="#fstab">fstab
</a></li><li><a class="crosslink" href="#GRUB">GRUB
</a></li><li><a class="crosslink" href="#Abschliessende-Schritte">Abschließende Schritte
</a></li><li><a class="crosslink" href="#Links">Links
</a><ol class="arabic"><li><a class="crosslink" href="#Intern">Intern
</a></li><li><a class="crosslink" href="#Extern">Extern
</a></li></ol></li></ol></div><p>Dieser Artikel beschreibt, wie man eine vorhandene Ubuntu-Installation auf eine neue Festplatte kopieren kann. Es gibt viele Gründe, warum man eine Installation auf eine andere Festplatte umziehen möchte: kein freier Speicherplatz mehr, eine neue leistungsfähigere Festplatte oder ein neuer PC wurde angeschafft.</p><p>Eine andere Art von Umzug ist es, wenn vorhandene Festplatten einfach in einen anderen Computer eingebaut werden. Dies ist meist ohne weiteres möglich, sofern die neue Hardware unterstützt wird, und man ggf. benutzte proprietäre Grafiktreiber vorher deinstalliert. Manchmal muss man auch die <a class="internal" href="./booten.html">Bootoptionen</a> anpassen, falls diese nicht auch für das neue System passen.</p><p>Da es eine Vielzahl an Installationsmöglichkeiten und Spezialfällen gibt, die dieser Artikel nicht alle abdecken kann, wird nur die "Standardinstallation" berücksichtigt:</p><ul><li><p>eine Partition für das System</p></li><li><p>ggf. eine Boot-Partition, falls im bisherigen System vorhanden (in einem <a class="internal" href="./efi_bootmanagement.html">(U)EFI</a>-System obligatorisch)</p></li><li><p>eine Partition für swap</p></li></ul><p>
Informationen zum Umziehen eines <a class="internal" href="./software-raid.html">Software-RAID</a> gibt es z.B. auf <a class="external" href="http://ubuntuforums.org/showthread.php?t=756407" rel="nofollow">ubuntuforums.org</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p><div class="section_1"><h2 id="Voraussetzungen">Voraussetzungen<a class="headerlink" href="#Voraussetzungen">¶</a></h2><p>
Im folgenden Beispiel wird von folgenden Annahmen ausgegangen:</p><ul><li><p>Das umzuziehende Standardsystem ist auf der Festplatte <strong>sda</strong> installiert und</p></li><li><p>soll auf die neue Festplatte <strong>sdb</strong> kopiert werden</p></li><li><p>Das Homeverzeichnis befindet sich im Root-Dateisystem (auf der gleichen <a class="internal" href="./partitionierung.html#Einteilung-der-Partitionen">Partition</a>)</p></li></ul><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Durch Tippfehler z.B. beim Kopieren des Betriebssystems kann das alte System unbrauchbar werden. Daher wird dringend empfohlen, zuvor ein Backup zu erstellen (siehe <a class="internal" href="./datensicherung.html">Datensicherung</a>)!
</p></div></div></div><div class="section_1"><h2 id="berblick-verschaffen">Überblick verschaffen<a class="headerlink" href="#berblick-verschaffen">¶</a></h2><p>
Zunächst sollte man sich einen Überblick über das System verschaffen und die Partitionen identifizieren, auf denen sich das Root-System befindet.</p><p>Über den Befehl <sup><a href="#source-1">[1]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">mount | egrep ^/dev/ </pre></div></div><p>erhält man eine Liste der eingebundenen Geräte. Besonders interessant ist das Root-Dateisystem (im Beispiel sda1), das als Wurzelverzeichnis (<strong>/</strong>) eingebunden ist:</p><pre class="notranslate">/dev/sda1 on / type ext3 (rw)</pre><p>Hat man ein anderes Dateisystem, wie ReiserFS oder ext4, ist das Wort hinter <code class="notranslate">type</code> natürlich <code class="notranslate">reiserfs</code> oder <code class="notranslate">ext4</code>. Ebenso kann die Zahl hinter <code class="notranslate">sda</code> variieren, wenn man Ubuntu nicht auf der 1. Partition liegen hat.</p><p>Man erkennt, dass das Root-Filesystem auf der ersten Partition der Festplatte <strong>/dev/sda</strong> eingebunden ist. Man sollte sicherheitshalber in der Liste überprüfen, dass sich das gesamte Ubuntu-System auf dieser Partition befindet. Tauchen in der Liste noch andere Einträge auf, wie z.B. <code class="notranslate">/dev/sda2 on /home ext3 (...)</code>, so befindet sich das System verteilt auf verschiedene Partitionen. Das bedeutet, dass man dies beim späteren Anlegen der Partitionen auf der neuen Platte und beim Kopieren der Daten berücksichtigen muss.</p></div><div class="section_1"><h2 id="Ubuntu-LiveCD-herunterladen">Ubuntu LiveCD herunterladen<a class="headerlink" href="#Ubuntu-LiveCD-herunterladen">¶</a></h2><p>
Zuallererst wird die <span class="underline">Desktop-CD</span> von Ubuntu benötigt, diese kann <a class="internal" href="./downloads.html">hier</a> heruntergeladen werden. Wichtig ist bei 64 Bit Systemen entsprechend eine 64 Bit ISO herunterzuladen, da <a class="internal" href="./chroot/live-cd.html#Einrichtung">chroot</a> andernfalls nicht korrekt funktioniert. Nach dem Download wird das ISO-Image der Live-CD auf eine CD <a class="internal" href="./ubuntu-cd.html">gebrannt</a>.</p><p>Nun wird die neue Festplatte zusätzlich zur alten in den Computer eingebaut. Danach bootet man von der Ubuntu-LiveCD.</p></div><div class="section_1"><h2 id="Partition-erstellen">Partition erstellen<a class="headerlink" href="#Partition-erstellen">¶</a></h2><p>
Nach dem Booten werden zuerst die aktuellen Festplattenbezeichnungen ermittelt:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo fdisk -l </pre></div></div><p>Die Ausgabe könnte folgendermaßen aussehen:</p><pre class="notranslate">Platte /dev/sda: 500.1 GByte, 500107862016 Byte
255 Köpfe, 63 Sektoren/Spuren, 60801 Zylinder
Einheiten = Zylinder von 16065 × 512 = 8225280 Bytes
Disk identifier: 0x000da950

   Gerät  boot.     Anfang        Ende     Blöcke   Id  System
/dev/sda1   *           1       60737   487869921   83  Linux
/dev/sda2           60738       60801      514080   82  Linux Swap / Solaris

Platte /dev/sdb: 250.0 GByte, 250059350016 Byte
255 Köpfe, 63 Sektoren/Spuren, 30401 Zylinder
Einheiten = Zylinder von 16065 × 512 = 8225280 Bytes
Disk identifier: 0x0007f522

   Gerät  boot.     Anfang        Ende     Blöcke   Id  System</pre><p>Die Festplatte <strong>sda</strong> enthält das zu kopierende System in zwei Partitionen: Auf der ersten befindet sich das Ubuntu-System, die zweite Partition ist eine Swap-Partition. Die Festplatte <strong>sdb</strong> ist komplett leer, es befinden sich keine Partitionen darauf.</p><p>Nun muss man die Festplatte <strong>sdb</strong> mit <a class="internal" href="./partitionierung.html">GParted</a> analog der alten Festplatteneinteilung <strong>sda</strong> einrichten. Mit analog ist hier die Anzahl der Partitionen gemeint, nicht die Größe. Letztere kann an die tatsächlichen Gegebenheiten angepasst werden:</p><ul><li><p>ggf. eine Boot Partition, falls bisher auch schon verwendet</p></li><li><p><strong>Systempartition ("/")</strong>: muss mit einem Linux-tauglichen <a class="internal" href="./dateisystem.html">Dateisystem</a> formatiert werden</p></li><li><p><strong>Swap-Partition ("/swap")</strong>: siehe <a class="internal" href="./swap.html#Swap-Partition-nachtraeglich-erstellen">Swap-Partition</a> erstellen</p></li></ul><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Eine ausführliche Anleitung zum Partitionieren erhält man hier: <a class="internal" href="./partitionierung.html">Partitionierung</a> und <a class="internal" href="./manuelle_partitionierung.html">Manuelle Partitionierung</a>
</p></div></div></div><div class="section_1"><h2 id="Partitionen-unter-der-LiveCD-einbinden">Partitionen unter der LiveCD einbinden<a class="headerlink" href="#Partitionen-unter-der-LiveCD-einbinden">¶</a></h2><p>
Nach dem nun die neue Festplatte erfolgreich eingerichtet wurde, hängt man die neue Root-Partition wie auch die alte ein. In diesem Beispiel wird davon ausgegangen, dass das bestehende System auf <strong>sda1</strong> liegt und die Partition auf der neuen Festplatte <strong>sdb1</strong> ist. Dazu werden neue Ordner erstellt und die Partitionen dort eingebunden. Im Terminal werden folgende Befehle für die alte Festplatte benötigt, die mit der Option -o ro nur Read-only gemountet wird, damit nicht aus Versehen die bestehende Installation verändert werden kann:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /mnt/alt
sudo mount -o ro /dev/sda1 /mnt/alt </pre></div></div><p>Dann hängt man die neue Festplatte bzw. Partition, auf die das "neue" Betriebssystem kopiert werden soll, ein.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /mnt/neu
sudo mount /dev/sdb1 /mnt/neu </pre></div></div><p>Falls separate Boot Partitionen genutzt werden, sollten diese ebenfalls gemountet werden:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /mnt/alt/boot
sudo mkdir /mnt/neu/boot

sudo mount /dev/sdaX /mnt/alt/boot
sudo mount /dev/sdbX /mnt/neu/boot </pre></div></div></div><div class="section_1"><h2 id="Daten-mit-dem-Programm-rsync-kopieren">Daten mit dem Programm rsync kopieren<a class="headerlink" href="#Daten-mit-dem-Programm-rsync-kopieren">¶</a></h2><p>
Nun kopiert man alle Dateien mit dem Befehl <a class="internal" href="./rsync.html">rsync</a> von der alten Partition zur neuen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo rsync --stats --progress --numeric-ids -axAhHSP  /mnt/alt/ /mnt/neu </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Um den Kopiervorgang zu beschleunigen, kann zusätzlich die Option <code class="notranslate">--quiet</code> gesetzt werden. Dies bewirkt das keine Hinweismeldungen ausgegeben werden, was den Flaschenhals der Ausgabegeschwindigkeit der Konsole umgeht. Nutzt man diese Variante, so läuft der Kopiervorgang, bis auf Fehlermeldungen, blind ab.
</p></div></div><p>Möchte man sicherstellen, dass die Betriebssystem-Kopie vollständig ist und mit dem Original exakt übereinstimmt, kann man einen zweiten Durchlauf mit rsync machen. Mit der zusätzlichen Option -c wird dann Quelle und Ziel per Prüfsummen verglichen:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo rsync --stats --progress --numeric-ids -axAhHSPc  /mnt/alt/ /mnt/neu  </pre></div></div><p>
Ohne Auflistung geänderter Dateien ist die Kopie erfolgreich.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p><a class="internal" href="./rsync.html">rsync</a> ist dem Shell-Befehl <a class="internal" href="./cp.html">cp</a> vorzuziehen.</p><p>Bei einer defekten Festplatte kann es vorkommen, dass der Kopiervorgang einfach "hängen bleibt", ggf. friert sogar das gesamte System beim Zugriff auf defekte Sektoren ein. Tritt dieses Problem auf, ist ein schrittweises Kopieren der Daten nötig. Man nimmt sich also analog zu obiger Syntax jedes Verzeichnis einzeln vor. Wird der Kopiervorgang für ein Verzeichnis erfolgreich abgeschlossen, wendet man sich dem nächsten zu - nachdem man mit dem Befehl <code class="notranslate">sync</code> sichergestellt hat, dass die kopierten Daten aus dem Cache auch auf die Platte geschrieben wurden. Kommt es zu besagtem "Hänger", ist die verursachende Datei die letzte in der Ausgabe des Kopierbefehls - diese darf also beim Kopieren nicht (mehr) angefasst, und muss stattdessen später aus einem (hoffentlich vorhandenen) <a class="internal" href="./backup.html">Backup</a> wieder hergestellt werden.
</p></div></div></div><div class="section_1"><h2 id="Alternative-Daten-mit-dem-Programm-cp-kopieren">Alternative -  Daten mit dem Programm cp kopieren<a class="headerlink" href="#Alternative-Daten-mit-dem-Programm-cp-kopieren">¶</a></h2><p>
Kopierbefehl mit <a class="internal" href="./cp.html">cp</a>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp -avxT /mnt/alt /mnt/neu  # Kopieren mit Übernahme alter Dateiinformationen und detaillierter Ausgabe </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Der Kopiervorgang kann je nach Datenvolumen (und Leistungsfähigkeit des Rechners) etwas mehr Zeit in Anspruch nehmen. Man sollte daher mind. 1-2 Stunden einberechnen!
</p></div></div></div><div class="section_1"><h2 id="fstab">fstab<a class="headerlink" href="#fstab">¶</a></h2><p>
Als nächstes muss man die Datei <a class="internal" href="./fstab.html">/etc/fstab</a> auf der <span class="underline">neuen</span> Partition ändern. Falls man das vergisst, kann Ubuntu von der neuen Festplatte nicht gestartet werden, obwohl es erfolgreich kopiert wurde. Für die Einträge in <a class="internal" href="./fstab.html">fstab</a> wird die UUID benötigt, siehe <a class="internal" href="./uuid.html">UUID</a>.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Da Ubuntu seit <a class="internal" href="./edgy_eft.html#UUIDs">Edgy Eft</a> statt der Schreibweise <code class="notranslate">/dev/xxx</code> <a class="internal" href="./uuid.html">UUID</a>s benutzt, verweisen die Daten in der <a class="internal" href="./fstab.html">fstab</a> sowie auch in <a class="internal" href="./grub_2/grundlagen.html">grub.cfg</a> nach wie vor auf die "alte" Festplatte. Wer sich mit der "alten" Device-Schreibweise leichter tut, kann bei den Anpassungen natürlich auch diese wieder verwenden - es sollten jedoch Vor- und Nachteile gut abgewogen werden. Näheres dazu findet sich <a class="internal" href="./datenträger.html#Wie-heissen-die-Datentraeger">an dieser Stelle</a>.
</p></div></div><p>Die UUIDs aller angeschlossenen Laufwerke lassen sich mit folgendem Befehl anzeigen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo blkid </pre></div></div><p>Beispiel:</p><pre class="notranslate">/dev/sda1: UUID="eb95423b-612f-416b-ad31-02bfedfd74d3" TYPE="ext3" #Alte root-Partition
/dev/sda2: TYPE="swap" UUID="ee472e83-66a8-4397-8648-69abe711a467" #Alte swap-Partition
/dev/sdb1: UUID="6346681b-b88a-4c75-8882-81fa4e731d18" TYPE="ext3" #Neue root-Partition
/dev/sdb2: TYPE="swap" UUID="44887afe-b82b-4fa5-bab6-68afebc4599d" #Neue swap-Partition</pre><p>Die UUID der neuen Partition (<strong>sdb1</strong>) lautet hier: <code class="notranslate">6346681b-b88a-4c75-8882-81fa4e731d18</code>. Nun öffnet man die Datei <strong>/etc/fstab</strong> auf <strong>sdb1</strong> in einem Editor<sup><a href="#source-2">[2]</a></sup> mit Root-Rechten<sup><a href="#source-4">[4]</a></sup> und sucht nach den Einträgen der einzuhängenden Partitionen. Hier ein Beispiel:</p><pre class="notranslate"># /dev/sda1
UUID=eb95423b-612f-416b-ad31-02bfedfd74d3 /               ext3    relatime,errors=remount-ro 0       1
# /dev/sda2
UUID=ee472e83-66a8-4397-8648-69abe711a467 none            swap    sw               0       0</pre><p>Diese ändert man wie folgt ab:</p><pre class="notranslate"># /dev/sdb1
UUID=6346681b-b88a-4c75-8882-81fa4e731d18 /               ext3    relatime,errors=remount-ro 0       1
# /dev/sdb2
UUID=44887afe-b82b-4fa5-bab6-68afebc4599d none            swap    sw               0       0</pre><p>Dabei werden jeweils die UUIDs ausgetauscht und dazu noch der Kommentar (alles hinter dem <strong>#</strong>) zur späteren Übersichtlichkeit geändert.</p></div><div class="section_1"><h2 id="GRUB">GRUB<a class="headerlink" href="#GRUB">¶</a></h2><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Hier wird die Einrichtung von <a class="internal" href="./grub_2.html">GRUB 2</a> beschrieben. Falls das System mit dem „alten“ GRUB gelaufen ist, muss nach dieser <a class="internal" href="./grub.html#Methode-3-Chroot-ueber-ein-Live-System">Anleitung</a> vorgegangen werden.
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Für die chroot-Umgebung muss die Architektur des Livesystems (32-Bit- bzw. <a class="internal" href="./64-bit-architektur.html">64-Bit-Architektur</a>) identisch sein. 
</p></div></div><p>Als nächstes muss der <a class="internal" href="./grub_2.html">GRUB 2</a> auf der Festplatte <strong>sdb</strong> installiert werden. Um Verwechslungen zu vermeiden und um sicherzustellen, dass das System mit der neuen Platte läuft, empfiehlt es sich, das Livesystem herunterzufahren, die alte Platte abzuklemmen und das Livesystem wieder zu starten. Jetzt heisst die neue (und einzige) Platte <strong>sda</strong>.</p><p>Zur Installation des Bootloaders muss mit <a class="internal" href="./chroot/live-cd.html#Einrichtung">chroot</a> in das Wurzelverzeichnis der Installation gewechselt werden.</p><p>Dazu muss zuerst die Partition eingebunden werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount /dev/sda1 /mnt </pre></div></div><p>
Damit im installierten System alle wichtigen Systeminformationen zur Verfügung stehen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -o bind /dev /mnt/dev
sudo mount -o bind /sys /mnt/sys
sudo mount -t proc /proc /mnt/proc </pre></div></div><p>
Falls es eine separate boot-Partition gibt, muss diese noch mit:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -t vfat /dev/sda2 /mnt/boot/efi </pre></div></div><p>
eingehängt werden.</p><p>Danach kann man mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo chroot /mnt </pre></div></div><p>
in das installierte System wechseln. Mit dem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">update-grub2
grub-install /dev/sda </pre></div></div><p>
wird <a class="internal" href="./grub_2.html">GRUB 2</a> in den MBR der neuen Platte geschrieben. Mit</p><div class="bash"><div class="contents"><pre class="notranslate">update-grub </pre></div></div><p>
wird die Konfigurationsdatei aktualisiert. Jetzt kann mit</p><div class="bash"><div class="contents"><pre class="notranslate">exit </pre></div></div><p>
die chroot-Umgebung verlassen werden.</p></div><div class="section_1"><h2 id="Abschliessende-Schritte">Abschließende Schritte<a class="headerlink" href="#Abschliessende-Schritte">¶</a></h2><p>
Es sollten noch die beiden Dateien <strong>70-persistent-cd.rules</strong> und <strong>70-persistent-net.rules</strong> im Verzeichnis <strong>/mnt/etc/udev/rules.d</strong> der neuen Festplatte gelöscht werden. Dort hat das <a class="internal" href="./udev.html">Udev</a>-System die Einstellungen für Netzwerkkarte bzw. optisches Laufwerk des Originalsystems hinterlegt. Fehlen diese Dateien, werden sie beim Booten des neuen Systems entsprechend angelegt.</p><p>Nach einem Neustart sollte der Rechner jetzt mit dem umgezogenen System normal starten. Bei Problemen startet man den Rechner erneut mit der Live-CD und kontrolliert nochmal sorgfältig die UUIDs und die GRUB 2-Konfiguration.</p><p>Falls der Ruhezustand (suspend-to-disk) genutzt werden soll, muss die Datei <strong>/etc/initramfs-tools/conf.d/resume</strong> mit Root-Rechten editiert werden und folgende Zeile eingefügt bzw. mit der eigenen Swap- &lt;UUID&gt; angepasst werden:</p><pre class="notranslate">RESUME=UUID=&lt;UUID&gt;</pre><p>
Eventuell ist es zusätzlich notwendig, <strong>/etc/uswsusp.conf</strong> und/oder <strong>/etc/suspend.conf</strong> anzupassen:
</p><pre class="notranslate">resume device = /dev/disk/by-uuid/&lt;UUID&gt;</pre><p>
Danach muss das initrd-Image neu geschrieben werden, das geht über folgenden Terminalbefehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-initramfs -u </pre></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><div class="section_2"><h3 id="Intern">Intern<a class="headerlink" href="#Intern">¶</a></h3><p>
</p><ul><li><p><a class="internal" href="./cp.html">cp</a></p></li><li><p><a class="internal" href="./rsync.html">rsync</a></p></li><li><p><a class="internal" href="./dateisystem.html">Dateisystem</a></p></li><li><p><a class="internal" href="./dateisystemcheck.html">Dateisystemcheck</a></p></li><li><p><a class="internal" href="./datensicherung.html">Datensicherung</a></p></li><li><p><a class="internal" href="./dualboot_partitionierung.html">Dualboot Partitionierung</a></p></li><li><p><a class="internal" href="./grub.html">GRUB</a></p></li><li><p><a class="internal" href="./manuelle_partitionierung.html">Manuelle Partitionierung</a></p></li><li><p><a class="internal" href="./partitionierung.html">Partitionierung</a></p></li><li><p><a class="internal" href="./partitionierung/grundlagen.html">Partitionierung/Grundlagen</a></p></li><li><p><a class="internal" href="./festplatten_problembehebung.html">Festplatten Problembehebung</a></p></li><li><p><a class="internal" href="./swap.html">Swap</a></p></li></ul><p>
</p></div><div class="section_2"><h3 id="Extern">Extern<a class="headerlink" href="#Extern">¶</a></h3><p>
</p><ul><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Clonezilla">Clonezilla</a> - englischsprachiges Profi-Werkzeug zum Duplizieren ("Klonen") von Festplatten</p></li><li><p><a class="external" href="https://bugs.launchpad.net/ubuntu/+source/cryptsetup/+bug/497110/comments/3" rel="nofollow" title="https://bugs.launchpad.net/ubuntu/+source/cryptsetup/+bug/497110/comments/3">https://bugs.launchpad.net/ubuntu/+source/cryptsetup/+bug/497110/comments/3</a> - Ubuntu-Bugreport 497110 für cryptsetup</p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./ubuntu_umziehen/a/revision/945572.html">Diese Revision</a> wurde am 19. Dezember 2017 13:13 von <a href="https://ubuntuusers.de/user/RealMerlin/">RealMerlin</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./ubuntu_umziehen.html">Ubuntu umziehen</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>