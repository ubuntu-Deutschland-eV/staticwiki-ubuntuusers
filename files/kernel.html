<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Kernel › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./kernel.html">Kernel</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Kernel">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./kernel/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./kernel/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./kernel/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./kernel/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./kernel/a/backlinks.html">Kernel</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./editor.html">Einen Editor verwenden</a>, <em>optional</em></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li></ol></div></div><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Kernel-installieren">Kernel installieren
</a><ol class="arabic"><li><a class="crosslink" href="#Kernel-neu-installieren">Kernel neu installieren
</a></li></ol></li><li><a class="crosslink" href="#Kernel-deinstallieren">Kernel deinstallieren
</a><ol class="arabic"><li><a class="crosslink" href="#Weitere-Moeglichkeiten">Weitere Möglichkeiten
</a></li></ol></li><li><a class="crosslink" href="#Backport-Kernel">Backport-Kernel
</a><ol class="arabic"><li><a class="crosslink" href="#Ubuntu-14-04">Ubuntu 14.04
</a></li></ol></li><li><a class="crosslink" href="#Mainline-Kernel">Mainline-Kernel
</a></li><li><a class="crosslink" href="#Echtzeitkernel">Echtzeitkernel
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a><ol class="arabic"><li><a class="crosslink" href="#lteren-Kernel-starten">Älteren Kernel starten
</a></li><li><a class="crosslink" href="#Kein-Speicherplatz-mehr-frei">Kein Speicherplatz mehr frei
</a><ol class="arabic"><li><a class="crosslink" href="#1-Fall-boot-Partition-ist-voll">1. Fall: /boot-Partition ist voll.
</a></li><li><a class="crosslink" href="#2-Fall-keine-Inodes-mehr-vorhanden-u-o-kein-freier-Speicherplatz-auf-der-Root-Partition">2.Fall: keine Inodes mehr vorhanden u/...</a></li></ol></li><li><a class="crosslink" href="#Verkleinerung-des-initramfs-Images">Verkleinerung des initramfs Images
</a></li><li><a class="crosslink" href="#Hyper-Threading-aktivieren">Hyper-Threading aktivieren
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a><ol class="arabic"><li><a class="crosslink" href="#Intern">Intern
</a></li><li><a class="crosslink" href="#Extern">Extern
</a></li></ol></li></ol></div><p><img alt="Wiki/Icons/tux.png" class="image-left" src="./_/00895034a4923f83f7fdf12aadc1a6d5787a2d1e.png"/> 
Aus der <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Betriebssystemkern">Wikipedia</a>: <em>Ein Betriebssystemkern oder Systemkern (englisch kernel [ˈkɝːnəl]) ist der zentrale Bestandteil eines Betriebssystems. In ihm ist die Prozess- und Datenorganisation festgelegt, auf der alle weiteren Softwarebestandteile des Betriebssystems aufbauen. Er bildet die unterste Softwareschicht des Systems und hat direkten Zugriff auf die Hardware. Gängige Anforderungen an einen Systemkern sind Parallelverarbeitung verschiedener Aufgaben (Multitasking), Einhaltung zeitkritischer Grenzen, Offenheit für unterschiedlichste Anwendungen und Erweiterungen.</em></p><p>Den von <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Linus_Torvalds">Linus Torvalds</a> und vielen anderen entwickelten Linux-Kernel gibt es in verschiedenen Varianten. Hauptsächlich sind dies:</p><ul><li><p>Desktop-Kernel oder generischer Kernel</p></li><li><p>Kernel für virtuelle Maschinen</p></li><li><p>Echtzeitkernel</p></li></ul><p>
Bis einschließlich Ubuntu 11.10 hat es zudem einen Serverkernel gegeben, seit Ubuntu 12.04 wird der generische Kernel ebenfalls für Server verwendet. Außer dem generischen Kernel hat nur noch der <a class="crosslink" href="#Echtzeitkernel">Echtzeitkernel</a> bei Spezialanwendungen wie z.B. einem <a class="internal" href="./tonstudio.html">Tonstudio</a> eine gewisse Bedeutung.</p><p><a class="crosslink anchor" href="#Installation" id="Installation"></a></p><div class="section_1"><h2 id="Kernel-installieren">Kernel installieren<a class="headerlink" href="#Kernel-installieren">¶</a></h2><p>
Bei der Installation von Ubuntu wird automatisch ein Kernel installiert, denn ohne diesen wäre das ganze System nicht lauffähig. Unter Ubuntu werden Kernel wie normale Software über die Paketverwaltung installiert <sup><a href="#source-1">[1]</a></sup>. Die entsprechenden Paketnamen heißen immer</p><ul><li><p><strong>linux-image-VERSION-ABINUMMER-VARIANTE</strong></p></li></ul><p>
bzw. als konkretes Beispiel</p><ul><li><p><strong>linux-image-4.4.0-47-generic</strong></p></li></ul><p>
Dennoch sollte man einen Kernel besser über ein <a class="internal" href="./metapakete.html">Metapaket</a> wie</p><ul><li><p><strong>linux-generic</strong></p></li></ul><p>
installieren, denn nur so wird gewährleistet, dass bei einer Systemaktualisierung ("Update") neben dem Kernel automatisch die passenden Module und Kernel-Header-Dateien installiert werden. Bei der Installation eines Kernels wird dieser ebenfalls automatisch in den Bootmanager <a class="internal" href="./grub_2.html">GRUB 2</a> bzw. <a class="internal" href="./grub.html">GRUB</a> eingetragen, so dass beim nächsten Rechnerstart die neueste Kernel-Version gebootet wird.</p><div class="section_2"><h3 id="Kernel-neu-installieren">Kernel neu installieren<a class="headerlink" href="#Kernel-neu-installieren">¶</a></h3><p>
Unter Umständen kann zur Reparatur des aktuell laufenden Kernels eine Neuinstallation nötig sein. Dies erfolgt einfach über den Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install --reinstall linux-image-$(uname -r) </pre></div></div><p><a class="crosslink anchor" href="#Deinstallation" id="Deinstallation"></a></p></div></div><div class="section_1"><h2 id="Kernel-deinstallieren">Kernel deinstallieren<a class="headerlink" href="#Kernel-deinstallieren">¶</a></h2><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Bei einer Aktualisierung des Kernels wird der alte Kernel niemals automatisch entfernt. Dadurch ist es möglich, noch mit dem Vorgänger-Kernel zu booten, falls es zu Problemen mit dem neueren Kernel kommen sollte.
</p></div></div><p>Durch automatische Systemaktualisierungen (Updates) werden fehlerbereinigte Versionen des Kernels auf dem System installiert. Dies erkennt man z.B. beim Booten des Systems an mehreren Einträgen in <a class="internal" href="./grub_2.html">GRUB 2</a>. Seit <a class="internal" href="./natty.html">Ubuntu 11.04</a> muss man das Untermenü <em>"Previous Linux versions"</em> auswählen, um weitere bzw. ältere Kernel angezeigt zu bekommen. Das sieht dann beispielsweise so aus:</p><div style="clear: both"><div class="contents"></div></div><p>
</p><table style="float: left; margin: 10px 5px; border: none"><tr><td style="text-align: center; background-color: #E2C889; border: none"> <img alt="kernelauswahl_beim_booten.png" class="image-default" src="./_/2ddd76936a1d36a204b5c06f7bfd3c00ba3127dc.png"/> </td></tr><tr><td style="text-align: center; background-color: #F9EAAF; border: none"> GRUB 2 Hauptmenü</td></tr></table><div><div class="contents"></div></div><p>
</p><table style="float: left; margin: 10px 5px; border: none"><tr><td style="text-align: center; background-color: #E2C889; border: none"> <img alt="kernelauswahl_beim_booten_2.png" class="image-default" src="./_/72111c62531570f60a7daf3a72a660c9ebc5ab38.png"/> </td></tr><tr><td style="text-align: center; background-color: #F9EAAF; border: none"> Untermenü für ältere Kernel</td></tr></table><div><div class="contents"></div></div><div style="clear: both"><div class="contents"></div></div><p>Beim Vergleich der linken und der rechten Abbildung erkennt man, dass neben dem neuesten Kernel <strong>3.2.0-23-generic</strong> noch zwei ältere Kernel im System vorhanden sind: die Versionen <strong>3.2.0-22-generic</strong> und <strong>3.0.0-16-generic</strong>. Will man also im obigen Beispiel den älteren Kernel <strong>3.0.0-16-generic</strong> und die Header-Dateien deinstallieren, so sucht man in der Paketverwaltung <sup><a href="#source-1">[1]</a></sup> nach den Paketen</p><ul><li><p><strong>linux-image-3.0.0-16</strong></p></li><li><p><strong>linux-headers-3.0.0-16</strong></p></li></ul><p>
und deinstalliert sie. Dabei werden auch automatisch alle zugehörigen Kernel-Module entfernt, ebenso der Eintrag in den Bootmanagern GRUB 2 und GRUB, um diesen Kernel zu booten. Da das bei Ubuntu und Xubuntu übliche <a class="internal" href="./software-center.html">Software-Center</a> alte, nicht mehr benötigte Kernel nicht anzeigt, installiert man für diese Aufgabe entweder die grafische Paketverwaltung <a class="internal" href="./synaptic.html">Synaptic</a> oder verwendet <a class="internal" href="./apt-get.html">apt-get</a> in einem Terminalfenster:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get remove --purge linux-image-3.0.0-16-generic linux-headers-3.0.0-16 </pre></div></div><div class="section_2"><h3 id="Weitere-Moeglichkeiten">Weitere Möglichkeiten<a class="headerlink" href="#Weitere-Moeglichkeiten">¶</a></h3><p>
Betreibt man ein Ubuntu-System über einen längeren Zeitraum, so sind in der Regel mehrere Kernel-Versionen vorhanden. Da ein Kernel zusammen mit Header-Dateien und Kernel-Modulen einiges an Platz auf der Festplatte belegen kann (ca. 200 MiB), sollte man im Rahmen der <a class="internal" href="./systempflege.html">Systempflege</a> bei Gelegenheit ältere Kernelversionen, die man nicht mehr nutzt, deinstallieren. Besonders wichtig ist das bei verschlüsselten Systemen, die für <strong>/boot</strong> eine eigene Partition nutzen: ist diese voll belegt, können Kernel-Aktualisierungen nicht mehr automatisch installiert werden.</p><p>Dazu kann der folgende Befehl verwendet werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get autoremove --purge </pre></div></div><p>
Dadurch werden alle alten Kernel bis auf die beiden neuesten Kernel entfernt (situationsabhängig ist es auch möglich, dass manchmal drei Kernel verbleiben).</p><p>Eine weitere Methode ist im Artikel <a class="internal" href="./skripte/alte_kernel_entfernen.html">Skripte/Alte Kernel entfernen</a> beschrieben. Alternativ siehe auch folgende Möglichkeiten:
</p><ul><li><p>Skript <a class="external" href="http://blog.dustinkirkland.com/2016/06/purge-old-kernels.html" rel="nofollow">purge-old-kernels</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p>ein grafischer <a class="external" href="http://axebase.net/blog/2015/07/26/kernel-remover-aus-siduction-in-ubuntu/" rel="nofollow">kernel-remover</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p>Mögliche Vorgehensweisen <a class="external" href="https://kofler.info/ubuntu-probleme-mit-vollen-boot-partitionen/" rel="nofollow">Kofler 01/2017</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li></ul><p>
</p></div></div><div class="section_1"><h2 id="Backport-Kernel">Backport-Kernel<a class="headerlink" href="#Backport-Kernel">¶</a></h2><p>
Ein Backport-Kernel kann dann eingesetzt werden, wenn neuere Hardware durch den Kernel der jeweiligen Ubuntu-Version nicht ausreichend unterstützt wird und daher ein neuerer Kernel erforderlich ist.</p><p>In der Vergangenheit standen Backport-Kernel immer für alle jeweils noch unterstützten Ubuntu-Versionen bereit. Mit Ubuntu 12.04 hat man sich für einen anderen Weg entschieden, statt des ursprünglichen Kernels neuere zur Verfügung zu stellen: <a class="internal" href="./lts_enablement_stacks.html">LTS Enablement Stacks</a> (eine andere gebräuchliche Bezeichnung ist Hardware Enablement Stacks bzw. HWE). Nachteil: während der ursprüngliche Kernel bei LTS-Versionen immer bis zum Ende des Support-Zeitraums gepflegt wird, trifft das auf die neueren Kernel nicht unbedingt zu.</p><div class="section_2"><h3 id="Ubuntu-14-04">Ubuntu 14.04<a class="headerlink" href="#Ubuntu-14-04">¶</a></h3><p>
<a class="internal" href="./trusty.html">Ubuntu 14.04</a> verwendet den Kernel 3.13. Hier lauten die Paketnamen (Stand: Dezember 2016):</p><ul><li><p>Kernel 4.4 (unterstützt als HWE in Trusty bis April 2019):</p><ul><li><p><strong>linux-headers-generic-lts-xenial</strong></p></li><li><p><strong>linux-image-generic-lts-xenial</strong></p></li></ul></li></ul><p>
Die mit den Bezeichnungen abgelaufener Ubuntu-Versionen (linux-image-generic-lts-utopic, linux-image-generic-lts-vivid, linux-image-generic-lts-wily) versehenen Pakete sind auch hier lediglich Übergangspakete (Transitional Packages).</p></div></div><div class="section_1"><h2 id="Mainline-Kernel">Mainline-Kernel<a class="headerlink" href="#Mainline-Kernel">¶</a></h2><p>
Seit März 2009 gibt es außerdem die Möglichkeit, einen Mainline-Kernel zu installieren. Damit wird man unabhängig von der über die offiziellen Paketquellen vorgegebenen Kernel-Version. Mehr Informationen finden sich im Artikel <a class="internal" href="./mainline-kernel.html">Mainline-Kernel</a>.</p></div><div class="section_1"><h2 id="Echtzeitkernel">Echtzeitkernel<a class="headerlink" href="#Echtzeitkernel">¶</a></h2><p>
Für manche Spezialanwendungen wird eine zuverlässig niedrige Reaktionszeit des Systems benötigt. Eine mögliche Anwendung sind z.B. Audio-Workstations mit extrem niedrigen Latenzen. Unter Umständen hat der normale Kernel eines Ubuntu-Systems diese Anforderung nicht hinreichend erfüllen können. Für solche Fälle hat es die früher von <a class="internal" href="./ubuntu_studio.html">Ubuntu Studio</a> bereitgestellten, auf Echtzeitverhalten optimierten Kernel, die das gesamte <a class="external" href="http://people.redhat.com/mingo/realtime-preempt/" rel="nofollow">"Realtime-Patchset"</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> von Ingo Molnár enthalten haben, gegeben. Mit Ubuntu 12.04 sind diese speziellen Funktionen teilweise in den Standard-Kernel integriert worden, wodurch man nun von einem "Low Latency"-Kernel spricht (siehe auch <a class="interwiki interwiki-ubuntu_doc" href="https://help.ubuntu.com/community/UbuntuStudio/RealTimeKernel">Realtime Kernel</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>).</p><p>Weitere Informationen zur Konfiguration eines Tonstudio-PCs findet man im Artikel <a class="internal" href="./tonstudio/konfiguration.html">Tonstudio/Konfiguration</a>. Für reine Desktop-Systeme bringt ein Echtzeit- oder "Low Latency"-Kernel keinen Vorteil. Im Gegenteil, unter Umständen kann der Durchsatz sinken und der Stromverbrauch steigen.</p><p>Die benötigten Pakete sind über die Ubuntu-Paketquellen verfügbar.</p><ul><li><p><strong>linux-lowlatency</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install linux-lowlatency </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install linux-lowlatency </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="lteren-Kernel-starten">Älteren Kernel starten<a class="headerlink" href="#lteren-Kernel-starten">¶</a></h3><p>
In sehr seltenen Fällen kann es vorkommen, dass nach einer Aktualisierung des Kernels bestimmte Dinge teilweise oder überhaupt nicht mehr mehr funktionieren. Ist beispielsweise das WLAN danach ohne Funktion, kann man im Auswahlmenü des Bootmanagers GRUB 2 einen älteren Kernel starten (zur Handhabung siehe auch <a class="internal" href="./bootoptionen.html#Optionen-beim-GRUB-Auswahlmenue">Bootoptionen</a>). Im dort gezeigten Bootmenü wählt man mit den Pfeiltasten den Eintrag <em>"Previous Linux versions"</em> und anschließend einen älteren Kernel aus. Die Reihenfolge ist in der Regel chronologisch, d.h. der älteste Kernel steht ganz unten in der Liste. Dann bestätigt man mit 
<span class="key">⏎</span> .</p></div><div class="section_2"><h3 id="Kein-Speicherplatz-mehr-frei">Kein Speicherplatz mehr frei<a class="headerlink" href="#Kein-Speicherplatz-mehr-frei">¶</a></h3><p>
Es sollen Kernel-Aktualisierungen installiert werden, aber auf der separaten <a class="internal" href="./manuelle_partitionierung.html#Vorueberlegungen">/boot-Partition</a> ist kein Speicherplatz mehr frei bzw. es sind keine freien Inodes mehr vorhanden. Die Paketverwaltung <a class="internal" href="./apt.html">APT</a> meldet beim Versuch, einen älteren Kernel zu deinstallieren, folgenden Fehler:</p><pre class="notranslate">gzip: stdout: No space left on device</pre><p>
Nicht mehr benötigte Kernel sollten dann mittels <a class="internal" href="./dpkg.html">dpkg</a> entfernt werden. Mehr dazu im Artikel <a class="internal" href="./skripte/alte_kernel_entfernen.html#Kein-Speicherplatz-mehr-frei">Skripte/Alte Kernel entfernen</a>.</p><p>Sollte dies nicht möglich sein, muss manuell Platz geschaffen werden. 
Zur Analyse macht man folgende Abfragen.
</p><pre class="notranslate">df -h      # Speicherplatz
df -i      # Inodes</pre><p>
Diese Abfrage ist auch angebracht, wenn ein neuer Kernel nicht vollständig installiert bzw. konfiguriert werden kann. Es kann u.U. sein, dass aus Platzmangel ein Paket nicht heruntergeladen werden kann und deshalb keine Konfiguration des neuen Kernels möglich ist.</p><div class="section_3"><h4 id="1-Fall-boot-Partition-ist-voll">1. Fall: /boot-Partition ist voll.<a class="headerlink" href="#1-Fall-boot-Partition-ist-voll">¶</a></h4><p>
Um Platz zu schaffen löscht man die im Verzeichnis <strong>/boot</strong> vorhandenen Dateien des ältesten, vorhandenen Kernels - das ist der mit der niedrigsten Nummer.
Danach können die überflüssigen Kernel deinstalliert bzw. die Paketverwaltung repariert werden.</p></div><div class="section_3"><h4 id="2-Fall-keine-Inodes-mehr-vorhanden-u-o-kein-freier-Speicherplatz-auf-der-Root-Partition">2.Fall: keine Inodes mehr vorhanden u/o kein freier Speicherplatz auf der Root-Partition<a class="headerlink" href="#2-Fall-keine-Inodes-mehr-vorhanden-u-o-kein-freier-Speicherplatz-auf-der-Root-Partition">¶</a></h4><p>
Um Platz zu schaffen bzw. Inodes frei zu machen löscht man im Verzeichnis <strong>/usr/scr</strong> die Header-Dateien der ältesten vorhandenen Kernel - das sind die mit der niedrigsten Nummer. Die Dateien der beiden neusten Kernel werden nicht gelöscht!
Danach können die überflüssigen Kernel deinstalliert bzw. die Paketverwaltung repariert werden.</p></div></div><div class="section_2"><h3 id="Verkleinerung-des-initramfs-Images">Verkleinerung des initramfs Images<a class="headerlink" href="#Verkleinerung-des-initramfs-Images">¶</a></h3><p>
Als weiterführende Maßnahme zur Reduzierung des generellen Speicherplatzbedarfs des initramfs Images in der /boot-Partition kann über die Datei <strong>initramfs.conf</strong> eine Einschränkung der für den Bootvorgang relevanten Module vorgenommen werden. Um zu erreichen, dass nur die für die Rechnerarchitektur tatsächlich erforderlichen Module geladen werden, muss in der Datei <strong>/etc/initramfs-tools/initramfs.conf</strong> der Defaultwert <code class="notranslate">MODULES=most</code> in <code class="notranslate">MODULES=dep</code> geändert werden. Anschließend kann das initramfs Image über</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>sudo update-initramfs -u <span class="c1">#für den aktuellen Kernel oder</span>
sudo update-initramfs -uk <span class="s1">'all'</span> <span class="c1">#für alle vorhandenen Kernel</span>
</pre></div>
</td></tr></table></div><p>
aktualisiert werden. Alternative Optionen zum Laden der Module sind in der Manpage der <strong>initramfs.conf</strong> aufgeführt.</p><p><a class="crosslink anchor" href="#HT" id="HT"></a>
</p></div><div class="section_2"><h3 id="Hyper-Threading-aktivieren">Hyper-Threading aktivieren<a class="headerlink" href="#Hyper-Threading-aktivieren">¶</a></h3><p>
<a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Hyper-Threading">Hyper-Threading</a> (HT oder HTT) wird bei der Installation von Ubuntu Linux manchmal nicht automatisch aktiviert. Dies kann man jedoch mit ein paar Handgriffen schnell ändern. Zuerst muss sichergestellt sein, dass ein passender Kernel mit SMP-Unterstützung installiert ist. Bei Ubuntu ist dies der <strong>generic</strong>-Kernel.</p><p>Um zu prüfen, ob die Installation den Prozessor erkannt hat, gibt man im Terminal <sup><a href="#source-3">[3]</a></sup> folgenden Befehl ein:</p><div class="bash"><div class="contents"><pre class="notranslate">lscpu </pre></div></div><p>Wird hier unter "Thread(s) per core:" mehr als "1" angezeigt, ist der nächste Schritt nicht notwendig.</p><p>Mit dem Boot-Parameter <code class="notranslate">ht=on</code> oder <code class="notranslate">acpi=ht</code> aktiviert man die Funktion manuell. Das Vorgehen ist im Artikel <a class="internal" href="./bootoptionen.html">Bootoptionen</a> beschrieben. Nach dem Speichern der Änderungen und einem Neustart des Rechners ist Hyper-Threading aktiv.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Nicht jeder Prozessor, bei dem mittels des Befehls</p><div class="bash"><div class="contents"><pre class="notranslate">grep ht /proc/cpuinfo </pre></div></div><p>
das Flag <code class="notranslate">ht</code> angezeigt wird, ist auch tatsächlich HTT-fähig. Hier muss diese Fähigkeit erst recherchiert werden.
</p></div></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><div class="section_2"><h3 id="Intern">Intern<a class="headerlink" href="#Intern">¶</a></h3><p>
</p><ul><li><p><a class="internal" href="./was_ist_linux.html">Was ist Linux?</a></p></li><li><p><a class="internal" href="./kernel/linux-versionsnummern.html">Kernel/Linux-Versionsnummern</a></p></li><li><p><a class="internal" href="./kernelmodule.html">Kernelmodule</a></p></li><li><p><a class="internal" href="./mainline-kernel.html">Mainline-Kernel</a></p></li><li><p><a class="internal" href="./kernel/kompilierung.html">Kernel/Kompilierung</a></p></li><li><p><a class="internal" href="./bootoptionen.html">Bootoptionen</a></p></li></ul></div><div class="section_2"><h3 id="Extern">Extern<a class="headerlink" href="#Extern">¶</a></h3><p>
</p><ul><li><p><a class="interwiki interwiki-ubuntu" href="https://wiki.ubuntu.com/Kernel">Kernel</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> im Ubuntu-Wiki</p><ul><li><p><a class="interwiki interwiki-ubuntu" href="https://wiki.ubuntu.com/Kernel/FAQ">Kernel FAQ</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="interwiki interwiki-ubuntu" href="https://wiki.ubuntu.com/Kernel/Dev/KernelStableSupportMatrix">Kernel Basis</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> der verschiedenen Ubuntu-Versionen</p></li><li><p><a class="interwiki interwiki-ubuntu" href="https://wiki.ubuntu.com/Kernel/Release/Rolling">Kernel Rolling Release</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Kernel-Rückportierung auf LTS-Versionen</p></li><li><p><a class="interwiki interwiki-ubuntu" href="https://wiki.ubuntu.com/Kernel/LTSEnablementStack">LTS Enablement Stacks</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> und unterstützte Kernelversionen</p></li></ul></li><li><p><a class="external" href="http://liquorix.net/" rel="nofollow">Liquorix Kernel</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Kernel für Desktop-Rechner, der  speziell bei unter Last stehenden Systemen eine bessere Reaktionszeit verspricht</p></li><li><p>Wikipedia: <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Linux_(Kernel)">Linux Kernel</a> und <a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/Linux_kernel">Linux Kernel</a></p></li><li><p><a class="interwiki interwiki-youtube" href="https://www.youtube.com/watch?v=S-kg37u4tp8&amp;t=8m28s">Der Kernel, ein Überblick in knapp 2½ min</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> Sebastian Bator auf der Ubucon 2012 </p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./kernel/a/revision/945445.html">Diese Revision</a> wurde am 12. Dezember 2017 14:04 von <a href="https://ubuntuusers.de/user/bowman/">bowman</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./kernel.html">Kernel</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>