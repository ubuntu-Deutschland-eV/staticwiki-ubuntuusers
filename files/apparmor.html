<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>AppArmor › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./apparmor.html">AppArmor</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/AppArmor">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./apparmor/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./apparmor/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./apparmor/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./apparmor/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./apparmor/a/backlinks.html">AppArmor</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./paketquellen_freischalten.html">Bearbeiten von Paketquellen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-4"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Verzeichnisstruktur">Verzeichnisstruktur
</a><ol class="arabic"><li><a class="crosslink" href="#disable-und-force-complain">disable und force-complain
</a></li></ol></li><li><a class="crosslink" href="#Benutzung">Benutzung
</a><ol class="arabic"><li><a class="crosslink" href="#AppArmor-Utilities">AppArmor Utilities
</a></li><li><a class="crosslink" href="#AppArmor-Notify">AppArmor Notify
</a></li><li><a class="crosslink" href="#AppArmor-Modi-flags">AppArmor Modi (flags)
</a></li><li><a class="crosslink" href="#Deaktivieren-und-Reaktivieren">Deaktivieren und Reaktivieren
</a></li><li><a class="crosslink" href="#Profile-bearbeiten">Profile bearbeiten
</a><ol class="arabic"><li><a class="crosslink" href="#Profilaufbau">Profilaufbau
</a></li><li><a class="crosslink" href="#Berechtigungen">Berechtigungen
</a><ol class="arabic"><li><a class="crosslink" href="#Attribute">Attribute
</a></li><li><a class="crosslink" href="#Netzwerkberechtigungen">Netzwerkberechtigungen
</a></li><li><a class="crosslink" href="#Dateizugriffsberechtigungen">Dateizugriffsberechtigungen
</a></li><li><a class="crosslink" href="#Abstractions">Abstractions
</a></li></ol></li><li><a class="crosslink" href="#Generelle-Hinweise-zur-Profilbearbeitung">Generelle Hinweise zur Profilbearbeitu...</a></li></ol></li></ol></li><li><a class="crosslink" href="#Schutz-durch-AppArmor">Schutz durch AppArmor
</a></li><li><a class="crosslink" href="#Woher-weitere-Profile-beziehen">Woher weitere Profile beziehen?
</a><ol class="arabic"><li><a class="crosslink" href="#Fremde-Profile-uebernehmen">Fremde Profile übernehmen
</a></li><li><a class="crosslink" href="#Eigene-Profile-erstellen">Eigene Profile erstellen
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a><ol class="arabic"><li><a class="crosslink" href="#Intern">Intern
</a></li><li><a class="crosslink" href="#Extern">Extern
</a></li></ol></li></ol></div><p><img alt="./apparmor.png" class="image-left" src="./_/3479ba38891b28627e542f8983bf209e9d0c0ccb.png"/>
<a class="external" href="http://www.novell.com/linux/security/apparmor/" rel="nofollow">AppArmor</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein Sicherheitsframework für Linux. Als <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Mandatory_Access_Control">Mandatory Access Control</a> (MAC) System kontrolliert es Anwendungen einzeln. Für diese können in Profilen Zugriffsrechte festgelegt werden, die feiner als die allgemeinen <a class="internal" href="./rechte.html">Dateirechte</a> sind. Neben den <a class="crosslink" href="#regel_default">vordefinierten</a> können <a class="internal" href="./apparmor/profile_erstellen.html">eigene</a> Profile aufgestellt werden. Für jedes Profil kann einer von drei <a class="crosslink" href="#modi">Eingriffs-Modi</a> gesetzt werden.</p><p>Zweck von AppArmor ist der Schutz von sicherheitskritischen Anwendungen, in erster Linie also Anwendungen/Prozesse mit Netzwerkzugriff, aber auch von z.B. Büroanwendungen, die durch das Laden verseuchter Dokumente u.U. das System kompromittieren könnten.</p><p>AppArmor ist seit Kernel 2.6.36 offiziell <a class="external" href="http://kernelnewbies.org/Linux_2_6_36" rel="nofollow">integriert</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Ab <a class="internal" href="./natty.html">Ubuntu 11.04</a> braucht es nicht mehr als Kernelmodul nachgeladen werden. Seit <a class="internal" href="./gutsy_gibbon.html">Ubuntu 7.10</a> wird es beim Systemstart geladen. Das gilt auch für die zugehörigen Profile (Regelsätze).</p><p>Von 2005 bis 2007 wurde AppArmor maßgeblich von Novell entwickelt. Seit 2009 engagiert sich Canonical verstärkt für das Sicherheitsframework, wodurch dann auch die bereits erwähnte Aufnahme in den Linux-Kernel erreicht wurde.</p><p>AppArmor wurde als Alternative zum als schwer konfigurierbar geltenden <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/SELinux">SELinux</a> konzipiert. Von den "großen" Linux-Distributionen verwendet neben Ubuntu noch openSUSE das Framework.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Seit 2007 ist AppArmor mit Hilfswerkzeugen in der Standardinstallation von Ubuntu enthalten. Ansonsten kann es über die folgenden Pakete nachinstalliert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>apparmor</strong></p></li><li><p><strong>apparmor-utils</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install apparmor apparmor-utils </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install apparmor apparmor-utils </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Verzeichnisstruktur">Verzeichnisstruktur<a class="headerlink" href="#Verzeichnisstruktur">¶</a></h2><p>
Globale und Systemeinstellungen sind in <strong>/etc/apparmor</strong> gespeichert. Die Anwendungsprofile sowie mehrere vordefinierte Unterverzeichnisse befinden sich in <strong>/etc/apparmor.d/</strong>. Eine ausführliche Darstellung der Verzeichnisstruktur nebst Inhalten ist unter <a class="external" href="http://wiki.apparmor.net/index.php/Policy_Layout" rel="nofollow">Policy Layout</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> verfügbar.</p><div class="section_2"><h3 id="disable-und-force-complain">disable und force-complain<a class="headerlink" href="#disable-und-force-complain">¶</a></h3><p>
Enthält <strong>/etc/apparmor.d/disable</strong> eine Verknüpfung zu einem Profil, so wird dieses nicht automatisch geladen. Ähnlich sorgen Verknüpfungen unter <strong>/etc/apparmor.d/force-complain</strong> dafür, dass Profile nur im <code class="notranslate">complain</code>-Modus geladen werden (<a class="crosslink" href="#AppArmor-Modi-flags">siehe unten</a>).</p></div></div><div class="section_1"><h2 id="Benutzung">Benutzung<a class="headerlink" href="#Benutzung">¶</a></h2><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Alle Befehle zur Steuerung von AppArmor müssen mit <a class="internal" href="./sudo.html">Root-Rechten</a> aufgerufen werden! 
</p></div></div><div class="section_2"><h3 id="AppArmor-Utilities">AppArmor Utilities<a class="headerlink" href="#AppArmor-Utilities">¶</a></h3><p>
Nach der Installation von <strong>apparmor-utils</strong> stehen folgende Werkzeuge zur Verfügung:</p><p>
</p><table><tr class="kopf"><td> Utility </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">aa-status</code> </td><td> Überblick über die geladenen AppArmor-Profile mit Angabe des Modus </td></tr><tr><td> <code class="notranslate">aa-unconfined</code> </td><td> Ausgabe der Prozesse mit Netzwerkzugriff ohne Profil </td></tr><tr><td> <code class="notranslate">aa-audit</code> </td><td> Profil in den Audit-Modus versetzen </td></tr><tr><td> <code class="notranslate">aa-complain</code> </td><td> Profil in den Complain-Modus versetzen </td></tr><tr><td> <code class="notranslate">aa-enforce</code> </td><td> Profil in den Enforce-Modus versetzen </td></tr><tr><td> <code class="notranslate">aa-autodep</code> </td><td> Erstellung eines Basis-Profils im Complain-Modus </td></tr><tr><td> <code class="notranslate">aa-genprof</code> </td><td> Erstellung eines Basis-Profils mit interaktiver Ergänzung von Regeln und abschließender Versetzung des Profils in den Enforce-Modus </td></tr><tr><td> <code class="notranslate">aa-logprof</code> </td><td> interaktive Ergänzung von Regeln anhand der Einträge in <strong>/var/log/syslog</strong> </td></tr><tr><td> <code class="notranslate">aa-cleanprof</code> </td><td> automatisches Aufräumen eines Profils </td></tr></table><p>Im Idealfall nutzt man AppArmor ohne es zu bemerken, da Regeln die entsprechenden Anwendungen schützen, aber nicht beeinträchtigen. Um einen Überblick über den aktuellen Status von AppArmor zu erhalten, dient folgender Befehl im Terminal <sup><a href="#source-3">[3]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aa-status </pre></div></div></div><div class="section_2"><h3 id="AppArmor-Notify">AppArmor Notify<a class="headerlink" href="#AppArmor-Notify">¶</a></h3><p>
Nach der Installation von <strong>apparmor-notify</strong> stehen folgende Werkzeuge zur Verfügung:
</p><p>
</p><table><tr class="kopf"><td> Utility </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">aa-notify</code> </td><td> Benachrichtigung über AppArmor-DENIED-Events </td></tr></table><p>
Um die Benachrichtigung für DENIED-Messages zu aktivieren, dient folgender Befehl im Terminal <sup><a href="#source-3">[3]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">aa-notify -p </pre></div></div><p>Die Benachrichtigung kann man testen mit:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tcpdump -i enp0s31f6 -n -s 0 -w /foo </pre></div></div><p>
(enp0s31f6 ist das Tcpip-Interface, das man mit ifconfig findet)</p><p><a class="crosslink anchor" href="#modi" id="modi"></a>
</p></div><div class="section_2"><h3 id="AppArmor-Modi-flags">AppArmor Modi (flags)<a class="headerlink" href="#AppArmor-Modi-flags">¶</a></h3><p>
AppArmor kennt drei Modi für jedes einzelne Profil:</p><p>
</p><table><tr class="kopf"><td> Modus </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">complain</code> </td><td> "Lernmodus": Aktionen, die gegen die Regeln verstoßen, werden nur geloggt und nicht verboten. Das Profil enthält die Kennzeichnung <code class="notranslate">flags=(complain)</code>. </td></tr><tr><td> <code class="notranslate">enforce</code> </td><td> "Zwangsmodus": Aktionen, die gegen die Regeln verstoßen, werden geloggt und verboten. Das Profil enthält die Kennzeichnung <code class="notranslate">flags=(enforce)</code>. </td></tr><tr><td> <code class="notranslate">audit</code> </td><td> "Prüfmodus": Alle Regelanwendungen und Regelverstöße werden geloggt. Das Profil enthält die Kennzeichnung <code class="notranslate">flags=(audit)</code>. </td></tr></table><p>Profile werden somit folgendermaßen geladen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aa-complain PROFIL      # für den "Complain"-Modus
sudo aa-enforce PROFIL       # für den "Enforce"-Modus
sudo aa-audit PROFIL         # für den "Audit"-Modus </pre></div></div><p>Möchte man alle Profile auf einmal aktivieren, so geschieht dies mit diesem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aa-complain /etc/apparmor.d/*     # für den "Complain"-Modus"
sudo aa-enforce /etc/apparmor.d/*      # für den "Enforce"-Modus </pre></div></div><p>Das <a class="internal" href="./logdateien.html">Logging</a> erfolgt dabei sowohl in der Syslog <strong>/var/log/syslog</strong> als auch in erweiterter Form in der Kernel-Log <strong>/var/log/kern.log</strong>. Die <strong>/var/log/syslog</strong> ist dabei jedoch standardmäßig die ausschlaggebende, die auch von den AppArmor-Utils <strong>aa-logprof</strong> und <strong>aa-genprof</strong> benutzt wird. Möchte man sich von Hand anschauen, was AppArmor loggt, eignet sich <a class="internal" href="./tail.html">tail</a>  durch Ausführung von</p><div class="bash"><div class="contents"><pre class="notranslate">tail -F /var/log/syslog | grep "apparmor" </pre></div></div><p>bzw.</p><div class="bash"><div class="contents"><pre class="notranslate">tail -F /var/log/kern.log | grep "apparmor" </pre></div></div><p><a class="crosslink anchor" href="#regel_default" id="regel_default"></a>
Die Regelsätze befinden sich im Verzeichnis <strong>/etc/apparmor.d/</strong>. Die Regeln haben dabei die Struktur "pfad.zur.datei.dateiname". Es ist also der Dateipfad enthalten, allerdings durch einen Punkt anstatt eines Slashs getrennt, der letzte Teil gibt den Namen des Programms/Dienstes/... an.</p></div><div class="section_2"><h3 id="Deaktivieren-und-Reaktivieren">Deaktivieren und Reaktivieren<a class="headerlink" href="#Deaktivieren-und-Reaktivieren">¶</a></h3><p>
Die Steuerung von AppArmor erfolgt als <a class="internal" href="./dienste.html">Dienst</a>. Um diesen komplett zu stoppen, dient nicht wie bei anderen Diensten üblich der Befehl <code class="notranslate">stop</code>, dieser leert nur den Cache. Um AppArmor komplett zu stoppen, muss der folgende Befehl eingegeben werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service apparmor teardown </pre></div></div><p>Der Neustart erfolgt wie gewohnt mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service apparmor start </pre></div></div></div><div class="section_2"><h3 id="Profile-bearbeiten">Profile bearbeiten<a class="headerlink" href="#Profile-bearbeiten">¶</a></h3><p>
Grundsätzlich ist es möglich, von Hand bestehende Profile zu bearbeiten oder neue zu erstellen. Es handelt es sich um normale Textdateien.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Wer das Editieren von Hand beabsichtigt, sollte genau wissen, was er tut! Es besteht eine erhöhte Gefahr, dass das Programm, welches durch das editierte Profil gesichert ist, entweder nicht mehr ausreichend gesichert ist oder auch, dass die Sicherung zu restriktiv ist, so dass das Programm nicht mehr richtig ablaufen kann! 
</p></div></div><div class="section_3"><h4 id="Profilaufbau">Profilaufbau<a class="headerlink" href="#Profilaufbau">¶</a></h4><p>
Eine Profil-Datei ist dabei prinzipiell wie folgt aufgebaut:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>#include &lt;tunables/global&gt;

/pfad/zur/anwendung {
  #include &lt;abstractions/base&gt;
  [...]
  capability sys_admin,
  [...]
  # Kommentar
  /usr/lib/gconv/** r,
  /proc/meminfo r,
  /bin/basename rmix,
  [...]
}
</pre></div>
</td></tr></table></div><ul><li><p>Mit dem Befehl <code class="notranslate">#include</code> können andere (grundlegende) Regelsätze eingebunden werden. </p></li><li><p>In allen Profilen ist grundsätzlich die Datei <strong>/etc/apparmor.d/tunables/global</strong> mit <code class="notranslate">#include</code> eingebunden, die wiederum weitere Dateien aus diesem Verzeichnis enthält, in denen u.a. Variablen wie <code class="notranslate">@{HOME}</code> (für alle <a class="internal" href="./homeverzeichnis.html">Homeverzeichnisse</a>) oder <code class="notranslate">@{PROC}</code> (für das Verzeichnis <strong>/proc/</strong>) definiert sind.</p></li><li><p>Nach der Angabe des Pfades zur Anwendung, für die das Profil erstellt ist, stehen sämtliche Regeln innerhalb von geschweiften Klammern. Jede Zeile endet mit einem Komma - mit Ausnahme von Kommentaren, <code class="notranslate">#include</code>-Anweisungen, mit denen sogenannten <code class="notranslate">abstractions</code> eingebunden werden, und Kind-Profile (näheres dazu weiter unten).</p></li><li><p>Mit dem Befehl <code class="notranslate">capability XYZ</code> werden grundlegende Eigenschaften/Merkmale definiert. Siehe dazu die entsprechende <a class="interwiki interwiki-man" href="http://manpages.ubuntu.com/cgi-bin/search.py?lr=lang_en&amp;q=7/capabilities">Manpage</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> sowie <a class="external" href="http://wiki.apparmor.net/index.php/AppArmor_Core_Policy_Reference#Capability_rules" rel="nofollow">Capability rules</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p></li><li><p><code class="notranslate">/PFAD/ZU/DATEI OPTION</code> setzt die Berechtigungen für das jeweilige Verzeichnis bzw. die jeweilige Hilfsanwendung. Dabei ist die Verwendung des Jokers <code class="notranslate">*</code> erlaubt, zwei <code class="notranslate">**</code> bedeuten "inkl. aller Unterverzeichnisse" (extended globbing). Beispiele dazu: </p><p>
</p><table><tr><td><code class="notranslate">/ordner/datei</code> </td><td> gilt für diese spezifische Datei <strong>datei</strong> in Verzeichnis <strong>/ordner</strong> </td></tr><tr><td> <code class="notranslate">/ordner/*</code> </td><td> gilt für alle <em>Dateien</em> im Verzeichnis <strong>/ordner</strong> </td></tr><tr><td> <code class="notranslate">/ordner/a*</code> </td><td> gilt für alle Dateien im Verzeichnis, die mit "a" beginnen </td></tr><tr><td> <code class="notranslate">/ordner/*.png</code> </td><td> gilt für alle Dateien mit der Endung <strong>.png</strong> </td></tr><tr><td> <code class="notranslate">/ordner/[^.]*</code> </td><td> gilt für alle Dateien in <strong>/ordner</strong> mit Ausnahme derjenigen, die mit einem "." beginnen </td></tr><tr><td> <code class="notranslate">/ordner/</code> </td><td> gilt für das spezifische Verzeichnis <strong>/ordner</strong> </td></tr><tr><td> <code class="notranslate">/ordner/*/</code> </td><td> gilt für jedes <em>Verzeichnis</em> in <strong>/ordner</strong> </td></tr><tr><td> <code class="notranslate">/ordner/**</code> </td><td> gilt für jede <em>Datei</em> oder jedes <em>Verzeichnis</em> in oder unterhalb von <strong>/ordner</strong> </td></tr><tr><td> <code class="notranslate">/ordner/**/</code> </td><td> gilt für jedes <em>Verzeichnis</em> in oder unterhalb von <strong>/ordner</strong> </td></tr></table><p> Weitere Hinweise und Details finden sich unter <a class="external" href="http://wiki.apparmor.net/index.php/QuickProfileLanguage#File_Globbing" rel="nofollow">File Globbing</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p></li></ul><p>
</p></div><div class="section_3"><h4 id="Berechtigungen">Berechtigungen<a class="headerlink" href="#Berechtigungen">¶</a></h4><p>
Grundsätzlich gilt: Eine Anwendung mit AppArmor-Profil darf nur, was im Profil durch entsprechende Regeln explizit erlaubt wird. Wenn z.B. in einem Profil keine Lese- oder Schreib-Regel für das Home-Verzeichnis existiert, wird jeglicher Zugriff der betreffenden Anwendung auf dieses Verzeichnis blockiert.</p><div class="section_4"><h5 id="Attribute">Attribute<a class="headerlink" href="#Attribute">¶</a></h5><p>
Darüber hinaus gibt es drei zusätzliche Attribute:</p><p>
</p><table><tr class="kopf"><td> Attribut </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">audit</code> </td><td> alle Anwendungen der Regel werden grundsätzlich geloggt </td></tr><tr><td> <code class="notranslate">owner</code> </td><td> Berechtigung wird nur erteilt, wenn die Datei bzw. das Verzeichnis im Besitz des Benutzers ist </td></tr><tr><td> <code class="notranslate">deny</code> </td><td> der Zugriff auf die Datei bzw. das Verzeichnis wird explizit verboten </td></tr></table><p><code class="notranslate">deny</code> ist sinnvoll, wenn etwa für das Home-Verzeichnis Lese- und Schreibberechtigung durch eine entsprechende Regel erteilt wurde, aber besonders sicherheitskritische Verzeichnisse/Dateien geschützt werden sollen. Beispiel:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>audit deny @{HOME}/.config/autostart/** wl,
audit deny @{HOME}/.kde{,4}/Autostart/** wl,
</pre></div>
</td></tr></table></div></div><div class="section_4"><h5 id="Netzwerkberechtigungen">Netzwerkberechtigungen<a class="headerlink" href="#Netzwerkberechtigungen">¶</a></h5><p>
AppArmor kann einer Anwendung den Netzwerkzugriff allgemein oder auch sehr spezifisch erlauben oder verbieten. Typische Beispiele:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>network,                     # Netzwerkzugriff wird generell erlaubt
deny network,                # Netzwerkzugriff wird generell verboten 
network tcp,                 # TCP-Verbindungen werden erlaubt
network udp,                 # UDP-Verbindungen werden erlaubt
network inet stream,         # IPv4 TCP-Verbindungen werden erlaubt
network inet6 dgram,         # IPv6 UDP-Verbindungen werden erlaubt
</pre></div>
</td></tr></table></div><p>Weitere Details unter <a class="external" href="http://wiki.apparmor.net/index.php/AppArmor_Core_Policy_Reference#Network_rules" rel="nofollow">Network rules</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p></div><div class="section_4"><h5 id="Dateizugriffsberechtigungen">Dateizugriffsberechtigungen<a class="headerlink" href="#Dateizugriffsberechtigungen">¶</a></h5><p>
In AppArmor gibt es folgende Berechtigungen:</p><p>
</p><table><tr class="titel"><td colspan="2"> Dateizugriffsberechtigungen in AppArmor-Profilen </td></tr><tr class="kopf"><td> Option </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">r</code> </td><td> Lesezugriff ist erlaubt </td></tr><tr><td> <code class="notranslate">w</code> </td><td> Schreibzugriff ist erlaubt </td></tr><tr><td> <code class="notranslate">a</code> </td><td> Dateiinhalte können hinzugefügt werden </td></tr><tr><td> <code class="notranslate">l</code> </td><td> Es ist erlaubt, einen Link zu erstellen </td></tr><tr><td> <code class="notranslate">k</code> </td><td> Datei kann gesperrt werden (lockfile) </td></tr><tr><td> <code class="notranslate">m</code> </td><td> Es darf der Aufruf von <a class="interwiki interwiki-man" href="http://manpages.ubuntu.com/cgi-bin/search.py?lr=lang_en&amp;q=2/mmap">mmap</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> erfolgen </td></tr><tr><td> <code class="notranslate">x</code> </td><td> Hilfsanwendung darf ausgeführt werden </td></tr></table><p>Die Option <code class="notranslate">x</code> kann nur in den folgenden Kombinationen verwendet werden:</p><p>
</p><table><tr class="titel"><td colspan="3"> Ausführungsberechtigungen in AppArmor-Profilen </td></tr><tr class="kopf"><td> Option </td><td> englisch für </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">ux</code> </td><td> unconfined execute mode </td><td> Hilfsanwendung ohne AppArmor-Überwachung ausführen </td></tr><tr><td> <code class="notranslate">Ux</code> </td><td> unconfined execute -- scrub the environment </td><td> wie <code class="notranslate">ux</code> mit Bereinigen der Umgebung </td></tr><tr><td> <code class="notranslate">ix</code> </td><td> inherit execute mode </td><td> Hilfsanwendung erbt die Berechtigungen der Hauptanwendung </td></tr><tr><td> <code class="notranslate">px</code> </td><td> discrete Profile execute mode </td><td> setzt die Definition eines eigenen Profils für die Hilfsanwendung voraus </td></tr><tr><td> <code class="notranslate">Px</code> </td><td> Discrete Profile execute mode -- scrub the environment </td><td> wie <code class="notranslate">px</code> mit Bereinigen der Umgebung </td></tr><tr><td> <code class="notranslate">cx</code> </td><td> Execute and transition to a child profile </td><td> Ausführen der Hilfsanwendung über ein Kind-Profil innerhalb des Profils der Hauptanwendung </td></tr><tr><td> <code class="notranslate">Cx</code> </td><td> Execute and transition to a child profile -- scrub the environment </td><td> wie <code class="notranslate">cx</code> mit Bereinigen der Umgebung </td></tr></table><p>Für die Ausführungsberechtigungen sind folgende Hinweise zu beachten:</p><ul><li><p>Die Benutzung von <code class="notranslate">ux</code> wird nicht empfohlen, sofern nicht unbedingt notwendig. Eine mit <code class="notranslate">ux</code> ausgeführte Hilfsanwendung wird von AppArmor nicht kontrolliert bzw. "eingesperrt" und kann somit u.U. eine erhebliche Lücke in ein ansonsten sicheres Profil der Hauptanwendung reißen.</p></li><li><p>Auch die Benutzung von <code class="notranslate">Ux</code> wird nicht empfohlen. Zwar wird hier ein sog. <a class="external" href="http://stackoverflow.com/questions/5835664/how-does-apparmor-do-environment-scrubbing" rel="nofollow">"environment scrubbing"</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> durchgeführt (d.h. ein Bereinigen der Umgebung, indem <a class="internal" href="./umgebungsvariable.html">Umgebungsvariable</a> wie <code class="notranslate">LD_PRELOAD</code> entfernt werden). Ansonsten gilt jedoch dieselbe Problematik wie unter <code class="notranslate">ux</code>.</p></li><li><p>Erheblich sicherer ist die Verwendung von <code class="notranslate">ix</code>. Eine damit ausgeführte Hilfsanwendung erbt die Berechtigungen der Hauptanwendung, darf also nicht mehr, aber auch nicht weniger als diese. Dies kann problematisch sein, wenn die Hilfsanwendung mehr Rechte benötigt als die Hauptanwendung oder wenn die Rechte der Hilfsanwendung gezielt beschränkt werden sollen.</p></li><li><p>Erheblich flexibler ist diesbezüglich die Verwendung von <code class="notranslate">px</code> (bzw. <code class="notranslate">Px</code>). Voraussetzung ist, dass für die Hilfsanwendung ein eigenes AppArmor-Profil definiert ist, in dem die Berechtigungen deutlich von denen der jeweiligen Hauptanwendung abweichen können, und auf das auch andere Hauptanwendungen zugreifen können. </p></li><li><p>Noch flexibler ist die Verwendung von <code class="notranslate">cx</code> (bzw. <code class="notranslate">Cx</code>). Hier wird für die Hilfsanwendung ein lokales Profil innerhalb des Profils der Hauptanwendung angelegt. Der Vorteil gegenüber <code class="notranslate">px</code> ist, dass dadurch unterschiedliche Berechtigungen für die Hilfsanwendung festgelegt werden können, je nachdem, durch welche Hauptanwendung sie aufgerufen wird. Beispiel: Erstellt man z.B. ein AppArmor-Profil für den Browser Google Chrome, werden u.a. als Hilfsanwendungen <strong><a class="internal" href="./xdg-open.html">xdg-open</a></strong> und <strong>xdg-settings</strong> benötigt, die über entsprechende Kind-Profile eingebunden werden können. Die Syntax für das Profil <strong>/etc/apparmor.d/opt.google.chrome.chrome</strong> sieht dann auszugsweise folgendermaßen aus: </p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span># Last Modified: Sat Feb 16 18:28:03 2013
#include &lt;tunables/global&gt;

/opt/google/chrome/chrome {
[...]
/opt/google/chrome/xdg-settings Cx,
[...]
/usr/bin/xdg-open Cx,
/usr/bin/xdg-settings Cx,

[...]

  profile /opt/google/chrome/xdg-settings {

    /bin/dash r,
    /bin/grep rix,
    /bin/readlink rix,
    [...]
  }

  profile /usr/bin/xdg-open {
    #include &lt;abstractions/base&gt;

    /bin/dash r,
    /etc/X11/cursors/oxy-white.theme r,
    [...]
  }

  profile /usr/bin/xdg-settings {

    /bin/cat rix,
    /bin/dash r,
    [...]
  }
}
</pre></div>
</td></tr></table></div></li><li><p>Als weitere Variante mit <code class="notranslate">cx</code> und <code class="notranslate">Cx</code> ist eine sog. "named profile transition" möglich. Hier wird ein Kind-Profil namentlich explizit definiert. Sollen in dem obigen Beispiel keine separaten Kind-Profile für <strong>/opt/google/chrome/xdg-settings</strong> und <strong>/usr/bin/xdg-settings</strong> erstellt werden, könnte etwa ein gemeinsames Kind-Profil namens <em>gemeinsame_xdg_settings</em> definiert werden, auf das die Hilfsanwendungen mit einem Pfeilsymbol verweisen. Die Syntax ändert sich dann in:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>#include &lt;tunables/global&gt;

/opt/google/chrome/chrome {
[...]
/opt/google/chrome/xdg-settings Cx -&gt; gemeinsame_xdg_settings,
[...]
/usr/bin/xdg-settings Cx -&gt; gemeinsame_xdg_settings,

[...]

  profile gemeinsame_xdg_settings {

    /bin/dash r,
    /bin/grep rix,
    /bin/readlink rix,
    [...]
  }
}
</pre></div>
</td></tr></table></div></li></ul><p>Ein weiteres interessantes Beispiel einer "named profile transition" enthält die abstraction <strong>/etc/apparmor.d/abstractions/ubuntu-browsers.d/java</strong>.</p></div><div class="section_4"><h5 id="Abstractions">Abstractions<a class="headerlink" href="#Abstractions">¶</a></h5><p>
Im Verzeichnis <strong>/etc/apparmor.d/abstractions</strong> befinden sich eine Vielzahl von vorgefertigten Regelsätzen, den sog. "abstractions". Sie enthalten Regeln, die typischerweise bei der Erstellung eines AppArmor-Profils von vielen Anwendungen benötigt werden. Durch Einbinden über den "<code class="notranslate">#include</code>" - Befehl kann die Profilerstellung deutlich vereinfacht werden. Die jeweiligen abstractions werden - wenn benötigt - bei der Regelerstellung bzw. beim Optimierung des Profils mit <strong>aa-logprof</strong> angeboten. Folgende Hinweise sollten dabei beachtet werden:</p><ul><li><p>In vielen abstractions sind andere abstractions über <code class="notranslate">#include</code> eingebunden, und in diese wiederum oft andere abstractions. Durch diese mehrstufige Verschachtelung ist es - insbesondere bei der Verwendung mehrerer abstractions - häufig sehr schwierig, die effektiven Berechtigungen zu durchschauen, die man sich dadurch eingehandelt hat. Es besteht daher die Gefahr, dass auf diese Weise einer Anwendung mehr Rechte als nötig oder beabsichtigt erteilt werden. Das ist ein potentielles Sicherheitsrisiko.</p></li><li><p>Hinzu kommt, dass es bei der Verwendung mehrerer abstractions mitunter zu konkurrierenden Berechtigungen kommen kann, was beim Laden des Profils mit einer entsprechenden Fehlermeldung (z.B. "... conflicting permissions...") quittiert wird.</p></li><li><p>Aus diesen Gründen ist es ratsam, sich bei der Verwendung von abstractions in Zurückhaltung zu üben. Wird von aa-logprof eine spezifische Regel und als Alternative eine oder mehrere abstractions angeboten, sollte man die Regel bevorzugen, auch wenn dies die Profilerstellung etwas mühsamer macht.</p></li><li><p>Nichtsdestotrotz sind eine Reihe von abstractions sehr sinnvoll. Da den meisten Anwendungen Lese- und Schreibzugriff auf das Homeverzeichnis gewährt werden muss, ist es z.B. sinnvoll, zur Absicherung sicherheitskritischer Dateien oder Verzeichnisse das Profil mit "<code class="notranslate">#include &lt;abstractions/private-files&gt;</code>" (oder u.U. in einer erweiterten Form mit "<code class="notranslate">#include &lt;abstractions/private-files-strict&gt;</code>") zu ergänzen.</p></li></ul><p>
</p></div></div><div class="section_3"><h4 id="Generelle-Hinweise-zur-Profilbearbeitung">Generelle Hinweise zur Profilbearbeitung<a class="headerlink" href="#Generelle-Hinweise-zur-Profilbearbeitung">¶</a></h4><p>
Das manuelle Editieren eines AppArmor-Profils sollte die Ausnahme darstellen. In der Praxis erfolgt das Hinzufügen von Regeln zu einem Profil mit Hilfe von <code class="notranslate">aa-logprof</code>. Eine manuelle Nachbearbeitung beschränkt sich daher im wesentlichen auf drei Fälle:
</p><ol class="arabic"><li><p>Es sollte überprüft werden, ob man nicht mit <code class="notranslate">aa-logprof</code> versehentlich die gefährlichen Ausführungsmodi <code class="notranslate">ux</code> und <code class="notranslate">Ux</code> gewählt hat.</p></li><li><p>Es macht bei umfangreichen Profilen u.U. Sinn, zum Zwecke einer besseren Übersichtlichkeit die Regeln zu gruppieren bzw. anders zu sortieren oder auch ggfs. einzelne Regeln mit einer zusätzlichen Kommentarzeile (beginnend mit einem <code class="notranslate">#</code>) zu erläutern.</p></li><li><p>Es ist zu überprüfen, ob möglicherweise einzelne Regeln nachträglich modifiziert werden sollten, z.B. indem eine generelle Lese- und Schreibberechtigung für das Homeverzeichnis durch "<code class="notranslate">deny</code>"-Regeln für einzelne Unterverzeichnisse/Dateien eingeschränkt wird. </p></li></ol><p>
Generell nicht manuell bearbeitet werden sollten die mit Ubuntu standardmäßig mitgelieferten und mit <strong>apparmor-profiles</strong> zusätzlich installierten Profile in <strong>/etc/apparmor.d</strong>, da alle Modifizierungen (auch über aa-logprof) bei einem Update dieser Profile über die Paketverwaltung verloren gehen. Für diesen Zweck stehen stattdessen in <strong>/etc/apparmor.d/local</strong> jeweils leere "Unterprofile" zur Verfügung, die mit "<code class="notranslate">#include</code>" in das zugehörige Profil eingebunden sind. Alle hier manuell hinzugefügten Berechtigungen oder "<code class="notranslate">deny</code>"-Regeln bleiben bei einem Update des betreffenden Profils erhalten. Diese Empfehlung gilt natürlich nicht für selbsterstellte Profile.</p></div></div></div><div class="section_1"><h2 id="Schutz-durch-AppArmor">Schutz durch AppArmor<a class="headerlink" href="#Schutz-durch-AppArmor">¶</a></h2><p>
AppArmor wird automatisch geladen. Möchte man eine neue Regel laden, so muss man dies von Hand erledigen. Grundsätzlich sollte jedes Programm, das eine Angriffsfläche bietet, durch AppArmor geschützt werden. Eine Auflistung der nicht profilierten Online-Anwendungen erhält man durch ein AppArmor-Werkzeug, das man im Terminal <sup><a href="#source-3">[3]</a></sup> aufruft:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aa-unconfined </pre></div></div><p>Dieses ermittelt mittels <a class="internal" href="./netstat.html">netstat</a>, welche Programme offene Netzwerk-Sockets (TCP/UDP) besitzen und ob sie ein AppArmor-Profil besitzen. Eine Ausgabe kann folgendermaßen aussehen:</p><pre class="notranslate">5460 /usr/sbin/avahi-daemon not confined
5460 /usr/sbin/avahi-daemon not confined
5806 /sbin/dhclient3 not confined
18367 /usr/sbin/cupsd confined by '/usr/sbin/cupsd (enforce)'</pre><p>Man sieht hier drei Dienste, von denen nur einer geschützt wird (<code class="notranslate">cups</code>). Man besitzt also zwei ungeschützte Dienste: <code class="notranslate">avahi-daemon</code> und <code class="notranslate">dhclient3</code>. <code class="notranslate">avahi-daemon</code> wird wahrscheinlich doppelt gelistet, weil es sowohl auf TCP wie auch UDP lauscht. Diese beiden Dienste sind standardmäßig auf Ubuntu installiert. Sie sind nur aus dem lokalen Netzwerk, aber nicht aus dem Internet zu erreichen und gelten deshalb als sicher und nicht ausnutzbar. Mehr dazu kann man im Artikel <a class="internal" href="./offene_ports.html">Offene Ports</a> lesen. Paranoide werden wahrscheinlich trotzdem eine Regel dafür haben wollen, aber nach derzeitigem Kenntnisstand ist dies nicht erforderlich.</p><p>Sollte aa-unconfined weitere Dienste anzeigen, wie zum Beispiel <a class="internal" href="./privoxy.html">Privoxy</a> oder <a class="internal" href="./tor.html">TOR</a>, sollte man diese von AppArmor schützen lassen. Als Anmerkung sei noch gesagt, dass aa-unconfined mit großer Wahrscheinlichkeit nur Dienste anzeigen wird und nicht normale Internetanwendungen (wie zum Beispiel einen Browser). Das bedeutet aber nicht, dass diese nicht geschützt werden sollten. Wie bereits gesagt ist die aa-unconfined-Liste nur ein kleiner Ausschnitt der schützenswerten Anwendungen und in keinem Fall vollständig.</p><p>Auch Windows-Anwendungen über <a class="internal" href="./wine.html">Wine</a> lassen sich mit AppArmor kontrollieren. Ausführliche Hinweise dazu finden sich unter <a class="external" href="http://wiki.apparmor.net/index.php/AppArmorWine" rel="nofollow">AppArmorWine</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> und <a class="crosslink topic" href="https://forum.ubuntuusers.de/topic/apparmor-profil-fuer-wine/">im Forum</a>.</p></div><div class="section_1"><h2 id="Woher-weitere-Profile-beziehen">Woher weitere Profile beziehen?<a class="headerlink" href="#Woher-weitere-Profile-beziehen">¶</a></h2><p>
Ubuntu bringt bereits für ein paar Programme Profile mit, wobei diese jedoch teilweise <a class="crosslink" href="#disable-und-force-complain">deaktiviert</a> sein könnten. Um nun weitere Profile zu beziehen, gibt es im Grunde zwei Möglichkeiten: fremde Profile übernehmen oder Profile selber erstellen.</p><div class="section_2"><h3 id="Fremde-Profile-uebernehmen">Fremde Profile übernehmen<a class="headerlink" href="#Fremde-Profile-uebernehmen">¶</a></h3><p>
In der Installation sind nur sehr wenige Regeln enthalten. Ein größerer Regelsatz kann über das Paket</p><ul><li><p><strong>apparmor-profiles</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install apparmor-profiles </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install apparmor-profiles </pre></div></div><p>
</p></div></div><p>installiert <sup><a href="#source-1">[1]</a></sup> werden. Es sollte aber bedacht werden, dass diese Regeln zum einen unter Umständen für veraltete Programmversionen gedacht sind (z.B. Regeln für GAIM anstelle von Pidgin enthalten), zum anderen, dass diese Regeln nicht blind übernommen werden sollen/können, sondern den individuellen Bedürfnissen angepasst werden müssen. Im Internet kursieren noch zahlreiche weitere Profile für AppArmor, doch es sollte immer überlegt werden, wie vertrauenswürdig die Quelle ist und wie kompetent im Erstellen von Profilen. Außerdem sind diese Regeln meist nicht auf die eigenen Bedürfnisse angepasst, sondern müssen nachträglich <a class="internal" href="./apparmor/profile_erstellen.html">feinjustiert</a> werden. Auch hier gilt, dass keine Profile blind übernommen werden sollten.</p><p>Eine Übersicht der standardmäßig in Ubuntu enthaltenen und über <strong>apparmor-profiles</strong> zusätzlich verfügbaren Profile zeigt das <a class="interwiki interwiki-ubuntu" href="https://wiki.ubuntu.com/SecurityTeam/KnowledgeBase/AppArmorProfiles">Ubuntu Wiki</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p></div><div class="section_2"><h3 id="Eigene-Profile-erstellen">Eigene Profile erstellen<a class="headerlink" href="#Eigene-Profile-erstellen">¶</a></h3><p>
Will man selbst eigene Profile für AppArmor erstellen, gibt es einen eigenen Artikel, der dies ausführlich erklärt: <a class="internal" href="./apparmor/profile_erstellen.html">AppArmor/Profile erstellen</a></p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><div class="section_2"><h3 id="Intern">Intern<a class="headerlink" href="#Intern">¶</a></h3><p>
</p><ul><li><p><a class="internal" href="./apparmor/profile_erstellen.html">AppArmor/Profile erstellen</a> - Anleitung zum Erstellen eigener AppArmor-Profile</p></li><li><p><a class="internal" href="./eingeschränkte_shell_mit_apparmor.html">Eingeschränkte Shell mit Apparmor</a> - Beispiel zum Erstellen einer Shell mit eingeschränkten Systemaufrufen</p></li></ul></div><div class="section_2"><h3 id="Extern">Extern<a class="headerlink" href="#Extern">¶</a></h3><p>
</p><ul><li><p><a class="external" href="http://wiki.apparmor.net/index.php/Main_Page" rel="nofollow">Homepage der AppArmor-Entwickler</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> mit ausführlicher</p><ul><li><p><a class="external" href="http://wiki.apparmor.net/index.php/Documentation" rel="nofollow">Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> und</p></li><li><p><a class="external" href="http://wiki.apparmor.net/index.php/FAQ#Understanding_AppArmor" rel="nofollow">FAQ</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul></li><li><p><a class="interwiki interwiki-ubuntu" href="https://wiki.ubuntu.com/AppArmor">AppArmor-Übersichtsseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> im englischen Ubuntu-Wiki, enthält Infos zu allen unterstützen Ubuntu-Versionen plus Server-Guides für die LTS-Versionen</p></li><li><p><a class="interwiki interwiki-ubuntu_doc" href="https://help.ubuntu.com/community/AppArmor">Using AppArmor</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Eintrag im englischen Wiki der Ubuntu-Community </p></li><li><p><a class="external" href="http://en.opensuse.org/SDB:AppArmor_geeks" rel="nofollow">AppArmor for Geeks</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - englische OpenSuse-Homepage </p></li><li><p><a class="external" href="http://www.novell.com/documentation/apparmor" rel="nofollow">Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - AppArmor-Handbücher, auch im PDF-Format</p></li><li><p><a class="external" href="http://wiki.kairaven.de/open/os/linux/apparmor" rel="nofollow">AppArmor mit Ubuntu nutzen</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Einführung von Kai Raven</p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./apparmor/a/revision/938583.html">Diese Revision</a> wurde am 1. Mai 2017 11:16 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./apparmor.html">AppArmor</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>