<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>fstab › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./fstab.html">fstab</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/fstab">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./fstab/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./fstab/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./fstab/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./fstab/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./fstab/a/backlinks.html">fstab</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./mount.html">Ein Dateisystem einhängen</a> </p></li></ol></div></div><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Grundlagen">Grundlagen
</a><ol class="arabic"><li><a class="crosslink" href="#Aufruf">Aufruf
</a></li><li><a class="crosslink" href="#Aufbau">Aufbau
</a></li></ol></li><li><a class="crosslink" href="#Hinzufuegen-oder-ndern-von-Eintraegen">Hinzufügen oder Ändern von Einträgen
</a><ol class="arabic"><li><a class="crosslink" href="#Bearbeiten-mit-einem-Editor">Bearbeiten mit einem Editor
</a><ol class="arabic"><li><a class="crosslink" href="#Einhaengepunkte">Einhängepunkte
</a></li><li><a class="crosslink" href="#Identifikation-der-Geraete">Identifikation der Geräte
</a></li><li><a class="crosslink" href="#Optionen-fuer-nachtraegliches-Einhaengen">Optionen für nachträgliches Einhängen
</a></li><li><a class="crosslink" href="#Automount-mit-systemd">Automount mit systemd
</a></li><li><a class="crosslink" href="#Einzelne-Ordner-einhaengen">Einzelne Ordner einhängen
</a></li><li><a class="crosslink" href="#Aushaengen">Aushängen
</a></li></ol></li></ol></li><li><a class="crosslink" href="#Beispiel">Beispiel
</a></li><li><a class="crosslink" href="#Klonen-von-Festplatten">Klonen von Festplatten
</a></li><li><a class="crosslink" href="#Links">Links
</a><ol class="arabic"><li><a class="crosslink" href="#Verwandte-Seiten">Verwandte Seiten
</a></li><li><a class="crosslink" href="#Extern">Extern
</a></li></ol></li></ol></div><div class="section_1"><h2 id="Grundlagen">Grundlagen<a class="headerlink" href="#Grundlagen">¶</a></h2><p>
Die Konfigurations-Datei <strong>/etc/fstab</strong> enthält nötige Informationen, um das Einhängen von Partitionen <sup><a href="#source-3">[3]</a></sup> ganz oder teilweise zu automatisieren. Bei Systemen mit <a class="internal" href="./systemd.html">systemd</a> als Init-System (kommt unter Ubuntu ab Version 15.04 zum Einsatz), werden auf Basis der Datei <strong>/etc/fstab</strong> die entsprechenden mount Units erstellt.</p><p>Außerdem kann sie noch zusätzlich vom System/<a class="internal" href="./kernel.html">Kernel</a> benötigte Einträge, wie z.B. für das virtuelle Dateiverzeichnis <a class="internal" href="./verzeichnisstruktur.html#proc">/proc</a>, enthalten. Durch entsprechende Einträge in <strong>fstab</strong> kann man das temporäre Einbinden von Datenträgern  vorbereiten (siehe <a class="internal" href="./mount.html">mount</a>)<sup><a href="#source-3">[3]</a></sup> und entfernte Dateisysteme oder Netzwerk-Freigaben statisch ins lokale Dateisystem einbinden (z.B. mit <a class="internal" href="./fuse/sshfs.html">sshfs</a>, <a class="internal" href="./webdav.html#Verbindung-per-davfs2">davfs2</a> oder <a class="internal" href="./samba_client/cifs.html#Festes-Einbinden">cifs</a>).</p><p>Bei der Installation von Ubuntu kann man den vorhandenen Partitionen einen Ort im Dateisystem zuweisen. Dann richtet Ubuntu für diese Partitionen einen Einhängepunkt ein und trägt sie auch automatisch in <strong>/etc/fstab</strong> ein. Danach nimmt Ubuntu an <strong>fstab</strong> selbständig keine Änderungen mehr vor. Wurden bei der Installation bestimmte Partitionen nicht automatisch eingetragen oder fügt man im Nachhinein neue Datenträger oder Partitionen hinzu bzw. ändert man die Partitionierung, so muss man <strong>fstab</strong> von Hand anpassen. Dies kann mit <a class="internal" href="./sudo.html">Root-</a>Rechten in einem Editor <sup><a href="#source-2">[2]</a></sup> geschehen.</p><p>Externe Datenträger (z.B. USB-Laufwerke oder USB-Sticks) werden von Desktop-Umgebungen wie <a class="internal" href="./gnome.html">GNOME</a> oder <a class="internal" href="./kde.html">KDE</a> beim Systemstart oder beim Einstecken automatisch erkannt und temporär eingebunden. Dabei braucht man sich um Bezeichnung und Einhängepunkt nicht zu kümmern. Möchte man jedoch, dass ein bestimmter externer Datenträger immer an der gleichen Stelle und mit der gleichen Bezeichnung eingebunden wird, dann sollte man für diesen einen Eintrag in <strong>fstab</strong> vornehmen. Dies gilt erst recht, wenn der externe Datenträger im Netzwerk freigegeben werden soll. Der in <strong>fstab</strong> festgelegte Einhängepunkt, der dortige Name und die dort eingetragenen Parameter und Optionen haben immer Vorrang vor den Werten, die beim automatischen Einbinden verwendet würden.</p><div class="section_2"><h3 id="Aufruf">Aufruf<a class="headerlink" href="#Aufruf">¶</a></h3><p>
Um den Inhalt der Datei <strong>/etc/fstab</strong> nur anzusehen, braucht man keine Root-Rechte. Es genügt, die Datei in einem Editor zu öffnen<sup><a href="#source-2">[2]</a></sup> oder ihn im Terminal<sup><a href="#source-1">[1]</a></sup> mittels</p><div class="bash"><div class="contents"><pre class="notranslate">less /etc/fstab </pre></div></div><p>anzeigen zu lassen. Der Inhalt kann z.B. so aussehen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1"># /etc/fstab: static file system information.</span>
<span class="c1">#</span>
<span class="c1"># Zeilen, die mit dem Zeichen "#" beginnen, sind Kommentare.</span>
<span class="c1">#</span>
<span class="c1"># &lt;file system&gt;                            &lt;mount point&gt;   &lt;type&gt;       &lt;options&gt;                           &lt;dump&gt;  &lt;pass&gt;</span>
proc                                       /proc           proc         defaults                            <span class="m">0</span>       <span class="m">0</span>
/dev/sda1                                  /media/sda1     ntfs         defaults,nls<span class="o">=</span>utf8,umask<span class="o">=</span><span class="m">007</span>,gid<span class="o">=</span><span class="m">46</span>  <span class="m">0</span>       <span class="m">0</span>
/dev/sda2                                  /media/sda2     ntfs         defaults,nls<span class="o">=</span>utf8,umask<span class="o">=</span><span class="m">007</span>,gid<span class="o">=</span><span class="m">46</span>  <span class="m">0</span>       <span class="m">0</span>
<span class="c1"># /dev/sda6</span>
<span class="nv">UUID</span><span class="o">=</span>03b77228-ed4c-4218-910e-11b9f77c4b46  /               ext4     defaults                              <span class="m">0</span>       <span class="m">1</span>
<span class="c1"># /dev/sda7</span>
<span class="nv">UUID</span><span class="o">=</span>8883dbc8-80f8-49b8-8c5f-13a32baefe98  none            swap         sw                                  <span class="m">0</span>       <span class="m">0</span>
/dev/hda                                   /media/cdrom0   udf,iso9660  user,noauto                         <span class="m">0</span>       <span class="m">0</span>
/dev/cdrom        /media/cdrom0   udf,iso9660 user,noauto     <span class="m">0</span>       <span class="m">0</span>
/dev/           /media/floppy0  auto    rw,user,noauto  <span class="m">0</span>       <span class="m">0</span>

<span class="c1"># externe tragbare ntfs-Festplatte zum Datenaustausch; nicht per UUID eingebunden</span>
/dev/sdb1	/media/ntfs-usbdisk     ntfs  rw,user,noauto,uid<span class="o">=</span><span class="m">0</span>,gid<span class="o">=</span><span class="m">46</span>,umask<span class="o">=</span><span class="m">007</span>,nls<span class="o">=</span>utf8		<span class="m">0</span>	<span class="m">0</span>

<span class="c1"># selbst eingetragen:</span>
/dev/sda5	/media/daten    	vfat         rw,auto,user,umask<span class="o">=</span><span class="m">0000</span>              <span class="m">0</span>       <span class="m">0</span>

<span class="c1"># Speicher für QEMU auf max 400 MB RAM festlegen</span>
none		/dev/shm        	tmpfs        defaults,size<span class="o">=</span>400M

<span class="c1"># Das Filesystem eines anderen Rechners über fuse/ssh zum Einbinden vorbereiten (später genügt "mount /lokaler/mountpoint"</span>
sshfs#username@rechnername:/Pfad/auf_Fremndrechner /lokaler/mountpoint fuse <span class="nv">uid</span><span class="o">=</span><span class="m">1000</span>,gid<span class="o">=</span><span class="m">100</span>,umask<span class="o">=</span><span class="m">0</span>,allow_other,defaults,noauto <span class="m">0</span> <span class="m">0</span>

<span class="c1"># Am Ende der fstab muss immer noch eine Leerzeile kommen, sonst erhält man die Fehlermeldung: no final newline at the end of /etc/fstab</span>
</pre></div>
</td></tr></table></div><p>Je nach Systemkonfiguration (z.B. separate Boot-Partition, ATA statt SATA/SCSI Platte) kann die eigene <strong>fstab</strong> auch etwas anders aussehen.</p></div><div class="section_2"><h3 id="Aufbau">Aufbau<a class="headerlink" href="#Aufbau">¶</a></h3><p>
Jede Partition wird in einer eigenen Zeile eingetragen. Eine Zeile besteht aus sechs Spalten, mit folgender Bedeutung:</p><p>
</p><table><tr class="titel"><td colspan="2"> Spalten in /etc/fstab </td></tr><tr class="kopf"><td> Spalte </td><td style="width: 85%"> Beschreibung </td></tr><tr><td> <code class="notranslate">&lt;file system&gt;</code> </td><td> Enthält die Beschreibung des eingehängten <a class="internal" href="./datenträger.html">Geräts</a>, also z.B. Festplatten-Partitionen wie <strong>/dev/sda8</strong>, ein CD-Lesegerät <strong>/dev/cdrom</strong> oder auch das <strong>proc</strong>-Dateisystem des Kernels "proc". </td></tr><tr><td> <code class="notranslate">&lt;mount point&gt;</code> </td><td> Hier wird der Einhängepunkt ("Mountpunkt") festgelegt, d.h. der Ordner, in den die Partition eingehängt werden soll. Die Angabe "<code class="notranslate">none</code>" wird verwendet, wenn die Partition keinen Einhängpunkt unter <strong>/</strong> besitzt. Beispiel: <a class="internal" href="./swap.html">Swap</a> </td></tr><tr><td> <code class="notranslate">&lt;type&gt;</code> </td><td> Enthält die Art des Dateisystems, gemäß dem <a class="internal" href="./mount.html#Parameter">mount-Parameter</a> <code class="notranslate">-t</code>. </td></tr><tr><td> <code class="notranslate">&lt;option&gt;</code> </td><td> Enthält alle verwendeten <a class="internal" href="./mount.html#Optionen">Optionen</a>, gemäß dem mount-Parameter <code class="notranslate">-o</code>. Unter Linux verbreitet ist die Option "<code class="notranslate">defaults</code>", die den Optionen "<code class="notranslate">rw,suid,dev,exec,auto,nouser,async</code>" entspricht. </td></tr><tr><td> <code class="notranslate">&lt;dump&gt;</code> </td><td> Wenn man das Backup-Programm dump einsetzt, wird hier festgelegt ob die Partition gesichert wird. Voreinstellung ist "<code class="notranslate">0</code>" = keine Sicherung. </td></tr><tr><td> <code class="notranslate">&lt;pass&gt;</code> </td><td> Gibt an, ob und in welcher Reihenfolge die Partition beim Systemstart in die regelmäßigen Dateisystemprüfungen einbezogen wird. Meist ist hier für die Root-Partition (die Wurzel des Dateisystems, <strong>/</strong>) "<code class="notranslate">1</code>" eingetragen, für alle anderen Partitionen "<code class="notranslate">2</code>" (danach prüfen) oder "<code class="notranslate">0</code>" (<a class="internal" href="./dateisystemcheck.html#berpruefung-abschalten">keine Überprüfung</a>) z.B. für Windows-Dateisysteme. </td></tr></table></div></div><div class="section_1"><h2 id="Hinzufuegen-oder-ndern-von-Eintraegen">Hinzufügen oder Ändern von Einträgen<a class="headerlink" href="#Hinzufuegen-oder-ndern-von-Eintraegen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Bearbeiten-mit-einem-Editor">Bearbeiten mit einem Editor<a class="headerlink" href="#Bearbeiten-mit-einem-Editor">¶</a></h3><p>
Möchte man der <strong>fstab</strong> weitere Partitionen hinzufügen, beispielsweise um externe Festplatten dauerhaft einzuhängen, öffnet man die Datei mit Root-Rechten <sup><a href="#source-2">[2]</a></sup> und fügt die entsprechende Zeile ein. Die Einträge in den Spalten werden dabei durch  
<span class="key">Tab ⇆</span>  oder durch Leerzeichen getrennt. Eine Raute <code class="notranslate">#</code> am Anfang der Zeile bedeutet, dass diese Zeile auskommentiert ist, also beim Einlesen der Datei ignoriert wird. Damit lassen sich dann Kommentare zur Dokumentation der Datei einfügen oder auch Einträge deaktivieren, ohne sie gleich ganz löschen zu müssen.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Einträge in den einzelnen Spalten dürfen keine Leerzeichen enthalten, da diese als Trennzeichen zwischen Spalten interpretiert würden. Leerzeichen in Gerätenamen, Labels oder Einhängepunkten müssen deshalb durch die Zeichenfolge <code class="notranslate">\040</code> umschrieben werden. Für andere besondere Zeichen (z.B. Klammern) genügt es, wie üblich das Zeichen "\" (Backslash) voran zusetzen.</p><p>Beispiel:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1"># Dropbox in eine eigene Partition auslagern:</span>
<span class="nv">UUID</span><span class="o">=</span>xxxxxxxx-xxxx-xxxx-xxxxxxxxxxxxxx   /media/Dropbox   ext4   defaults   <span class="m">0</span>   <span class="m">2</span>
/media/Dropbox  /home/BENUTZERNAME/Dropbox  none  <span class="nb">bind</span>  <span class="m">0</span>  <span class="m">0</span>
</pre></div>
</td></tr></table></div><p>
</p></div></div><p>Änderungen werden erst nach einem Neueinlesen der <strong>fstab</strong> wirksam. Ohne Neustart kann man dies mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -a </pre></div></div><p>bewerkstelligen.</p><div class="section_3"><h4 id="Einhaengepunkte">Einhängepunkte<a class="headerlink" href="#Einhaengepunkte">¶</a></h4><p>
Nur bei den Einträgen in <strong>fstab</strong>, die bei der Installation von Ubuntu automatisch vorgenommen werden, werden auch die Einhängepunkte ("Mountpunkte") automatisch erstellt. Für alle anderen Einträge in <strong>fstab</strong> müssen die jeweiligen Mountpunkte von Hand erstellt werden. Das Einhängen ist prinzipiell an jeder Stelle in der Dateisystemhierarchie möglich. Üblich ist es jedoch, Unterordner in <strong>/media</strong> oder <strong>/mnt</strong> zu erstellen und diese zu verwenden.</p><ul><li><p><strong>/media</strong> (es erscheint ein Symbol auf dem KDE- oder GNOME-Desktop) </p></li><li><p><strong>/mnt</strong> (es erscheint <strong>k</strong>ein Symbol auf dem KDE- oder GNOME-Desktop) </p></li></ul><p>
Ab KDE4 werden standardmäßig keine Desktop-Icons mehr für eingehängte Partitionen erstellt, sie befinden sich aber in dem KDE-eigenen Dateimanager <a class="internal" href="./dolphin.html">Dolphin</a> in der Seitenleiste unter Orte.</p><p>Möchte man z.B. die ext4-Partition <strong>/dev/sda4</strong> mit der Option <code class="notranslate">defaults</code> unter <strong>/media/LinuxLaufwerk</strong> einhängen, so erstellt man mit folgender Befehlszeile den Mountpunkt:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /media/LinuxLaufwerk </pre></div></div><p>Dann editiert man mit einem beliebigen Editor <sup><a href="#source-2">[2]</a></sup> mit Root-Rechten die Datei <strong>/etc/fstab</strong> und trägt dort folgende Zeile ein (die Leerzeile am Schluss nicht vergessen!):</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>/dev/sda4   /media/LinuxLaufwerk   ext4   defaults   <span class="m">0</span>   <span class="m">2</span>
</pre></div>
</td></tr></table></div><p>wobei die Werte für <code class="notranslate">dump</code> und <code class="notranslate">pass</code> natürlich den eigenen Bedürfnissen angepasst werden können.</p><p>Nach einem Neustart des Systems oder nach Eingabe der Befehlszeile</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount -a </pre></div></div><p>müsste die ext4-Partition jetzt sichtbar und der Zugriff darauf möglich sein.</p></div><div class="section_3"><h4 id="Identifikation-der-Geraete">Identifikation der Geräte<a class="headerlink" href="#Identifikation-der-Geraete">¶</a></h4><p>
Die Geräte bzw. Partitionen können sehr einfach über ihren Eintrag in der Datei <strong>/dev</strong> identifiziert werden (z.B.<code class="notranslate">/dev/sda1</code>). Vor allem bei externen Geräten ist es aber sinnvoll, statt der Bezeichnung <code class="notranslate">/dev/xxxy</code> die <a class="internal" href="./uuid.html">UUID</a> oder das <a class="internal" href="./labels.html">Label</a> der Partition zu verwenden. So wird die Partition sicher identifiziert, während der Gerätename unter Umständen beim nächsten Start einer anderen Partition zugeordnet werden kann.  Mit folgender Zeile wird eine ext3-Partition über ihre UUID dem Einhängepunkt <strong>/media/riese</strong> zugeordnet:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nv">UUID</span><span class="o">=</span>bbf85ecb-cc61-40ed-ba7b-d7b804ee845e   /media/riese   ext3   defaults   <span class="m">0</span>   <span class="m">2</span>
</pre></div>
</td></tr></table></div><p>Mit dem Befehl
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo blkid </pre></div></div><p>
werden für alle verfügbaren Festplatten-Partitionen sowohl der Eintrag in <strong>/dev</strong> als auch die UUID und, falls vorhanden, das Label angezeigt. (siehe auch <a class="internal" href="./blkid.html">blkid</a>)</p><p>Weitere Informationen zum statischen Einbinden entsprechender Partitionen finden sich auf den Wiki-Seiten
</p><ul><li><p><a class="internal" href="./windows-partitionen_einbinden.html">Windows-Partitionen einbinden</a></p></li><li><p><a class="internal" href="./externe_laufwerke_statisch_einbinden.html">Externe Laufwerke statisch einbinden</a></p></li></ul><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Beim Formatieren einer Partition oder beim Wechsel des Dateisystems (z.B. FAT32 nach NTFS) ändert sich auch die UUID der Partition!
</p></div></div><p>Einzubindende Netzwerk-Freigaben werden in der Regel über die <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/IP-Adresse">IP-Adresse</a> des Servers und den Namen der Freigabe identifiziert. Dabei ist die Syntax in NFS und cifs (Samba) etwas verschieden:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1"># NFS-Freigabe:</span>
<span class="m">192</span>.168.1.100:/media/photos /media/Fotos nfs rw <span class="m">0</span> <span class="m">0</span>
</pre></div>
</td></tr></table></div><p>
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1"># Samba- oder Windows-Freigabe (cifs):</span>
//192.168.1.100/music /media/Musik cifs <span class="nv">credentials</span><span class="o">=</span>/home/otto/.smbcredentials <span class="m">0</span> <span class="m">0</span>
</pre></div>
</td></tr></table></div><p>Um diese Funktion nutzten zu können, installiert man zunächst eines der Pakete</p><ul><li><p><strong>cifs-utils</strong> oder <strong>smbfs</strong></p></li></ul><p>
Näheres, vor allem auch die Bedeutung der besonderen Optionen, siehe <a class="internal" href="./nfs.html#Auf-Freigaben-zugreifen">NFS</a>, <a class="internal" href="./nfsv4.html#Einhaengen-der-Freigaben-am-Client">NFSv4</a> bzw. <a class="internal" href="./samba_client_cifs.html#Festes-Einbinden">Samba Client cifs</a>.</p></div><div class="section_3"><h4 id="Optionen-fuer-nachtraegliches-Einhaengen">Optionen für nachträgliches Einhängen<a class="headerlink" href="#Optionen-fuer-nachtraegliches-Einhaengen">¶</a></h4><p>
Möchte man verhindern, dass eine Partition automatisch eingehängt wird, verwendet man die Einhängeoption <code class="notranslate">noauto</code>. Damit ist es möglich, die Partition später zum gewünschten Zeitpunkt mit definierten Optionen an einem festen Einhängepunkt temporär einzubinden.</p><p>Sinnvoll ist das z.B., wenn man eine externe Festplatte nur zur Datensicherung anschließt. Verwendet man ein Backup-Skript, dann ist es wichtig, dass die Partition auf der externen Platte jedes mal am selben Ort im Dateisystem erscheint.</p><p>Ein solcher Eintrag könnte so aussehen:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nv">UUID</span><span class="o">=</span>xxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx   /media/Backup   ext3   noauto,user,defaults   <span class="m">0</span>   <span class="m">2</span>
</pre></div>
</td></tr></table></div><p>Schließt man nun die USB-Backup-Platte an, wird diese jedes mal unter <strong>/media/Backup</strong> eingehängt. Interessant ist in diesem Zusammenhang auch die Option <code class="notranslate">user</code>. Sie sorgt dafür, dass man keine Root-Rechte benötigt um die Partition ein- bzw. auszuhängen.</p><p>
</p><table><tr class="titel"><td colspan="2"> Unterschiede zwischen <code class="notranslate">user</code>, <code class="notranslate">users</code> und <code class="notranslate">nouser</code> </td></tr><tr class="kopf"><td> Option </td><td style="width: 85%"> Beschreibungubuntu </td></tr><tr><td> <code class="notranslate">user</code> </td><td> Der aktuelle Benutzer kann die Partition einhängen und <span class="underline">nur er</span> kann sie auch wieder aushängen. </td></tr><tr><td> <code class="notranslate">users</code> </td><td> Jeder Benutzer kann die Partition einhängen und <span class="underline">jeder</span> Benutzer darf sie wieder aushängen. </td></tr><tr><td> <code class="notranslate">nouser</code> </td><td> Nur mit Root-Rechten kann die Partition ein und ausgehängt werden (Standardoption in <code class="notranslate">defaults</code>). </td></tr></table><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wenn intern ein besonderes Tool verwendet wird (z.B. <code class="notranslate">mount.cifs</code> zum Einhängen von Windows- oder Samba-Freigaben), dann sind die Optionen <code class="notranslate">user</code> und <code class="notranslate">users</code> nur dann wirksam, wenn für dieses Tool das <a class="internal" href="./chmod.html#SUID-Bit">SUID-Bit</a> gesetzt ist. Aus Sicherheitsgründen ist das SUID-Bit nur mit Bedacht zu verwenden.</p><p>Der zum Einhängen von NTFS-Partitionen verwendete Treiber ntfs-3g unterstützt  die Optionen <code class="notranslate">user</code> und <code class="notranslate">users</code> erst ab der Version 1.2506 und nur dann, wenn für die Datei <strong>/bin/ntfs-3g</strong> das SUID-Bit gesetzt ist.
</p></div></div></div><div class="section_3"><h4 id="Automount-mit-systemd">Automount mit systemd<a class="headerlink" href="#Automount-mit-systemd">¶</a></h4><p>
Seit <a class="internal" href="./vivid.html">Ubuntu 15.04</a> verwendet Ubuntu das Init-System <a class="internal" href="./systemd.html">systemd</a>. Dieses enthält einen Automounter, der auch durch einen Eintrag in fstab aktiviert werden kann. Trägt man in einem fstab-Eintrag die mount-Optionen <code class="notranslate">noauto,x-systemd.automount</code> ein, so wird die Partition bzw. Netzwerk-Freigabe nicht schon beim Systemstart, sondern erst bei einem Zugriffsversuch automatisch eingebunden. Fügt man noch zusätzlich die Option <code class="notranslate">x-systemd.idle-timeout=60</code> ein, so wird die eingebundene Partition bzw. Freigabe nach einer Untätigkeit von 60 Sekunden wieder automatisch ausgehängt. Natürlich kann der Wert für das Timeout beliebig verändert werden.</p><p>Ein solcher Eintrag könnte so aussehen:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nv">UUID</span><span class="o">=</span>xxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx   /media/Backup   ext4   noauto,x-systemd.automount,x-systemd.idle-timeout<span class="o">=</span><span class="m">60</span>,defaults   <span class="m">0</span>   <span class="m">2</span>
</pre></div>
</td></tr></table></div></div><div class="section_3"><h4 id="Einzelne-Ordner-einhaengen">Einzelne Ordner einhängen<a class="headerlink" href="#Einzelne-Ordner-einhaengen">¶</a></h4><p>
In manchen Fällen ist es sinnvoll, einzelne Ordner (oder auch einzelne Dateien) einer Partition zusätzlich noch an anderer Stelle ins Dateisystem einzuhängen. So kann es z.B. sein, dass der Benutzer "Max" den Ordner "Downloads" aus <strong>/media/Daten</strong> zusätzlich noch in sein Homeverzeichnis einbinden will, weil er ihn mit diesem in seinem Samba-Netzwerk freigeben möchte. Ein einfacher <a class="internal" href="./ln.html#Symbolische-Verknuepfungen">Symlink</a> kommt dafür aber nicht in Frage, weil Symlinks, die aus einer Freigabe heraus führen, mit cifs standardmäßig nicht erlaubt sind.</p><p>Mit der Option <code class="notranslate">bind</code> kann man sowohl ganze Partitionen als auch einzelne Ordner oder Dateien zusätzlich noch an anderer Stelle ins Dateisystem einhängen. Als Art des Dateisystems (type) muss dabei <code class="notranslate">none</code> angegeben werden. Beispiel:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1"># Ganze Partition in /media einbinden:</span>
<span class="nv">UUID</span><span class="o">=</span>bbf85ecb-cc61-40ed-ba7b-d7b804ee845e   /media/Daten   ext3   defaults   <span class="m">0</span>   <span class="m">2</span>
<span class="c1"># Ordner "Downloads" zusätzlich in /home/Max einbinden:</span>
/media/Daten/Downloads  /home/Max/Downloads  none  <span class="nb">bind</span>  <span class="m">0</span>  <span class="m">0</span>
</pre></div>
</td></tr></table></div><p>
Ähnlich wie die Option <code class="notranslate">bind</code> verhält sich die Option <code class="notranslate">move</code>, nur dass dann der betreffende Ordner nur noch am neuen Mountpunkt erscheint.</p></div><div class="section_3"><h4 id="Aushaengen">Aushängen<a class="headerlink" href="#Aushaengen">¶</a></h4><p>
Alle eingehängten Geräte und Partitionen werden beim Herunterfahren des Systems automatisch korrekt wieder ausgehängt. Manchmal möchte man jedoch auch statisch eingehängte Geräte schon vorher wieder aushängen, z.B. weil man eine externe Festplatte oder ein Netzwerk abschalten möchte.</p><p>Alle über einen Eintrag in <strong>fstab</strong> ohne die Option <code class="notranslate">users</code> stationär eingebundenen Geräte können nur mit Root-Rechten wieder ausgehängt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo umount &lt;Gerät&gt; </pre></div></div><p>Insbesondere gilt, dass das einfache Aushängen mit einem Mausklick auf <em>"Datenträger aushängen"</em> in der GUI in diesen Fällen nicht funktioniert.</p></div></div></div><div class="section_1"><h2 id="Beispiel">Beispiel<a class="headerlink" href="#Beispiel">¶</a></h2><p>
Ein ausführliches Beispiel der Anwendung von <strong>fstab</strong> ist im Artikel zu <a class="internal" href="./banshee.html#Musiksammlung-auf-externer-Festplatte">Banshee</a> anhand einer Musiksammlung auf der externen Festplatte beschrieben.</p></div><div class="section_1"><h2 id="Klonen-von-Festplatten">Klonen von Festplatten<a class="headerlink" href="#Klonen-von-Festplatten">¶</a></h2><p>
Vor dem Klonen von Festplatten sollte man die <strong>fstab</strong> wieder komplett auf die "echten" Geräteknoten (<strong>/dev/sd*</strong>) umstellen, statt UUIDs zu verwenden.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><div class="section_2"><h3 id="Verwandte-Seiten">Verwandte Seiten<a class="headerlink" href="#Verwandte-Seiten">¶</a></h3><p>
</p><ul><li><p><a class="internal" href="./datenträger.html">Datenträger</a>: Identifikation und Zugriff auf Datenträger </p></li><li><p><a class="internal" href="./dateisystem.html">Dateisystem</a>: Übersicht und Eigenschaften verschiedener Dateisysteme</p></li><li><p><a class="internal" href="./dateisystemcheck.html">Dateisystemcheck</a> </p></li><li><p><a class="internal" href="./mount.html">mount</a>: Einbinden von Geräten und Partitionen; Parameter und Optionen</p></li><li><p><a class="internal" href="./autofs.html">Autofs</a>: Partitionen und Wechseldatenträger automatisch ein- und aushängen ("Automounter")</p></li><li><p><a class="internal" href="./systemd.html">systemd</a>: Auch dieses seit <a class="internal" href="./vivid.html">Ubuntu 15.04</a> standardmäßig verwendete Init-System enthält einen einfachen Automounter. </p></li><li><p><a class="internal" href="./windows-partitionen_einbinden.html">Windows-Partitionen einbinden</a>: Einbinden von FAT- und NTFS-Partitionen</p></li><li><p><a class="internal" href="./samba_client_cifs.html">Samba Client cifs</a>: Windows- und Samba-Freigaben statisch und temporär einbinden</p></li><li><p><a class="internal" href="./nfs.html">NFS</a>: Das beliebte Netzwerk-Protokoll für Linux</p></li><li><p><a class="internal" href="./nfsv4.html">NFSv4</a>: Das beliebte Netzwerk-Protokoll für Linux in der aktuellen Version 4</p></li><li><p><a class="internal" href="./fuse/sshfs.html">FUSE/sshfs</a> Entfernte Dateisysteme über SSH einbinden</p></li><li><p><a class="internal" href="./externe_laufwerke_statisch_einbinden.html">Externe Laufwerke statisch einbinden</a>: Besonderheiten beim statischen Einbinden externer Datenträger</p></li></ul><p>
</p></div><div class="section_2"><h3 id="Extern">Extern<a class="headerlink" href="#Extern">¶</a></h3><p>
</p><ul><li><p><a class="external" href="https://web.archive.org/web/20130504144209/http://www.tuxfiles.org/linuxhelp/fstab.html" rel="nofollow">How to edit and understand /etc/fstab</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://linux.die.net/man/5/fstab" rel="nofollow">man fstab</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> Die Manpage von <strong>fstab</strong></p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./fstab/a/revision/945281.html">Diese Revision</a> wurde am 6. Dezember 2017 22:23 von <a href="https://ubuntuusers.de/user/BillMaier/">BillMaier</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./fstab.html">fstab</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>