<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>MySQL › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./mysql.html">MySQL</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/MySQL">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./mysql/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./mysql/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./mysql/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./mysql/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./mysql/a/backlinks.html">MySQL</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#MySQL-Server">MySQL-Server
</a></li><li><a class="crosslink" href="#PHP">PHP
</a></li></ol></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a><ol class="arabic"><li><a class="crosslink" href="#Datenpfad">Datenpfad
</a></li><li><a class="crosslink" href="#MySQL-ueber-das-Netzwerk">MySQL über das Netzwerk
</a></li></ol></li><li><a class="crosslink" href="#Bedienung">Bedienung
</a><ol class="arabic"><li><a class="crosslink" href="#Benutzer">Benutzer
</a></li><li><a class="crosslink" href="#Passwort-zuruecksetzen-neu-vergeben">Passwort zurücksetzen/neu vergeben
</a></li><li><a class="crosslink" href="#UNIX-SOCKET-Authentication-Plugin">UNIX_SOCKET Authentication Plugin
</a></li></ol></li><li><a class="crosslink" href="#Datenbank-erstellen">Datenbank erstellen
</a><ol class="arabic"><li><a class="crosslink" href="#Tabellenarten">Tabellenarten
</a></li></ol></li><li><a class="crosslink" href="#MySQL-Server-steuern">MySQL-Server steuern
</a><ol class="arabic"><li><a class="crosslink" href="#ab-Ubuntu-14-10">ab Ubuntu 14.10
</a></li><li><a class="crosslink" href="#bis-Ubuntu-14-04">bis Ubuntu 14.04
</a></li></ol></li><li><a class="crosslink" href="#Datensicherung">Datensicherung
</a></li><li><a class="crosslink" href="#Graphische-Oberflaechen">Graphische Oberflächen
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./mysql.png" class="image-left" src="./_/987f82d0856d367b41a6451ee4e6b8d065a07667.png"/>
<a class="external" href="http://www.mysql.de/" rel="nofollow">MySQL</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> ist eine leistungsfähige Datenbank-Serveranwendung. Die Firma MySQL AB, welche hinter der Entwicklung der Datenbank steht, wurde im Jahr 2008 von Sun übernommen und ist seit der Übernahme von Sun durch Oracle nun dieser Firma zugehörig. MySQL ist neben Linux auch für Windows, MacOS, FreeBSD, Solaris und weitere Betriebssysteme verfügbar.</p><p>MySQL wird sehr häufig für Webanwendungen zusammen mit dem Webserver <a class="internal" href="./apache.html">Apache</a> und <a class="internal" href="./php.html">PHP</a> eingesetzt. Auch <a class="crosslink" href="http://ubuntuusers.de/inyoka">Inyoka</a>, die Software von ubuntuusers.de, auf der auch dieses Wiki läuft, setzt eine MySQL-Datenbank zur Speicherung der Daten ein.</p><p>Die MySQL-Datenbank gibt es in einer freien Community-Variante (welche über die Ubuntu-Quellen verfügbar ist) und einer kostenpflichtigen Enterprise-Variante, welche als erstes Fehlerkorrekturen und neue Funktionen enthält. Seitdem MySQL zu Orcale gehört, sind die Unterschiede zwischen der freien und der kostenpflichtigen Variante größer geworden, zum Unmut der Community. Details hierzu sind im <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/MySQL#Kritik">Wikipedia-Artikel</a> zu MySQL zu finden.</p><p>Als Alternative zu MySQL gibt es das API-kompatible <a class="internal" href="./mariadb.html">MariaDB</a>, welches andere Linux-Distributionen bereits als Ersatz verwenden.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
</p><div class="section_2"><h3 id="MySQL-Server">MySQL-Server<a class="headerlink" href="#MySQL-Server">¶</a></h3><p>
MySQL kann direkt aus den Paketquellen von Ubuntu installiert werden. Dazu muss nur das Paket</p><ul><li><p><strong>mysql-server</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install mysql-server </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install mysql-server </pre></div></div><p>
</p></div></div><p>aus der Paketverwaltung heraus installiert <sup><a href="#source-1">[1]</a></sup> werden.
</p></div><div class="section_2"><h3 id="PHP">PHP<a class="headerlink" href="#PHP">¶</a></h3><p>
Wer eine datenbankbasierte Webanwendung mit PHP 5 und MySQL aufsetzen möchte (z.B. ein <a class="internal" href="./cms.html">CMS</a> oder eine <a class="internal" href="./bilder_verwalten.html#Mit-Datenbank">Bildergalerie</a>), benötigt noch das Paket:</p><ul><li><p><strong>php5-mysql</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install php5-mysql </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install php5-mysql </pre></div></div><p>
</p></div></div><p>Ab <a class="internal" href="./xenial.html">Ubuntu 16.04</a> lautet der Paketname:</p><ul><li><p><strong>php-mysql</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install php-mysql </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install php-mysql </pre></div></div><p>
</p></div></div></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
MySQL wird über die Datei <strong>/etc/mysql/my.cnf</strong> (bis einschließlich 14.10) bzw <strong>/etc/mysql/mysql.conf.d/mysqld.cnf</strong> (ab 15.04) konfiguriert. Es müssen üblicherweise aber keine Änderungen vorgenommen werden. Mittels eines Editors <sup><a href="#source-3">[3]</a></sup> kann man Funktionen aktivieren bzw. Einstellungen vornehmen. Die wichtigsten Optionen sollen hier kurz vorgestellt werden.</p><div class="section_2"><h3 id="Datenpfad">Datenpfad<a class="headerlink" href="#Datenpfad">¶</a></h3><p>
MySQL speichert die Datenbanken im Verzeichnis <strong>/var/lib/mysql</strong> ab. Möchte man einen anderen Pfad definieren, so kann man dies über die Option</p><pre class="notranslate">datadir         = /var/lib/mysql</pre><p>eintragen. Dabei ist zu beachten, dass das Verzeichnis dem Benutzer bzw. der Gruppe <code class="notranslate">mysql</code> gehören sollten, damit der MySQL-Server dort auch schreiben darf. Mehr zum Thema Benutzer und Gruppen im Artikel <a class="internal" href="./benutzer_und_gruppen.html">Benutzer und Gruppen</a>.</p><p>Lässt sich der MySQL-Server danach nicht mehr starten, liegt es wahrscheinlich an den Profil-Einstellungen von <a class="internal" href="./apparmor.html">AppArmor</a>. Wird das Datenbankverzeichnis in der Konfigurationsdatei geändert, aber nicht im AppArmor-Profil angepasst, kann MySQL nicht mehr auf alle Datenbanken bzw. auf Teile von bestehenden Datenbanken zugreifen. Es wird dann z.B. folgender Fehler gemeldet:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mysqlshow -u root -p </pre></div></div><pre class="notranslate">mysqlshow: Cannot list databases: Can't read dir of '.' (errno: 13)</pre><p>Oder wenn man auf der MySQL-Kommandozeile angemeldet ist:</p><div class="bash"><div class="contents"><pre class="notranslate">show databases; </pre></div></div><p>
</p><pre class="notranslate">ERROR 1018 (HY000): Can't read dir of '.' (errno: 13)</pre><p>Dieser Fehler wirkt sich auch auf PHPmyAdmin aus. Dort wird im linken sowie im rechten Fenster immer nur "Keine Datenbanken" angezeigt. Die genauen Fehlermeldungen stehen im Kernel-Log, also in <strong>/var/log/syslog</strong>, und werden auch durch <strong>dmesg | tail</strong> angezeigt.</p><p>Eine Möglichkeit der Abhilfe ist die Anpassung des Ordners in der Datei <strong>/etc/apparmor.d/usr.sbin.mysqld</strong>:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>  ...
  /var/lib/mysql/ r,
  /var/lib/mysql/** rwk,
  ...
</pre></div>
</td></tr></table></div><p>
Besser ist es aber, die für lokale Anpassungen vorgesehene Datei <strong>/etc/apparmor.d/local/usr.sbin.mysqld</strong> zu benutzen:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>  /other_disk/mysql/ r,
  /other_disk/mysql/** rwk,
</pre></div>
</td></tr></table></div><p>
In jedem Fall sollte danach zunächst AppArmor neu gestartet werden, danach dann MySQL.</p></div><div class="section_2"><h3 id="MySQL-ueber-das-Netzwerk">MySQL über das Netzwerk<a class="headerlink" href="#MySQL-ueber-das-Netzwerk">¶</a></h3><p>
Nach der Installation ist der MySQL-Server so konfiguriert, dass er nur via <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/localhost">localhost</a> - also vom lokalen Rechner aus - erreichbar ist. Soll der Server über das Netzwerk ansprechbar sein, so kann man in der Konfigurationsdatei die interne IP-Adresse des Servers eintragen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1"># Instead of skip-networking the default is now to listen only on</span>
<span class="c1"># localhost which is more compatible and is not less secure.</span>
<span class="n">bind</span><span class="o">-</span><span class="n">address</span>            <span class="o">=</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">10</span>
</pre></div>
</td></tr></table></div><p>So ist der MySQL-Server z.B. auch von anderen Rechnern aus dem LAN ansprechbar. Per Voreinstellung ist MySQL über den Port 3306 erreichbar. Dieser kann auch in der Konfigurationsdatei geändert werden.</p><p>Wenn von allen Netzwerk-Interfaces zugegriffen werden soll, so muss bind-address <code class="notranslate">bind-address = 0.0.0.0</code> konfiguriert werden. Alternativ kann der <code class="notranslate">bind-address</code> Eintrag auch auskommentiert werden.</p><p>Weiterhin muss in den Benutzerrechten pro Benutzer hinterlegt werden, ob dieser sich über das Netzwerk anmelden darf.</p></div></div><div class="section_1"><h2 id="Bedienung">Bedienung<a class="headerlink" href="#Bedienung">¶</a></h2><p>
Hier wird nur ein kurzer Einblick in die Bedienung von MySQL gegeben. Eine sehr umfangreiche Dokumentation steht in Form des <a class="external" href="http://dev.mysql.com/doc/" rel="nofollow">Referenzhandbuchs</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> online zur Verfügung.</p><div class="section_2"><h3 id="Benutzer">Benutzer<a class="headerlink" href="#Benutzer">¶</a></h3><p>
</p><div class="section_3"><h4 id="root">root<a class="headerlink" href="#root">¶</a></h4><p>
Bei der Installation des Servers wird automatisch ein <code class="notranslate">root</code>-Account angelegt. Dabei ist zu beachten, dass die Benutzerverwaltung von MySQL nichts mit den lokalen Benutzern des Linux-Systems zu tun hat - MySQL verwaltet seine Benutzer selber. Bei der Installation des MySQL-Servers wird automatisch nach einem Passwort für den Datenbank-Administrator <code class="notranslate">root</code> gefragt.</p><p>Mit dem Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">mysqladmin -u root -p password "WUNSCHPASSWORT" </pre></div></div><p>kann das Passwort nachträglich geändert werden. Dabei wird nach dem bisherigen Passwort gefragt. Wenn noch keines hinterlegt ist, kann man hier einfach mit der Taste 
<span class="key">⏎</span>  bestätigen.</p></div><div class="section_3"><h4 id="debian-sys-maint">debian-sys-maint<a class="headerlink" href="#debian-sys-maint">¶</a></h4><p>
Ubuntu legt noch einen weiteren Benutzer an: <code class="notranslate">debian-sys-maint</code>. Mit Hilfe dieses MySQL-Benutzers startet und stoppt Ubuntu den SQL-Server und führt weitere Wartungs-Aufgaben durch. Der Zugang ist Passwort-geschützt. Ubuntu vergibt ein voreingestelltes Passwort, das in der Datei <strong>/etc/mysql/debian.cnf</strong> im Klartext abgelegt wird. Für administrative Aufgaben kann man daher auch den Benutzer <code class="notranslate">debian-sys-maint</code> verwenden mit:</p><div class="bash"><div class="contents"><pre class="notranslate">mysql -u debian-sys-maint -p </pre></div></div><p>In <strong>/etc/mysql/debian.cnf</strong> befinden sich zwei identische Einträge für das Passwort: z. B. <code class="notranslate">password = n4aSHUP04s1J32X5</code>.</p></div></div><div class="section_2"><h3 id="Passwort-zuruecksetzen-neu-vergeben">Passwort zurücksetzen/neu vergeben<a class="headerlink" href="#Passwort-zuruecksetzen-neu-vergeben">¶</a></h3><p>
Hat man das Passwort für den Benutzer <code class="notranslate">root</code> vergessen, kann man mit Hilfe des Benutzers <code class="notranslate">debian-sys-maint</code> das Passwort zurücksetzen und neu vergeben. Einfach wie oben beschrieben als Benutzer <code class="notranslate">debian-sys-maint</code> am MySQL-Server anmelden und die folgende Befehlssequenz am MySQL-Prompt <code class="notranslate">mysql&gt; </code> eingeben:</p><div class="bash"><div class="contents"><pre class="notranslate">update mysql.user set Password=password('MyNewPass') where User='root';
flush privileges;
quit; </pre></div></div><p>Ab 16.04 (mit MySQL 5.7 auf den Paketquellen) heißt die Spalte nicht mehr <code class="notranslate">Password</code>, sondern <code class="notranslate">authentication_string</code> und der Befehl lautet dann</p><div class="bash"><div class="contents"><pre class="notranslate">update mysql.user set authentication_string=password('MyNewPass') where User='root';
flush privileges;
quit; </pre></div></div><p>Erscheint beim (Neu-)Start des MySQL-Servers folgende Fehlermeldung:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service mysql restart  #bis Ubuntu 14.04
sudo systemctl restart mysql.service  #ab Ubuntu 14.10 </pre></div></div><pre class="notranslate"> * Stopping MySQL database server mysqld [fail]
 * Starting MySQL database server mysqld [ OK ]
/usr/bin/mysql-admin: connect to server at 'localhost' failed
error: 'Access denied for user 'debian-sys-maint'@'localhost' (using password: YES)'</pre><p>muss man das Passwort für den Benutzer <em>debian-sys-maint</em> neu setzen. Dies kann der Fall sein, wenn Ubuntu während eines Upgrades des Pakets <strong>mysql-server</strong> das Passwort für <code class="notranslate">debian-sys-maint</code> überschreibt. In diesem Fall als Benutzer <code class="notranslate">root</code> am SQL-Server anmelden und nachfolgende Befehlssequenz am MYSQL-Prompt <code class="notranslate">mysql&gt; </code> eingeben. Dabei <code class="notranslate">newpassword</code> durch den Passwort-Eintrag in der Datei <strong>/etc/mysql/debian.cnf</strong> ersetzen.</p><div class="bash"><div class="contents"><pre class="notranslate">grant all privileges on *.* to 'debian-sys-maint'@'localhost' identified by 'newpassword' with grant option;
flush privileges;
quit; </pre></div></div></div><div class="section_2"><h3 id="UNIX-SOCKET-Authentication-Plugin">UNIX_SOCKET Authentication Plugin<a class="headerlink" href="#UNIX-SOCKET-Authentication-Plugin">¶</a></h3><p>
Bei neueren Installationen kann es vorkommen, dass während der Installation kein Passwort für die Datenbankkennung root mehr erfragt wird. Stattdessen wird für die Kennung 'root'@'localhost' das UNIX_SOCKET Authentication Plugin gesetzt. Mit einer root-Shell kann mysql dann ohne Passwort gestartet werden, weil die Berechtigung über den aufrufenden User gesteuert wird.</p><p>Wenn für die Datenbankkennung root wieder ein unabhängiges Passwort gesetzt werden soll, muss man sich in einer root-Shell am SQL-Server anmelden und die folgenden Kommandos am MySQL-Prompt <code class="notranslate">mysql&gt; </code> eingeben.</p><div class="bash"><div class="contents"><pre class="notranslate">UPDATE mysql.user 
  SET authentication_string=PASSWORD('NeuesPasswort'), 
      plugin='mysql_native_password'
WHERE User='root' AND Host='localhost';
FLUSH privileges;
QUIT; </pre></div></div><p>Danach den Service mysql restarten.</p><p>Durch die Angabe von plugin='mysql_native_password' wird wieder das MySQL - eigene Passwort verwendet und der Zugang kann auch von anderen Kennungen aus mit <code class="notranslate">mysql -u root -p</code> erfolgen.</p></div></div><div class="section_1"><h2 id="Datenbank-erstellen">Datenbank erstellen<a class="headerlink" href="#Datenbank-erstellen">¶</a></h2><p>
Zum Erstellen einer neuen Datenbank meldet man sich zuerst als Datenbank-Administrator an:
</p><div class="bash"><div class="contents"><pre class="notranslate">mysql -u root -p </pre></div></div><p>Am MySQL-Prompt <code class="notranslate">mysql&gt; </code> werden folgende SQL-Befehle benötigt. Bei erfolgreicher Ausführung erhält man eine Rückmeldung in der Form:</p><pre class="notranslate">Query OK, ... rows affected (... sec)</pre><ul><li><p>Datenbank erstellen (in der Praxis entspricht der Datenbankname häufig dem der gewünschten Anwendung): </p><div class="bash"><div class="contents"><pre class="notranslate">create database if not exists datenbankname; </pre></div></div></li><li><p>Neuen Datenbank-Benutzer <code class="notranslate">www-data</code> mit dem Kennwort <code class="notranslate">geheim</code> erstellen (wenn die Datenbank im Rahmen eines <a class="internal" href="./lamp.html">LAMP</a>-Servers eingesetzt werden soll): </p><div class="bash"><div class="contents"><pre class="notranslate">create user 'www-data'@'localhost' identified by 'geheim';
grant usage on *.* to 'www-data'@'localhost' identified by 'geheim'; </pre></div></div></li><li><p>Zugriffe auf die neue Datenbank für den Benutzer <code class="notranslate">www-data</code> erlauben: </p><div class="bash"><div class="contents"><pre class="notranslate">grant all privileges on datenbankname.* to 'www-data'@'localhost';
flush privileges; </pre></div></div></li><li><p>Abmelden mit: </p><div class="bash"><div class="contents"><pre class="notranslate">quit; </pre></div></div><p> Alternativ kann <code class="notranslate">exit;</code> benutzt werden.</p></li></ul><p>
</p><div class="section_2"><h3 id="Tabellenarten">Tabellenarten<a class="headerlink" href="#Tabellenarten">¶</a></h3><p>
MySQL kennt verschiedene Tabellenarten, die sogenannten <a class="external" href="http://dev.mysql.com/doc/refman/5.1/en/storage-engines.html" rel="nofollow">Storage Engines</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Diese haben jeweils spezifische Vor- und Nachteile. Die Art der Tabelle kann beim Anlegen über die Option <code class="notranslate">ENGINE=</code> festgelegt werden. Innerhalb einer Datenbank können verschiedene Tabellen gemischt werden.</p><div class="section_3"><h4 id="MyISAM-Tabellen">MyISAM-Tabellen<a class="headerlink" href="#MyISAM-Tabellen">¶</a></h4><p>
MyISAM ist die Standardtabellenart von MySQL und - sofern nicht explizit anders angegeben - per Voreinstellung genutzt. MyISAM-Tabellen haben grundsätzlich keine Größenbeschränkung und gelten besonders bei häufigen <code class="notranslate">SELECT</code>- und <code class="notranslate">INSERT</code>-Operationen als sehr effizient und schnell. Allerdings sind MyISAM-Tabellen nicht <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Datenbank#Transaktionen">transaktionssicher</a> und unterstützen keine <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Constraint#Constraints_in_Datenbanksystemen">Fremdschlüssel</a> (sogenannte "Constraints").</p></div><div class="section_3"><h4 id="InnoDB">InnoDB<a class="headerlink" href="#InnoDB">¶</a></h4><p>
Im Gegensatz zu den MyISAM-Tabellen sind InnoDB-Tabellen <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Transaktionssicherheit">transaktionssicher</a> und unterstützen Fremdschlüssel. Ist die <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Konsistenz_(Datenbank)">Datenkonsistenz</a> sehr wichtig, so wird in der Regel InnoDB als Engine eingesetzt.</p></div><div class="section_3"><h4 id="Weitere-Tabellenarten">Weitere Tabellenarten<a class="headerlink" href="#Weitere-Tabellenarten">¶</a></h4><p>
Wie oben bereits erwähnt, unterstützt MySQL noch eine Anzahl weitere Tabellenarten, wobei MyISAM und InnoDB sicherlich die am häufigsten eingesetzten sind. Erwähnenswert sind noch Tabellen auf Basis der "Memory-Engine". Diese werden ausschließlich im RAM des Servers gehalten und sind dadurch natürlich entsprechend schnell. Memory-Tabellen werden bevorzugt für temporäre Tabellen eingesetzt oder für Tabellenkopien mit häufigen Zugriffen, auf die nur lesend zugegriffen wird.</p></div></div></div><div class="section_1"><h2 id="MySQL-Server-steuern">MySQL-Server steuern<a class="headerlink" href="#MySQL-Server-steuern">¶</a></h2><p>
</p><div class="section_2"><h3 id="ab-Ubuntu-14-10">ab Ubuntu 14.10<a class="headerlink" href="#ab-Ubuntu-14-10">¶</a></h3><p>
Bei Systemen mit <a class="internal" href="./systemd.html">systemd</a> wird MySQL - wie allen anderen Dienste auch über <a class="internal" href="./systemd/systemctl.html">systemctl</a> gesteuert. So würde z.B.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo systemctl restart mysql.service </pre></div></div><p>den Datenbank-Server neu starten.</p></div><div class="section_2"><h3 id="bis-Ubuntu-14-04">bis Ubuntu 14.04<a class="headerlink" href="#bis-Ubuntu-14-04">¶</a></h3><p>
Wie alle anderen Dienste bringt MySQL-Start/Stop-Skripte mit. Diese Skripte lassen sich natürlich auch zum Steuern des Servers gebrauchen. Aus einem Terminal <sup><a href="#source-2">[2]</a></sup> heraus kann man mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service mysql {start|stop|restart|reload|force-reload|status} </pre></div></div><p>Beispiel:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service mysql reload </pre></div></div><p>
den Server steuern. Die einzelnen Optionen dabei bedeuten: 
</p><ul><li><p><code class="notranslate">start</code> - Startet den MySQL-Server </p></li><li><p><code class="notranslate">stop</code> - Stoppt den Server </p></li><li><p><code class="notranslate">restart</code> - Startet den Server neu, bestehende Verbindungen auf den Server werden gekappt </p></li><li><p><code class="notranslate">reload</code> - Lädt die Konfigurationsdateien neu, ohne dass Verbindungen getrennt werden </p></li><li><p><code class="notranslate">force-reload</code> - Lädt die Konfigurationsdateien neu, auch wenn dabei Verbindungen verlorengehen </p></li><li><p><code class="notranslate">status</code> - Zeigt Status-Informationen und den Zustand des MySQL-Servers an </p></li></ul><p>Mehr dazu im Wiki unter <a class="internal" href="./dienste.html">Dienste</a>.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Für die einwandfreie Funktion von MySQL ist es entscheidend, dass der Daemon stets korrekt heruntergefahren und nicht bspw. bei einem Neustart des Systems abgeschossen wird. Wenn man ihn nur gelegentlich zu Entwicklerzwecken braucht, sollte man deshalb am besten nicht - wie in <a class="internal" href="./dienste.html">Dienste</a> beschrieben - mit dem Kommando <code class="notranslate">update-rc.d</code> alle Start- und Stop-Links aus den "run levels" entfernen, sondern nur den Startlink aus dem "run level 2":</p><div class="bash"><div class="contents"><pre class="notranslate">sudo rm /etc/rc2.d/S20mysql </pre></div></div><p>Dadurch wird der Dienst beim Herunterfahren des Rechners immer korrekt beendet, auch wenn man vergessen hat, dass er noch läuft. Eine Raute <code class="notranslate">#</code> vor dem Eintrag <code class="notranslate">start on</code> in <strong>/etc/init/mysql.conf</strong> verhindert den automatischen Start:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1">#start on ...</span>
</pre></div>
</td></tr></table></div><p>
</p></div></div></div></div><div class="section_1"><h2 id="Datensicherung">Datensicherung<a class="headerlink" href="#Datensicherung">¶</a></h2><p>
Hat man kritische, oder sensible, Daten in der Datenbank, ist es - wie üblich - ratsam, diese regelmäßig zu sichern. Dazu gibt es unterschiedliche Möglichkeiten wie etwa die direkte Kopie der Daten, das Auslesen der Datenbanken und Speichern des Inhalts, aber auch den Aufbau von Redundanzen (Replikation). Details zum Thema sind im Artikel <a class="internal" href="./mysql/backup.html">MySQL/Backup</a> näher beschrieben.</p></div><div class="section_1"><h2 id="Graphische-Oberflaechen">Graphische Oberflächen<a class="headerlink" href="#Graphische-Oberflaechen">¶</a></h2><p>
Es gibt eine Reihe von graphischen Benutzeroberflächen, die den Umgang mit MySQL erleichtern. Mehr Informationen findet man im Artikel <a class="internal" href="./mysql/werkzeuge.html">MySQL/Werkzeuge</a>.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./mysql_workbench.html">MySQL Workbench</a> - Modellierung, Planung und Wartung von (MySQL) Datenbanken</p></li><li><p><a class="external" href="http://www.mysql.de/" rel="nofollow">Offizielle Homepage</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="http://forge.mysql.com/" rel="nofollow">Offizielle Community-Webseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.zeroathome.de/wordpress/mysql-root-passwort-vergessen/" rel="nofollow">vergessenes Root-Passwort</a> - zurücksetzen. <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="https://ctaas.de/linux-install.htm#MySQL_installieren_LAMP-Server" rel="nofollow">ctaas.de/linux-install.htm</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - MySQL Server mit PHP5 bzw. PHP7 &amp; Anbindung an Apache (LAMP) einrichten </p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./mysql/a/revision/942778.html">Diese Revision</a> wurde am 26. Juli 2017 14:34 von <a href="https://ubuntuusers.de/user/koebln/">koebln</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./mysql.html">MySQL</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>