<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Conky/Skripte › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../conky/skripte.html">Skripte</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Conky/Skripte">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../conky/skripte/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../conky/skripte/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../conky/skripte/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../conky/skripte/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../conky/skripte/a/backlinks.html">Skripte</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../rechte.html">Rechte für Dateien und Ordner ändern</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../paketquellen_freischalten/ppa.html">Verwenden eines PPAs</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Kalender">Kalender
</a></li><li><a class="crosslink" href="#ffentliche-IP">Öffentliche IP
</a></li><li><a class="crosslink" href="#Einbinden-von-vnStat">Einbinden von vnStat
</a></li><li><a class="crosslink" href="#Anzeige-verfuegbarer-Updates">Anzeige verfügbarer Updates
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Über das Element <code class="notranslate">${execi SEKUNDEN BEFEHL}</code> lassen sich in der Conky-Konfiguration Befehle, Skripte oder Einzeiler wiederholt ausführen, deren Ausgabe dann von Conky angezeigt wird. Conky ist dadurch leicht durch Skripte erweiterbar, von denen man viele im Netz findet, wenn man sie nicht gerade selber schreiben mag. Außerdem verfügt Conky über <a class="internal" href="../lua.html">Lua</a>-Unterstützung mit <a class="external" href="http://docs.enlightenment.org/api/imlib2/html/" rel="nofollow">imlib2</a>- <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> und <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Cairo_(Grafikbibliothek)">Cairo</a>-Bindings. Beispiele für die Ergebnisse zeigt der Artikel <a class="internal" href="../conky_manager.html">Conky Manager</a>.</p><div class="section_1"><h2 id="Kalender">Kalender<a class="headerlink" href="#Kalender">¶</a></h2><p>
Ein kleines Beispiel, um einen Kalender für den aktuellen Monat zu erzeugen:
</p><pre class="notranslate">${color red}Kalender ${hr 2}$color
${execpi 60 DJS=`date +%_d`; cal | sed s/"\(^\|[^0-9]\)$DJS"'\b'/'\1${color red}'"$DJS"'$color'/}}</pre><p>
Quelle: <a class="external" href="http://sethjust.com/2009/08/03/a-useful-calendar-in-conky/" rel="nofollow">Conky Calendar with Date Highlight</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></div><div class="section_1"><h2 id="ffentliche-IP">Öffentliche IP<a class="headerlink" href="#ffentliche-IP">¶</a></h2><p>
Die Einbindung eines externen Skriptes in der Conky-Konfigurations-Datei soll im Vergleich zu einer vorhandenen Funktion dargestellt werden. Die vorhandene Funktion ist das Anzeigen der lokalen IP, das Skript gibt die öffentliche (globale) IP aus.</p><p>Zuerst wird ein <a class="internal" href="../shell.html">Shell</a>-Skript erstellt <sup><a href="#source-1">[1]</a></sup>: 
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># eigene öffentliche ip anzeigen</span>

wget http://checkip.dyndns.org/ -q -O - <span class="p">|</span>
grep -Eo <span class="s1">'\&lt;[[:digit:]]{1,3}(\.[[:digit:]]{1,3}){3}\&gt;'</span>
</pre></div>
</td></tr></table></div><p>
Anstatt <code class="notranslate">http://checkip.dyndns.org/</code> kann man natürlich auch</p><ul><li><p><code class="notranslate">http://whatismyip.org/</code> </p></li><li><p><code class="notranslate">http://wieistmeineip.net/</code> </p></li><li><p><code class="notranslate">http://www.myipaddress.com/</code> </p></li><li><p><code class="notranslate">http://wieistmeineip.de/</code> </p></li></ul><p>oder ähnliche Dienste eintragen.</p><p>Das Skript wird als <strong>~/.conky/publicip.sh</strong> gespeichert und die Ausführung als Programm muss erlaubt werden <sup><a href="#source-2">[2]</a></sup>. Im <code class="notranslate">TEXT</code>-Abschnitt der <strong>.conkyrc</strong> kann dann folgende Zeile ergänzt werden, um die lokale und globale IP anzuzeigen, wobei die globale IP alle 7200 Sekunden (zwei Stunden) ermittelt wird: 
</p><pre class="notranslate">IP : Lokal: ${addr eth0} ${offset 10} Global: ${execi 7200 ~/.conky/publicip.sh}</pre><div class="section_2"><h3 id="Einfachere-Moeglichkeit">Einfachere Möglichkeit<a class="headerlink" href="#Einfachere-Moeglichkeit">¶</a></h3><p>
Eine weitere Möglichkeit die öffentliche IP anzuzeigen ohne ein weiteres Skript zu erstellen ist auch vorhanden.</p><p>Im TEXT-Abschnitt der .conkyrc kann dann folgendes ergänzt werden.</p><p>IPv4:
</p><pre class="notranslate">IPv4 global: ${execi 7200 wget http://v4.ipv6-test.com/api/myip.php -q -O -}</pre><p>IPv6:
</p><pre class="notranslate">IPv6 global: ${execi 7200 wget http://v6.ipv6-test.com/api/myip.php -q -O -}</pre></div></div><div class="section_1"><h2 id="Einbinden-von-vnStat">Einbinden von vnStat<a class="headerlink" href="#Einbinden-von-vnStat">¶</a></h2><p>
Das Einbinden von <a class="internal" href="../vnstat.html">vnStat</a> ist sinnvoll, wenn man den Datenverkehr über einen bestimmten Zeitraum (Tag, Woche, Monat, Jahr) erhalten will.</p><p>Dazu installiert <sup><a href="#source-1">[1]</a></sup> man erst einmal das Paket</p><ul><li><p><strong>vnstat</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install vnstat </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install vnstat </pre></div></div><p>
</p></div></div><p>und legt fest, welche Netzwerkschnittstelle überwacht werden soll (Näheres zur Installation/Konfiguration erfährt man im  <a class="internal" href="../vnstat.html">vnStat</a>-Artikel). Die folgenden Beispiele zeigen, wie man vnStat letztendlich in die <strong>.conkyrc</strong> einbinden kann:</p><p>Für den heutigen Traffic:</p><pre class="notranslate">Heute:
Down: ${execi 300 vnstat | grep "today" | awk '{print $2 $3}'} ${alignr}Up: ${execi 300 vnstat | grep "today" | awk '{print $5 $6}'}</pre><p>Für den Traffic der gesamten Woche:</p><pre class="notranslate">Diese Woche:
Down: ${execi 300 vnstat -w | grep "current week" | awk '{print $3 $4}'} ${alignr}Up: ${execi 300 vnstat -w | grep "current week" | awk '{print $6 $7}'}</pre><p>Für den Traffic des gesamten Monats;</p><pre class="notranslate">Traffic ${time %B}: 
Down: ${execi 300 vnstat -m | grep "`LC_ALL=C date +"%b '%y"`" | awk '{print $3 $4}'} ${alignr}Up: ${execi 300 vnstat -m | grep "`LC_ALL=C date +"%b '%y"`" | awk '{print $6 $7}'}</pre><p>...und schließlich noch ein Beispiel für die Angabe des gesamten Traffics in einem Monat:</p><pre class="notranslate">Traffic ${time %B}: ${execi 300 vnstat -m | grep "`LC_ALL=C date +"%b '%y"`" | awk '{print $9 $10}'}</pre><p>Beispiel für die Ausgabe (gesamt im Monat):</p><pre class="notranslate">Traffic November: 12,45GB</pre></div><div class="section_1"><h2 id="Anzeige-verfuegbarer-Updates">Anzeige verfügbarer Updates<a class="headerlink" href="#Anzeige-verfuegbarer-Updates">¶</a></h2><p>
Möchte man sich die Anzahl der verfügbaren <a class="internal" href="../update.html">Updates</a> anzeigen lassen, so hat man diverse Möglichkeiten dazu. Die einfachste benötigt keinerlei weitere Eingriffe ins System und ist zu bevorzugen:</p><pre class="notranslate">${execi 1800 aptitude search "~U" | wc -l} Updates</pre></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://evilshit.wordpress.com/2013/04/20/conkypress-a-wordpress-stats-visualization-tool-for-your-desktop/" rel="nofollow">ConkyPress</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Python Skript um Wordpress Blog-Statistiken in Conky anzuzeigen</p></li><li><p><a class="external" href="http://box-look.org/content/show.php/imagemagick-kalendar?content=141213" rel="nofollow">imagemagick-kalendar</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Skript, das mit <a class="internal" href="../imagemagick.html">ImageMagick</a> einen Monatskalendar als Bild erzeugt</p></li><li><p><a class="external" href="http://crunchbang.org/forums/viewtopic.php?id=19235" rel="nofollow">Conky weather scripts</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - diverse Wetteranzeigen, 04/2012</p></li><li><p><a class="external" href="http://ubuntuforums.org/showpost.php?p=5243632&amp;postcount=13" rel="nofollow">vnstat in Conky einbinden</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.be-jo.net/de/2009/03/googlemail-in-conky-implizieren-2/" rel="nofollow">Googlemail und Conky</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Blogbeitrag, 03/2009</p></li><li><p><a class="external" href="http://unrealstuff.bplaced.de/index.php?id=104" rel="nofollow">Feedburner Statistiken in Conky einbinden</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="internal" href="../conky.html">Conky</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Hauptartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../conky/skripte/a/revision/938738.html">Diese Revision</a> wurde am 1. Mai 2017 21:31 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../conky.html">Conky</a></li>
<li><a href="../conky/skripte.html">Skripte</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>