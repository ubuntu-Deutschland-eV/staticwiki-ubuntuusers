<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>e4rat › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./e4rat.html">e4rat</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/e4rat">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./e4rat/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./e4rat/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./e4rat/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./e4rat/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./e4rat/a/backlinks.html">e4rat</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
Dieser Artikel ist mit keiner aktuell unterstützten Ubuntu-Version getestet! Bitte diesen Artikel testen und das getestet-Tag entsprechend anpassen.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./grub_2.html">GRUB 2 verändern</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./editor.html">Einen Editor verwenden</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./programme_kompilieren.html">Programme kompilieren</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./sudo.html">Root-Rechte erlangen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li style="list-style: none"><ol class="arabic"><li><a class="crosslink" href="#Vorbereitungen">Vorbereitungen
</a></li></ol></li><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#Fremdpaket">Fremdpaket
</a></li></ol></li><li><a class="crosslink" href="#Bedienung">Bedienung
</a><ol class="arabic"><li><a class="crosslink" href="#Analyse-des-Startvorgangs">Analyse des Startvorgangs
</a></li><li><a class="crosslink" href="#Vorladen">Vorladen
</a></li></ol></li><li><a class="crosslink" href="#Erneute-Analyse">Erneute Analyse
</a></li><li><a class="crosslink" href="#Tuning">Tuning
</a></li><li><a class="crosslink" href="#Hinweise-zur-Benutzung-mit-preload">Hinweise zur Benutzung mit preload
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Rotierende Festplatten können schnell sequentiell lesen und schreiben, jedoch benötigen sie zum Springen zwischen mehreren Speicherorten vergleichsweise lang. Daher ist es Ziel von <a class="interwiki interwiki-sourceforge2" href="http://e4rat.sourceforge.net">e4rat</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>, die Bootzeit und Programmstarts zu beschleunigen, indem die zum Starten benötigten Dateien auf der Festplatte entsprechend ihres Nutzungszeitpunktes umsortiert werden. Zudem lädt e4rat Dateien vor ihrer Nutzung in den Arbeitsspeicher.</p><p>Es besteht aus 3 Teilen:</p><ul><li><p><code class="notranslate">e4rat-collect</code> - sammelt Informationen über die Nutzungsreihenfolge der Dateien</p></li><li><p><code class="notranslate">e4rat-realloc</code> - ordnet die Dateien auf der Festplatte um</p></li><li><p><code class="notranslate">e4rat-preload</code> - lädt die Dateien, bevor sie genutzt werden</p></li></ul><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>
</p><ul><li><p>e4rat funktioniert nur mit ext4-<a class="internal" href="./dateisystem.html">Dateisystemen</a>.</p></li><li><p>Bei von ext2 konvertierten oder verschlüsselten Partitionen kann das Ausführen von <strong>e4rat-realloc</strong> zu Datenverlusten führen.</p></li></ul></div></div><div class="section_1"><div class="section_2"><h3 id="Vorbereitungen">Vorbereitungen<a class="headerlink" href="#Vorbereitungen">¶</a></h3><p>
e4rat kollidiert in seiner Funktionsweise mit <a class="internal" href="./preload.html#Vergleich-zu-ureadahead">ureadahead</a>. Dieses Programm muss zuerst deinstalliert <sup><a href="#source-2">[2]</a></sup> werden.</p></div></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
</p><div class="section_2"><h3 id="Fremdpaket">Fremdpaket<a class="headerlink" href="#Fremdpaket">¶</a></h3><p>
Jetzt muss das Debian-Paket von der <a class="interwiki interwiki-sourceforge" href="http://sourceforge.net/projects/e4rat">Sourceforge-Projektseite</a> heruntergeladen und installiert <sup><a href="#source-2">[2]</a></sup> werden.</p><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
<a class="internal" href="./fremdquellen.html">Fremdpakete</a> können das System gefährden. 
</p></div></div></div></div><div class="section_1"><h2 id="Bedienung">Bedienung<a class="headerlink" href="#Bedienung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Analyse-des-Startvorgangs">Analyse des Startvorgangs<a class="headerlink" href="#Analyse-des-Startvorgangs">¶</a></h3><p>
Beim jetzt folgenden Neustart muss die Umschalt-Taste gedrückt werden, um in das <a class="internal" href="./grub.html">GRUB</a>-Menü zu gelangen. Dort geht es mit 
<span class="key">E</span>  zur Veränderung der Bootparameter nur für diesen Systemstart <sup><a href="#source-3">[3]</a></sup>. In der vorletzten Zeile muss <code class="notranslate">init=/sbin/e4rat-collect</code> hinter „linux“ angehängt werden, damit e4rat für 120 Sekunden Informationen über den Bootvorgang sammelt.
Das beinhaltet auch vom Nutzer gestartete Programme, es ist also sinnvoll, sich genau wie immer zu verhalten.</p><p>Die Ergebnisse der Analyse stehen in <strong>/var/lib/e4rat/startup.log</strong>.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Erst die 120 Sekunden warten und normal verhalten!
Die Datei wird erst nach 120 Sekunden erstellt.
</p></div></div><p>Um die Dateien jetzt in die richtige Reihenfolge zu bringen, sollte man in den Single-User-Modus wechseln, um möglichst wenig Dateien zu benutzen, welche dann nicht verschoben werden können. Dazu meldet man sich erst ab, wechselt mit 

<span class="key">Strg</span> +
<span class="key">Alt</span> +
<span class="key">F1</span>  in ein Terminal, meldet sich an und führt folgenden Befehl aus:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo init 1 </pre></div></div><p>
Nach einer Weile öffnet sich eine Root-Shell, in welcher man folgenden Befehl ausführt:</p><div class="bash"><div class="contents"><pre class="notranslate">e4rat-realloc /var/lib/e4rat/startup.log </pre></div></div></div><div class="section_2"><h3 id="Vorladen">Vorladen<a class="headerlink" href="#Vorladen">¶</a></h3><p>
Jetzt fügt man e4rat-preload zum Standard-Start hinzu, indem man in der Datei <strong>/etc/default/grub</strong>
</p><pre class="notranslate">GRUB_CMDLINE_LINUX=""</pre><p>
durch</p><pre class="notranslate">GRUB_CMDLINE_LINUX="init=/sbin/e4rat-preload"</pre><p>
ersetzt <sup><a href="#source-4">[4]</a></sup> und danach mit Rootrechten <sup><a href="#source-6">[6]</a></sup></p><div class="bash"><div class="contents"><pre class="notranslate">update-grub </pre></div></div><p>
aufruft.</p><p>Alle folgenden Systemstarts sollten nun beschleunigt sein.</p></div></div><div class="section_1"><h2 id="Erneute-Analyse">Erneute Analyse<a class="headerlink" href="#Erneute-Analyse">¶</a></h2><p>
Wenn sich Änderungen am Systemstart oder an den nach dem Systemstart gestarteten Programme ergeben oder wenn viele Pakete aktualisiert wurden, kann es sein, dass die Reihenfolge der Dateien auf der Festplatte verändert wurde oder sie in einer anderen Reihenfolge benötigt werden. In diesem Falle muss der Punkt <a class="crosslink" href="#Analyse-des-Startvorgangs">Analyse des Startvorgangs</a> wiederholt werden.</p></div><div class="section_1"><h2 id="Tuning">Tuning<a class="headerlink" href="#Tuning">¶</a></h2><p>
e4rat-preload lädt standardmäßig erst alle Dateien, bevor der Prozess <code class="notranslate">init</code> gestartet wird, um weitere Programme zu starten. Ein Nutzer von e4rat hat sich des Problems angenommen und <a class="external" href="http://e4rat-l.bananarocker.org/" rel="nofollow">e4rat-preload-lite</a> erschaffen, welches erst 200 Dateien lädt, dann <code class="notranslate">init</code> startet (welches nun von diesen Gebrauch macht) und den Rest parallel weiter lädt. Dadurch können ca. fünf Sekunden eingespart werden.</p><p>e4rat-preload-lite liegt nur im Quellcode vor, die Kompilierung <sup><a href="#source-5">[5]</a></sup> gestaltet sich jedoch unproblematisch:</p><div class="bash"><div class="contents"><pre class="notranslate">wget http://e4rat-l.bananarocker.org/e4rat-preload-lite-0.1.tar.gz -O - | tar xz
cd e4rat-preload-lite-0.1/
gcc --std=gnu99 -o e4rat-preload-lite -O3 e4rat-preload-lite.c
sudo cp e4rat-preload-lite /sbin/e4rat-preload-lite </pre></div></div><p>
Der Schritt nach dem Hinweis bei der Benutzung muss entsprechend für e4rat-preload-lite geschehen.</p><p>Weitere Anpassungen sind durch Verändern der Optionen in <strong>e4rat-preload-lite.c</strong> möglich.</p></div><div class="section_1"><h2 id="Hinweise-zur-Benutzung-mit-preload">Hinweise zur Benutzung mit preload<a class="headerlink" href="#Hinweise-zur-Benutzung-mit-preload">¶</a></h2><p>
Die Nutzung von Preload ist dann sinnvoll, wenn es mehrere Nutzer gibt oder sich im Allgemeinen die nach dem Start benötigten Programme ändern. Das liegt daran, dass e4rat-collect immer nur einen Startvorgang analysiert, nicht mehrere, während sich preload dynamisch anpasst.</p><p>In diesem Falle sollte sich bis zum Ablauf der 120 Sekunden niemand bzw. nur der Hauptbenutzer anmelden. Alles hinter diesem Zeitpunkt liegt dann im Aufgabenbereich von preload.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="interwiki interwiki-sourceforge2" href="http://e4rat.sourceforge.net">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="https://bbs.archlinux.org/viewtopic.php?id=115976" rel="nofollow">Forenbeitrag e4rat</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="https://bbs.archlinux.org/viewtopic.php?id=117776" rel="nofollow">Forenbeitrag e4rat-preload-lite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./e4rat/a/revision/939003.html">Diese Revision</a> wurde am 4. Mai 2017 07:29 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./e4rat.html">e4rat</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>