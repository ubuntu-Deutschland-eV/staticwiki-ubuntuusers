<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Bash/Prompt › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../bash/prompt.html">Prompt</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Bash/Prompt">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../bash/prompt/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../bash/prompt/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../bash/prompt/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../bash/prompt/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../bash/prompt/a/backlinks.html">Prompt</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../umgebungsvariable.html">Umgebungsvariablen setzen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../rechte.html">Rechte für Dateien und Ordner ändern</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Zeichenkette">Zeichenkette
</a></li><li><a class="crosslink" href="#Farben">Farben
</a></li><li><a class="crosslink" href="#nderungen-speichern">Änderungen speichern
</a></li><li><a class="crosslink" href="#Beispiele">Beispiele
</a></li></ol></div><p><img alt="Wiki/Icons/terminal.png" class="image-left" src="../_/c40d7022068332c1fcbff5aba6bb6629a5bbc26a.png"/>Dieser Artikel beschreibt, wie man mit wenigen Handgriffen die Shell <a class="internal" href="../bash.html">Bash</a> bzw. den Prompt, (<img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>: Eingabeaufforderung) der Shell etwas persönlicher gestaltet als mit dem gewöhnlichen Text "<em>&lt;benutzer&gt;@&lt;rechner&gt;:~$</em>". Dies gilt natürlich auch bei Verwendung einer grafischen Oberfläche für den Prompt im Terminal <sup><a href="#source-1">[1]</a></sup>.</p><p>Ein persönlicher Prompt kann die Übersichtlichkeit fördern und Daten wie Temperaturen oder Lüfterdrehzahlen beinhalten. Der Prompt kann aber auch in eine einfache Zeichenkette geändert werden. Um dem Prompt noch etwas mehr Persönlichkeit zu geben, wird beschrieben, wie mit Farben gearbeitet wird. Dies kann ebenfalls zur Übersichtlichkeit beitragen oder nur schön aussehen.</p><div class="section_1"><h2 id="Zeichenkette">Zeichenkette<a class="headerlink" href="#Zeichenkette">¶</a></h2><p>
Der Prompt wird in der Variable <code class="notranslate">PS1</code> gespeichert <sup><a href="#source-2">[2]</a></sup>. Diese kann man mit 
</p><div class="bash"><div class="contents"><pre class="notranslate">echo $PS1 </pre></div></div><p>
auslesen. Als Standard ist 
</p><pre class="notranslate">${debian_chroot:+($debian_chroot)}\u@\h:\w\$</pre><p>
eingetragen. Was die einzelnen Befehle und Zeichen bedeuten, wird später beschrieben. Da es sich um eine <a class="internal" href="../umgebungsvariable.html">Umgebungsvariable</a> handelt, kann diese auch überschrieben werden. Dies geschieht in einem ganz einfachen Fall mit mit einer Zeichenkette. 
</p><div class="bash"><div class="contents"><pre class="notranslate">PS1='&gt; ' </pre></div></div><p>
Danach ist der Prompt nur noch das Relationszeichen "<em>&gt;</em>" plus eine Leerstelle. Es können aber auch Ausgaben von allen Befehlen in den Prompt mit einbezogen werden. 
</p><div class="bash"><div class="contents"><pre class="notranslate">PS1='$(pwd) &gt; ' </pre></div></div><p>
So wird das aktuelle Verzeichnis gefolgt von dem Relationszeichen angezeigt. Neben den Befehlen gibt es eine Reihe von Variablen, die benutzt werden können:</p><table><tr><td style="background-color: #F9EAAF"> <strong>Variable</strong> </td><td style="background-color: #F9EAAF"> <strong>Ausgabe</strong> </td></tr><tr><td> <code class="notranslate">\a</code></td><td> das ASCII bell Zeichen (07) </td></tr><tr><td> <code class="notranslate">\A</code></td><td> Uhrzeit im 24-Stunden Format (<em>hh:mm</em>) </td></tr><tr><td> <code class="notranslate">\d</code></td><td> Datum in "<em>Wochentag  Monat  Tag</em>" z.B., "<em>Mit Mai 26</em>") </td></tr><tr><td> <code class="notranslate">\e</code></td><td> ASCII escape Zeichen (033) </td></tr><tr><td> <code class="notranslate">\h</code></td><td> Hostname auf dem die Shell läuft bis zum ersten "." </td></tr><tr><td> <code class="notranslate">\H</code></td><td> Hostname komplett </td></tr><tr><td> <code class="notranslate">\j</code></td><td> Anzahl der Jobs in der Shell </td></tr><tr><td> <code class="notranslate">\l</code></td><td> Das tty, auf dem die Shell läuft </td></tr><tr><td> <code class="notranslate">\n</code></td><td> Neue Zeile </td></tr><tr><td> <code class="notranslate">\t</code></td><td> Uhrzeit im 24-Stunden Format (<em>hh:mm:ss</em>) </td></tr><tr><td> <code class="notranslate">\T</code></td><td> Uhrzeit im 12-Stunden Format (<em>hh:mm:ss</em>) </td></tr><tr><td> <code class="notranslate">\r</code></td><td> carriage return </td></tr><tr><td> <code class="notranslate">\s</code></td><td> Name der verwendeten Shell (sh, bash, ..) </td></tr><tr><td> <code class="notranslate">\u</code></td><td> Name des Nutzers, der die Shell gestartet hat </td></tr><tr><td> <code class="notranslate">\v</code></td><td> Version der bash (z.B. 2.00) </td></tr><tr><td> <code class="notranslate">\V</code></td><td> Release der bash, Version, Patchlevel </td></tr><tr><td> <code class="notranslate">\w</code></td><td> momentanes Arbeitsverzeichnis </td></tr><tr><td> <code class="notranslate">\W</code></td><td> letzte Komponente des Arbeitsverzeichnisses </td></tr><tr style="background-color: #EEEEEE"><td colspan="2"> </td></tr><tr><td> <code class="notranslate">\!</code> </td><td> Aktuelle History-Nummer </td></tr><tr><td> <code class="notranslate">\#</code> </td><td> Aktuelle Befehls-Nummer </td></tr><tr><td> <code class="notranslate">\$</code> </td><td> Wenn root ein "<em>#</em>", sonst ein "<em>$</em>" </td></tr><tr><td> <code class="notranslate">\\</code> </td><td> Backslash </td></tr><tr><td> <code class="notranslate">\nnn</code></td><td> Zeichen entsprechend der oktalen Zahl nnn </td></tr><tr><td> <code class="notranslate">\[</code></td><td> Beginn einer Sequenz von nicht-darstellbaren Zeichen </td></tr><tr><td> <code class="notranslate">\]</code></td><td> Ende einer Sequenz von nicht-darstellbaren Zeichen </td></tr><tr><td> <code class="notranslate">\@</code></td><td> Aktuelle Zeit im 12-Stunden am/pm Format </td></tr></table><p>
Die Ausgabe von "<em>Uhrzeit user@rechner verzeichnis history-nummer &gt;</em>" wird erzeugt durch 
</p><div class="bash"><div class="contents"><pre class="notranslate">PS1='\A \u@\h \W \! &gt;' </pre></div></div><p>
Diese Standard-Escape-Zeichen und Befehle kann man beliebig komplex schachteln. Zusätzlich können ganz normale alphanumerische Zeichen eingebaut werden.</p><div class="section_2"><h3 id="Laenge-begrenzen">Länge begrenzen<a class="headerlink" href="#Laenge-begrenzen">¶</a></h3><p>
Befindet man sich tief in der Verzeichnishierarchie kann der Standardprompt unübersichtlich lang werden. Man kann die Anzahl der ausgegebenen Verzeichnisse durch Setzen der Variable PROMPT_DIRTRIM begrenzen. Abgeschnittene Teile des Pfads werden dann durch Ellipsen (Auslassungspünktchen) gekennzeichnet. Folgender Befehl begrenzt die Ausgabe auf vier Verzeichnisse:
</p><div class="bash"><div class="contents"><pre class="notranslate">PROMPT_DIRTRIM=4 </pre></div></div></div></div><div class="section_1"><h2 id="Farben">Farben<a class="headerlink" href="#Farben">¶</a></h2><p>
Um den neu erstellten Prompt optisch noch ansprechender zu gestalten und nicht nur mit Informationen zu füttern, können Farben verwendet werden. Farbcodierungen werden dafür in den String zum Setzen der PS1-Variable eingebaut. Farben ergeben durchaus Sinn und helfen die Übersichtlichkeit zu steigern, sofern man es nicht übertreibt. Um Interpretationsfehler seitens der Shell bei den Farben zu vermeiden, werden sie durch <code class="notranslate">\[</code> am Anfang und <code class="notranslate">\]</code> am Ende begrenzt. In dieser Eingrenzung werden Terminal-Kontroll-Sequenzen angegeben, welche mit <code class="notranslate">\033[</code> beginnen und auf <code class="notranslate">m</code> enden. Eine Farbdefinition behält solange ihre Gültigkeit, bis eine neue folgt. Die letzte angegebene Farbe ist die, in der auch die Benutzereingaben erfolgen.</p><table><tr><td style="background-color: #F9EAAF"> Sequenz </td><td style="background-color: #F9EAAF"> Farbe </td></tr><tr><td> <code class="notranslate">\[\033[0;30m\]</code> </td><td> schwarz </td></tr><tr><td> <code class="notranslate">\[\033[1;30m\]</code> </td><td> dunkelgrau </td></tr><tr><td> <code class="notranslate">\[\033[0;31m\]</code> </td><td> rot </td></tr><tr><td> <code class="notranslate">\[\033[1;31m\]</code> </td><td> helles rot </td></tr><tr><td> <code class="notranslate">\[\033[0;32m\]</code> </td><td> grün </td></tr><tr><td> <code class="notranslate">\[\033[1;32m\]</code> </td><td> hellgrün </td></tr><tr><td> <code class="notranslate">\[\033[0;33m\]</code> </td><td> braun </td></tr><tr><td> <code class="notranslate">\[\033[1;33m\]</code> </td><td> gelb </td></tr><tr><td> <code class="notranslate">\[\033[0;34m\]</code> </td><td> blau </td></tr><tr><td> <code class="notranslate">\[\033[1;34m\]</code> </td><td> hellblau </td></tr><tr><td> <code class="notranslate">\[\033[0;35m\]</code> </td><td> dunkellila </td></tr><tr><td> <code class="notranslate">\[\033[1;35m\]</code> </td><td> helllila </td></tr><tr><td> <code class="notranslate">\[\033[0;36m\]</code> </td><td> Dunkeltürkis</td></tr><tr><td> <code class="notranslate">\[\033[1;36m\]</code> </td><td> Türkis </td></tr><tr><td> <code class="notranslate">\[\033[0;37m\]</code> </td><td> Hellgrau </td></tr><tr><td> <code class="notranslate">\[\033[1;37m\]</code> </td><td> weiß </td></tr><tr><td> <code class="notranslate">\[\033[0m\]</code> </td><td> farblos </td></tr></table><p>
Falls man die Hintergrundfarbe verändern möchte, findet man die entsprechenden Escape-Sequenzen hier:</p><table><tr><td style="background-color: #F9EAAF"> Sequenz</td><td style="background-color: #F9EAAF"> Hintergrundfarbe</td></tr><tr><td> <code class="notranslate">\[\033[XXm\]</code></td><td> Keine Hintergrundfarbe</td></tr><tr><td> <code class="notranslate">\[\033[40;XXm\]</code></td><td> Schwarzer Hintergrund</td></tr><tr><td> <code class="notranslate">\[\033[41;XXm\]</code></td><td> Roter Hintergrund</td></tr><tr><td> <code class="notranslate">\[\033[42;XXm\]</code></td><td> Grüner Hintergrund</td></tr><tr><td> <code class="notranslate">\[\033[43;XXm\]</code></td><td> Hellbrauner Hintergrund</td></tr><tr><td> <code class="notranslate">\[\033[44;XXm\]</code></td><td> Blauer Hintergrund</td></tr><tr><td> <code class="notranslate">\[\033[45;XXm\]</code></td><td> Lila Hintergrund</td></tr><tr><td> <code class="notranslate">\[\033[46;XXm\]</code></td><td> Türkis Hintergrund</td></tr><tr><td> <code class="notranslate">\[\033[47;XXm\]</code></td><td> Hellgrau Hintergrund</td></tr></table><p>
Dies kann man jetzt alles kombinieren, jedoch werden die PS1-Variablen schnell sehr unübersichtlich.</p><div class="bash"><div class="contents"><pre class="notranslate">PS1='\[\033[1;33m\]\t\[\033[0;32m\] \u &gt; ' </pre></div></div><p>
erzeugt diese Ausgabe</p><ul><li><table><tr style="background-color: #424542"><td style="color: #ffff00"> Uhrzeit_in hh:mm:ss </td><td style="color: #98fc66"> user &gt; </td></tr></table></li></ul><p>
</p></div><div class="section_1"><h2 id="nderungen-speichern">Änderungen speichern<a class="headerlink" href="#nderungen-speichern">¶</a></h2><p>
Damit die Änderungen dauerhaft sind, müssen diese gespeichert werden. Für den aktuellen Benutzer geschieht dies in seinem <a class="internal" href="../homeverzeichnis.html">Homeverzeichnis</a>. Dort wird die Datei <strong>~/.bashrc</strong> geöffnet und an das Ende wird der String <code class="notranslate">PS1='meinPrompt'</code> angefügt <sup><a href="#source-3">[3]</a></sup>. Nun muss man sich lediglich neu anmelden, damit die veränderte Datei eingelesen wird. Soll ein Prompt für alle Benutzer eines Systems gelten, so wird der Eintrag zur <code class="notranslate">PS1</code>-Variable in der Datei <strong>/etc/bash.bashrc</strong> angepasst (wird aber bei 10.4 von der ~/.bashrc überschrieben). Auch hier ist ein Ab- und anschließendes Anmelden nötig, um die Änderungen wirksam zu machen. Alternativ kann man die Änderungen an der .bashrc auch mittels folgendem Befehl neu einlesen 
</p><div class="bash"><div class="contents"><pre class="notranslate">source ~/.bashrc </pre></div></div></div><div class="section_1"><h2 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h2><p>
Abschließend sind hier einige Beispiele für verschiedene Prompts zusammengestellt. 
</p><div class="section_2"><h3 id="Beispiel-1">Beispiel 1<a class="headerlink" href="#Beispiel-1">¶</a></h3><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">PS1='\[\033[0;32;40m\]\u@\H:\e[0m ' </pre></div></div><p>
</p><ul><li><table><tr style="background-color: #424542"><td style="color: #008000"> user@rechner </td></tr></table></li></ul><p>
</p></div><div class="section_2"><h3 id="Beispiel-2">Beispiel 2<a class="headerlink" href="#Beispiel-2">¶</a></h3><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">PS1='\[\033[1;34;40m[\033[1;31;40m\u@\h:\w\033[1;34;40m]\033[1;37;40m $\033[0;37;0m\] ' </pre></div></div><p>
</p><ul><li><table><tr style="background-color: #424542"><td style="color: #0000FF"> </td><td style="color: #ff0000"> username@rechnername:verzeichnis </td><td style="color: #0000ff"> </td><td style="color: #ffffff"> $ </td></tr></table></li></ul><p>
</p></div><div class="section_2"><h3 id="Beispiel-3">Beispiel 3<a class="headerlink" href="#Beispiel-3">¶</a></h3><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">PS1='\s\v \[\e[31m\]User \[\e[34m\]\u \[\e[31m\]on host \[\e[34m\]\h\[\e[31m\] in dir \[\e[34m\]\w\n\d \t&gt; \[\e[37m\] ' </pre></div></div><p>
</p><ul><li><table><tr style="background-color: #424542"><td style="color: #C0C0C0"> shell-name version </td><td style="color: #ff0000"> User </td><td style="color: #0000ff"> username </td><td style="color: #ff0000"> on host </td><td style="color: #0000ff"> rechnername</td><td style="color: #ff0000"> in dir</td><td style="color: #0000ff"> verzeichnis</td></tr><tr style="background-color: #424542"><td colspan="7" style="color: #0000ff"> wochentag monat hh:mm:ss&gt;</td></tr></table></li></ul><p>
</p></div><div class="section_2"><h3 id="Beispiel-4">Beispiel 4<a class="headerlink" href="#Beispiel-4">¶</a></h3><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">PS1='\[\033[1;73m\][`date +%H:%M:%S`]\[\033[1;36m\][\[\033[1;34m\]\u\[\033[1;33m\]@\[\033[1;32m\]\h:\[\033[1;35m\]\w\[\033[1;36m\]]\[\033[1;31m\]\\$\[\033[0m\] ' </pre></div></div><p>
</p><ul><li><table><tr style="background-color: #424542"><td> hh:mm:ss </td><td style="color: #00FFFF"> </td><td style="color: #0000FF"> username</td><td style="color: #FFFF00"> @</td><td style="color: #00FF00"> rechnername: </td><td style="color: #FF1493"> verzeichnis</td><td style="color: #00FFFF"> </td><td style="color: #ff7f50"> $</td></tr></table></li></ul><p>
</p></div><div class="section_2"><h3 id="Beispiel-5">Beispiel 5<a class="headerlink" href="#Beispiel-5">¶</a></h3><p>
Daten z.B. über das System können direkt in der .bashrc eingebunden werden:
</p><div class="bash"><div class="contents"><pre class="notranslate">KERNEL=$(uname -r)
PS1=''"$KERNEL"'@\h:\w\$ ' </pre></div></div></div><div class="section_2"><h3 id="Beispiel-6">Beispiel 6<a class="headerlink" href="#Beispiel-6">¶</a></h3><p>
Sich ständig ändernde Daten einzubinden, ist etwas komplizierter. Wenn man im Prompt eine Anzeige über den aktuellen Ladestand seines Akkus haben möchte, erstellt man zuerst mit einem Editor ein Skript <strong>.battery.bash</strong> im <a class="internal" href="../homeverzeichnis.html">Homeverzeichnis</a> des Benutzers, das den Ladestand berechnet und ausgibt <sup><a href="#source-3">[3]</a></sup>. Anschließend wird die Ausgabe dieses Skripts in den Prompt integriert.</p><p>In der Datei <strong>~/.battery.bash</strong> müssen ggf. die Verzeichnisse für <code class="notranslate">BATTERY_DIR</code> und <code class="notranslate">AC_DIR</code> angepasst werden. 
</p><pre class="notranslate">#!/bin/bash
BATTERY_DIR=/proc/acpi/battery/BAT1
AC_DIR=/proc/acpi/ac_adapter/ADP1

if grep -q 'last full capacity' ${BATTERY_DIR}/info ; then
        FULL_BATTERY=$( awk '/last full capacity/ {print $4}' ${BATTERY_DIR}/info )
        CURRENT_BATTERY=$( awk '/remaining capacity/ {print $3}' ${BATTERY_DIR}/state )
        PERCENT=$(( ${CURRENT_BATTERY} * 100 / ${FULL_BATTERY} ))
        if grep -q on-line ${AC_DIR}/state; then
                echo "Netz $PERCENT%"
        else
                echo "Akku $PERCENT%"
        fi
else
        echo "Ohne Akku"
fi
</pre><p>
Dem gespeicherten Skript werden nun Ausführungsrechte verliehen <sup><a href="#source-4">[4]</a></sup>: 
</p><div class="bash"><div class="contents"><pre class="notranslate">chmod u+x ~/.battery.bash </pre></div></div><p>
Die Einbindung in den Prompt erfolgt z. B. über
</p><div class="bash"><div class="contents"><pre class="notranslate">PS1='\u@\h:\w_`~/.battery.bash`\$ ' </pre></div></div><p>
Es werden drei unterschiedliche Ausgaben erzeugt. Im reinen Akkubetrieb 
</p><div class="bash"><div class="contents"><pre class="notranslate">username@rechnername:verzeichnis_Akku98% </pre></div></div><p>
Wenn sowohl Akku als auch Netzteil angeschlossen sind 
</p><div class="bash"><div class="contents"><pre class="notranslate">username@rechnername:verzeichnis_Netz98% </pre></div></div><p>
Und im reinen Netzbetrieb 
</p><div class="bash"><div class="contents"><pre class="notranslate">username@rechnername:verzeichnis_OhneAkku </pre></div></div><hr/><p></p></div></div></div>
<p class="meta">
<a href="../bash/prompt/a/revision/898643.html">Diese Revision</a> wurde am 30. Juni 2016 14:51 von <a href="https://ubuntuusers.de/user/franc/">franc</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../bash.html">Bash</a></li>
<li><a href="../bash/prompt.html">Prompt</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>