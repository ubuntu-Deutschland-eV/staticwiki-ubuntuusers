<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Back_In_Time › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./back_in_time.html">Back In Time</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Back_In_Time">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./back_in_time/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./back_in_time/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./back_in_time/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./back_in_time/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./back_in_time/a/backlinks.html">Back In Time</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./sudo.html">Root-Rechte erlangen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./paketquellen_freischalten/ppa.html">Verwenden eines PPAs</a>, <em>optional</em></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./programme_starten.html">Ein Programm starten</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-7" id="source-7"></a> <a class="internal" href="./chmod.html">Zugriffsrechte von Dateien und Verzeichnissen ändern</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#PPA">PPA
</a></li></ol></li><li><a class="crosslink" href="#Anwendung">Anwendung
</a><ol class="arabic"><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Sicherung">Sicherung
</a></li><li><a class="crosslink" href="#Wiederherstellung">Wiederherstellung
</a></li><li><a class="crosslink" href="#Ausfuehrung-mit-Anacron">Ausführung mit Anacron
</a><ol class="arabic"><li><a class="crosslink" href="#Ab-Version-1-1-0-ab-Ubuntu-16-04">Ab Version 1.1.0 / ab Ubuntu 16.04
</a></li><li><a class="crosslink" href="#Ab-Version-1-0-26-Ubuntu-14-04">Ab Version 1.0.26 / Ubuntu 14.04
</a></li></ol></li><li><a class="crosslink" href="#User-Callback-Skript">User-Callback-Skript
</a><ol class="arabic"><li><a class="crosslink" href="#Statusmeldung">Statusmeldung
</a></li><li><a class="crosslink" href="#Statusmeldung-per-E-Mail">Statusmeldung per E-Mail
</a></li></ol></li></ol></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a><ol class="arabic"><li><a class="crosslink" href="#Snapshot-kann-nicht-erstellt-werden">Snapshot kann nicht erstellt werden
</a></li><li><a class="crosslink" href="#Benutzerverzeichnis-ist-voll-wegen-grosser-Log-Datei">Benutzerverzeichnis ist voll wegen große...</a></li><li><a class="crosslink" href="#Backups-pausieren-oder-abbrechen">Backups pausieren oder abbrechen
</a></li><li><a class="crosslink" href="#WARNING-A-backup-is-already-running">WARNING: A backup is already running
</a></li><li><a class="crosslink" href="#Backup-auf-neues-Laufwerk-umziehen">Backup auf neues Laufwerk umziehen
</a></li><li><a class="crosslink" href="#Rechte-werden-nicht-korrekt-wiederhergestellt">Rechte werden nicht korrekt wiederherges...</a></li><li><a class="crosslink" href="#Backup-wird-nicht-inkrementell-erzeugt-auf-einem-mit-encfs-verschluesselten-Medium">Backup wird nicht inkrementell erzeugt, ...</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a><ol class="arabic"><li><a class="crosslink" href="#Intern">Intern
</a></li><li><a class="crosslink" href="#Extern">Extern
</a></li></ol></li></ol></div><p><img alt="Wiki/Icons/Tango/document-save.png" class="image-left" src="./_/736f007e0d501b9c8ae1376ce5f7274621d0995d.png"/>
<a class="external" href="https://github.com/bit-team/backintime#back-in-time" rel="nofollow">Back In Time</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> (BiT) ist eine ursprünglich von Dan Oprea entwickeltes <a class="internal" href="./sicherheit.html#Sicherungskopien">Backup</a>-Anwendung, das dem Programm <a class="external" href="http://www.apple.com/de/macosx/features/timemachine.html" rel="nofollow">Time Machine</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> von Apple ähnelt. Es basiert auf <a class="internal" href="./rsync.html">rsync</a> und <a class="internal" href="./cp.html">cp</a> und bietet grafische Oberflächen für <a class="internal" href="./gtk.html">GTK</a>- und <a class="internal" href="./qt.html">Qt</a>-basierte Desktop-Umgebungen an.</p><p>BiT verzichtet auf große Konfigurationsmöglichkeiten und war ursprünglich für das automatisierte Sichern des eigenen <a class="internal" href="./homeverzeichnis.html">Homeverzeichnis</a> gedacht. Unter Verwendung von Root-Rechten <sup><a href="#source-1">[1]</a></sup> ist aber auch die Sicherung anderer (System-)Verzeichnisse möglich. Das Programm wird seit Ende 2008 entwickelt und steht unter der GNU GPLv2-Lizenz.</p><p>Eine (unveränderte) Datei benötigt hiermit nur einmal Plattenplatz im Backup (auch wenn sie Teil vieler Snapshots ist), eine veränderte Datei wird aber immer komplett neu gesichert (Nutzung von rsync, nicht rdiff). Snapshots von großen veränderlichen Dateien (z.B. virtuelle Festplatten) nehmen also viel Backup-Platz in Anspruch, wenn sie nicht vom Snapshot ausgenommen werden.</p><p>Als Sicherungsmedien bieten sich allgemein große (ggf. externe) Festplatten oder USB-Sticks an. Back in Time unterstützt keine Aufteilung der Daten auf mehrere Medien. Ab Version 1.0.26 bietet Back In Time die Möglichkeit, über <a class="internal" href="./encfs.html">encfs</a> zu verschlüsseln. 
Dabei ist darauf zu achten, dass Hardlinks unterstützt werden (External IV Chaining kann z.B. nicht genutzt werden). <sup><a href="#source-10">[10]</a></sup></p><p>Alternativ kann man auch das Backupmedium verschlüsseln, z.B. mit <a class="internal" href="./luks.html">LUKS</a>.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Das Programm ist in den offiziellen Paketquellen vorhanden. Es muss eines der beiden Pakete installiert werden <sup><a href="#source-2">[2]</a></sup>:</p><table><tr class="titel"><td colspan="2"> Desktop-Umgebung </td></tr><tr class="kopf"><td style="text-align: center"> GNOME </td><td style="text-align: center">KDE </td></tr><tr><td><ul><li><p><strong>backintime-gnome</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install backintime-gnome </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install backintime-gnome </pre></div></div><p>
</p></div></div> </td><td> <ul><li><p><strong>backintime-kde</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install backintime-kde </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install backintime-kde </pre></div></div><p>
</p></div></div> </td></tr></table><p>
Ab <a class="internal" href="./xenial.html">Ubuntu 16.04</a> wurden diese beiden Pakete unter einem neuen Namen zusammengeführt:</p><ul><li><p><strong>backintime-qt4</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install backintime-qt4 </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install backintime-qt4 </pre></div></div><p>
</p></div></div><div class="section_2"><h3 id="PPA">PPA<a class="headerlink" href="#PPA">¶</a></h3><p>
Das "Personal Package Archiv" (PPA) <sup><a href="#source-3">[3]</a></sup> der Entwickler enthält meist eine aktuellere Version als die offiziellen Paketquellen.</p><p>Adresszeile zum <a class="internal" href="./paketquellen_freischalten/ppa.html#PPA-hinzufuegen">Hinzufügen</a> des PPAs:
</p><ul><li><p><strong>ppa:bit-team/stable</strong> </p></li></ul><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
Zusätzliche <a class="internal" href="./fremdquellen.html">Fremdquellen</a> können das System gefährden. 
</p><hr/><p>Ein PPA unterstützt nicht zwangsläufig alle Ubuntu-Versionen. Weitere Informationen sind der <img alt="Wiki/Vorlagen/PPA/ppa.png" class="image-default" src="./_/237f3a0f00c3091056c1a912d81e924e8391ed6b.png"/> <a class="external" href="https://launchpad.net/~bit-team/+archive/stable" rel="nofollow">PPA-Beschreibung</a> des Eigentümers/Teams <a class="interwiki interwiki-lpuser" href="https://launchpad.net/~bit-team">bit-team</a> zu entnehmen.
</p></div></div><p>
Damit Pakete aus dem PPA genutzt werden können, müssen die Paketquellen <a class="internal" href="./paketquellen_freischalten.html">neu eingelesen</a> werden.</p><p>Nach dem Aktualisieren der Paketquellen erfolgt die Installation wie oben angegeben.</p></div></div><div class="section_1"><h2 id="Anwendung">Anwendung<a class="headerlink" href="#Anwendung">¶</a></h2><p>
Das Programm findet man bei Ubuntu-Varianten mit einem Anwendungsmenü unter <em>"Systemwerkzeuge -&gt; Back In Time"</em>. Will man Ordner und Dateien sichern, für die man keine Schreibrechte besitzt (also alles außerhalb des eigenen Homeverzeichnis), muss man <em>"Back In Time (root)"</em> verwenden. Hier sollte man allerdings Vorsicht walten lassen, da unter Umständen Systemdateien beschädigt werden können.</p><div class="section_2"><h3 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h3><p>
<img alt="Einstellungen.png" class="image-right" src="./_/4950c5c9bf44f1b2c1ef4b8dd3d3f9bebcfd8d05.png"/>
Nach dem ersten Start erscheint der Konfigurationsdialog, in dem man einige wenige Dinge einstellen muss. Hierbei können unterschiedliche Sicherungsprofile angelegt werden. Beim ersten Start wird ein Profil <em>Hauptprofil</em> angelegt in dem die Einstellungen gespeichert werden. So können zum Beispiel unterschiedliche Sicherungsziele in den jeweiligen Profilen definiert werden.</p><ul><li><p>Unter <em>"Allgemein"</em> ist der Ort zu wählen, an dem die Sicherungen gespeichert werden sollen und wie oft eine automatisierte Sicherung erfolgen soll.</p></li><li><p>Über <em>"Hinzufügen"</em> werden die zu sichernden Verzeichnisse und Dateien ausgewählt, wobei diese im Dateisystem nicht unterhalb des Ordners, in dem gesichert wird, liegen dürfen. </p></li><li><p>Im Reiter <em>"Ausschließen"</em> werden Dateien oder Verzeichnisse eingetragen die von der Sicherung ausgeschlossen werden.</p></li><li><p>Der Reiter <em>"Automatisches Entfernen"</em> bietet einige Optionen zum automatischen Entfernen alter Datumskopien.</p></li><li><p>Bei Back In Time werden Rechte standardmäßig bereits gesichert. <em>"Optionen"</em> wie <em>"Voller rsync modus"</em> sind dazu nicht nötig.</p></li></ul><p>
</p></div><div class="section_2"><h3 id="Sicherung">Sicherung<a class="headerlink" href="#Sicherung">¶</a></h3><p>
<img alt="Back_In_Time_jetzt.png" class="image-right" src="./_/665c9293cc0a1b22a06d95a8fb0eda5c4bd91289.png"/>
Ein Snapshot (Datumskopie) wird wahlweise automatisch zu bestimmten Zeiten mittels <a class="internal" href="./cron.html">Cron</a> oder manuell innerhalb der grafischen Oberfläche über die  Schaltfläche <em>"Snapshot erstellen"</em> erzeugt. Ferner können Snapshots über die Kommandozeile ausgelöst werden. Nach erfolgter Sicherung erscheint in der Zeitleiste ein Eintrag mit dem Sicherungszeitpunkt. Die enthaltenen Dateien und Verzeichnisse werden in der Sicherungsübersicht angezeigt. <a class="internal" href="./versteckte_dateien.html">Versteckte Dateien</a> werden mit der Schaltfläche <strong>+</strong> sichtbar gemacht.</p></div><div class="section_2"><h3 id="Wiederherstellung">Wiederherstellung<a class="headerlink" href="#Wiederherstellung">¶</a></h3><p>
Zum Wiederherstellen verlorener oder veränderter Dateien wird ein Snapshot (Datumskopie) in der Zeitleiste ausgewählt und mit der Schaltfläche <em>"Wiederherstellen"</em> die Datei/en in das Ursprungsverzeichnis zurück kopiert. Vorhandene Datei/en erhalten einen neuen Dateinamen <strong>Originaldateiname.backup.datum</strong>, um zu vermeiden, dass eine bestehende Datei überschrieben wird.</p><p><img alt="bit-autohost.png" class="image-right" src="./_/a30eff4cf12ec2ee5af074f7ebb5728e397c4b22.png"/>
Soll eine Wiederherstellung auf einem neuen Rechner oder auf einem neu installierten System mit einem neuen/anderen Rechnernamen erfolgen, muss bis Version 1.0.x die Funktion <em>"Auto Host/Benutzer/Profil ID"</em> deaktiviert und der (neue) Rechnernamen manuell im Feld <em>"Host"</em> eingetragen werden. Das Vorgehen ist ähnlich bei verändertem Benutzernamen. So können Daten auf andere Rechner und anderen Benutzer übertragen werden.</p><p>Ab Version 1.1.0 ist eine Option vorhanden, die eine bestehende Konfigurationsdatei importiert und so die Wiederherstellung ohne manuellen Eingriff auf anderen Rechnern ermöglicht.</p><p>Grundsätzlich muss die Wiederherstellung nicht zwingend über die grafische Oberfläche erfolgen. Da in das Sicherungsverzeichnis nur geänderte Daten (inkrementell) kopiert werden, können die Dateien einzeln oder auf einmal mittels <a class="internal" href="./rsync.html">rsync</a> oder <a class="internal" href="./cp.html">cp</a> bzw. mit einem Dateimanager zurück kopiert werden. Unveränderte Dateien werden als <a class="internal" href="./ln.html">Hardlinks</a> referenziert und sind somit in jedem Snapshot enthalten.</p></div><div class="section_2"><h3 id="Ausfuehrung-mit-Anacron">Ausführung mit Anacron<a class="headerlink" href="#Ausfuehrung-mit-Anacron">¶</a></h3><p>
Wenn man einen <em>"Zeitplan"</em> angibt, legt das Programm einen <a class="internal" href="./cron.html">Cronjob</a> an, der Backups regelmäßig zu einem bestimmten Zeitpunkt (bei täglichen Backups z.B. um 0:00 Uhr) anlegt. Ist der Rechner zu diesem Zeitpunkt ausgeschaltet, wird aber naturgemäß kein Backup angelegt. Für Nutzer, die ihren Rechner zwischendurch ausschalten, aber trotzdem ein verlässliches tägliches/wöchentliches Backup wollen, ist diese Lösung wenig brauchbar.</p><p>Abhilfe schafft der Einsatz von <a class="internal" href="./cron.html#Anacron-Anac-h-ronistic-Cron">Anacron</a>: Ohne an feste Uhrzeiten gebunden zu sein, prüft das Programm beim Systemstart, ob Aktionen anstehen, und führt diese nach kurzer Verzögerung aus. Leider gibt es speziell bei diesem Punkt deutliche Unterschiede zwischen den verschiedenen Versionen von Back in Time. Vor der weiteren Lektüre wird daher empfohlen, die konkrete Versionsnummer im Hauptmenü unter <em>"Über"</em> zu ermitteln und erst dann den entsprechenden Abschnitt zu lesen.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wer Back in Time mit Anacron kombinieren möchte, muss Back in Time zwingend über <em>"Systemwerkzeuge -&gt; Back in Time (root)"</em> aufrufen und konfigurieren. Ohne Root-Rechte <sup><a href="#source-1">[1]</a></sup> vorgenommene Einstellungen werden von Anacron nicht unterstützt bzw. sind erst ab der Version 1.0.26 von Back in Time möglich.
</p></div></div><div class="section_3"><h4 id="Ab-Version-1-1-0-ab-Ubuntu-16-04">Ab Version 1.1.0 / ab Ubuntu 16.04<a class="headerlink" href="#Ab-Version-1-1-0-ab-Ubuntu-16-04">¶</a></h4><p>
Nachteil vor Version 1.1.0 war zum einen, dass Anacron nur tageweise gestartet werden konnte (mittlerweile kann Anacron auch stündlich gestartet werden; zum Zeitpunkt, als die Version 1.1.0 entwickelt wurde, konnte Anacron dies allerdings nocht nicht) und zum anderen, dass Anacron immer einen neuen Zeitstempel in die Spool-Datei schrieb, egal ob der Snapshot erfolgreich war oder nicht.</p><p>Aus diesen Gründen wird ab dieser Version komplett auf Anacron verzichtet bzw. werden die Funktionen von Anacron nur noch simuliert. Stattdessen wird Cron verwendet. Die genaue Arbeitsweise ist in der <a class="interwiki interwiki-github" href="https://github.com/bit-team/backintime/wiki/FAQ#how-does-the-repeatedly-anacron-schedule-work">FAQ</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> dokumentiert.</p></div><div class="section_3"><h4 id="Ab-Version-1-0-26-Ubuntu-14-04">Ab Version 1.0.26 / Ubuntu 14.04<a class="headerlink" href="#Ab-Version-1-0-26-Ubuntu-14-04">¶</a></h4><p>
Zunächst wird über <em>"Systemwerkzeuge -&gt; Back in Time"</em> die gewünschte Sicherung eingestellt (BiT und Anacron können ab der Version 1.0.26 auch ohne Root-Rechte verwendet werden). Der <em>"Zeitplan"</em> wird aktiviert, in dem ein Sicherung über Anacron ausgewählt wird. Dies kann direkt im Zeitplan selektiert werden.</p><p>Im Gegensatz zu älteren Versionen muss nichts mehr manuell in die Verzeichnisse <strong>/etc/cron.daily/</strong> (für tägliche Sicherung), <strong>/etc/cron.weekly/</strong> (wöchentliche Sicherung) oder <strong>/etc/cron.monthly/</strong> (monatliche Sicherung) kopiert werden. Die Auswahl von Anacron im Zeitplan schreibt auch nichts (wie vielleicht vermutet) in diese Verzeichnisse (dafür würden Root-Rechte benötigt).</p><p>Stattdessen legt die grafische Oberfläche eine <a class="internal" href="./cron.html">Crontab</a> mit Cronjob an, der dann wiederum alle 15 Minuten den Befehl <code class="notranslate">anacron -s -t PFAD/ZUR/CRONTAB -S SPOOL-ORDNER</code> startet. Anacron kümmert sich dabei nur darum, das Datum des letzten Laufs aus der Spool-Datei auszulesen und BIT zu starten, wenn es dran ist.</p></div></div><div class="section_2"><h3 id="User-Callback-Skript">User-Callback-Skript<a class="headerlink" href="#User-Callback-Skript">¶</a></h3><p>
Unabhängig davon, ob die Datensicherung erfolgreich oder fehlerhaft abgeschlossen wurde, kann es hilfreich sein, diesbezüglich eine Meldung zu erhalten. Hierzu wird auf der BiT-Entwicklerseite ein fertiges User-Callback-Skript zur Verfügung gestellt. Mit Hilfe dieses Skripts erhält man nach Abschluss der Datensicherung eine Statusmeldung. Diese Statusmeldung kann entweder als Desktop-Benachrichtigung oder per E-Mail erfolgen.</p><p>Zunächst muss <a class="interwiki interwiki-github" href="https://github.com/bit-team/user-callback/blob/master/user-callback.notify">user-callback.notify</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> in das Verzeichnis <strong>~/.config/backintime/</strong> kopiert werden und anschließend ausführbar gemacht werden. Das Skript muss den Namen <strong>user-callback</strong> tragen.</p><div class="section_3"><h4 id="Statusmeldung">Statusmeldung<a class="headerlink" href="#Statusmeldung">¶</a></h4><p>
Die Skriptzeilen, welche mit <strong>notify-send</strong> beginnen, sind für die Statusmeldung auf dem Desktop verantwortlich (siehe auch <a class="internal" href="./benachrichtigungsdienst.html">Benachrichtigungsdienst</a>). Bevor diese Statusmeldung mit Hilfe von BiT getestet wird, kann es hilfreich sein zu testen, ob notify-send korrekt funktioniert. Diesbezüglich einfach den Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">notify-send "Achtung" "Hallo" </pre></div></div><p>in einem Terminalfenster ausführen. Taucht für einige Sekunden oben rechts ein Hinweis auf, hat man die Bestätigung, dass notify-send korrekt arbeitet. Bevor der anschließende Live-Test mit BiT durchgeführt wird ist es empfehlenswert, die Zeilen im Skript, welche mit notify-send beginnen, dahingehend zu modifizieren, dass diese nicht nur für einige Sekunden, sondern permanent erhalten bleiben, bis die Meldungen mit der Maus geschlossen werden. Dazu muss die Option <code class="notranslate">--urgency low</code> auf <code class="notranslate">--urgency critical</code> geändert werden. Nachfolgend ein Beispiel: Die Skriptzeile</p><pre class="notranslate">notify-send --urgency low --icon=face-plain "BackInTime" \</pre><p>
müsste zu</p><pre class="notranslate">notify-send --urgency critical --icon=face-plain "BackInTime" \</pre><p>
geändert werden.</p></div><div class="section_3"><h4 id="Statusmeldung-per-E-Mail">Statusmeldung per E-Mail<a class="headerlink" href="#Statusmeldung-per-E-Mail">¶</a></h4><p>
Damit es möglich ist, dass BiT nach abgeschlossener Datensicherung eine E-Mail zum Status versendet, muss zum einen ein Mailserver (der die Mail verschickt) und zum anderen ein Mailclient (der die Mail entgegen nimmt) installiert werden.</p><p>Um das Linux-System zum <a class="internal" href="./mailserver-einführung.html">Mailserver</a> zu machen, muss ein MTA (Mail Transfer Agent) installiert werden. Hierfür sollte Postfix oder Exim4 verwendet werden.</p><p>Um einen Mailclient zu installieren, sollte das Paket <a class="interwiki interwiki-packages" href="http://packages.ubuntu.com/mailutils">mailutils</a> installiert werden. Dieses Paket enthält den Mailclient <strong>mail</strong>. mail ist mit Thunderbird zu vergleichen, allerdings für die Kommandozeile ausgelegt. Schlussendlich muss das Skript entsprechend angepasst werden, sprich es muss die entsprechende E-Mail-Adresse im Skript hinterlegt werden.</p><p>Weitere Informationen und Links zu oben genannten Informationen sind in den Kommentaren des User-Callback-Skripts zu finden.</p></div></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Snapshot-kann-nicht-erstellt-werden">Snapshot kann nicht erstellt werden<a class="headerlink" href="#Snapshot-kann-nicht-erstellt-werden">¶</a></h3><p>
Wenn sich Dateien nicht sichern lassen, erhält man nun am unteren Rand des Programmfensters von Back In Time z.B. die Meldung
</p><blockquote><p>"Fehler: konnte Snapshot 08.05.2011 10:15:00 nicht erstellen!!!"</p></blockquote><p>
In diesem Fall kann man unter <em>"Settings -&gt; Options"</em> den Eintrag <em>"Continue on Errors (keep incomplete Snapshots)"</em> auswählen, womit man das bisherige Verhalten wieder erhält, wobei ein so erstellter Snapshot dann in der Liste den Zusatz <em>"(WITH ERRORS!)"</em> erhält. Nun kann man sich im oberen Menü über <em>"View Snapshot Log"</em> das Protokoll anzeigen lassen und eine Suche nach Ursachen starten: Welches Verzeichnis oder welche Datei genau die Fehler verursacht und diese einfach auf die Liste der nicht zu sichernden Ordner und Dateien setzen.</p></div><div class="section_2"><h3 id="Benutzerverzeichnis-ist-voll-wegen-grosser-Log-Datei">Benutzerverzeichnis ist voll wegen großer Log-Datei<a class="headerlink" href="#Benutzerverzeichnis-ist-voll-wegen-grosser-Log-Datei">¶</a></h3><p>
Back in time protokolliert die Backup-Vorgänge (auf Datei-Ebene) sehr detailliert in der Datei <strong>~/.local/share/backintime/takesnapshot_log</strong>. Wenn diese Datei irgendwann zu groß ist, hat das <a class="internal" href="./homeverzeichnis.html">Benutzerverzeichnis</a> keinen freien Speicherplatz mehr.</p><p>Lösungsmöglichkeiten:
</p><ol class="arabic"><li><p>Diese Datei im <a class="internal" href="./dateimanager.html">Dateimanager</a> oder auf der <a class="internal" href="./terminal.html">Kommandozeile</a> löschen.</p></li><li><p>Eine andere präventive Möglichkeit ist, die Log-Granularität einzustellen. Dazu in der Benutzeroberfläche in den Einstellungen des Profils im Reiter <em>"Optionen"</em> das Auswahlfeld bei <em>"Log-Optionen"</em> entsprechend anpassen. Diese Einstellung muss man für jedes Profil einzeln anpassen!</p></li></ol><p>
Es ist in der Benutzer-Oberfläche nicht möglich, das Verzeichnis der Log-Datei zu ändern (siehe <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/691731">691731</a>), um es z.B. auf ein anderes/größeres Laufwerk zu verschieben.</p></div><div class="section_2"><h3 id="Backups-pausieren-oder-abbrechen">Backups pausieren oder abbrechen<a class="headerlink" href="#Backups-pausieren-oder-abbrechen">¶</a></h3><p>
Diese Möglichkeit bietet Back In Time nicht an. Als Notlösung kann man alle dazugehörigen Prozesse mit folgendem Befehl beenden:</p><div class="bash"><div class="contents"><pre class="notranslate">ps auxfww|grep backintime|awk '{print $2}'|xargs sudo kill -9 </pre></div></div><p>Dass Back In Time intern mit dem <strong>rsync</strong>-Kommando arbeitet, sollte kein Problem darstellen. Ungewollte Nebeneffekte durch obiges Kommando sind aber nicht ausgeschlossen.</p></div><div class="section_2"><h3 id="WARNING-A-backup-is-already-running">WARNING: A backup is already running<a class="headerlink" href="#WARNING-A-backup-is-already-running">¶</a></h3><p>
Läuft bereits ein Backup, kommt auf der Kommandozeile die Meldung, dass bereits ein Backup durchgeführt wird. Sollte das vorherige Backup aufgrund eines Stromausfalls oder ähnlichem nicht korrekt beendet worden sein, kann es sein, dass diese Meldung angezeigt wird, obwohl definitiv kein Backup-Prozess läuft. In diesem Fall hilft es, die Datei <strong>worker.lock</strong> zu löschen:</p><div class="bash"><div class="contents"><pre class="notranslate">rm ~/.local/share/backintime/worker.lock </pre></div></div></div><div class="section_2"><h3 id="Backup-auf-neues-Laufwerk-umziehen">Backup auf neues Laufwerk umziehen<a class="headerlink" href="#Backup-auf-neues-Laufwerk-umziehen">¶</a></h3><p>
Wenn das Sicherungslaufwerk an seine Grenzen stößt oder einen Defekt aufweist, ist es notwendig das Sicherungslaufwerk auszutauschen. Wurde bereits über einen längeren Zeitraum regelmäßig eine inkrementelle Datensicherung mit Back in Time gemacht, möchte man diesen Datenbestand nicht verlieren. Um den Datenbestand auf das neue Laufwerk zu kopieren, müssen unbedingt die Hardlinks mitgenommen werden.</p><p>Die Daten können dazu mittels <a class="internal" href="./cp.html">cp</a>:</p><div class="bash"><div class="contents"><pre class="notranslate">cp -a QUELLE ZIEL </pre></div></div><p> 
oder mittels <a class="internal" href="./rsync.html">rsync</a>:</p><div class="bash"><div class="contents"><pre class="notranslate">rsync -avH --progress QUELLE ZIEL </pre></div></div><p> 
auf das neue Laufwerk kopiert werden. Anschließend wird im Programm der Speicherort des Backups auf das neue Laufwerk eingestellt.</p></div><div class="section_2"><h3 id="Rechte-werden-nicht-korrekt-wiederhergestellt">Rechte werden nicht korrekt wiederhergestellt<a class="headerlink" href="#Rechte-werden-nicht-korrekt-wiederhergestellt">¶</a></h3><p>
Dies kann passieren, wenn der gleiche Zielordner von <em>"Back in Time"</em> sowie <em>"Back in Time (root)"</em> mit <a class="internal" href="./sudo.html">Root</a>-Rechten verwendet wurde. Abhilfe schafft das Verwenden eines gesonderten Ordners im <a class="internal" href="./sudo.html">Root</a>-Modus oder das Löschen der alten Datensicherungen in <em>"Back in Time (root)"</em> mit <a class="internal" href="./sudo.html">Root</a>-Rechten.</p></div><div class="section_2"><h3 id="Backup-wird-nicht-inkrementell-erzeugt-auf-einem-mit-encfs-verschluesselten-Medium">Backup wird nicht inkrementell erzeugt, auf einem mit encfs verschlüsselten Medium<a class="headerlink" href="#Backup-wird-nicht-inkrementell-erzeugt-auf-einem-mit-encfs-verschluesselten-Medium">¶</a></h3><p>
Werden keine Hardlinks genutzt bzw. erzeugt kann es daran liegen, dass beim Erzeugen des verschlüsselten Verzeichnisses die Option  
External IV Chaining gesetzt wurde. Unter diesem Umstand können keine Hardlinks erzeugt werden.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><div class="section_2"><h3 id="Intern">Intern<a class="headerlink" href="#Intern">¶</a></h3><p>
</p><ul><li><p><a class="internal" href="./datensicherung.html">Datensicherung</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Grundlagen, wichtige Verzeichnisse</p></li><li><p><a class="internal" href="./datensicherung_auf_nas.html">Datensicherung auf NAS</a> - Datensicherung auf ein externes NAS mit Hilfe von cifs, anacron und Back in Time</p></li><li><p><a class="internal" href="./notfall.html">Notfall</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Was tun in Notfällen? </p></li></ul><p>
</p></div><div class="section_2"><h3 id="Extern">Extern<a class="headerlink" href="#Extern">¶</a></h3><p>
</p><ul><li><p>aktuelle Projektseite</p><ul><li><p><a class="external" href="https://launchpad.net/backintime" rel="nofollow">Launchpad</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="interwiki interwiki-github" href="https://github.com/bit-team/backintime">GitHub</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://backintime.rtfd.org/" rel="nofollow">Doku</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul></li><li><p><a class="external" href="http://heise.de/-1831759" rel="nofollow">Toolbox: Backups mit Back In Time</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Artikel heise Open Source, 04/2013</p></li><li><p><a class="external" href="http://ubuntublog.ch/index.html%3Fp=11188.html" rel="nofollow">EasyLinux zu Back In Time</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Blogbeitrag, 02/2011</p></li><li><p><a class="external" href="http://www.linux-community.de/Internal/Artikel/Print-Artikel/LinuxUser/2009/05/Zeitspruenge" rel="nofollow">Zeitsprünge - Back in Time</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Artikel LinuxUser, 05/2009</p></li><li><p><a class="external" href="http://www.teejeetech.in/p/timeshift.html" rel="nofollow">TimeShift</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - nur für Systemdateien (keine Benutzerverzeichnisse), nutzt rsync</p></li><li><p><a class="external" href="http://manpages.ubuntu.com/manpages/xenial/man1/encfs.1.html" rel="nofollow" title="http://manpages.ubuntu.com/manpages/xenial/man1/encfs.1.html">http://manpages.ubuntu.com/manpages/xenial/man1/encfs.1.html</a> - encfs Hardlinkproblematik</p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./back_in_time/a/revision/946217.html">Diese Revision</a> wurde am 13. Januar 2018 10:09 von <a href="https://ubuntuusers.de/user/clax/">clax</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./back_in_time.html">Back In Time</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>