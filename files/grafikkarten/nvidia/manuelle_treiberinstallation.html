<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Grafikkarten/Nvidia/Manuelle_Treiberinstallation › ubuntuusers statisches Wiki</title>
<link href="../../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../../grafikkarten/nvidia/manuelle_treiberinstallation.html">Manuelle Treiberinstallation</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Grafikkarten/Nvidia/Manuelle_Treiberinstallation">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../../wiki/index.html">Index</a></li>
<li><a href="../../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../../wiki.html">Übersicht</a></li>
<li><a href="../../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../../kategorien.html">Kategorie</a></li>
<li><a href="../../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../../howto.html">Howto anlegen</a></li>
<li><a href="../../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../../baustelle.html">Baustellen</a></li>
<li><a href="../../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../../grafikkarten/nvidia/manuelle_treiberinstallation/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../../grafikkarten/nvidia/manuelle_treiberinstallation/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../../grafikkarten/nvidia/manuelle_treiberinstallation/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../../grafikkarten/nvidia/manuelle_treiberinstallation/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../../grafikkarten/nvidia/manuelle_treiberinstallation/a/backlinks.html">Manuelle Treiberinstallation</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../../xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="../../trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../../pakete_installieren.html">Installation von Paketen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../../editor.html">Einen Texteditor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../../metapakete.html">Restricted-Modules  Linux-Headers: welche Version</a> </p></li></ol></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Diese Seite beschreibt die manuelle Installation der Nvidia-Treiber. Seit Version 304.22 beinhaltet der Nvidia-Treiber <a class="internal" href="../../dkms.html">DKMS</a> und <a class="internal" href="../../randr.html">Randr</a> Unterstützung, Sicherheitslücken älterer Treiberversionen sind und werden gefixt, so dass die Installation einer aktuellen Version anzuraten ist. Bei Installation einer älteren Version als 304.22, so diese noch vom XServer unterstützt werden sollte, ist zu beachten, dass mit jedem Kernelupdate auch das Nvidia-Kernelmodul neu kompiliert werden muss. Die hier beschriebene Installation sollte nur von fortgeschrittenen Usern durchgeführt werden.
</p></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Vorbereitung">Vorbereitung
</a></li><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Deinstallation">Deinstallation
</a></li><li><a class="crosslink" href="#Problemloesungen">Problemlösungen
</a></li><li><a class="crosslink" href="#Nvidia-Beschreibung">Nvidia Beschreibung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><div class="section_1"><h2 id="Vorbereitung">Vorbereitung<a class="headerlink" href="#Vorbereitung">¶</a></h2><p>
Vor der Installation sollte eine Kopie von <strong>/etc/X11/xorg.conf</strong> erzeugt werden:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /etc/X11/xorg.conf /etc/X11/xorg.conf_backup </pre></div></div><p>
Es müssen die zum verwendeten Kernel passenden Header sowie die zum Kompilieren benötigten Pakete installiert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>build-essential</strong></p></li><li><p><strong>xserver-xorg-dev</strong></p></li><li><p><strong>linux-headers-generic</strong>, an die eigene Architektur anpassen, <sup><a href="#source-4">[4]</a></sup> </p></li></ul><p>
</p></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Von <a class="external" href="http://www.nvidia.com/object/unix.html" rel="nofollow">nvidia.com</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> den benötigten Treiber für die eigene Plattform herunterladen.</p><p>Jetzt mit 
<span class="key">Strg</span>  + 
<span class="key">Alt</span>  + 
<span class="key">F1</span>  zur ersten Konsole wechseln, einloggen und mit einem der folgenden Befehle die <a class="internal" href="../../displaymanager.html">grafische Anmeldung</a> abschalten:</p><ul><li><p><a class="internal" href="../../lightdm.html">LightDM</a> (Ubuntu 16.04): </p><div class="bash"><div class="contents"><pre class="notranslate">sudo service lightdm stop </pre></div></div></li><li><p><a class="internal" href="../../lightdm.html">LightDM</a> (seit Ubuntu 11.10): </p><div class="bash"><div class="contents"><pre class="notranslate">sudo stop lightdm </pre></div></div></li><li><p><a class="internal" href="../../kdm.html">KDM</a> (Kubuntu): </p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/kdm stop </pre></div></div><p> Hier springt das Bild zum Ladebildschirm von Kubuntu, weshalb man nochmal zur ersten Konsole wechseln muss.</p></li></ul><p>
Wenn der Befehl nicht die gewünschte Wirkung erzielt, kann die Installation auch über die Root-Shell des <a class="internal" href="../../recovery_modus.html">Recovery Mode</a> durchgeführt werden. Den Recovery Mode erreicht man über das Bootmenü.</p><p>Danach mit dem Befehl <code class="notranslate">cd</code> in das Verzeichnis wechseln, in dem der Installer von NVIDIA abgespeichert ist. Dort eintippen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sh NVIDIA-Linux-x86_64-340.98.run </pre></div></div><p>
Die Versionsnummer, hier als Beispiel "340.98", ist der Paketversion entsprechend anzupassen.
Die Meldung "pre-install script failed" ignorieren, "Continue anyway" auswählen.
Die Lizenzbedingungen akzeptieren, Fragen mit "Yes" beantworten. Ist die Installation fertiggestellt, muss noch folgender Befehl eingegeben werden:</p><pre class="notranslate">startx</pre><div class="section_2"><h3 id="Treiber-fuer-mehrere-Kernelversionen-installieren-Kernelupdate">Treiber für mehrere Kernelversionen installieren (Kernelupdate)<a class="headerlink" href="#Treiber-fuer-mehrere-Kernelversionen-installieren-Kernelupdate">¶</a></h3><p>
Sollen neben dem Standardkernel noch andere Versionen des Kernels verwendet werden, müssen zusätzliche Dinge beachtet werden, bevor man das System mit den anderen Kerneln hochfährt.</p><ol class="arabic"><li><p>Nach obiger Anleitung den Treiber von Nvidia installieren. </p></li><li><p>Die Installation ein weiteres Mal starten, diesmal wird aber nur das Modul für die andere Kernelversion gebaut. </p></li></ol><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sh NVIDIA-Linux-x86_64-340.98.run -a -K --kernel-name=$ANDERER_KERNEL </pre></div></div><p>$ANDERER_KERNEL entspricht der Ausgabe von</p><div class="bash"><div class="contents"><pre class="notranslate">uname -r </pre></div></div><p>
unter der anderen Kernelversion.</p><p>Danach sind die Module für beide Kernel gebaut. Sind noch weitere Kernel vorhanden, einfach Schritt 2 für alle weiteren Kernel wiederholen.</p></div></div><div class="section_1"><h2 id="Deinstallation">Deinstallation<a class="headerlink" href="#Deinstallation">¶</a></h2><p>
Möchte man den Treiber wieder entfernen, geht man zunächst genauso vor, wie bei der Installation. Beim Aufruf des Installers hängt man dann jedoch <code class="notranslate">--uninstall</code> an den Befehl.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo nvidia-unistall </pre></div></div></div><div class="section_1"><h2 id="Problemloesungen">Problemlösungen<a class="headerlink" href="#Problemloesungen">¶</a></h2><p>
</p><div class="section_2"><h3 id="AGP-Zugriff">AGP-Zugriff<a class="headerlink" href="#AGP-Zugriff">¶</a></h3><p>
Möglicherweise hilft der folgende Eintrag in der <strong>/etc/X11/xorg.conf</strong> (Section <em>Device</em> für die Grafikkarte; Bearbeitung in einem Editor mit Root-Rechten <sup><a href="#source-2">[2]</a></sup>):</p><pre class="notranslate">    Option "NvAGP" "1"</pre><ul><li><p>Dies sollte bewirken, dass das Nvidia-eigene Modul für den AGP-Zugriff genutzt wird. </p></li></ul><p>
</p></div><div class="section_2"><h3 id="Grafische-Oberflaeche-zu-traege">Grafische Oberfläche zu träge<a class="headerlink" href="#Grafische-Oberflaeche-zu-traege">¶</a></h3><p>
Die folgende experimentelle Option an gleicher Stelle ist für den Fall empfohlen, dass die graphische Oberfläche im 2D-Modus eher träge ist. Sie kann gerade bei älteren Karten zu Instabilität führen.</p><pre class="notranslate">    Option         "RenderAccel"           "true"</pre></div><div class="section_2"><h3 id="Grafische-Oberflaeche-startet-nicht">Grafische Oberfläche startet nicht<a class="headerlink" href="#Grafische-Oberflaeche-startet-nicht">¶</a></h3><p>
Wenn nach dem Hochfahren die Meldung kommt, dass die grafische Oberfläche nicht hat gestartet werden können, sollte man sicher gehen, dass man wie oben beschrieben die Nvidia-Kernelmodule von Ubuntu gesperrt und ein Kernelmodul für den aktuellen Kernel kompiliert hat.</p></div><div class="section_2"><h3 id="Kompiliertes-Modul-laesst-sich-nicht-laden">Kompiliertes Modul lässt sich nicht laden<a class="headerlink" href="#Kompiliertes-Modul-laesst-sich-nicht-laden">¶</a></h3><p>
Wenn sich das neu kompilierte Modul nach dem Neustart nicht mehr per "<code class="notranslate">modprobe</code>" laden lässt und mit der Fehlermeldung "FATAL: Error running install command for nvidia" abbricht, kann das Editieren von <strong>/etc/modprobe.d/lrm-video</strong> helfen. Dazu mit einem Editor mit Root-Rechten <sup><a href="#source-2">[2]</a></sup> die Einträge, die mit nvidia zusammenhängen, auskommentieren:</p><pre class="notranslate"># Make nvidia/nvidia_legacy and fglrx use /sbin/lrm-video to load
#install fglrx /sbin/lrm-video fglrx $CMDLINE_OPTS
#install nvidia /sbin/lrm-video nvidia $CMDLINE_OPTS
#install nvidia_legacy /sbin/lrm-video nvidia_legacy $CMDLINE_OPTS
#install nvidia_new /sbin/lrm-video nvidia_new $CMDLINE_OPTS</pre></div><div class="section_2"><h3 id="Kernelmodul-laesst-sich-durch-Installer-nicht-laden">Kernelmodul lässt sich durch Installer nicht laden<a class="headerlink" href="#Kernelmodul-laesst-sich-durch-Installer-nicht-laden">¶</a></h3><p>
Wenn am Ende des Kompiliervorgangs der Installer mit einer Fehlermeldung abbricht (<a class="external" href="http://www.nvnews.net/vbulletin/showpost.php?p=2153575&amp;postcount=5" rel="nofollow">nvnews.net</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>), dass das Kernelmodul <strong>nvidia.ko</strong> nicht hat geladen werden können, weil möglicherweise <code class="notranslate">rivafb</code>, <code class="notranslate">nvidiafb</code> oder <code class="notranslate">rivatv</code> die Karte belegen, kann es helfen, den Nouveau-Treiber zu deaktivieren.</p><p>Erzeugt der Befehl</p><pre class="notranslate">lsmod | grep nouveau</pre><p>
eine Ausgabe im Terminal, kann man das automatische Laden des Treibers verhindern, indem man ihn in die Datei <strong>/etc/modprobe.d/blacklist.conf</strong> einträgt (<a class="internal" href="../../kernelmodule.html#Automatisches-Laden-verhindern-Blacklisting">Kernelmodule</a>).</p><div class="bash"><div class="contents"><pre class="notranslate">echo "blacklist nouveau" | sudo tee -a /etc/modprobe.d/blacklist.conf </pre></div></div><p>Danach muss der Rechner neu gestartet und der Installationsvorgang erneut gestartet werden.</p></div></div><div class="section_1"><h2 id="Nvidia-Beschreibung">Nvidia Beschreibung<a class="headerlink" href="#Nvidia-Beschreibung">¶</a></h2><p>
Nvidia selbst bietet in seinem Forum einen <a class="external" href="http://www.nvnews.net/vbulletin/showthread.php?t=72490" rel="nofollow">Thread</a> <img alt="{en}" src="../../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>, in dem die Installation auf Ubuntu beschrieben wird. Auch hier findet man hilfreiche Tipps.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
<a class="external" href="http://www.nvidia.de/Download/index.aspx?lang=de" rel="nofollow">Nvidia-Treiberdownload-Infoseite</a> <img alt="{de}" src="../../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p><p></p></div></div>
<p class="meta">
<a href="../../grafikkarten/nvidia/manuelle_treiberinstallation/a/revision/942765.html">Diese Revision</a> wurde am 24. Juli 2017 22:49 von <a href="https://ubuntuusers.de/user/levinus/">levinus</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../../startseite.html">Wiki</a></li>
<li><a href="../../grafikkarten.html">Grafikkarten</a></li>
<li><a href="../../grafikkarten/nvidia.html">Nvidia</a></li>
<li><a href="../../grafikkarten/nvidia/manuelle_treiberinstallation.html">Manuelle Treiberinstallation</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>