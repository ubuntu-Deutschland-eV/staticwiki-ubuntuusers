<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Upgrade_auf_ext4 › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./upgrade_auf_ext4.html">Upgrade auf ext4</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Upgrade_auf_ext4">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./upgrade_auf_ext4/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./upgrade_auf_ext4/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./upgrade_auf_ext4/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./upgrade_auf_ext4/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./upgrade_auf_ext4/a/backlinks.html">Upgrade auf ext4</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
Dieser Artikel ist mit keiner aktuell unterstützten Ubuntu-Version getestet! Bitte diesen Artikel testen und das getestet-Tag entsprechend anpassen.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li></ol></div></div><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Einfuehrung">Einführung
</a><ol class="arabic"><li><a class="crosslink" href="#Kompatibilitaet-der-ext-Dateisysteme">Kompatibilität der ext-Dateisysteme
</a></li><li><a class="crosslink" href="#Upgrade-oder-Neuerstellung">Upgrade oder Neuerstellung?
</a></li><li><a class="crosslink" href="#Neuerungen-in-ext4">Neuerungen in ext4
</a></li></ol></li><li><a class="crosslink" href="#Upgrade-von-ext3-auf-ext4">Upgrade von ext3 auf ext4
</a></li><li><a class="crosslink" href="#Bestehendes-ext3-Dateisystem-als-ext4-mounten">Bestehendes ext3 Dateisystem als ext4 moun...</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Dieser Artikel beschreibt, wie man ein bestehendes ext3-<a class="internal" href="./dateisystem.html">Dateisystem</a> ohne eine Neuinstallation in ein ext4-Dateisystem umwandelt. Unter Ubuntu kann man ext4 seit 9.04 <a class="internal" href="./jaunty_jackalope.html">Jaunty Jackalope</a> verwenden.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Ältere Versionen von Grub sind nicht in der Lage, Kernel von einem ext4-Dateisystem zu starten. Die notwendige Grub-Version hält erst mit der Ubuntu-Version 9.10 (Karmic Koala) Einzug. Aber auch hier wird diese Version nur verwendet, wenn eine Neuinstallation gemacht wurde. Bevor man also auf das ext4-Dateisystem wechselt, sollte man unbedingt sicherstellen, dass entweder <a class="internal" href="./grub_2.html">GRUB 2</a> installiert ist, oder aber die Kernel auf einer separaten Boot-Partition liegen, welche weiterhin ein ext3-Dateisystem verwendet.
</p></div></div><div class="section_1"><h2 id="Einfuehrung">Einführung<a class="headerlink" href="#Einfuehrung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Kompatibilitaet-der-ext-Dateisysteme">Kompatibilität der ext-Dateisysteme<a class="headerlink" href="#Kompatibilitaet-der-ext-Dateisysteme">¶</a></h3><p>
Alle Dateisysteme der ext-Reihe sind untereinander aufwärts kompatibel. Das heißt, dass ein ext2 ohne Datenverlust in ein ext3 umgewandelt werden kann. Aus einem ext3 kann man genauso problemlos ein <a class="internal" href="./dateisystem.html">ext4</a> machen.</p><p>Umgekehrt ist das nicht so einfach. Zwar kann ein ext3 durch Entfernen des Journals wieder in ein ext2 überführt werden, der Weg von ext4 zurück nach ext3 oder ext2 ist jedoch nicht möglich.</p></div><div class="section_2"><h3 id="Upgrade-oder-Neuerstellung">Upgrade oder Neuerstellung?<a class="headerlink" href="#Upgrade-oder-Neuerstellung">¶</a></h3><p>
Da bei Upgrade eines ext3-Filesystems ein Mischsystem entsteht, bei dem nur neu angelegte Dateien in ext4-Strukturen verwaltet werden, wird nicht das volle Potential eines ext4-Dateisystems ausgeschöpft. Man sollte also ernsthaft eine Neuerstellung des Dateisystems in Betracht ziehen.</p></div><div class="section_2"><h3 id="Neuerungen-in-ext4">Neuerungen in ext4<a class="headerlink" href="#Neuerungen-in-ext4">¶</a></h3><p>
ext4 bietet einige Neuerungen und Verbesserungen gegenüber ext3. Genaueres kann man im Artikel <a class="internal" href="./dateisystem.html#Weitere-Merkmale">Dateisystem</a> nachlesen.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Man sollte sich aber im Klaren sein, dass bei einer Neuentwicklung wie ext4 immer noch unentdeckte Fehler auftreten können (obwohl das bei dem jetzigen Entwicklungsstand nicht sehr wahrscheinlich ist). Ob man ext4 daher schon verwenden sollte, muss man für sich selbst entscheiden. In jedem Fall sollte man für regelmäßige <a class="internal" href="./sicherheit.html#Sicherungskopien">Datensicherungen</a> auf einem Datenträger sorgen, auf dem das Dateisystem nicht ext4 ist (das gilt natürlich nicht nur für ext4, sondern für jedes andere Dateisystem auch!)
</p></div></div></div></div><div class="section_1"><h2 id="Upgrade-von-ext3-auf-ext4">Upgrade von ext3 auf ext4<a class="headerlink" href="#Upgrade-von-ext3-auf-ext4">¶</a></h2><p>
Um ein bestehendes ext3- in ein ext4-Dateisystem umzuwandeln, müssen die entsprechenden Dateisystemeigenschaften hinzugefügt werden. Nach dem Ändern der Optionen muss ein Dateisystemcheck durchgeführt werden.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Trotz der Tatsache, dass man praktisch gefahrlos ein ext3-Dateisystem nach ext4 konvertieren kann, ist es ratsam, vorher eine <a class="internal" href="./datensicherung.html">Datensicherung</a> zumindest aller wichtigen Daten und der Konfiguration in <strong>/etc</strong> zu machen!
</p></div></div><p>Da die zu ändernde Partition bei dem Dateisystemcheck nicht eingehängt sein darf, startet man den Rechner mit einer <a class="internal" href="./desktop-cd.html">Live-CD</a>. Dies ist nicht nötig, wenn die zu konvertierende Partition keine Root-Partition ist, da man diese direkt <a class="internal" href="./mount.html#Dateisystem-aushaengen">aushängen</a> kann.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Dabei muss das Live-System mindestens mit dem Linux-Kernel 2.6.28 laufen, da bei älteren Versionen ext4 noch nicht stabil unterstützt wurde. Bei Ubuntu ist das ab <a class="internal" href="./jaunty_jackalope.html">Jaunty Jackalope</a> der Fall.
</p></div></div><p>Über folgende Befehle kann die genaue Bezeichnung der zu konvertierenden Partition ermittelt werden <sup><a href="#source-1">[1]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo fdisk -l
sudo blkid </pre></div></div><p>Nun werden die Optionen mit Hilfe von <strong>tune2fs</strong> hinzugefügt <sup><a href="#source-1">[1]</a></sup>.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -O extents,uninit_bg,dir_index /dev/&lt;Gerätedatei&gt; </pre></div></div><p>Für <code class="notranslate">&lt;Gerätedatei&gt;</code> wird die gerade ermittelte Bezeichnung eingefügt.</p><p>Abschließend muss noch ein Dateisystemcheck durchgeführt werden. Die Partition darf dabei nicht eingehängt sein!</p><div class="bash"><div class="contents"><pre class="notranslate">sudo fsck -fCVD /dev/&lt;Gerätedatei&gt; </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Durch das Hinzufügen der ext4 Optionen werden neu angelegte Daten im ext4 Format gespeichert. Bereits bestehende Dateien und Verzeichnisse, die noch mit ext3 angelegt wurden, bleiben auf dem Stand von ext3, bis sie neu geschrieben werden. Später soll es mit dem noch in Entwicklung befindlichen Defragmentierungsprogramm möglich sein, alle Daten während des Betriebes nach ext4 zu überführen.
</p></div></div><p>Damit die Partition beim Systemstart als ext4 eingebunden wird, muss nun noch der Eintrag in der <a class="internal" href="./fstab.html">fstab</a> angepasst werden. Dazu wird die Rootpartition bzw. die geänderte Partition in das Live-System eingebunden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mount /dev/&lt;Gerätedatei&gt; /mnt </pre></div></div><p>Für <code class="notranslate">&lt;Gerätedatei&gt;</code> wird hier die Bezeichnung der (Root-) Partiton eingesetzt.</p><p>Nun wird die <a class="internal" href="./fstab.html">fstab</a> des "realen" Systems mit einem Editor eigener Wahl <sup><a href="#source-2">[2]</a></sup> mit Rootrechten geöffnet. Bei der entsprechenden Partition wird der "ext3" Eintrag durch "ext4" ersetzt:</p><pre class="notranslate">UUID=f72aac23-092f-4484-b35c-f222c106d716   /   <strong class="highlighted">ext4</strong>   relatime   0   1</pre><p>Die UUID ist natürlich systemspezifisch, ändert sich durch die Konvertierung von ext3 nach ext4 aber nicht.</p><p>Nach dem Speichern der Datei kann man die Live-CD entfernen, das normale System starten und die geänderte Partition mit ext4 nutzen.</p></div><div class="section_1"><h2 id="Bestehendes-ext3-Dateisystem-als-ext4-mounten">Bestehendes ext3 Dateisystem als ext4 mounten<a class="headerlink" href="#Bestehendes-ext3-Dateisystem-als-ext4-mounten">¶</a></h2><p>
Wenn man sein ext3 Filesystem beibehalten möchte, aber dennoch einige Features von ext4 nutzen will, wie z.b.
Multiblock-Allocation und Delayed-Allocation, so kann man mit folgender Ersetzungen in der <a class="internal" href="./fstab.html">fstab</a> sein
vorhandes ext3 Filesystem als ext4 mounten lassen <sup><a href="#source-2">[2]</a></sup> .</p><p><strong>Vorher:</strong>
</p><pre class="notranslate">UUID=f72aac23-092f-4484-b35c-f222c106d716   /   <strong class="highlighted">ext3</strong>   relatime   0   1</pre><p><strong>Nachher:</strong>
</p><pre class="notranslate">UUID=f72aac23-092f-4484-b35c-f222c106d716   /   <strong class="highlighted">ext4</strong>   relatime   0   1</pre></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://de.wikipedia.org/wiki/Ext4" rel="nofollow" title="http://de.wikipedia.org/wiki/Ext4">http://de.wikipedia.org/wiki/Ext4</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="http://www.heise.de/open/Das-Linux-Dateisystem-Ext4--/artikel/138431/0" rel="nofollow" title="http://www.heise.de/open/Das-Linux-Dateisystem-Ext4--/artikel/138431/0"><span class="longlink_show">http://www.heise.de/open/Das-Linux-D</span><span class="longlink_collapse">ateisystem-Ext4--/ar</span><span>tikel/138431/0</span></a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="http://kernelnewbies.org/Ext4" rel="nofollow" title="http://kernelnewbies.org/Ext4">http://kernelnewbies.org/Ext4</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.pro-linux.de/berichte/ext4/ext4.html" rel="nofollow" title="http://www.pro-linux.de/berichte/ext4/ext4.html">http://www.pro-linux.de/berichte/ext4/ext4.html</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="external" href="http://ext4.wiki.kernel.org/index.php/Main_Page" rel="nofollow" title="http://ext4.wiki.kernel.org/index.php/Main_Page">http://ext4.wiki.kernel.org/index.php/Main_Page</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://bullopensource.org/ext4/index.html" rel="nofollow" title="http://bullopensource.org/ext4/index.html">http://bullopensource.org/ext4/index.html</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./upgrade_auf_ext4/a/revision/939259.html">Diese Revision</a> wurde am 4. Mai 2017 20:22 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./upgrade_auf_ext4.html">Upgrade auf ext4</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>