<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>XServer/Problembehebung › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../xserver/problembehebung.html">Problembehebung</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/XServer/Problembehebung">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../xserver/problembehebung/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../xserver/problembehebung/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../xserver/problembehebung/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../xserver/problembehebung/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../xserver/problembehebung/a/backlinks.html">Problembehebung</a></h1>
<div id="page"><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../xserver.html">Grundlagen zur Konfiguration des XServers</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../sudo.html">Root-Rechte erlangen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Sicherung-der-aktuellen-Konfiguration">Sicherung der aktuellen Konfiguration
</a></li><li><a class="crosslink" href="#XServer-konfigurieren">XServer konfigurieren
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/Oxygen/X.png" class="image-left" src="../_/7095272cdbd52c92cd99e94e973955c1459fbc1c.png"/>
Es kommt vor, dass bei der Installation von Ubuntu die Grafikkarte oder der Monitor nicht automatisch erkannt und passend konfiguriert werden. In diesem Fall kann z.B. die richtige Auflösung oder Bildwiederholrate nicht eingestellt werden. Um dies zu korrigieren, muss der <a class="internal" href="../xserver.html">XServer</a> neu konfiguriert werden. Dazu gibt es generell zwei Wege:</p><ol class="arabic"><li><p>eine dynamische Konfiguration über das Programm <strong>xrandr</strong></p></li><li><p>eine statische Konfiguration durch Bearbeiten der Datei <strong>/etc/X11/xorg.conf</strong> von Hand</p></li></ol><p>
Beide Möglichkeiten haben ihre Vor- und Nachteile. Daher hängt es vom Einzelfall ab, für welchen Weg man sich entscheiden sollte. Generell gilt, dass man sich für den in diesem Artikel beschriebenen zweiten Weg nur dann entscheiden sollte, wenn</p><ul><li><p><a class="internal" href="../randr.html">RandR</a> bzw. das Programm xrandr nicht weiterhelfen</p></li><li><p>und man eine systemweite Lösung braucht</p></li></ul><p>Zuerst sollte man aber immer ausprobieren, ob nicht eine Lösung mit den prinzipiell in allen Desktop-Umgebungen verfügbaren <a class="internal" href="../xserver_grafisch_einrichten.html">grafischen Werkzeugen</a> möglich ist.</p><div class="section_1"><h2 id="Sicherung-der-aktuellen-Konfiguration">Sicherung der aktuellen Konfiguration<a class="headerlink" href="#Sicherung-der-aktuellen-Konfiguration">¶</a></h2><p>
Prinzipiell sollte man vor dem Ändern von Konfigurationen immer eine Sicherheitskopie der entsprechenden Dateien machen. Wenn man die Situation verschlimmbessert hat, kopiert man die Sicherungskopie zurück und hat wieder einen funktionierenden XServer. Im Terminal <sup><a href="#source-1">[1]</a></sup> kann man eine Sicherheitskopie mit dem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /etc/X11/xorg.conf /etc/X11/xorg.conf.bak </pre></div></div><p>
erzeugen. Die <strong>/etc/X11/xorg.conf.bak</strong> ist also eine garantiert funktionierende Datei, die man bei Bedarf mittels</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /etc/X11/xorg.conf.bak /etc/X11/xorg.conf </pre></div></div><p>
wieder zurückkopieren kann.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Der XServer funktioniert heutzutage auch ohne eine xorg.conf. Daher kann es sinnvoll sein, eine eigene Konfiguration mit dem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mv /etc/X11/xorg.conf /etc/X11/xorg.conf.bak </pre></div></div><p>
zu verschieben und damit aus dem Weg zu räumen, damit sich der XServer wieder automatisch einstellen kann.
</p></div></div></div><div class="section_1"><h2 id="XServer-konfigurieren">XServer konfigurieren<a class="headerlink" href="#XServer-konfigurieren">¶</a></h2><p>
Als zwingend nötiges Vorwissen sei an dieser Stelle auf die Grundlagen <sup><a href="#source-2">[2]</a></sup> und <a class="internal" href="../xorg.conf.d.html">xorg.conf.d</a> (für Eingabegeräte!) verwiesen. Dort findet man auch ein Beispiel bzw. Grundgerüst, dass als Vorlage für eigene Erweiterungen dienen kann.</p><p>Zum Bearbeiten der Datei <strong>/etc/X11/xorg.conf</strong> kann ein beliebiger Editor <sup><a href="#source-3">[3]</a></sup> verwendet werden, der allerdings immer mit Root-Rechten <sup><a href="#source-4">[4]</a></sup> gestartet werden muss.</p><p>Hat man die Konfiguration abgeschlossen, muss der XServer <a class="internal" href="../xserver.html#XServer-neu-starten">neu gestartet</a> werden. Gibt es beim Start Probleme, so kann man unter <strong>/var/log/Xorg.0.log</strong> das automatisch erstellte <a class="internal" href="../logdateien.html">Protokoll</a> einsehen.</p><div class="section_2"><h3 id="Zwei-Monitore">Zwei Monitore<a class="headerlink" href="#Zwei-Monitore">¶</a></h3><p>
Im Abschnitt <code class="notranslate">Section "Device"</code> werden die Bezeichnungen (<code class="notranslate">Identifier</code>) der angeschlossenen Monitore eingetragen. Dabei muss jeder Monitor einem Anschluss der Grafikkarte zugewiesen werden. Die Namen dieser Anschlüsse können mit dem Befehl <code class="notranslate">xrandr</code> ermittelt werden.</p><p>Hier ein Beispiel für ein Notebook, an das ein externer Monitor angeschlossen ist. <code class="notranslate">LVDS</code> ist der interne Anschluss, <code class="notranslate">VGA</code> der analoge Anschluss für einen externen Monitor, der über einen <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/D-Sub">DSUB</a>-Stecker angeschlossen ist. Die Identifier <code class="notranslate">Internes Display</code> und <code class="notranslate">Externer Monitor</code> können frei gewählt werden und beziehen sich auf die <code class="notranslate">Monitor</code>-Sections, die so aussehen kann:</p><pre class="notranslate">  Section "Device"
    Identifier "Meine Grafikkarte"
    ...
    Option "Monitor-LVDS" "Internes Display"
    Option "Monitor-VGA" "Externer Monitor"
  EndSection

  Section "Monitor"
    Identifier "Internes Display"
  EndSection
  Section "Monitor"
    Identifier "Externer Monitor"
    Option "RightOf" "Internes Display"
  EndSection

  Section "Screen"
    Identifier      "Default Screen"
    Monitor         "Internes Display"
    ...
    SubSection "Display"
        Virtual    3200 1200
    EndSubSection
  EndSection</pre><p>In den <code class="notranslate">Monitor</code>-Sections lassen sich weitere Konfigurationen für die Monitore vornehmen. Einer der beiden Monitore (in diesem Fall der externe) wird so konfiguriert, dass er den Desktop erweitert (<code class="notranslate">RightOf</code>).</p><div class="section_3"><h4 id="Virtuelle-Aufloesung">Virtuelle Auflösung<a class="headerlink" href="#Virtuelle-Aufloesung">¶</a></h4><p>
Da ein erweiterter Desktop wie ein einziger großer (virtueller) Bildschirm behandelt wird, wird zusätzlich die "gemeinsame" Auflösung über <code class="notranslate">Virtual x y</code> angegeben. Diese <a class="external" href="http://www.thinkwiki.org/wiki/Xorg_RandR_1.2#the_Virtual_screen" rel="nofollow">Grafik</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> erläutert diesen Zusammenhang. Beispiele:</p><ul><li><p><code class="notranslate">Virtual 2560 1024</code>: zwei Monitore mit der Auflösung 1280x1024 nebeneinander (1280+1280x1024)</p></li><li><p><code class="notranslate">Virtual 1280 2048</code>: zwei Monitore mit der Auflösung 1280x1024 übereinander (1280x1024+1024)</p></li></ul><p>
In der Praxis darf man auch höhere (als die errechneten) Werte verwenden - falls die Grafikkarte deswegen aussteigt, erfolgt eine entsprechende Rückmeldung.</p></div></div><div class="section_2"><h3 id="Zwei-Grafikkarten-zwei-Monitore">Zwei Grafikkarten, zwei Monitore<a class="headerlink" href="#Zwei-Grafikkarten-zwei-Monitore">¶</a></h3><p>
Diese Kombination kann sehr schwierig zu konfigurieren sein (Stichworte: Xinerama, MultiSeat). Einfacher ist es, eine Grafikkarte mit mehreren Monitor-Ausgängen zu verwenden.</p></div><div class="section_2"><h3 id="Keine-EDID-Informationen">Keine EDID-Informationen<a class="headerlink" href="#Keine-EDID-Informationen">¶</a></h3><p>
Stellt ein Bildschirm keine oder falsche <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Extended_Display_Identification_Data">EDID</a>-Informationen zur Verfügung, muss jeder Automatismus zur Erkennung und automatischen Konfiguration des Monitors scheitern. Dies wird in der Protokolldatei <strong>/var/log/kern.log</strong> wie folgt vermerkt:</p><pre class="notranslate">[    0.298125] BIOS EDD facility v0.16 2004-Jun-25, 0 devices found
[    0.298127] EDD information not available.</pre><p>Es gibt zwei Varianten, um die erforderlichen Bildschirmparameter anzugeben:
</p><ul><li><p><a class="internal" href="../randr.html#Aufloesung">RandR</a> (im laufenden Betrieb bzw. dynamisch)</p></li><li><p><a class="internal" href="../bildschirmauflösung.html#Bildwiederholraten-setzen">Bildschirmauflösung</a> (statisch)</p></li></ul><p>
</p><div class="section_3"><h4 id="Beispiel">Beispiel<a class="headerlink" href="#Beispiel">¶</a></h4><p>
<img alt="./edid_fehler.jpg" class="image-right" src="../_/c5937077e84b9d4a67ab3a39e79c6621a2d5c6d3.jpg"/></p><p>Die Schrift (im Anmeldebildschirm) ist viel zu groß/klein, obwohl die Einstellungen unter <em>"Einstellungen -&gt; Erscheinungsbild -&gt; Schriftarten"</em> in Ordnung sind. Weiterhin liefert der Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">xdpyinfo | grep resolution </pre></div></div><p>völlig absurde Werte. Anschließend öffnet man sie mit Root-Rechten zum Bearbeiten und sucht die Sektion <code class="notranslate">Device</code> der Grafikkarte heraus. Hier fügt man die Option <code class="notranslate">"UseEdidFreqs" "no"</code> (früher wurde auch <code class="notranslate">"NoDDC" "1"</code> verwendet) ein, so dass es am Ende so aussieht:</p><pre class="notranslate">Section "Device"
        ...
        Option         "UseEdidFreqs" "no"
EndSection</pre><p>Um die Änderungen zu testen, muss man den X-Server neu starten. Da mit der Option verhindert wird, dass die Grafikkarte Informationen über den angeschlossenen Monitor automatisch ermittelt, muss man die Auflösung und andere Parameter des Bildschirms von Hand einstellen (siehe oben).</p></div></div><div class="section_2"><h3 id="Framebuffer-zu-klein">Framebuffer zu klein<a class="headerlink" href="#Framebuffer-zu-klein">¶</a></h3><p>
Falls man einen zweiten Monitor im laufenden Betrieb anschließt, kann es passieren, dass <a class="internal" href="../randr.html">xrandr</a> nicht die richtige Auflösung erkennen kann. Das liegt daran, dass der <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Framebuffer">Framebuffer</a>, der beim Start von X initialisiert wird, nur die Größe hat, die alle in diesem Moment angeschlossenen Monitore benötigen.</p><p>Hat man z.B. beim Rechnerstart nur einen Monitor mit einer Auflösung von 1024x768 angeschlossen und schließt einen zweiten Monitor mit einer Auflösung von 1280x1024 an, kann xrandr nur maximal eine Auflösung von 1024x768 einstellen (für beide Monitore!). Wenn man weiß, was für eine Auflösung man maximal benötigt, kann man diese manuell eintragen. Um eine maximale Auflösung von 2304x1024 (1024+1280x1024) anzeigen zu können, muss der Eintrag <code class="notranslate">Virtual</code> ergänzt werden. Beispiel:</p><pre class="notranslate">Section "Screen"
	(...)
	SubSection "Display"
		(...)
		Virtual 2304 2048
	EndSubSection
EndSection</pre><p>Wenn vom System keine <strong>xorg.conf</strong> angelegt wurde (weil sie nicht mehr zwingend notwendig ist), dann kann man sie mit folgender Grundkonfiguration anlegen:</p><pre class="notranslate">Section "Device"
    Identifier  "Configured Video Device"
EndSection

Section "Monitor"
    Identifier  "Configured Monitor"
EndSection

Section "Screen"
    Identifier  "Default Screen"
    Monitor     "Configured Monitor"
    Device      "Configured Video Device"
    SubSection "Display"
        Virtual <strong class="highlighted">X Y</strong>
    EndSubSection
EndSection</pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Bei bestimmten virtuellen Auflösungen läuft <a class="internal" href="../compiz.html">Compiz</a> nicht mehr richtig und sollte dann deaktiviert werden.
</p></div></div></div><div class="section_2"><h3 id="Rotation-funktioniert-nicht">Rotation funktioniert nicht<a class="headerlink" href="#Rotation-funktioniert-nicht">¶</a></h3><p>
Um den Bildschirm mittels <a class="internal" href="../randr.html">xrandr</a> bei NVidia-Karten mit dem proprietären Treiber <code class="notranslate">nvidia</code> rotieren zu können, muss die Option <em>"RandRRotation"</em> aktiviert werden:</p><pre class="notranslate">Section "Device"
   (...)
   Driver         "nvidia"
   Option         "RandRRotation"  "True"
   (...)
EndSection</pre><p>
Nach einem Neustart des XServers oder des Rechners kann man nun den Bildschirm mittels</p><div class="bash"><div class="contents"><pre class="notranslate">xrandr -o Orientierung </pre></div></div><p>
rotieren.</p></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="xorg-conf">xorg.conf<a class="headerlink" href="#xorg-conf">¶</a></h3><p>
Probleme im Zusammenhang mit <a class="internal" href="../randr.html">Randr</a> kann unter Umständen eine bereits bestehende <strong>/etc/X11/xorg.conf</strong> bereiten. Einstellungen, die RandR selbst ermitteln kann, sollten nicht (mehr) eingetragen werden. Beispiele:</p><ul><li><p>doppelte Einträge für "Device" und "Screen" </p></li><li><p>Auflösungen (Modes) in der "Display"-Subsection </p></li><li><p>HorizSync- und VertRefresh-Einstellungen </p></li><li><p>"MonitorLayout"-Sections </p></li></ul></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://en.gentoo-wiki.com/wiki/X.Org/Dual_Monitors" rel="nofollow">Dual Monitors</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Gentoo Wiki</p></li><li><p><a class="internal" href="../xserver.html">XServer</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../xserver/problembehebung/a/revision/932958.html">Diese Revision</a> wurde am 30. Januar 2017 21:51 von <a href="https://ubuntuusers.de/user/noisefloor/">noisefloor</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../xserver.html">XServer</a></li>
<li><a href="../xserver/problembehebung.html">Problembehebung</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>