<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>systemd/Service_Units › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../systemd/service_units.html">Service Units</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/systemd/Service_Units">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../systemd/service_units/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../systemd/service_units/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../systemd/service_units/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../systemd/service_units/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../systemd/service_units/a/backlinks.html">Service Units</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../sudo.html">Root-Rechte</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../systemd/units.html">Systemd_Units</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Einleitung">Einleitung
</a><ol class="arabic"><li style="list-style: none"><ol class="arabic"><li><a class="crosslink" href="#Optionen-fuer-die-Service-Sektion">Optionen für die [Service]-Sektion
</a></li><li><a class="crosslink" href="#Service-Typen">Service Typen
</a></li></ol></li><li><a class="crosslink" href="#Selbst-angelegte-Service-Units-aktivieren">Selbst angelegte Service Units aktiviere...</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a><ol class="arabic"><li><a class="crosslink" href="#intern">intern
</a></li><li><a class="crosslink" href="#extern">extern
</a></li></ol></li></ol></div><div class="section_1"><h2 id="Einleitung">Einleitung<a class="headerlink" href="#Einleitung">¶</a></h2><p>
Dieser Artikel befasst sich mit Systemd Service Units. Diese dienen dazu, <a class="internal" href="../dienste.html">Dienste</a> zu starten und zu stoppen - und entsprechen damit den Init-Skripten von <a class="internal" href="../sysvinit.html">SysVinit</a> bzw. <a class="internal" href="../upstart.html">Upstart</a>. Zur Steuerung dient der systemd-eigene Befehl <a class="internal" href="../systemd/systemctl.html">systemd/systemctl</a>.</p><p>Wer eigene Service Units anlegen (oder bestehende Service Units editieren) möchte, sollte sich zunächst mit dem allgemeinen Aufbau der <a class="internal" href="../systemd/units.html">systemd/Units</a> vertraut machen.</p><p>Eine minimale allgemeine Service-Unit sieht wie folgt aus:</p><pre class="notranslate">[Unit]
# Abschnitt wird im Artikel systemd/Units beschrieben

[Service]
Type=simple
ExecStart=/PFAD/ZUM/BEFEHL/befehl

[Install]
# Abschnitt wird im Artikel systemd/Units beschrieben</pre><p>Der Schlüssel <code class="notranslate">ExecStart</code> enthält den Befehl zum Starten des Dienstes. Wichtig ist, dass immer der volle Pfad zum Befehl angegeben wird. In diesem Abschnitt kann z.B. auch eingetragen werden, welche Befehle vor oder nach dem Start des eigentlichen Services ausgeführt werden sollen, unter welchem Benutzer und welcher Gruppe der Dienst läuft (Standard: root). Außerdem wird hier festgelegt, welchen Typ der Service haben soll. Das <code class="notranslate">Type=simple</code> im obigen Beispiel müsste nicht explizit angegeben werden, da dies der Vorgabewert ist.</p><div class="section_2"><div class="section_3"><h4 id="Optionen-fuer-die-Service-Sektion">Optionen für die [Service]-Sektion<a class="headerlink" href="#Optionen-fuer-die-Service-Sektion">¶</a></h4><p>
Es können unter anderem folgende Schlüssel eingefügt werden:</p><p>
</p><table><tr class="kopf"><td>Schlüssel </td><td> Erklärung </td></tr><tr><td> <code class="notranslate">ExecStart</code> </td><td> der Befehl, der beim Start der Unit ausgeführt wird </td></tr><tr><td> <code class="notranslate">ExecStartPre</code> </td><td> der Befehl, der vor dem Start der Unit (also vor der Ausführung von <code class="notranslate">ExecStart</code>) ausgeführt werden soll </td></tr><tr><td> <code class="notranslate">ExecStartPost</code> </td><td> der Befehl, der nach dem Start der Unit (also nach der Ausführung von <code class="notranslate">ExecStart</code>) ausgeführt werden soll </td></tr><tr><td> <code class="notranslate">WorkingDirectory</code> </td><td> legt das Arbeitsverzeichnis fest, in dem die Prozesse ausgeführt werden. Das Verzeichnis muss als absoluter Pfad angegeben werden oder als <code class="notranslate">~</code>. Bei letzterem wird das Homeverzeichnis des im Schlüssel <code class="notranslate">User</code> angegebenen Nutzers gewählt. </td></tr><tr><td> <code class="notranslate">User</code> </td><td> legt fest, unter welchem Benutzer der Service laufen soll (Standard: root) </td></tr><tr><td> <code class="notranslate">Group</code> </td><td> legt fest, unter welcher Gruppe der Service laufen soll </td></tr></table><p>Die Schlüssel <code class="notranslate">ExecStarPre</code> und <code class="notranslate">ExecStartPost</code> dürfen auch mehrmals mit verschiedenen Befehlen vorkommen. Wichtig ist, dass bei den Werten für die <code class="notranslate">Exec*</code> Schlüssel immer der vollständige Pfad zum Programm/Skript mit angegeben wird, also z.B. <code class="notranslate">ExecStart=/user/local/bin/mein_programm</code></p><p>Wie bei allen Units ist zu beachten, dass die Schlüssel immer mit Großbuchstaben beginnen und in <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Binnenmajuskel">CamelCase</a>-Schreibweise geschrieben werden: <code class="notranslate">ExecStart=...</code></p></div><div class="section_3"><h4 id="Service-Typen">Service Typen<a class="headerlink" href="#Service-Typen">¶</a></h4><p>
Wie oben erwähnt gibt es verschiedene Typen für einen Service. <code class="notranslate">simple</code> ist der Standardwert und die richtige Wahl für Dienste, welche permanent laufen, aber nicht "forken".</p><p>"Forkt" ein Service, d.h. erzeugt ein Dienst weiter Prozesse (wie es z.B. einige Webserver tun), dann muss der Service-Typ auf <code class="notranslate">forking</code> gesetzt werden.</p><p>Soll ein Service nur einmal laufen (z.B. ein "Aufräumskript", welche eine bestimmte Aufgabe erfüllt und dann beendet ist), dann wählt man als Service-Typ <code class="notranslate">oneshot</code>.</p><p>Eine vollständige Übersicht auch weiterer Typen inklusive Erklärungen ist in der <a class="external" href="http://www.freedesktop.org/software/systemd/man/systemd.service.html#Type=" rel="nofollow">systemd Dokumentation</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> zu finden.</p><p>systemd kennt noch eine Vielzahl weiterer Schlüssel für diesen Abschnitt. Eine ausführliche Auflistung und Erklärung ist in der <a class="external" href="http://www.freedesktop.org/software/systemd/man/systemd.service.html#Options" rel="nofollow">Dokumentation für Service</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> als auch in der Dokumentation <a class="external" href="http://www.freedesktop.org/software/systemd/man/systemd.exec.html" rel="nofollow">systemd.exec</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> zu finden.</p></div></div><div class="section_2"><h3 id="Selbst-angelegte-Service-Units-aktivieren">Selbst angelegte Service Units aktivieren<a class="headerlink" href="#Selbst-angelegte-Service-Units-aktivieren">¶</a></h3><p>
Hat man eine eigene Service Unit angelegt, muss man diese noch aktivieren. Dies geschieht über den Befehl <a class="internal" href="../systemd/systemctl.html">systemctl</a> mit Root-Rechten<sup><a href="#source-1">[1]</a></sup><sup><a href="#source-2">[2]</a></sup>. Die Angabe der Dateiendung <code class="notranslate">.services</code> ist optional und kann weg gelassen werden.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo systemctl enable NAME_DER_UNIT_DATEI </pre></div></div><p>Zum Deaktivieren dient der Befehl:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo systemctl disable NAME_DER_UNIT_DATEI </pre></div></div><p>Um zu prüfen, ob eine Service Unit aktiv ist, führt man folgenden Befehl aus:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo systemctl is-enabled NAME_DER_UNIT_DATEI </pre></div></div><div class="bash"><div class="contents"><pre class="notranslate">sudo systemctl edit SERVICEUNIT </pre></div></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><div class="section_2"><h3 id="intern">intern<a class="headerlink" href="#intern">¶</a></h3><p>
</p><ul><li><p><a class="internal" href="../systemd.html">systemd</a> - Einführung in systemd</p></li><li><p><a class="internal" href="../systemd/units.html">systemd/Units</a> - Einführung in systemd_Units</p></li><li><p><a class="internal" href="../systemd/systemctl.html">systemd/systemctl</a> - Steuern von Units</p></li><li><p><a class="internal" href="../howto/systemd_service_unit_beispiel.html">Howto/systemd Service Unit Beispiel</a> - Howto, in dem eine funktionierende Service-Datei für einen einfachen Server erstellt und erklärt wird</p></li><li><p><a class="internal" href="../systemd/systemd-analyze.html">systemd-analyze</a> - den Startvorgang des Systems und der Units analysieren und ggf. optimieren</p></li></ul><p>
</p></div><div class="section_2"><h3 id="extern">extern<a class="headerlink" href="#extern">¶</a></h3><p>
</p><ul><li><p><a class="external" href="https://wiki.archlinux.de/title/Systemd/Eigener_Service" rel="nofollow">Systemd/Eigener_Service</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> Artikel im ArchLinux-Wiki zu systemd Services</p></li><li><p><a class="external" href="http://www.freedesktop.org/software/systemd/man/systemd.service.html" rel="nofollow">Dokumentation</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> zu systemd Services</p></li><li><p><a class="external" href="http://www.freedesktop.org/wiki/Software/systemd/" rel="nofollow">systemd Wiki</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Dokumentation</p></li><li><p><a class="interwiki interwiki-askubuntu" href="http://askubuntu.com/questions/659267/how-do-i-override-or-configure-systemd-services">How do I override or configure systemd services?</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="../systemd/service_units/a/revision/945398.html">Diese Revision</a> wurde am 11. Dezember 2017 19:32 von <a href="https://ubuntuusers.de/user/BillMaier/">BillMaier</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../systemd.html">systemd</a></li>
<li><a href="../systemd/service_units.html">Service Units</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>