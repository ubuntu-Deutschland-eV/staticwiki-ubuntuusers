<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>EFI_Grundlagen › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./efi_grundlagen.html">EFI Grundlagen</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/EFI_Grundlagen">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./efi_grundlagen/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./efi_grundlagen/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./efi_grundlagen/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./efi_grundlagen/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./efi_grundlagen/a/backlinks.html">EFI Grundlagen</a></h1>
<div id="page"><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Installation von Ubuntu im EFI-Modus erfordert ein <strong>64Bit</strong> System, sowohl hardwareseitig als auch von der Software her! Beim Herunterladen der ISO-Datei ist zu beachten, dass die Kennung <strong>*-amd64.iso</strong> lautet:
</p></div></div><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Hinweise-und-Erlaeuterungen">Hinweise und Erläuterungen
</a><ol class="arabic"><li><a class="crosslink" href="#UEFI">UEFI
</a></li><li><a class="crosslink" href="#Partitionstabelle">Partitionstabelle
</a></li><li><a class="crosslink" href="#Vorgaben-seitens-Windows">Vorgaben seitens Windows
</a></li><li><a class="crosslink" href="#Das-Setup-aufrufen">Das Setup aufrufen
</a></li><li><a class="crosslink" href="#Secure-Boot">Secure Boot
</a></li><li><a class="crosslink" href="#Compatibility-Support-Module">Compatibility Support Module
</a></li></ol></li><li><a class="crosslink" href="#Installations-Medien">Installations-Medien
</a><ol class="arabic"><li><a class="crosslink" href="#ISO-auf-USB-Stick">ISO auf USB-Stick
</a></li><li><a class="crosslink" href="#Starten-der-Installations-Medien">Starten der Installations-Medien
</a></li></ol></li><li><a class="crosslink" href="#Das-EFI-Menue">Das EFI-Menü
</a></li><li><a class="crosslink" href="#EFI-Bootverzeichnis">EFI-Bootverzeichnis
</a><ol class="arabic"><li><a class="crosslink" href="#Datei-ohne-secure-boot">Datei ohne secure-boot
</a></li><li><a class="crosslink" href="#Dateien-mit-secure-boot">Dateien mit secure-boot
</a></li><li><a class="crosslink" href="#Systemsicherung-unter-Windows">Systemsicherung unter Windows
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a><ol class="arabic"><li><a class="crosslink" href="#Intern">Intern
</a></li><li><a class="crosslink" href="#Extern">Extern
</a></li></ol></li></ol></div><p>Seit mehreren Jahren kommen zunehmend Computer-Systeme auf den Markt, die mit einem <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Unified%20Extensible%20Firmware%20Interface">(U)EFI</a> in der Mainboards-Firmware ausgestattet sind statt der lange Zeit genutzten <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/BIOS">BIOS</a>-Firmware.</p><p>Dieser Artikel beschreibt die Grundlagen, die für das Installieren und Betreiben eines Rechners mit einem (U)EFI wichtig sind - angepasst an Ubuntu und deren Derivate. Hinweise auf das meistens bereits vorhandene Betriebssystem Windows werden, soweit dieses zum Verständnis notwendig ist, gleichfalls angesprochen.</p><div class="section_1"><h2 id="Hinweise-und-Erlaeuterungen">Hinweise und Erläuterungen<a class="headerlink" href="#Hinweise-und-Erlaeuterungen">¶</a></h2><p>
</p><div class="section_2"><h3 id="UEFI">UEFI<a class="headerlink" href="#UEFI">¶</a></h3><p>
Die Informationen zur Historie, Aufbau und Wirkungsweise sind dem externen Artikel <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Extensible_Firmware_Interface">(U)EFI</a> (Unified Extensible Firmware Interface) zu entnehmen.</p><p>In diesem Artikel werden die dazu passenden Informationen aufbereitet, die die Verbindung in das Betriebssystem Ubuntu <img alt="{*}" src="./_/37868c2b60e9556f3ed2fca9185705260fd214a9.png"/> herstellen und verständlich machen sollen.</p><p>(U)EFI macht es insbesondere möglich, mehrere Betriebssyteme total unabhängig voneinander zu installieren und zu betreiben. Das bisher übliche "entweder" / "oder", wer auf dem Computer-System "das Sagen" hat (Bootloader) und wer im Notfall wen und wie beeinflusst, entfällt dabei. Auch ein nachträgliches <a class="internal" href="./ubuntu_entfernen.html">Deinstallieren</a> von Ubuntu oder auch Windows ist damit problemlos möglich.</p><p>Eine Gemeinsamkeit besteht allerdings noch - die <a class="crosslink" href="#EFI-Bootverzeichnis">EFI-Partition</a> mit ihren Bootverzeichnissen - aber da kann man sich sicher schon einig werden.</p></div><div class="section_2"><h3 id="Partitionstabelle">Partitionstabelle<a class="headerlink" href="#Partitionstabelle">¶</a></h3><p>
Ein wesentliches Kriterium für die Installation auf einem (U)EFI-Mainboard ist die Formatierung der beteiligten Datenträger (Festplatten, <a class="internal" href="./ssd.html">SSD</a>) und der vorhandene Speicherplatz auf diesen Datenträgern.</p><p>Die bisher überwiegend verwendete Technik der Formatierung:
</p><ul><li><p>Master-Partitionstabelle (MPT) - auch "msdos-Format" bezeichnet</p><ul><li><p>erweiterte Information -&gt; <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Partitionstabelle">Partitionstabelle</a></p></li></ul></li></ul><p>
wurde aus mehreren Gründen ersetzt durch eine Formatierung mit einer</p><ul><li><p>GUID-Partitionstabelle (GPT)</p><ul><li><p>erweiterte Information -&gt; <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/GUID_Partition_Table">GUID-Partitions-Tabelle</a></p></li></ul></li></ul><p>
Weitergehende Informationen zur Verwendung unter Ubuntu sind auch den <a class="internal" href="./grub_2/grundlagen.html#Systemstart">GRUB_2 Grundlagen</a> zu entnehmen.</p></div><div class="section_2"><h3 id="Vorgaben-seitens-Windows">Vorgaben seitens Windows<a class="headerlink" href="#Vorgaben-seitens-Windows">¶</a></h3><p>
Hat man auf dem UEFI-Rechner bereits eine Windows-Installation, so stellt sich das in der Regel wie folgt dar (links im Terminal, rechts mit GParted):
</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="EFI_win-inst.png" class="image-default" src="./_/0bd23b619c66fa9592c98582e3aa38ee88e24f85.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 350px"> Windows-Installation im EFI-Modus</td></tr></table><div class="bash"><div class="contents"><pre class="notranslate">sudo parted -l </pre></div></div><pre class="notranslate">Modell: ATA SAMSUNG SSD 830 (scsi)
Festplatte  /dev/sda:  128GB
Sektorgröße (logisch/physisch): 512B/512B
Partitionstabelle: gpt

Nummer  Anfang  Ende    Größe   Dateisystem  Name                          Flags
 1      1049kB  316MB   315MB   ntfs         Wiederherstellung             versteckt, diag
 2      316MB   420MB   105MB   fat32        EFI system partition          boot, versteckt
 3      420MB   555MB   134MB                Microsoft reserved partition  msftres
 4      555MB   84,5GB  84,0GB  ntfs         Basic data partition</pre><p>Die hier mit lfd. #3 ausgewiesene Partition erscheint als nicht formatiert - aber diese Partition entspricht der Partition 
</p><ul><li><p><strong>system-reserviert</strong> </p></li></ul><p>bei der Installation im BIOS-Modus. Diese Partition darf nicht gelöscht oder anderweitig benutzt werden - Windows verwendet diesen Bereich im EFI-Modus für interne Zwecke.</p></div><div class="section_2"><h3 id="Das-Setup-aufrufen">Das Setup aufrufen<a class="headerlink" href="#Das-Setup-aufrufen">¶</a></h3><p>
Um sich mit den Möglichkeiten der Firmware und dem Setup vertraut zu machen, muss man erst einmal dort hinein kommen. Und hier machen es einem die Hersteller durch unterschiedlichste Maßnahmen nicht immer leicht. Ein Weg ist das beigelegte Handbuch, was heute allerdings auch schon Seltenheitswert hat - oder eine PDF-Datei, auch die braucht ja erst einmal ein lauffähiges Computer-System. In diesen Dokumenten muss man sich dann durcharbeiten und die richtige(n) Taste(n) herausfinden.</p><p>Aber es geht auch anders - entsprechende Hinweise werden im Artikel <a class="internal" href="./efi_problembehebung.html#Komme-nicht-ins-EFI-BIOS">EFI Problembehebung</a> gegeben.</p></div><div class="section_2"><h3 id="Secure-Boot">Secure Boot<a class="headerlink" href="#Secure-Boot">¶</a></h3><p>
Secure Boot ist eine (U)EFI-Funktion ab Version 2.3.1 und nun schon auf vielen Mainboards anzutreffen.</p><p>Secure Boot soll per Definition den Start von Schadsoftware verhindern, blockiert aber auch das Booten vieler USB-Sticks oder optischer Medien und somit auch die Installation anderer Betriebssysteme. Microsoft schreibt zwar vor, dass man die Option <strong>secure-boot</strong> auf normalen x86-PCs und -Notebooks abschalten kann, aber dazu ist  je nach Hersteller - sowohl Hardware als auch Firmware - ein Ausflug ins BIOS - beziehungsweise UEFI-Setup unabdingbar.</p><p>Die diversen Einstellungen befinden sich je nach Hersteller an verschieden Stellen im Setup - siehe folgende Beispiele, sinngemäß ist bei der Suche im Setup / in der Firmware der Hersteller vorzugehen..</p><div class="section_3"><h4 id="Beispiel-AMI-BIOS">Beispiel AMI-BIOS<a class="headerlink" href="#Beispiel-AMI-BIOS">¶</a></h4><p>
Hier ein Beispiel aus einem American Megatrends Inc. (AMI) "Aptio" Setup, wie dort die Einstellungen zu finden sind und worauf es ankommt.</p><p>
</p><table style="width: 97%"><tr class="titel"><td colspan="2"> Beispiel American Megatrends Inc. (AMI) "Aptio" Setup </td></tr><tr class="kopf"><td rowspan="2" style="text-align: center"> Hauptmenü "Auswahl Secure Boot" </td><td style="text-align: center">Einstellung "Secure Boot Control"  </td></tr><tr class="kopf"><td style="text-align: center"> Einstellung "Secure Boot Mode" </td></tr><tr><td> <img alt="SECURITY_01.JPG" class="image-center" src="./_/27fc83885bcaea73a1979a94a4919b436fba36f2.png"/> </td><td> <img alt="SECURITY_02.JPG" class="image-center" src="./_/b053bf2e59c5cc243aea5e4c53dda277119ebaff.png"/> </td></tr><tr><td rowspan="2" style="text-align: left"> Hier wird die Vorauswahl getroffen, um die Einstellungen für "Secure Boot" im Submenü (Bild rechts) aufzurufen  </td><td style="text-align: left"> In dem oberen gekennzeichneten Menüpunkt kann man das "Secure Boot" aktivieren </td></tr><tr><td style="text-align: left"> In dem unteren gekennzeichneten Submenü wird der Modus von "Secure Boot" und dabei die Nutzung der Signaturen eingestellt. </td></tr><tr><td colspan="2" style="text-align: center"> zur vollen Darstellung <img alt="rechte Maustaste" class="image-default" src="./_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/> </td></tr></table><p>Es sind einstellbar bei
</p><ul><li><p><em>"Secure Boot Control"</em> </p><ul><li><p><em>"Disabled"</em></p></li><li><p><em>"Enabled"</em></p></li></ul></li><li><p><em>"Secure Boot Mode"</em></p><ul><li><p>Die Option <em>"Standard"</em> stellt in der Regel nur den vom Microsoft dem Boardhersteller zur Verfügung gestellte Signatur bereit.</p></li><li><p>Die Option <em>"Custom"</em> lässt bei der AMI-EFI-Firmware die Benutzung von nicht in der Firmware hinterlegten Signaturen zu.</p></li></ul></li></ul><p>
Alle Signaturen müssen den Bestimmungen der "Microsoft UEFI Certificate Authority (CA)" entsprechen.</p></div><div class="section_3"><h4 id="Beispiel-PHOENIX-BIOS">Beispiel PHOENIX-BIOS<a class="headerlink" href="#Beispiel-PHOENIX-BIOS">¶</a></h4><p>
Hier ein Beispiel aus einem PHOENIX-BIOS Setup, wie dort die Einstellungen zu finden sind und worauf es ankommt.</p><p>
</p><table style="width: 97%"><tr class="titel"><td colspan="2"> Beispiel "Phoenix SecureCore Tiano" Setup </td></tr><tr class="kopf"><td colspan="2" style="text-align: center"> Einstellung "Secure Boot / OS Mode" </td></tr><tr><td rowspan="3"> <img alt="PHOENIX-BIOS.JPG" class="image-center" src="./_/cfae36620d1cc76adcab7bf767c094e0649a6b82.png"/> </td><td style="text-align: left"> <strong>Schritt 1</strong> Im Menüpunkt <strong>Boot</strong> findet man die Einstellungen für "Secure Boot".  </td></tr><tr><td style="text-align: left"> <strong>Schritt 2</strong> Ist diese Einstellung auf <strong>[Enabled]</strong> gesetzt, ist UEFI immer als Vorgabe gesetzt. Es werden die Einstellungen für die Auswahl der Betriebsmodi nicht angezeigt. </td></tr><tr><td style="text-align: left"> <strong>Schritt 3</strong> Hat man im Schritt 2 das <em>"Secure Boot"</em> auf <strong>[Disabled]</strong> gesetzt, kann man mit dieser Auswahl die Betriebsmodi zur Auswahl aufrufen.  </td></tr><tr><td colspan="2" style="text-align: center"> zur vollen Darstellung <img alt="rechte Maustaste" class="image-default" src="./_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/> </td></tr></table></div><div class="section_3"><h4 id="Abfrage-unter-Windows">Abfrage unter Windows<a class="headerlink" href="#Abfrage-unter-Windows">¶</a></h4><p>
Ob das <strong>secure-boot</strong> aktiviert ist oder nicht, kann man auch im Windows abfragen. Der Schlüssel in der
</p><ul><li><p><em>"Registry"</em> --&gt; <em>"HKLM\System\CurrentControlSet\Control\SecureBoot\State"</em></p><ul><li><p>Wert 1: Aktiviert</p></li><li><p>Wert 0: Abgeschaltet</p></li></ul></li></ul><p>informiert über den momentanen Zustand.</p></div></div><div class="section_2"><h3 id="Compatibility-Support-Module">Compatibility Support Module<a class="headerlink" href="#Compatibility-Support-Module">¶</a></h3><p>
</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="CSM_SUB_MENU.JPG" class="image-default" src="./_/27a8113d6bf8d04830d8bd3f0db417ccd5a771a1.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 350px"> Beispiel "Compatibility Support Module" American Megatrends Inc. (AMI) "Aptio" Setup - zur vollen Darstellung <img alt="rechte Maustaste" class="image-default" src="./_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/></td></tr></table><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wenn <a class="crosslink" href="#Secure-Boot">Secure Boot</a> aktivert wurde, ist der Modus "Compatibility Support Module" kurz <strong>CSM</strong> (frei übersetzt = BIOS-Kompatibilitäts-Modus) in der Regel nicht verfügbar.
</p></div></div><p>Dieser Modus wurde integriert, da nicht alle Betriebssysteme mit EFI umgegehen können. Insbesondere</p><ul><li><p>ältere MS-Betriebssysteme sind von dieser Limitierung betroffen</p></li><li><p>die meisten 32Bit Betriebssysteme </p></li></ul><p>
erfordern einen BIOS-Kompatibiliäts-Modus, der die Emulation eines herkömmlichen BIOS erlaubt. Damit können dann auch mit EFI nicht kompatible Betriebssysteme auf einem solchen Rechner installiert werden.</p><p>Man kann den CSM-Modus - wenn gewünscht oder aus anderen Gründen erforderlich - natürlich auch für solche Betriebssysteme nutzen, die eigentlich schon mit EFI umgehen können.</p><p>Im CSM-Modus verhält sich das System - was Start und Installation anbelangt - dann so, wie man es von einem reinen BIOS-System gewohnt ist.</p><p>Die Aktivierung des CSM-Modus zwingt den Anwender aber auch dazu, sich beim Start eines Start-Datenträgers für einen der beiden Modi (UEFI oder Legacy) im <a class="crosslink" href="#Das-EFI-Menue">EFI Menü</a> zu entscheiden.</p><p>Unter den Systemherstellern herrscht bisher keine Einigkeit in Bezug auf das Boot-Verhalten von UEFI-Firmware.  Viele Systeme werden deshalb im Nicht-UEFI-Modus ausgeliefert, laden also grundsätzlich das Compatibility Support Module. Das sollte man vor einer Installation immer abklären.</p></div></div><div class="section_1"><h2 id="Installations-Medien">Installations-Medien<a class="headerlink" href="#Installations-Medien">¶</a></h2><p>
Unabdingbar ist das Vorhandensein eines ISO mit <a class="internal" href="./64-bit-architektur.html">64-Bit-Architektur</a> ab der Version <a class="internal" href="./precise_pangolin.html">Precise Pangolin</a> (12.04.2 LTS).</p><p>Ein herunter geladenes ISO <a class="internal" href="./brennprogramme.html">brennt</a> man wegen seiner Größe (in der Regel &gt; 800 MB) auf eine DVD und benutzt diese DVD zum Installieren.</p><div class="section_2"><h3 id="ISO-auf-USB-Stick">ISO auf USB-Stick<a class="headerlink" href="#ISO-auf-USB-Stick">¶</a></h3><p>
Wesentlich kostengünstiger - für den Preis eines DVD-Stapels kann man schon einen USB-Stick von ca. 4GB erwerben und auf diesen das ISO aufbringen. Geeignete Beschreibungen dazu findet man u.a. unter
</p><ul><li><p><a class="internal" href="./efi_usb-stick.html">USB-Stick für UEFI Rechner</a></p></li><li><p><a class="internal" href="./laufwerksverwaltung.html#Laufwerksabbild-wiederherstellen">ISO auf USB-Stick bringen</a></p></li><li><p><a class="internal" href="./live-usb.html">Startmedien Ersteller</a></p></li><li><p><a class="internal" href="./windows-installation_vom_usb-stick.html">Windows Installation</a></p></li></ul><p>
</p></div><div class="section_2"><h3 id="Starten-der-Installations-Medien">Starten der Installations-Medien<a class="headerlink" href="#Starten-der-Installations-Medien">¶</a></h3><p>
Die Installations-Medien heutiger Betriebssysteme sind häufig hybrid, d.h. sie können sowohl im BIOS-Modus als auch im EFI-Modus gestartet werden und stellen   demzufolge eine Auswahlmöglichkeit im <a class="crosslink" href="#Das-EFI-Menue">Boot-Menü</a> des EFI bereit. Bei einem Ubuntu-Installations-Medium lassen sich die beiden Modi anhand ihres unterschiedlichen Startbildschirms gut unterscheiden:</p><p>
</p><table style="width: 97%"><tr class="titel"><td colspan="3"> Unterschiedliche Start-Bildschirme </td></tr><tr class="kopf"><td style="width: 25%"> BIOS-Modus - Start von CD </td><td style="text-align: center; width: 25%">BIOS-Modus - Start vom USB-Stick </td><td style="text-align: center; width: 50%">EFI-Modus - GRUB-Menü (CD oder Stick) </td></tr><tr><td> <img alt="bios-modus-dvd.png" class="image-center" src="./_/d56b6d6804606a0dfce4516830acb3b8a73b4cb2.png"/> </td><td> <img alt="bios-modus-usb.png" class="image-center" src="./_/fee46340f28032f263d9eb8e1ecd211787de6770.png"/> </td><td> <img alt="efi-boot-grub2.png" class="image-center" src="./_/7d21a63e848df4ef30aac09d50449329e4d0726b.png"/> </td></tr><tr><td style="vertical-align: top">Der bekannte Start-Bildschirm der Ubuntu-CD. Durch Drücken einer beliebigen Taste kann man das erweiterte Isolinux-Menü optional aufrufen. </td><td style="vertical-align: top">Der Start-Bildschirm, wenn man die Ubuntu-CD auf einen USB-Stick übertragen hat und davon lädt. </td><td style="vertical-align: top">Im EFI-Modus wird ein <a class="internal" href="./grub_2.html">GRUB 2</a>-Menü angezeigt. Erscheint nach der Auswahl im EFI-Menü <code class="notranslate">secure boot not enabled</code>, so weist es darauf hin, dass diese Option im EFI-BIOS deaktiviert wurde - andererseits gilt: <div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Erst ab <a class="internal" href="./trusty_tahr.html">Trusty Tahr</a> (14.04 LTS) kann man <img alt="{*}" src="./_/37868c2b60e9556f3ed2fca9185705260fd214a9.png"/> Ubuntu sowie alle Derivate auch im <strong>secure-boot</strong>-Modus starten
</p></div></div> </td></tr></table><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Lässt sich das Installations-Medium nur im EFI-Modus starten (rechte Darstellung), so kann man trotzdem eine <em>Nicht-EFI-Umgebung</em> (für den BIOS-Modus) erzwingen, indem man im <a class="internal" href="./bootoptionen.html#Optionen-beim-GRUB-Auswahlmenue">GRUB_2-Menü:</a> die markierte <a class="internal" href="./bootoptionen.html#Weitere-Bootoptionen">Bootoption</a> in die entsprechende Zeile einträgt:
</p><pre class="notranslate">linux  /casper/vmlinuz.efi  file=/cdrom/preseed/ubuntu.seed boot=casper <strong class="highlighted">noefi</strong> quiet splash --</pre><p>
</p></div></div></div></div><div class="section_1"><h2 id="Das-EFI-Menue">Das EFI-Menü<a class="headerlink" href="#Das-EFI-Menue">¶</a></h2><p>
</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="EFI_BOOT_MENU.JPG" class="image-default" src="./_/23aa334da3105986270af5dc626bd6287d973ae7.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 350px"> Beispiel "EFI-Menü im CSM-Modus" American Megatrends Inc. (AMI) "Aptio" Setup - zur vollen Darstellung <img alt="rechte Maustaste" class="image-default" src="./_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/></td></tr></table><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Mit welcher Taste bzw. Tastenkombination dieses EFI-Menü erreicht werden kann, ist sowohl vom Hardware- als auch Firmware-Hersteller abhängig. Dazu muss man die relevanten Unterlagen bemühen oder sich im Internet informieren. Ein wildes Ausprobieren kann ggf. zu unerwarteten Auswirkungen führen!
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Sofern <a class="crosslink" href="#Secure-Boot">Secure Boot</a> aktiviert bzw. der "Legacy"-Modus ausgeschaltet wurde, werden <span class="underline">nur</span> EFI-Einträge angezeigt. Jene Einträge, die (wegen fehlender Signatur) nicht <strong>secure-boot</strong> fähig sind, werden auch angezeigt. Man merkt dieses aber erst nach der Auswahl, da der weitere Start- / Bootvorgang verweigert wird.
</p></div></div><p>Im EFI-Menü werden je nach Voreinstellung des Firmware-Setup, hier im Beispiel mit <a class="crosslink" href="#Compatibility-Support-Module">CSM-Modus</a>, alle Datenträger angezeigt. Die Darstellungen sind abhängig von der jeweiligen Firmware und weicht bei den verschiedenen Herstellern im Layout und Umfang erheblich voneinander ab. Deshalb muss man das für sein EFI-Menü sinngemäß betrachten.</p><p>Wird im EFI-Menü ein nicht vollständig startfähiger Eintrag ausgewählt, so wird in der Regel der nächste Eintrag aus dem EFI-Menü genommen, geprüft ob dieser startfähig ist und dann automatisch gestartet.</p><p>Aus dem Beispiel kann man folgende Hinweise entnehmen:</p><div class="section_2"><div class="section_3"><h4 id="Beispieleintrag-1">Beispieleintrag 1<a class="headerlink" href="#Beispieleintrag-1">¶</a></h4><p>
Dieser <a class="internal" href="./efi_nachbearbeitung.html#Ubuntu-Bootverzeichnis">Standardeintrag</a> wird von einer Ubuntu-Installation automatisch erzeugt bzw. wird nach jedem Update der <a class="internal" href="./grub_2.html">GRUB 2</a> <strong>grub-efi</strong>-Pakete in das EFI-Menü neu eingetragen.</p></div><div class="section_3"><h4 id="Beispieleintrag-2">Beispieleintrag 2<a class="headerlink" href="#Beispieleintrag-2">¶</a></h4><p>
Dieser Eintrag wurde manuell mit dem EFI-<a class="internal" href="./efibootmgr.html#Booteintrag-erstellen">Bootmanager</a> erzeugt. Weitere Hinweise zum Erzeugen selektiver Einträge siehe auch unter <a class="internal" href="./efi_nachbearbeitung.html#Anderes-Bootverzeichnis-erstellen">Nachbearbeitung</a>.</p></div><div class="section_3"><h4 id="Beispieleintrag-3U">Beispieleintrag 3U<a class="headerlink" href="#Beispieleintrag-3U">¶</a></h4><p>
Dieser Eintrag wurde von einem externen Datenträger an einem USB-Port erzeugt und weist darauf hin, dass es sich um einen EFI-fähigen Starteintrag handelt - ob dieser auch <strong>secure-boot</strong> fähig ist, kann man daraus nicht erkennen.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wird auf einem externen Datenträger eine <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/VFAT#VFATVFAT">VFAT</a>-formatierte Partition erkannt (unabhängig von der Art der Partitions-Tabelle), so wird in der Regel ein "UEFI"-Eintrag angezeigt, auch wenn sich dort kein entsprechender <a class="crosslink" href="#EFI-Bootverzeichnis">Eintrag</a> befindet.
</p></div></div></div><div class="section_3"><h4 id="Beispieleintrag-3L">Beispieleintrag 3L<a class="headerlink" href="#Beispieleintrag-3L">¶</a></h4><p>
Dieser Eintrag wurde von einem externen Datenträger an einem USB-Port erzeugt und weist nur auf das Vorhandensein eines Datenträgers hin, der im Legacy-Modus ansprechbar ist - ob dieser auch diesbezüglich vorbereitet wurde (Installation eines MBR) kann man daraus nicht erkennen.</p></div><div class="section_3"><h4 id="Beispieleintrag-4">Beispieleintrag 4<a class="headerlink" href="#Beispieleintrag-4">¶</a></h4><p>
Mit Auswahl dieses Eintrages kann man das Setup der Firmware gelangen. Es ist eine der Möglichkeiten das Setup  zu betreten.</p></div></div></div><div class="section_1"><h2 id="EFI-Bootverzeichnis">EFI-Bootverzeichnis<a class="headerlink" href="#EFI-Bootverzeichnis">¶</a></h2><p>
Bei einem <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Extensible_Firmware_Interface">(U)EFI</a>-System wird eine besondere Bootpartition angelegt bzw. eine vorhandene mitbenutzt - dieses gilt für alle gängigen Betriebssysteme - also neben Ubuntu auch für Windows.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Diese spezielle <a class="internal" href="./grub_2/grundlagen.html#Mit-EFI">Partition</a> auf einem mit einer <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/GUID_Partition_Table">GPT</a> = <strong>G</strong>UID <strong>P</strong>artitions <strong>T</strong>abelle erstellten Speichermedium wird in der Regel mit <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/VFAT#VFATVFAT">VFAT</a> formatiert. Im normalen Betrieb wird diese Partition nicht angezeigt und als "versteckt" (hidden) behandelt.
</p></div></div><p><img alt="{*}" src="./_/37868c2b60e9556f3ed2fca9185705260fd214a9.png"/> Ubuntu bzw. deren Derivate wie <img alt="{g}" src="./_/6e03d6257720438a3ee3000ec8ffca742884999c.png"/> Ubuntu-GNOME, <img alt="{l}" src="./_/4cfef3b6ccbfb0ad610cc831900bb88f3d9f5027.png"/> LUbuntu, <img alt="{x}" src="./_/dd4cffe34c2ea02ca5f635df1423950698444cf0.png"/> XUbuntu usw. legen auf dieser Partition bei der Installation jeweils das Verzeichnis</p><ul><li><p><strong>/EFI/ubuntu</strong></p></li></ul><p>
an - also immer <strong>ubuntu</strong> ausgehend von der <a class="internal" href="./efi_nachbearbeitung.html#Anderes-Bootverzeichnis-erstellen">Distribution-ID</a> Ubuntu, abweichend von <img alt="{k}" src="./_/ed311aabf49d98849b0a93880df1315603e2bac9.png"/> KUbuntu ab Version <a class="internal" href="./saucy_salamander.html">Saucy Salamander</a> (13.10), wo statt dessen das Verzeichnis <strong>kubuntu</strong> angelegt wird. Andere Distributionen wiederum wie LinuxMint z.B. legen das Verzeichnis <strong>linuxmint</strong> an, abgeleitet von der entsprechenden Distribution-ID. Windows benutzt das Verzeichnis <strong>Microsoft</strong> - eine Übersicht dazu findet man <a class="external" href="http://www.uefi.org/specs/esp_registry" rel="nofollow">hier</a>.</p><p>Das allgemeine Standardverzeichnis ist <strong>/EFI/Boot</strong>, das in der Regel von EFI-Firmware immer erkannt und angezeigt wird.</p><div class="section_2"><h3 id="Datei-ohne-secure-boot">Datei ohne secure-boot<a class="headerlink" href="#Datei-ohne-secure-boot">¶</a></h3><p>
Bei Ubuntu <img alt="{*}" src="./_/37868c2b60e9556f3ed2fca9185705260fd214a9.png"/> (System ohne Secure-Boot) ist in diesem Verzeichnis die Datei</p><ul><li><p><strong>grubx64.efi</strong></p></li></ul><p>
</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>In der Datei <strong>grubx64.efi</strong> (ohne secure-boot) befinden sich alle GRUB_2 Befehlstreiber und Binary, die bei einer <a class="internal" href="./grub_2/grundlagen.html#MBR-mit-Master-Partitionstabelle-MPT">MPT</a> = <strong>M</strong>aster <strong>P</strong>artitions <strong>T</strong>abelle in den Bereich gleich hinter dem <strong>MBR</strong> bzw. bei einer <a class="internal" href="./grub_2/grundlagen.html#MBR-mit-GUID-Partitionstabelle-GPT">GPT</a> = <strong>G</strong>UID <strong>P</strong>artitions <strong>T</strong>abelle in einer speziellen Partition abgelegt werden.
</p></div></div></div><div class="section_2"><h3 id="Dateien-mit-secure-boot">Dateien mit secure-boot<a class="headerlink" href="#Dateien-mit-secure-boot">¶</a></h3><p>
Bei Ubuntu <img alt="{*}" src="./_/37868c2b60e9556f3ed2fca9185705260fd214a9.png"/> (System mit Secure-Boot) sind in diesem Verzeichnis die Dateien</p><ul><li><p><strong>grubx64.efi</strong>, <strong>shimx64.efi</strong>, <strong>MokManager.efi</strong>(ab <a class="internal" href="./saucy_salamander.html">Saucy Salamander</a>) sowie <strong>grub.cfg</strong></p></li><li><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Die Datei <strong>shimx64.efi</strong> ist im Prinzip eine EFI-Anwendung (Stufe 1), die eine weitere Anwendung (Stufe 2) aufrufen kann und ausführt. Damit dieses unter Secure-Boot Bedingungen nicht abgeblockt wird, wurde die erforderliche Signatur von der "Microsoft UEFI Certificate Authority (CA)" eingeholt und in den Dateien <strong>shimx64.efi</strong> und <strong>MokManager.efi</strong> hinterlegt. Hierauf aufbauend wird nun die um eine entsprechende Signatur erweiterte Datei <strong>grubx64.efi</strong> (mit secure-boot) aufgerufen und und incl. der <strong>grub.cfg</strong> ausgewertet und ausgeführt. Diese Stufe 2 wiederum prüft das vorhandene Kernelmodul <strong>vmlinz-x.x.x-x-generic.efi.signed</strong> und lässt es ausführen.
</p></div></div></li></ul><p>
</p></div><div class="section_2"><h3 id="Systemsicherung-unter-Windows">Systemsicherung unter Windows<a class="headerlink" href="#Systemsicherung-unter-Windows">¶</a></h3><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die windows-interne Systemsicherung kann auf einem Rechner mit <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Unified%20Extensible%20Firmware%20Interface">(U)EFI</a> möglicherweise die Ubuntu-Installation beeinflussen.
</p></div></div><p>Bei einer Systemsicherung unter einem <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Unified%20Extensible%20Firmware%20Interface">(U)EFI</a>-Windows werden in der Regel alle Verzeichnisse und Dateien auf der EFI-Partition in das Backup mit aufgenommen. Dieses beinhaltet also auch das Verzeichnis <strong>(/boot/efi/)EFI/ubuntu</strong> mit seinen Startdateien (siehe oben).</p><p>Das ist einerseits vom Vorteil, falls man diese Dateien zur Wiederherstellung braucht - birgt aber andererseits die Gefahr, dass nach einer Reparatur von Windows ggf. veraltete Verzeichnisse sowie Dateien zurück geladen werden und damit dann das Ubuntu nicht mehr gestartet werden kann oder unerwartete Reaktionen zeigt.</p><p>Man kann über die <a class="internal" href="./efi_nachbearbeitung.html#EFI-Eintrag-neu-erstellen">Reparatur</a> der Ubuntuinstallation diesen Starteintrag wieder herstellen.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><div class="section_2"><h3 id="Intern">Intern<a class="headerlink" href="#Intern">¶</a></h3><p>
</p><ul><li><p><a class="internal" href="./efi_bootmanagement.html">EFI Bootmanagement</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersicht zur Artikelserie </p><ul><li><p><a class="internal" href="./efi_installieren.html">EFI Installieren</a> - Hinweise vor einer und zur Installation</p></li><li><p><a class="internal" href="./efi_deinstallieren.html">EFI Deinstallieren</a> - Selektives Entfernen eines Betriebssystemes</p></li><li><p><a class="internal" href="./efi_nachbearbeitung.html">EFI Nachbearbeitung</a> - Hinweise und Maßnahmen nach einer Installation</p></li><li><p><a class="internal" href="./efi_modus_umstellen.html">EFI Modus umstellen</a> - Umstellung der Boot-Modi von (U)EFI nach BIOS</p></li><li><p><a class="internal" href="./efibootmgr.html">efibootmgr</a> - (U)EFI-Menü einstellen und prüfen</p></li><li><p><a class="internal" href="./efi_problembehebung.html">EFI Problembehebung</a> - eine Sammlung von Erfahrungen und Abhilfen</p></li><li><p><a class="internal" href="./efi_usb-stick.html">EFI USB-Stick</a> - Einen USB-Stick für <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/UEFI">UEFI</a> aufbereiten</p></li></ul></li><li><p><a class="internal" href="./unetbootin.html">UNetbootin</a> - Eine ISO-Datei auf einen USB-Stick bringen</p></li><li><p><a class="internal" href="./live-usb.html">Startmedienersteller</a> - Eine ISO-Datei auf einen USB-Stick bringen</p></li></ul><p>
</p></div><div class="section_2"><h3 id="Extern">Extern<a class="headerlink" href="#Extern">¶</a></h3><p>
</p><ul><li><p><a class="external" href="http://www.uefi.org/home/" rel="nofollow">UEFI Spezifikation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Aufbau und Grundsätze</p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Extensible_Firmware_Interface">UEFI</a> - Unified Extensible Firmware Interface</p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/NVRAM">NVRAM</a> -  Non-Volatile Random-Access Memory</p></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./efi_grundlagen/a/revision/941019.html">Diese Revision</a> wurde am 10. Mai 2017 21:26 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./efi_grundlagen.html">EFI Grundlagen</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>