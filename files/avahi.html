<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Avahi › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./avahi.html">Avahi</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Avahi">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./avahi/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./avahi/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./avahi/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./avahi/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./avahi/a/backlinks.html">Avahi</a></h1>
<div id="page"><div class="box improvable"><h3 class="box improvable">Ausbaufähige Anleitung</h3><div class="contents"><p>
Dieser Anleitung fehlen noch einige Informationen. Wenn Du etwas
verbessern kannst, dann editiere den Beitrag, um die Qualität
des Wikis noch weiter zu verbessern.
</p><hr/><p><strong>Anmerkung:</strong> Die Hinweise zu den <a class="crosslink" href="#Anwendungen">Anwendungen</a> könnten aktualisiert werden. Siehe auch die <a class="crosslink post" href="https://forum.ubuntuusers.de/post/2950622/">Diskussion</a> zum Thema.
</p></div></div><p>
</p><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./dienste.html">Dienste (neu) starten</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Dienst-steuern">Dienst steuern
</a><ol class="arabic"><li><a class="crosslink" href="#Ab-Ubuntu-16-04">Ab Ubuntu 16.04
</a></li><li><a class="crosslink" href="#Bis-Ubuntu-15-10">Bis Ubuntu 15.10
</a></li></ol></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a><ol class="arabic"><li><a class="crosslink" href="#Publishing">Publishing
</a></li></ol></li><li><a class="crosslink" href="#Avahi-im-Netzwerk">Avahi im Netzwerk
</a><ol class="arabic"><li><a class="crosslink" href="#Lokale-Namensaufloesung">Lokale Namensauflösung
</a></li><li><a class="crosslink" href="#Avahi-und-Netzwerkports">Avahi und Netzwerkports
</a></li></ol></li><li><a class="crosslink" href="#Anwendungen">Anwendungen
</a><ol class="arabic"><li><a class="crosslink" href="#Avahi-Dienste-entdecken">Avahi-Dienste entdecken
</a></li><li><a class="crosslink" href="#Avahi-per-Kommandozeile">Avahi per Kommandozeile
</a></li><li><a class="crosslink" href="#Anwendungen-2">Anwendungen
</a></li><li><a class="crosslink" href="#Avahi-und-Microsoft-Windows">Avahi und Microsoft Windows
</a></li></ol></li><li><a class="crosslink" href="#Beispiel">Beispiel
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a><ol class="arabic"><li><a class="crosslink" href="#Datenuebertragung-wird-abgebrochen">Datenübertragung wird abgebrochen
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./avahi_logo.png" class="image-left" src="./_/e633fa7b841c998ae9d04dba8c1e51b195ec956e.png"/>
<a class="external" href="http://avahi.org/" rel="nofollow">Avahi</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist eine freie Implementation von <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Zeroconf">Zeroconf</a>, einer Technik zur Vernetzung von Geräten in einem lokalen Netzwerk, ohne dass diese konfiguriert werden müssen. So ist es möglich, zwei Rechner über ein Netzwerkkabel zu verbinden und sofort Daten austauschen zu können. Dazu brauchen keine festen IP-Adressen eingestellt zu werden.</p><p>Ziel ist es, lokale Netzwerke aufzubauen, die "einfach" funktionieren, d.h. ohne den Einsatz von Diensten wie DHCP oder DNS oder gar einer manuellen Konfiguration von IP-Adressen sollen sich Rechner im Netzwerk untereinander ansprechen und ihre Dienste nutzen können. So können einige <a class="internal" href="./instant_messenger.html">Instant Messaging</a>-Programme in einem LAN miteinander kommunizieren, ohne dass sie dazu einen Server brauchen, über den die Kommunikation läuft. Dasselbe gilt für <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/IP-Telefonie">VoIP</a>, also Telefonieren (Audio- oder Videogespräche) im Netzwerk bzw. Internet.</p><p>Ein anderes beliebtes Beispiel ist die Freigabe von Musikbibliotheken im lokalen Netzwerk. So kann man die Musiksammlung eines Rechners auf einem anderen nutzen, ohne dass man sich mit Dateifreigaben beschäftigen muss. Letztendlich soll es auch möglich sein, Dateien und Verzeichnisse freizugeben.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Avahi ist unter Ubuntu von Haus aus installiert. Sollte dies nicht der Fall sein, kann man den Dienst über das folgende Paket installieren <sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>avahi-daemon</strong>, <em>universe</em></p></li></ul><p>
</p></div><div class="section_1"><h2 id="Dienst-steuern">Dienst steuern<a class="headerlink" href="#Dienst-steuern">¶</a></h2><p>
</p><div class="section_2"><h3 id="Ab-Ubuntu-16-04">Ab Ubuntu 16.04<a class="headerlink" href="#Ab-Ubuntu-16-04">¶</a></h3><p>
Seit der Verwendung von <a class="internal" href="./systemd.html">systemd</a> funktioniert die Steuerung (wieder) über <sup><a href="#source-2">[2]</a></sup><sup><a href="#source-3">[3]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/avahi-daemon [status|start|stop|restart|force-reload|reload] </pre></div></div><p>
oder</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service avahi-daemon [status|start|stop|restart|force-reload|reload] </pre></div></div></div><div class="section_2"><h3 id="Bis-Ubuntu-15-10">Bis Ubuntu 15.10<a class="headerlink" href="#Bis-Ubuntu-15-10">¶</a></h3><p>
Avahi verwendet <a class="internal" href="./upstart.html">Upstart</a>, um bereits beim Rechnerstart aktiviert zu werden. Zum Anhalten bzw. manuellem Neustarten können daher alternativ die folgenden Befehle verwendet werden <sup><a href="#source-2">[2]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">status avahi-daemon
sudo stop avahi-daemon
sudo start avahi-daemon </pre></div></div></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Avahi wird über die Datei <strong>/etc/avahi/avahi-daemon.conf</strong> konfiguriert <sup><a href="#source-3">[3]</a></sup>. Diese Datei ist noch sehr wenig kommentiert. Daher findet man wenig Details zu den einzelnen Optionen. Zahlreiche Informationen finden sich jedoch in der <a class="internal" href="./man.html">ManPage</a> zu <code class="notranslate">avahi-daemon.conf</code>.</p><div class="section_2"><h3 id="Publishing">Publishing<a class="headerlink" href="#Publishing">¶</a></h3><p>
Avahi kann Netzwerkdienste im lokalen Netz ankündigen, wie es Windowsrechner und Samba Server tun: Im den Dateimanagern erscheinen dann die Zugriffsmöglichkeiten - z.B. über sftp.</p><p>Will man anderen Nutzern ermöglichen, einen sftp Dienst im Netz zu finden so muß die Konfigurationsdatei für sftp-ssh in <strong>/etc/avahi/services</strong> angelegt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /usr/share/doc/avahi-daemon/examples/sftp-ssh.service /etc/avahi/services </pre></div></div><p>Zusätzliche Konfigurationsmöglichkeiten sind Standard-Kennung und Verzeichnis:</p><pre class="notranslate">&lt;?xml version="1.0" standalone='no'?&gt;
 &lt;!DOCTYPE service-group SYSTEM "avahi-service.dtd"&gt;
 &lt;service-group&gt;
   &lt;name replace-wildcards="yes"&gt;%h&lt;/name&gt;
   &lt;service&gt;
     &lt;type&gt;_sftp-ssh._tcp&lt;/type&gt;
     &lt;port&gt;22&lt;/port&gt;
     &lt;txt-record&gt;path=/home/benutzer/&lt;/txt-record&gt;
     &lt;txt-record&gt;u=benutzer&lt;/txt-record&gt;
   &lt;/service&gt;
 &lt;/service-group&gt;</pre><p>Wer nicht möchte, dass Avahi Dienste in das lokale Netzwerk publiziert, kann diese Funktion deaktivieren. Dadurch ist es weiterhin möglich, die per Avahi annoncierten Dienste anderer Rechner zu benutzen, ohne selbst als Dienst zu erscheinen. Über die Option:</p><pre class="notranslate">disable-publishing=yes</pre><p>
wird Avahi fast ganz deaktiviert, selbst die lokale Namensauflösung funktioniert dadurch nicht mehr. Das Durchstöbern des Netzwerks nach Avahi-Diensten ist jedoch weiterhin möglich. Wer weiterhin die Namensauflösung über <em>.local</em> nutzen möchte, kann alternativ über</p><pre class="notranslate">disable-user-service-publishing=yes</pre><p>
das Veröffentlichen weiterer Dienste unterbinden.</p></div></div><div class="section_1"><h2 id="Avahi-im-Netzwerk">Avahi im Netzwerk<a class="headerlink" href="#Avahi-im-Netzwerk">¶</a></h2><p>
</p><div class="section_2"><h3 id="Lokale-Namensaufloesung">Lokale Namensauflösung<a class="headerlink" href="#Lokale-Namensaufloesung">¶</a></h3><p>
Avahi dient unter anderem der Namensauflösung im lokalen Netzwerk. Ohne dass ein DNS-Server im Netzwerk existiert oder IP-Adressen über DHCP oder manuell zugewiesen wurden, können Rechner über ihren Rechnernamen angesprochen werden. Dazu wird ein <em>.local</em> an den Rechnernamen gehängt, also beispielsweise <em>rechnername.local</em>. Jeder Dienst des Rechners kann dann über diesen Namen angesprochen werden. Die Namensauflösung über Avahi wird nur bei den Desktop-Installationen von Ubuntu installiert. Bei einem Ubuntu-Server lässt sich die Funktionalität über das Paket</p><ul><li><p><strong>libnss-mdns</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install libnss-mdns </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install libnss-mdns </pre></div></div><p>
</p></div></div><p>
nachinstallieren. Danach kann man über</p><div class="bash"><div class="contents"><pre class="notranslate">ping rechnername.local </pre></div></div><p>
einen Rechner <a class="internal" href="./ping.html">anpingen</a> oder andere Netzwerkdienste benutzen:</p><pre class="notranslate">PING rechnername.local (192.168.0.1) 56(84) bytes of data.
64 bytes from rechnername (192.168.0.1): icmp_seq=1 ttl=64 time=0.229 ms
64 bytes from rechnername (192.168.0.1): icmp_seq=2 ttl=64 time=0.259 ms
...</pre><div class="section_3"><h4 id="MultiCast-Probleme">MultiCast-Probleme<a class="headerlink" href="#MultiCast-Probleme">¶</a></h4><p>
Manche Netzwerkkarten lassen so genannte <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Multicast">Multicast</a>-Pakete fallen anstatt sie weiterzuleiten. Dies hat zur Folge, dass Avahi nicht funktioniert. Sollte Avahi - z.B. die Namensauflösung per "rechnername.local" - nicht funktionieren, so kann ein</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein
sudo ifconfig &lt;interface&gt; allmulti
# Beispiel
sudo ifconfig eth0 allmulti </pre></div></div><p>
helfen.</p></div></div><div class="section_2"><h3 id="Avahi-und-Netzwerkports">Avahi und Netzwerkports<a class="headerlink" href="#Avahi-und-Netzwerkports">¶</a></h3><p>
Damit Avahi andere Rechner findet und der eigene Rechner gefunden werden kann, öffnet Avahi den Netzwerk-Port <code class="notranslate">5353</code> sowie einen weiteren Port im Bereich <code class="notranslate">32768</code> bis <code class="notranslate">61000</code>. Dieses kann man mittels des Befehls <sup><a href="#source-2">[2]</a></sup></p><div class="bash"><div class="contents"><pre class="notranslate">sudo netstat -tulpen | grep avahi </pre></div></div><p>
am eigenen Rechner feststellen:</p><pre class="notranslate">udp   0   0 0.0.0.0:5353    0.0.0.0:*   104    4279    758/avahi-daemon: r
udp   0   0 0.0.0.0:41339   0.0.0.0:*   104    4280    758/avahi-daemon: r</pre><p>Hat man keine Verwendung für Avahi, so kann man den Dienst deaktivieren. Dazu erstellt man eine Sicherungskopie der Datei <strong>/etc/init/avahi-daemon.conf</strong> und entfernt sie dann mit Root-Rechten.</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Avahi <a class="external" href="http://avahi.org/wiki/SecurityConsiderations" rel="nofollow">beachtet</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> grundsätzlich nur Verbindungen aus dem lokalen Netzwerk. Hängt der Rechner beispielsweise über ein DSL-Modem direkt im Internet, so braucht man keine Angst zu haben, dass Avahi Dienste des Rechners im Internet publiziert. 
</p></div></div></div></div><div class="section_1"><h2 id="Anwendungen">Anwendungen<a class="headerlink" href="#Anwendungen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Avahi-Dienste-entdecken">Avahi-Dienste entdecken<a class="headerlink" href="#Avahi-Dienste-entdecken">¶</a></h3><p>
Man kann das Netzwerk nach Diensten durchsuchen, die über Avahi ihre Dienste im Netzwerk veröffentlichen. So erfährt man, welche Dienste im Netzwerk verfügbar sind und wenn Dienste neu gefunden wurden.</p><div class="section_3"><h4 id="Avahi-Zeroconf-Browser">Avahi Zeroconf Browser<a class="headerlink" href="#Avahi-Zeroconf-Browser">¶</a></h4><p>
<img alt="./avahi_discovery.png" class="image-right" src="./_/fa5a65121829fd1b04ff52b3aa1eb0927d0c722b.png"/></p><p>Avahi-Discover ist eine kleine Anwendung, die das Netzwerk durchsucht. Die Ergebnisse werden in einer Baumansicht dargestellt. Klick man auf einen Dienst, so erhält man weitere Informationen zu diesem. Avahi-Discover kann über die offiziellen Paketquellen installiert werden:</p><ul><li><p><strong>avahi-discover</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install avahi-discover </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install avahi-discover </pre></div></div><p>
</p></div></div><p>Nach der Installation kann man das Programm bei Ubuntu-Varianten mit einem Anwendungsmenü über  <em>"System -&gt; Avahi Zeroconf Browser"</em> starten.</p></div></div><div class="section_2"><h3 id="Avahi-per-Kommandozeile">Avahi per Kommandozeile<a class="headerlink" href="#Avahi-per-Kommandozeile">¶</a></h3><p>
Nützliche Anwendungen enthält das Paket</p><ul><li><p><strong>avahi-utils </strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install avahi-utils  </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install avahi-utils  </pre></div></div><p>
</p></div></div><p>Es enthält zum Beispiel die Kommandos "<code class="notranslate">avahi-browse</code>", "<code class="notranslate">avahi-publish</code>" und "<code class="notranslate">avahi-resolve</code>". Näheres dazu findet man in den betreffenden <a class="internal" href="./man.html">Manpages</a>.</p></div><div class="section_2"><h3 id="Anwendungen-2">Anwendungen<a class="headerlink" href="#Anwendungen-2">¶</a></h3><p>
Es gibt eine Reihe von Anwendungen, die bereits Funktionen von Avahi nutzen können. Die Tabelle soll diese Programme aufführen und grob die Funktionsweise im Zusammenhang mit Avahi erklären.</p><table><tr style="background-color: #F9EAAF; text-align: left"><td> <strong>Anwendung</strong> </td><td> <strong>Wie die Avahi Funktion aktivieren</strong> </td><td> <strong>getestet mit</strong> </td></tr><tr><td> <a class="internal" href="./banshee.html">Banshee</a> </td><td> Banshee kann DAAP-Musikfreigaben von Rhythmbox oder iTunes einbinden und die eigene Musik freigeben, wenn das PlugIn "Musik Freigabe" aktiviert ist </td><td> Ubuntu 8.04 </td></tr><tr><td> <a class="internal" href="./epiphany.html">Epiphany</a> </td><td> Befindet sich im Netzwerk ein Webserver, der für Avahi konfiguriert ist, so erscheint dieser automatisch unter <em>"Lesezeichen -&gt; Lokale Seiten"</em>. </td><td> Ubuntu 6.06 </td></tr><tr><td> <a class="internal" href="./exaile.html">Exaile</a> </td><td> Exaile kann mit Hilfe eines Plugins auf DAAP-Dienste zugreifen </td><td> ? </td></tr><tr><td> <a class="internal" href="./ekiga.html">Ekiga</a> </td><td> Mittels Ekiga und Avahi kann man VOIP Gespräche innerhalb eines LANs führen, ohne dass man einen Server braucht. Die neuste Version (aktuell 2.0.9) funktioniert hier stabiler also die Version, die in Ubuntu 7.04 installierbar ist. Daher sollte man diese von Hand installieren. Weitere Informationen hierzu findet man im Wiki Artikel von Ekiga. </td><td> Ubuntu 7.10 </td></tr><tr><td> <a class="internal" href="./gajim.html">Gajim</a> </td><td> Über Gajim und Avahi ist es möglich zu chatten, ohne einen Jabber-Server im LAN zu haben. Wichtig für Gajim ist, dass Avahi so konfiguriert ist, den D-Bus zu benutzen (Siehe Konfiguration). Unter Gajim selber muss unter <em>"Ändern -&gt; Konten"</em> die Option <em>"Kontakte im LAN anzeigen"</em> aktiviert werden. Ab Ubuntu Gutsy Gibbon 7.10 muss das Paket <strong>python-avahi</strong> (<em>universe</em>) installiert werden. </td><td> Ubuntu 7.04 </td></tr><tr><td> <a class="internal" href="./gobby.html">Gobby</a> </td><td> Gobby ist ein kollaborativer Texteditor. D.h. dass mehrere Leute gleichzeitig an einem Text arbeiten können. In Gobby ist Avahi schon weitestgehend implementiert. Im LAN aktive Sitzungen werden im <em>"Sitzung beitreten"</em> Dialog unter <em>"Lokales Netzwerk"</em> angezeigt. </td><td> Ubuntu 6.06 </td></tr><tr><td> <a class="internal" href="./rhythmbox.html">Rhythmbox</a> </td><td> Rhythmbox kann die freigegeben Musiksammlungen anderer AudioPlayer wie iTunes oder Banshee über das Netzwerk einbinden. Dazu muss man jedoch das Plugin <em>"DAAP-Musikverteilung"</em> <a class="internal" href="./rhythmbox.html">aktivieren</a>. Dies ist von Haus aus noch nicht aktiviert. </td><td> Ubuntu 7.04 </td></tr><tr><td> <a class="internal" href="./pidgin.html">Pidgin</a> </td><td> Bei Pidgin nennt sich die Funktionalität, direkt im LAN mit anderen Instant-Messaging Client-Programmen zu "chatten", "Bonjour". Man kann sich dazu unter <em>"Konten -&gt; Hinzufügen -&gt; Bonjour"</em> ein "Konto" hinzufügen. Die Daten sind dabei frei wählbar. </td><td> Ubuntu 16.04 </td></tr><tr><td> Krfb/Krdc </td><td> Die Desktopfreigabe unter KDE wird über Avahi im Netzwerk bekannt gemacht. </td><td> ? </td></tr><tr><td> <a class="internal" href="./amarok.html">Amarok</a> </td><td> Amarok lässt sich als Client der DAAP-Musikverteilung einrichten. Dazu unter Media-Player ein Gerät einrichten, bei dem als Typ "Musikverteilung" ausgewählt wird. Als Server kann Amarok aber nicht fungieren, hier ist mt-daap in den Gutsy-Quellen. Nach der Installation von mt-daap ist der Server über avahi im gesamten Netzwerk veröffentlicht. Das Konfigurationspanel öffnet über den Browser beim Anklicken des Dienstes, Benutzername ist dann "admin" und das voreingestellte Passwort ist "mt-daapd" </td><td> ? </td></tr></table><p>
<a class="crosslink anchor" href="#Windows" id="Windows"></a>
</p></div><div class="section_2"><h3 id="Avahi-und-Microsoft-Windows">Avahi und Microsoft Windows<a class="headerlink" href="#Avahi-und-Microsoft-Windows">¶</a></h3><p>
Apple hat für Avahi/Zeroconf (bei Apple Bonjour genannt) einen <a class="external" href="http://support.apple.com/downloads/Bonjour_for_Windows" rel="nofollow">Client</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> für Microsoft Windows geschrieben. Nach Installation des Clients funktioniert beispielsweise die Auflösung lokaler Rechnernamen über <em>rechnername.local</em>. Zusätzlich wird in die Werkzeugleiste des Internet Explorers eine Schaltfläche eingeblendet, über die sich die im lokalen Netzwerk vorhandenen Webserver anzeigen lassen.</p></div></div><div class="section_1"><h2 id="Beispiel">Beispiel<a class="headerlink" href="#Beispiel">¶</a></h2><p>
Innerhalb eines Netzwerkes kann man dank Avahi plattformunabhängig chatten und (teilweise auch) Dateien versenden. <a class="internal" href="./instant_messenger.html">Instant Messenger</a> wie <a class="internal" href="./pidgin.html#Zeroconf-Avahi">Pidgin</a> und <a class="internal" href="./empathy.html">Empathy</a> oder auch iChat sowie Adium (beide Mac OS X) unterstützen diese Funktion. Einfach auf dem Rechner z.B. Pidgin öffnen und unter <em>"Account -&gt; Hinzufügen -&gt; Protocol:Bonjour"</em> auswählen. Den bevorzugten Benutzernamen wählen und fertig. Jetzt kann man von allen anderen Computern innerhalb des selben Netzwerks (LAN) gesehen und angeschrieben werden. Allerdings können <a class="external" href="http://everflux.de/pidgin-ubuntu-und-bonjour-probleme-mit-ipv6-1799/" rel="nofollow">Probleme mit IPv6</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> auftreten.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Avahi zusammen mit mDNS löst im lokalen Netzwerk auch  Rechnernamen zu IP-Adressen und umgekehrt auf. Daraus können sich auch Probleme ergeben. Es ist darauf zu achten, daß die Namen aller Rechner im lokalen Netzwerk eindeutig sind, d.h. nicht zwei Rechner den gleichen "hostname" besitzen (s. <em>/etc/hostname</em>).</p><p>Ebenso ist es problematisch, wenn zwei Rechner (mit unterschiedlichem Namen) im lokalen Netzwerk die gleiche IP-Adresse haben. Das ist zwar unter normalen Umständen nicht der Fall, außer man hat die wesentlichen Grundregeln bei der Konfiguration des Netzwerks mißachtet. Es gibt aber hier speziell im Zusammenhang mit Avahi eine nicht gleich offensichtliche Falle. Diese äußert sich dann darin, daß die Log-Dateien (<em>syslog</em> und <em>daemon.log</em>) aller (Linux)-Rechner im Netzwerk zahlreiche Einträge dieser Art enthalten:
</p><pre class="notranslate">pp avahi-daemon[1963]: Invalid legacy unicast query packet.
...
pp avahi-daemon[1963]: Received response from host 192.168.xxx.yyy with invalid source port 39506 on interface 'eth0.0'
...</pre><p>
Dies passiert, wenn man ein Linux-System in einer VM (z.B. <a class="internal" href="./virtualbox.html">VirtualBox</a>) betreibt und das Netzwerkinterface für die VM auf "NAT-networking" konfiguriert hat. Dann erscheint nämlich das Gastsystem in der VM nach außen im Netzwerk mit der IP-Adresse des Hosts! Für alle Rechner im Netzwerk gibt es nun 2 Avahi-Daemonen mit dergleichen IP. Dies führt - auch in den Logs des Hosts auf dem die VM läuft - zu den genannten Fehlermeldungen. Da dies auch NAS-Systeme (die meist unter Linux laufen) betrifft, wird deren Festplatte beim Starten einer so konfigurierten VM auf einem Rechner deren Festplatte hochfahren, um die Log-Einträge zu schreiben.</p><p>Die Lösung ist hier ganz einfach: das Netzwerk-Interface der VM (statt auf NAT) auf "bridged networking" zu konfigurieren. Wer das aus bestimmten Gründen nicht will, muß Avahi in den Gastsystemen de-aktivieren.
</p></div></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Datenuebertragung-wird-abgebrochen">Datenübertragung wird abgebrochen<a class="headerlink" href="#Datenuebertragung-wird-abgebrochen">¶</a></h3><p>
Kommt es bei der Übertragung von Daten zu Abbrüchen direkt zu Beginn bzw. beginnt die Datenübertragung erst gar nicht, dann kann die Deaktivierung von IPv6 in der Kofigurationsdatei <strong>etc/avahi/avahi-daemon.conf</strong> Abhilfe schaffen. Dazu ändert man hier den Eintrag von <code class="notranslate">use-ipv6=yes</code> auf <code class="notranslate">﻿use-ipv6=no</code>.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://avahi.org/" rel="nofollow">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p><ul><li><p><a class="external" href="http://avahi.org/wiki/AvahiWalkOfFame" rel="nofollow">Liste mit Anwendungen, die mit Avahi umgehen können</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://avahi.org/wiki/SecurityConsiderations" rel="nofollow">Sicherheitshinweise zu Avahi</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li></ul></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Avahi_(Software)">Avahi in der Wikipedia</a></p></li><li><p><a class="external" href="http://christoph-langner.de/de/2009/02/netzwerken-im-21-jahrhundert/" rel="nofollow">Verwendung von Avahi im Heimnetzwerk</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Blogbeitrag, 02/2009</p></li><li><p><a class="external" href="http://www.linux-magazin.de/heft_abo/ausgaben/2006/03/walk_of_fame" rel="nofollow">Walk of Fame</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Artikel im Linux Magazin zu Avahi/Zeroconf, 03/2006</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./avahi/a/revision/939120.html">Diese Revision</a> wurde am 4. Mai 2017 11:26 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./avahi.html">Avahi</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>