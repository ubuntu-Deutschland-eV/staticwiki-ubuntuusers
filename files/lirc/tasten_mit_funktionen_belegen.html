<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Lirc/Tasten_mit_Funktionen_belegen › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../lirc/tasten_mit_funktionen_belegen.html">Tasten mit Funktionen belegen</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Lirc/Tasten_mit_Funktionen_belegen">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../lirc/tasten_mit_funktionen_belegen/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../lirc/tasten_mit_funktionen_belegen/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../lirc/tasten_mit_funktionen_belegen/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../lirc/tasten_mit_funktionen_belegen/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../lirc/tasten_mit_funktionen_belegen/a/backlinks.html">Tasten mit Funktionen belegen</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../autostart.html">Automatischer Start von Programmen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#lircrc">.lircrc
</a><ol class="arabic"><li><a class="crosslink" href="#Syntax">Syntax
</a></li><li><a class="crosslink" href="#Neustart">Neustart
</a></li><li><a class="crosslink" href="#Die-Relevanz-der-Reihenfolge">Die Relevanz der Reihenfolge
</a></li><li><a class="crosslink" href="#Spezielle-Programme-fuer-die-lircrc">Spezielle Programme für die .lircrc
</a></li><li><a class="crosslink" href="#Automatisches-Erstellen-einer-lircrc">Automatisches Erstellen einer .lircrc
</a></li><li><a class="crosslink" href="#Beispiele">Beispiele
</a></li><li><a class="crosslink" href="#Programme-beenden">Programme beenden
</a></li></ol></li><li><a class="crosslink" href="#Maus-per-Fernbedienung-steuern">Maus per Fernbedienung steuern
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Den Tasten auf der Fernbedienung müssen die gewünschten Funktionen zugeordnet werden. Der <a class="internal" href="../lirc.html">LIRC</a>-Daemon (lircd) dekodiert zwar die gesendeten Signale, ist aber selbst nicht in der Lage, Befehle auszuführen. Dafür bringt das <strong>lirc</strong>-Paket ein eigenes Programm mit - <a class="crosslink" href="#irexec">irexec</a>. Andere nützliche <a class="external" href="http://www.lirc.org/html/programs.html" rel="nofollow">Programme</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> sind u.a. <a class="crosslink" href="#irxevent">irxevent</a> und <a class="crosslink" href="#xte">xte</a>, die im Folgenden vorgestellt werden. Gemeinsam haben diese Programme, dass sie eine <strong>.lircrc</strong>-Datei benötigen. Empfehlenswert ist es, die letztlich genutzten Programme im Autostart<sup><a href="#source-4">[4]</a></sup> einzutragen.</p><p>Voraussetzung ist natürlich eine funktionsfähige LIRC-Installation; ggf. muss das Paket</p><ul><li><p><strong>liblircclient0</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install liblircclient0 </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install liblircclient0 </pre></div></div><p>
</p></div></div><p>installiert sein <sup><a href="#source-1">[1]</a></sup>, um bestimmte Programme mit LIRC-Support steuern zu können.</p><div class="section_1"><h2 id="lircrc">.lircrc<a class="headerlink" href="#lircrc">¶</a></h2><p>
<strong>.lircrc</strong> ist die <a class="internal" href="../lirc.html">LIRC</a>-Datei, in der die Anweisungen gespeichert werden, mit denen über die Tasten der Fernbedienung Programme gesteuert und Befehle ausgeführt werden. Prinzipiell sind alle Befehle, die auch in einem Terminal ausgeführt werden können, über LIRC und <strong>.lircrc</strong> "ferngesteuert" ausführbar.</p><p><strong>.lircrc</strong> ist standardmäßig als versteckte Datei im <a class="internal" href="../homeverzeichnis.html">Homeverzeichnis</a> des Benutzers abgelegt (dort wird bei Ausführung von LIRC zunächst danach gesucht); damit sie von allen Benutzern verwendete werden kann, muss sie mit Root-Rechten als <strong>/etc/lircrc</strong>, ggf. auch als <strong>/etc/lirc/lircrc</strong>, abgelegt werden. Zum Steuern der Programme lassen sich verschiedene Wege wählen, hauptsächlich diese:</p><ul><li><p><a class="crosslink" href="#irexec">irexec</a> ist ein LIRC-Programm, das Befehle ausführen kann; </p></li><li><p><strong>liblirc_client</strong> ist eine Bibliothek, auf die Programme mit "integrierter" LIRC-Unterstützung zurückgreifen; z.B. verwendet  <a class="internal" href="../vlc.html">VLC</a> diese Bibliothek; außerdem muss oft ein Plugin installiert/aktiviert oder der LIRC-Support in den Einstellungen der Programme ermöglicht werden.</p></li></ul><p>
</p><div class="section_2"><h3 id="Syntax">Syntax<a class="headerlink" href="#Syntax">¶</a></h3><p>
Die <strong>.lircrc</strong>-Datei ist eine Textdatei, die in jedem Texteditor<sup><a href="#source-3">[3]</a></sup> erstell- und bearbeitbar ist. Der LIRC-daemon lircd liest bei jeder Betätigung einer Taste die Datei von oben nach unten aus, alle "Treffer" werden der Reihe nach ausgeführt - das ist zum Verständnis einiger Funktionen (z.B. <a class="crosslink" href="#mode">mode</a> oder <a class="crosslink" href="#flags">flags</a>) wichtig. Die Anweisungen in der Datei sind in Blöcken zusammengefasst, die jeweils mit einem <code class="notranslate">begin</code> eingeleitet und mit <code class="notranslate">end</code> abgeschlossen werden müssen, ansonsten ist eine Ausführung nicht möglich:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>begin
  prog = irexec
  button = OK
  config = echo "So funktioniert die .lircrc"
end
</pre></div>
</td></tr></table></div><p>Diese kurze <strong>.lircrc</strong> würde, bei entsprechender Belegung der Taste, <code class="notranslate">So funktioniert die .lircrc</code> im Terminal ausgeben; <code class="notranslate">irexec</code> zu Testzwecken dafür im Vordergrund, also ohne <code class="notranslate">-d</code> laufen lassen. Es lassen sich natürlich wesentlich komplexere Nutzungen realisieren.</p></div><div class="section_2"><h3 id="Neustart">Neustart<a class="headerlink" href="#Neustart">¶</a></h3><p>
Veränderungen an der <strong>.lircrc</strong> werden erst nach einem Neustart des Lirc-Daemons wirksam, der erfolgt im Terminal mit dem Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/lirc restart ## oder
sudo systemctl restart lirc.service ## ab Ubuntu 15.10 </pre></div></div><p>Ansonsten wird zunächst mit den alten Einstellungen weitergearbeitet.</p><table style="width: 75%"><tr class="titel"><td colspan="2">  Bestandteile der .lircrc </td></tr><tr class="kopf"><td>  Zeile </td><td> Erklärung </td></tr><tr><td> <a class="crosslink" href="#prog">prog</a> </td><td> Das Programm, an das sich der Befehl richtet, z.B. <code class="notranslate">irexec</code>. </td></tr><tr><td> <a class="crosslink" href="#remote">remote</a> </td><td> Der Name, den die Fernbedienung in der <strong>lircd.conf</strong> bekommen hat. </td></tr><tr><td> <a class="crosslink" href="#button">button</a> </td><td> Der Name, den die  Taste in der <strong>lircd.conf</strong> bekommen hat. </td></tr><tr><td> <a class="crosslink" href="#repeat">repeat</a> </td><td> Anweisung, wie mit wiederholten Impulsen umgegangen werden soll. </td></tr><tr><td> <a class="crosslink" href="#delay">delay</a> </td><td> Anweisung, nach wie vielen Impulsen ein Befehl umgesetzt werden soll. </td></tr><tr><td> <a class="crosslink" href="#config">config</a> </td><td> Der Befehl, den das Programm ausführen soll. </td></tr><tr><td> <a class="crosslink" href="#mode">mode</a> </td><td> Schaltet in einen Programm-Modus, es werden die Befehle für diesen Modus ausgeführt. </td></tr><tr><td> <a class="crosslink" href="#flags">flags</a> </td><td>  Spezielle Anweisungen ausführen. </td></tr><tr><td> <a class="crosslink" href="#include">include</a> </td><td>  Externe Dateien mit Anweisungen einbinden. </td></tr><tr><td> <a class="crosslink" href="#lircrcd">lircrcd</a> </td><td>  Verschiedene Programm-Modi synchronisieren. </td></tr></table><p>
Kurz gesagt: Welches Programm (<code class="notranslate">prog</code>) soll was tun (<code class="notranslate">config, mode, flags</code>), wenn welche Taste der Fernbedienung (<code class="notranslate">remote, button</code>) wie lange (<code class="notranslate">repeat, delay</code>) betätigt wird.</p><div class="section_3"><h4 id="prog">prog<a class="headerlink" href="#prog">¶</a></h4><p>
Hierüber wird das Programm angesteuert, das per Fernbedienung Anweisungen erhalten soll. Dabei ist <a class="crosslink" href="#irexec">irexec</a> das LIRC-eigene Programm, über das sich alle Befehle, die auch in einem Terminal verwendet werden können, ausführen lassen. Außerdem lassen sich alle Programme mit eigener LIRC-Unterstützung angeben. Sonderfall sind etliche <a class="internal" href="../kde.html">KDE</a>-Programme, die über irexec und <a class="internal" href="../d-bus.html">D-Bus</a>-Befehle gesteuert werden (z.B. <a class="internal" href="../kaffeine.html">Kaffeine</a>, <a class="internal" href="../amarok.html">Amarok</a>).</p></div><div class="section_3"><h4 id="remote">remote<a class="headerlink" href="#remote">¶</a></h4><p>
Diese Angabe ist nur nötig, wenn mehrere Fernbedienungen verwendet werden sollen; der Standardwert ist der Platzhalter "<strong>*</strong>", der aber nicht explizit angegeben werden muss. Der Name der Fernbedienung findet sich im Normalfall in der verwendeten <a class="internal" href="../lirc.html#lircd.conf-einrichten">lircd.conf</a>. Mehr zum Sonderfall mit mehreren Fernbedienungen auf <a class="external" href="http://www.lirc.org/html/configure.html#multiple" rel="nofollow">lirc.org</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p></div><div class="section_3"><h4 id="button">button<a class="headerlink" href="#button">¶</a></h4><p>
Der Name der Taste, die verwendet werden soll. Dabei muss der Name so geschrieben werden, wie er in der <strong>lircd.conf</strong>-Datei verzeichnet ist, allerdings unterscheidet lircd nicht zwischen Groß- und Kleinschreibung. Im Zweifelsfall kann über das Programm <a class="external" href="http://www.lirc.org/html/irw.html" rel="nofollow">irw</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> der jeweils verwendete Tastenname aufgerufen werden. Es lassen sich auch Tastensequenzen festlegen, in dem mehrere <code class="notranslate">button</code>-Zeilen hintereinander verwendet werden (sinnvoll, wenn z.B. ein versehentliches Ausführen eines potentiell "gefährlichen" Befehls  - shutdown o.ä. - verhindert werden soll). Tastensequenzen verwenden so lange die zu Anfang genutzte Fernbedienung bis explizit eine andere angegeben wird; die <code class="notranslate">remote</code>-Anweisung muss daher immer vor den <code class="notranslate">button</code>-Anweisungen stehen. Tastensequenzen funktionieren ggf. auch dann, wenn den Tasten noch anderen Funktionen zugeordnet sind; es werden allerdings sofort auch diese Funktionen ausgeführt; die zweite/letzte Taste sollte dann aber auch (wenn nicht z.B. der Modus gewechselt wurde) zum Ausführen der "gesicherten" Anweisung führen. Eine <a class="crosslink" href="#quit"><code class="notranslate">flags = quit</code></a>-Anweisung zwischen zwei <code class="notranslate">button</code>-Zeilen bleibt dabei interessanterweise wirkungslos; nach dem letzten <code class="notranslate">button</code> gesetzt funktioniert sie aber normal. In Sequenzen kann auch die selbe Taste mehrfach verwendet werden.</p></div><div class="section_3"><h4 id="repeat">repeat<a class="headerlink" href="#repeat">¶</a></h4><p>
Diese Anweisung legt fest, was bei anhaltendem Druck auf eine Taste geschieht. Der Standard-Wert (der auch ohne Angabe verwendet wird) ist <code class="notranslate">0</code>; er führt dazu, dass wiederholte Impulse ignoriert werden. Andere Werte (positve Ganzzahl <code class="notranslate">n</code>) führen dazu, dass die Anweisung in <code class="notranslate">config</code> jedes <code class="notranslate">n</code>-te Mal des Tastendruckes ausgeführt wird, <span class="underline">nicht</span> aber wie oft; das ist abhängig von der Länge des Tastendrucks! Wenn eine Dauerfunktion (wie z.B. für die Lautstärkeregelung) gewünscht wird, kann mit einer <code class="notranslate">repeat</code>-Anweisung festgelegt werden, wie schnell die Änderung vonstatten gehen soll. Ein Dauerdruck erzeugt im Normalfall eine ständige Wiederholung des Impulses, diese wird dann jedes festgelegt Mal ausgeführt. Falls trotz einer solchen Angabe keine Wiederholung des Befehls ausgeführt wird, liegt eventuell ein <a class="internal" href="../lirc.html#Doppeltes-Ausfuehren-von-Befehlen">Problem</a> in der Konfiguration der verwendeten <strong>lircd.conf</strong> und dem verwendeten <code class="notranslate">toggle_bit_mask</code> bzw. <code class="notranslate">pre_data</code>-Wert vor.</p></div><div class="section_3"><h4 id="delay">delay<a class="headerlink" href="#delay">¶</a></h4><p>
Hier lässt sich, ebenfalls durch eine positive Ganzzahl <code class="notranslate">n</code>, festlegen, wie viele Impulse ignoriert werden, bis die in der <code class="notranslate">repeat</code>-Anweisung festgelegte Konfiguration ausgeführt wird. Standard ist ebenfalls <code class="notranslate">0</code>, damit ist diese Funktion zunächst ausgeschaltet. Sinnvoll ist die Verwendung z.B. dann, wenn bei schneller Wiederhol-Rate der Fernbedienung (der <code class="notranslate">gap</code>-Wert in der <strong>lircd.conf</strong> steht für die Zeitspanne zwischen den Impulsen in msec) mehrfaches Senden und Ausführen von Befehlen verhindert werden soll. Die Verwendung ohne einen <code class="notranslate">repeat</code>-Wert führt dazu, dass der Befehl erst verzögert, aber dann auch nur einmal, ausgeführt wird (<code class="notranslate">repeat = 0</code> und <code class="notranslate">delay = 0</code>-Angaben sind allerdings überflüssig, weil Standard...).</p></div><div class="section_3"><h4 id="config">config<a class="headerlink" href="#config">¶</a></h4><p>
Hier steht der eigentliche Befehl, der von dem mit <code class="notranslate">prog</code> angesteuerten Programm ausgeführt werden soll. Es lassen sich (für irexec) in einer Zeile beliebig viele Befehle hintereinander aufreihen (getrennt durch die Zeichenfolge <code class="notranslate">&amp;&amp;</code>), die auf den einen Tastendruck hin ausgeführt werden sollen. Programme mit LIRC-Support lassen das allerdings nicht unbedingt zu (so z.B. <a class="internal" href="../vlc.html">VLC</a>). Zwei (oder mehrere) hintereinander folgende <code class="notranslate">config</code>-Zeilen werden im Wechsel ausgeführt, sodass beim ersten Druck die erste, beim erneutem Druck dann die zweite <code class="notranslate">config</code>-Zeile (etc.) abgearbeitet wird; so lassen sich z.B. Play/Plause-Wechsel-Funktionen erstellen, falls sie in einem Programm nicht vorgesehen sind.</p><p>irexec kann jeden Befehl ausführen, der auch im Terminal verwendbar ist; damit lassen sich alle Programme, Skripte, oder Befehle  - auch mit ggf. gewünschten Parametern - starten; z.B. kann so einem Musik-Player gleich die abzuspielende Playlist mit auf den Weg gegeben werden.</p><p>Um Zeichenfolgen zu übergeben, die nicht ohne weiteres darstellbar sind, lassen sich alle in <a class="internal" href="../programmiersprache.html#C">C</a> üblichen "escape"-Sequenzen ( wie <code class="notranslate">\n</code> = line-feed, <code class="notranslate">\r</code> = 
<span class="key">⏎</span> , <code class="notranslate">\t</code> = 
<span class="key">Tab ⇆</span> , <code class="notranslate">\e</code> = 
<span class="key">Esc</span> , <code class="notranslate">\&lt;n&gt;</code> = ASCII-Code in oktaler Darstellung, <code class="notranslate">\x&lt;n&gt;</code> = ASCII-code in hexadezimaler Darstellung, <code class="notranslate">\\</code> = backslash) verwenden. Auch die 
<span class="key">Strg</span> -Taste lässt sich so darstellen : <code class="notranslate">\C</code> steht z.B. für 
<span class="key">Strg</span>  + 
<span class="key">C</span> .</p><p>Welche Befehle für Programme mit LIRC-Support verwendet werden können, lässt sich meist in der Programmdokumentation in Erfahrung bringen oder wird in den FAQs der jeweiligen Web-Seite der Programme erklärt. Hilfreich kann auch eine Websuche nach dem gewünschten Programm und <code class="notranslate">lircrc</code> sein.</p><p>Damit Programme mit integrierter LIRC-Unterstützung, die mit einem irexec-Befehl gestartet werden, die Verwendung der Fernbedienung für andere Anwendungen nicht blockieren, sollte ans Ende der programmaufrufenden <code class="notranslate">config</code>-Zeile ein <code class="notranslate">&amp;</code>-Zeichen gestellt werden (z.B. <code class="notranslate">config = rhythmbox &amp;</code>). Wenn es fehlt, werden die Befehle für weitere Anwendungen solange nicht ausgeführt, wie das aktuell gesteuerte Programm läuft; diese Anweisungen werden zunächst gespeichert und dann erst nach Abschluss des laufenden Programms ausgeführt - was zu unbeabsichtigten Folgen führen kann. Wer z.B. wiederholt die Taste zum Starten eines Programms gedrückt hatte, sieht sich später mit immer neuem Starten dieses Programms konfrontiert, so oft, wie die Taste zuvor - vermeintlich wirkungslos - gedrückt worden war...</p></div><div class="section_3"><h4 id="mode">mode<a class="headerlink" href="#mode">¶</a></h4><p>
Hiermit lassen sich Befehle für ein Programm oder eine Funktion zusammenfassen. Ein "Modus" wird zunächst mit einer Taste gestartet (z.B. zusammen mit dem Startaufruf eines Programms; der Wechsel in den Modus erfolgt sofort); die Konfigurationsblöcke für diesen Modus werden mit <code class="notranslate">begin &lt;Modename&gt;</code> und <code class="notranslate">end &lt;Modename&gt;</code> eingeschlossen. Damit lassen sich die Steuerbefehle für verschiedene Programme trennen und die selben Tasten in verschiedenen Programmen für unterschiedliche Funktionen verwenden, ohne dass sie sich "ins Gehege kommen". Innerhalb eines <code class="notranslate">mode</code>-Blocks lassen sich keine weiteren <code class="notranslate">mode</code>-Blöcke verschachteln; diese müssen immer außerhalb definiert werden.</p><p>Da LIRC die <strong>.lircrc</strong> grundsätzlich bei jedem Tastendruck von oben nach unten ausliest, kann es mit Modi u.U. zu ungewolltem Ausführen von Befehlen kommen. Die <code class="notranslate">mode</code>-Anweisungsblöcke werden <span class="underline">zusätzlich</span> dann verwendet, wenn der entsprechende Modus gestartet wurde; allerdings schließt die Verwendung einer Taste in einem Modus <span class="underline">nicht</span> aus, dass auch ein Befehl dieser Taste außerhalb eines Modus ausgeführt wird. Wer also z.B. die <em>OK</em>-Taste mit einer Funktion (ohne Modus) belegt hat, und die <em>OK</em>-Taste auch in einem Modus verwendet, wird feststellen, dass beide Funktionen ausgeführt werden, wenn die Taste innerhalb des Modus gedrückt wird. Die Reihenfolge ist dabei abhängig von der Position der Konfigurationsblöcke in der <strong>.lircrc</strong>. Abhilfe kann das <a class="crosslink" href="#flags">quit-Flag</a> schaffen; außerdem sollte man ggf. die <code class="notranslate">mode</code>-Blöcke an den Anfang der <strong>.lircrc</strong> stellen, <span class="underline">vor</span> die "allgemeinen" Anweisungen und vor jene, die den jeweiligen Modus aufrufen (mehr dazu siehe <a class="crosslink" href="#Die-Relevanz-der-Reihenfolge">Die Relevanz der Reihenfolge</a>).</p><p>Programme mit integriertem LIRC-Support lassen sich, wenn sie innerhalb einer <code class="notranslate">mode</code>-Funktion gesteuert werden sollen, anscheinend nur mit einem Modus verwenden, der den Namen des betreffenden Programms hat; sie lassen sich in anderen Modi nicht aufrufen, sondern suchen "ihren" Modus. (Wer z.B. einen <code class="notranslate">mode = music</code> erstellt und darin versucht, <code class="notranslate">prog = rhythmbox</code>-Befehle aufzurufen, dürfte keinen Erfolg haben, der Modus muss anscheinend <code class="notranslate">mode = rhythmbox</code> heißen).</p><p>Außerdem lesen Programme mit LIRC-Support beim Start die <strong>.lircrc</strong> aus und starten dann automatisch in dem Modus mit dem Namen der Anwendung, wenn dieser vorhanden ist. Ein explizites Starten des Modus ist nicht nötig, die Programme können so mit der Fernbedienung gesteuert werden wie es im Modus festgelegt ist. Das kann allerdings bei Start mehrerer Programme dazu führen, dass die Modi nicht mehr sauber getrennt werden und alle Programme gleichzeitig auf denselben Tastendruck reagieren. Eigentlich soll <a class="crosslink" href="#lircrcd">lircrcd</a> das wohl verhindern; falls das nicht funktioniert, kann das Problem umgangen werden, in dem die Programme immer nur per Fernbedienung <span class="underline">mit</span> dem entsprechenden Modus-Eintrag gestartet werden.</p><p>Die <code class="notranslate">mode</code>-Funktion lässt sich auch ohne andere Anweisungen verwenden; so kann z.B. innerhalb eines Modus mit einem Tastendruck direkt in einen anderen Modus umgeschaltet werden; das kann sinnvoll sein, wenn zwischen zwei laufenden Anwendungen direkt umgeschaltet, oder eine Anwendung gesteuert werden soll, die zunächst nicht über die Fernbedienung gestartet wurde, deren Modus aber an den Startaufruf gekoppelt war.</p><p>Aus der offiziellen <a class="external" href="http://www.lirc.org/html/configure.html#lircrc_format" rel="nofollow">LIRC-Dokumentation</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> noch folgendes Zitat:
</p><blockquote><p>Caveat: In order to avoid many identical entries all actions that modify the mode a program currently is in are independent of the prog token. </p></blockquote><p>Übersetzung: "Achtung: Um eine Vielzahl gleichlautender Einträge zu vermeiden, sind alle Aktionen, die den Modus eines Programmes, in dem es sich gerade befindet, modifizieren, unabhängig von der "<code class="notranslate">prog</code>"-Anweisung."</p><p>Theoretisch soll das wohl bedeuten, dass, wenn für ein Programm der Modus geändert wird, im neuen <code class="notranslate">mode</code>-Block auf die <code class="notranslate">prog</code>-Anweisung verzichtet werden kann. In der Praxis aber lassen sich ggf. Programme mit LIRC-Support sowieso nur in dem Modus mit dem eigenen Namen steuern... Im Zweifelsfall daher weiterhin eine <code class="notranslate">prog</code>-Anweisung verwenden.</p></div><div class="section_3"><h4 id="flags">flags<a class="headerlink" href="#flags">¶</a></h4><p>
Unter "flags" werden spezielle Steueranweisungen verstanden, die sich im Zusammenhang mit bestimmten anderen Anweisungen verwenden lassen. Sie werden mit
"<code class="notranslate">flags = &lt;Name des flags&gt;</code>" aufgerufen.
</p><table style="width: 98%"><tr class="titel"><td colspan="2">  Verwendbare "flags" </td></tr><tr class="kopf"><td>  Name </td><td> Funktion </td></tr><tr><td> <code class="notranslate">once</code> </td><td> Nur zusammen mit einer <code class="notranslate">mode</code>-Anweisung verwendbar; bewirkt, dass der dazugehörige <code class="notranslate">config</code>-Befehl nur das erste Mal, wenn der Modus aufgerufen wird, an die entsprechende Anwendung übergeben wird - oder erst dann wieder, nachdem der Modus explizit verlassen wurde. Nutzungsmöglichkeit: Mit einem bestimmten Modus-Aufruf gleichzeitig ein Programm zu starten. </td></tr><tr><td> <code class="notranslate">quit</code> </td><td> <a class="crosslink anchor" href="#quit" id="quit"></a>Normalerweise werden bei einem Tastendruck alle Anweisungs-Blöcke daraufhin überprüft, ob sie ausgeführt werden müssen. Mit diesem "flag" lässt sich das Ausführen weiterer Befehle, die mit der Taste verbunden sind, sofort unterbinden. Verwendung: sinnvoll, wenn nur die Funktion einer Taste innerhalb eines Modus ausgeführt werden soll, und nicht die außerhalb des Modus (dabei Reihenfolge der betroffenen Blöcke/Modi innerhalb der <strong>.lircrc</strong> beachten!). Wenn z.B. mit einer Taste ein Modus-Wechsel erfolgt, wird dieser sofort ausgeführt; ohne das <code class="notranslate">quit</code>-Flag würden dann auch weitere "Treffer", die nach dieser Anweisung in der <strong>.lircrc</strong> stehen, direkt ausgeführt. </td></tr><tr><td> <code class="notranslate">mode</code> </td><td> Nur innerhalb eines Modus verwendbar; führt dazu, dass der aktuelle Modus verlassen wird. Dabei wird nicht in einen eventuell zuvor verwendeten Modus zurückgeschaltet, sondern es werden alle Modi beendet! Ggf. statt dessen <code class="notranslate">mode = &lt;Modename des letzten Modus&gt;</code> zum Wiederaufruf verwenden. </td></tr><tr><td> <code class="notranslate">startup_mode</code> </td><td> Lässt ein Programm unmittelbar den Modus verwenden, der in einer nachfolgenden <code class="notranslate">mode</code>-Anweisung spezifiziert ist. </td></tr><tr><td> <code class="notranslate">toggle_reset</code> </td><td> Verwendbar, wenn mehrere <code class="notranslate">config</code>- Zeilen in einem Block benutzt werden. Im Normalfall "merkt" lircd sich, welche <code class="notranslate">config</code>-Zeile ausgeführt wurde, und ruft bei weiterem Tastendruck die nächste Zeile auf. <code class="notranslate">toggle-reset</code> führt dazu, dass , wenn zwischenzeitlich (eine) andere Taste(n) verwendet wurde(n), bei erneutem Aufruf wieder der Befehl der ersten Zeile ausgeführt wird. </td></tr></table><p>
</p></div><div class="section_3"><h4 id="include">include<a class="headerlink" href="#include">¶</a></h4><p>
Die <strong>.lircrc</strong>-Datei kann, um bei umfangreicheren Vorhaben mit mehreren zu steuernden Programmen/Funktionen die  Übersicht zu behalten, unterteilt werden; die einzelnen Dateien können dann mit <code class="notranslate">include /Pfad/zur/Datei</code> aufgerufen werden. <code class="notranslate">includes</code> werden dabei in der Reihenfolge genauso verarbeitet, wie andere Anweisungen: Trifft LIRC auf einen <code class="notranslate">include</code>-Befehl, wird zunächst die angegebene Datei (von oben nach unten) ausgelesen, um dann in der eigentlichen <strong>.lircrc</strong> weiter fortzufahren. So lassen sich Funktionen, die in allen Programmen zur Verfügung stehen sollen (z.B. Lautstärkeregelung), in einer Datei zusammenfassen, und die Steuerbefehle für die einzelnen Programme jeweils in einer entsprechend benannten Datei ablegen. Sie können dann gemeinsam, z.B. in einem Modus-Eintrag, aufgerufen werden:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>...
begin rhythmbox
include ~.lirc/volume
include ~.lirc/rhythmbox
end rhythmbox

begin vlc
include ~.lirc/volume
include ~.lirc/vlc
end vlc
</pre></div>
</td></tr></table></div></div><div class="section_3"><h4 id="lircrcd">lircrcd<a class="headerlink" href="#lircrcd">¶</a></h4><p>
Weiteres Zitat aus der offiziellen Dokumentation:</p><blockquote><p>If you start a LIRC client program, it reads your ~/.lircrc and reacts only on prog= entries which point to itself. All programs should give you the possibility to use an alternative config file. If you have included more than one program in your .lircrc, then start all these programs, they react only to their according entries in .lircrc. This also leads to a disadvantage of the mode concept. If you don't start all client programs at a time the mode they have to maintain may differ between applications. Also key sequences might not be recognized equally because all programs then don't have the same starting point. In order to solve this problem there is the new lircrcd program since version 0.8.0. lircrcd's purpose is to synchronise all clients and maintain the current mode. In order to use the lircrcd feature you have to explicitly enable it by adding the following line at the beginning of the file:</p><p>#! lircrcd</p></blockquote><p>
Übersetzt:<br/>"Wenn ein Programm mit LIRC-Support gestartet wird, liest es die <strong>~/.lircrc</strong>-Datei aus und reagiert nur auf <code class="notranslate">prog =</code>-Einträge, die auf eben dieses verweisen. Alle Programme sollten die Möglichkeit bieten, eine alternative Konfigurations-Datei zu verwenden. Wenn in eine <strong>.lircrc</strong>-Datei mehr als ein Programm aufgenommen wurde, und dann all diese Programme starten, reagieren sie nur auf ihre entsprechenden <strong>.lircrc</strong>-Einträge. Das zeigt auch einen Nachteil des Modus-Konzeptes auf. Wenn nicht alle Programme mit LIRC-Unterstützung gleichzeitig starten, kann der Modus, den sie verwalten müssen, zwischen Anwendungen differieren. Auch könnten Tasten-Sequenzen nicht als gleiche/entsprechend erkannt werden, denn dann haben nicht alle Programme den selben Startzeitpunkt. Um dieses Problem zu lösen, existiert seit Version 0.8.0 das neue Programm lircrcd. Aufgabe von lircrcd ist es, alle Programme mit LIRC-Support zu synchronisieren, und den derzeitigen Modus zu verwalten. Um diese Funktion nutzen zu können, muss sie explizit durch Aufnahme der Zeile <code class="notranslate">#! lircrcd</code> am Anfang der <strong>.lircrc</strong> ermöglicht werden."</p><p>Christoph Bartelmus (der LIRC-Entwickler) erläutert diesen Passus folgendermaßen:</p><blockquote><p>[Verwendung der .lircrc] ohne lircrcd:<br/>Jedes Programm hat jeweils eine Variable, die heißt: mode</p><p>Da die Programme in der Regel nicht gleichzeitig gestartet werden, kann es  
leicht vorkommen, dass sich mode von Programm A und mode von Programm B  
voneinander unterscheiden. Das Verhalten ist dann nicht leicht  
nachvollziehbar.</p><p>Mit lircrcd:<br/>Es gibt nur noch eine Variable mode, die von lircrcd verwaltet wird und  
alle Programme fragen bei lircrcd nach, wie der Inhalt von mode ist.
Also sind alle im gleichen Modus, unabhängig davon wann sie gestartet  
wurden.</p></blockquote><p>
Bei der Verwendung ohne lircrcd "suchen" die Programme mit LIRC-Support ohne explizite Modus-Angabe (also wenn sie von "außerhalb" gestartet wurden) nach Einträgen in der <strong>.lircrc</strong>, aber auch in den Modus-Blöcken! Das kann dazu führen, dass bei mehreren so gestarteten Programmen ohne <code class="notranslate">mode</code>-Angabe nicht eindeutig ist, welcher Befehl ausgeführt werden soll. Ggf. werden bei Tastenbelegung für mehrere Programme die Anweisungen gleichzeitig ausgeführt, z.T. aber wird nicht unbedingt nach Reihenfolge abgearbeitet; das Verhalten wird damit unberechenbar. lircrcd soll diese "Modi" der Programme synchronisieren. Mit der Verwendung von lircrcd scheinen "außerhalb" gestartete Programme ohne Modusangabe allerdings nur auf der "Grundebene" der <strong>.lircrc</strong> nach entsprechenden <code class="notranslate">prog</code>-Anweisungen zu suchen. Wenn sich dort aber keine finden lassen, weil sie alle im entsprechenden <code class="notranslate">mode</code>-Block stehen, funktionieren die Tasten ohne einen expliziten Wechsel in den entsprechenden Modus nicht. Ggf. kann dann eine <code class="notranslate">prog</code>-Anweisung außerhalb des <code class="notranslate">mode</code>-Blocks mit einem entsprechendem Moduswechsel das Programm "auf die richtige Spur" setzen.</p><p>Die Verwendung dieser Funktion mit <a class="internal" href="../rhythmbox.html">Rhythmbox</a> (und auch <a class="internal" href="../totem.html">Totem</a>) ist dabei anscheinend fehlerhaft; <code class="notranslate">prog</code>-Anweisungen werden mit der Verwendung von <code class="notranslate">#! lircrcd</code> ggf. nicht ausgelesen/ausgeführt (siehe auch <a class="crosslink topic" href="https://forum.ubuntuusers.de/topic/wie-funktioniert-lircrcd/">hier</a> im Forum). Abhilfe schafft es wohl nur, auf lircrcd zu verzichten, und alle Programme immer mit einer entsprechenden <code class="notranslate">mode</code>-Anweisung mit der Fernbedienung zu starten. Dann kommt es nicht zu Problemen mit unklaren Modi (siehe <a class="crosslink" href="#Beispiele">Beispiele</a>).</p></div></div><div class="section_2"><h3 id="Die-Relevanz-der-Reihenfolge">Die Relevanz der Reihenfolge<a class="headerlink" href="#Die-Relevanz-der-Reihenfolge">¶</a></h3><p>
lircd liest die <strong>.lircrc</strong> bei jedem empfangenen Impuls von oben nach unten aus. Anweisungen in <code class="notranslate">mode</code>-Blöcken werden bei aufgerufenem Modus <span class="underline">zusätzlich</span> zu den "Grundbefehlen" berücksichtigt. Das hat entscheidende Auswirkungen für die Funktion der <strong>.lircrc</strong>, kann aber auch gezielt eingesetzt werden.</p><p>Zunächst ein kurzes Beispiel, bei dem das Vertauschen von Blöcken zu völlig unterschiedlichen Ergebnissen führt:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>begin order
begin
    button = OK
    prog = irexec
    config = echo "Dieses wird zuletzt ausgegeben"
end
end order

begin
    button = OK
    prog = irexec
    config = echo "Dieses wird zuerst ausgegeben"
    mode = order
    flags = quit
end   
</pre></div>
</td></tr></table></div><p>Als Ergebnis wird beim ersten Tastendruck <code class="notranslate">Dieses wird zuerst ausgegeben</code> erscheinen, beim zweiten ist der Modus gewechselt, und auch die Anweisung im <code class="notranslate">order</code>-Block erscheint. Sie steht <span class="underline">vor</span> der zweiten Block, also werden beide Anweisungen so ausgegeben:</p><pre class="notranslate">Dieses wird zuletzt ausgegeben
Dieses wird zuerst ausgegeben</pre><p>und ebenfalls für jeden weiteren Tastendruck. Das <code class="notranslate">quit</code>-Flag hat keinen Einfluss, da keine weitere Anweisung folgt.</p><p>Werden die Blöcke vertauscht</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>begin
    button = OK
    prog = irexec
    config = echo "Dieses wird zuerst ausgegeben"
    mode = order
    flags = quit
end
 
begin order
begin
    button = OK
    prog = irexec
    config = echo "Dieses wird zuletzt ausgegeben"
end
end order
</pre></div>
</td></tr></table></div><p>führt dies beim ersten Tastendruck ebenfalls zu</p><pre class="notranslate">Dieses wird zuerst ausgegeben</pre><p>Allerdings wird es auch bei jedem weiteren Druck ausgegeben. Es erfolgt zwar eine Wechsel in den <code class="notranslate">order</code>-Modus, allerdings verhindert das <code class="notranslate">quit</code>-Flag die Ausführung der zweiten Funktion. <span class="underline">Ohne</span> <code class="notranslate">quit</code>-Flag würde beim zweiten (und jedem weiteren Tastendruck)</p><pre class="notranslate">Dieses wird zuerst ausgegeben
Dieses wird zuletzt ausgegeben</pre><p>erscheinen. <span class="underline">Mit</span> <code class="notranslate">quit</code>-Flag im <code class="notranslate">order</code>-Block würde ab dem zweiten Druck nur noch</p><pre class="notranslate">Dieses wird zuerst ausgegeben</pre><p>produziert; die Ausgabe der anderen Anweisung würde unterbunden.</p><p>Daher sollte man, wenn man tatsächlich die Möglichkeit haben möchte, alle Tasten - ohne Ausführung weiterer Befehle -  in allen Modi zu verwenden, 
</p><ul><li><p>die <code class="notranslate">mode</code>-Blöcke <span class="underline">vor</span> die anderen Anweisungen stellen</p></li><li><p>in den Anweisungen der <code class="notranslate">mode</code>-Blöcke ggf. ein <code class="notranslate">quit</code>-Flag setzen.</p></li></ul><p>
Allerdings kann man die Reihenfolge des Abarbeitens der <strong>.lircrc</strong>-Blöcke auch gezielt verwenden: Wer z.B. in mehreren Programm-Modi Tasten mit der selben Funktion belegen möchte (Start eines anderen Programms, Lautstärkeregelung etc.), kann für diese Befehle einen eigenen "Steuer"-Modus erstellen. Dieser muss dann in der <strong>.lircrc</strong> <span class="underline">nach</span> den Programm-Modi stehen; die in den Programm-Modi verwendete Taste braucht nur noch die Anweisung <code class="notranslate">mode = steuermodus</code>, womit sofort in diesen Modus gewechselt wird. Ohne <code class="notranslate">quit</code>-Flag im Programm-Modus wird dann die Anweisung umgehend im neuen Modus ausgeführt; mit einem weiteren Modus-Wechsel/<code class="notranslate">flags = mode</code> in dieser Anweisung sind ganze "Befehlsketten" realisierbar (siehe auch <a class="crosslink" href="#Beispiele">Beispiele</a>).</p></div><div class="section_2"><h3 id="Spezielle-Programme-fuer-die-lircrc">Spezielle Programme für die .lircrc<a class="headerlink" href="#Spezielle-Programme-fuer-die-lircrc">¶</a></h3><p>
</p><div class="section_3"><h4 id="irexec">irexec<a class="headerlink" href="#irexec">¶</a></h4><p>
<a class="external" href="http://www.lirc.org/html/irexec.html" rel="nofollow">irexec</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist im <strong>lirc</strong>-Paket enthalten. irexec sendet beliebige Befehle auf der Kommandozeilen-Ebene und ermöglicht es so, alle Programme oder Befehle zu starten und zu steuern, soweit diese auch in einem Terminal bedienbar sind. Dabei greift es auf <strong>.lircrc</strong> im <a class="internal" href="../homeverzeichnis.html">Homeverzeichnis</a> zurück. Damit die Befehle umgesetzt werden, muss irexec (zunächst im Terminal) als normaler Benutzer gestartet werden:</p><div class="bash"><div class="contents"><pre class="notranslate">irexec -d </pre></div></div><p>Um den Befehl nicht nach jedem Systemstart manuell aufrufen zu müssen sollte die <strong>~/.profile</strong> die folgende Zeile enthalten:</p><pre class="notranslate">/usr/bin/irexec -d</pre><p>Möchte man das zentral für jedem Systembenutzer konfigurieren, so kann der Aufruf auch in <strong>/etc/profile</strong> hinzugefügt werden.</p><div class="section_4"><h5 id="irexec-als-Debugging-Werkzeug">irexec als Debugging-Werkzeug<a class="headerlink" href="#irexec-als-Debugging-Werkzeug">¶</a></h5><p>
Um zu überprüfen, ob die <strong>.lircrc</strong>-Datei formal funktionsfähig ist, kann irexec verwendet werden. Im Terminal nicht als Hintergrund-Prozess gestartet (<span class="underline">ohne</span> die Option <code class="notranslate">-d</code>), liest irexec die Datei aus und meldet Syntaxfehler, wenn die Konfiguration fehlerhaft ist, also z.B. <code class="notranslate">end</code>-Einträge fehlen, oder Modi formal falsch gesetzt sind. Inwieweit allerdings "semantische" Fehler vorliegen, lässt sich so nicht feststellen. Unerwartete Ergebnisse treten - verständlicherweise -  z.B. dann auf, wenn in einem Modus versehentlich die selbe Taste für verschiedene Funktionen verwendet werden soll (das ist natürlich möglich und manchmal auch sinvoll).</p></div></div><div class="section_3"><h4 id="irxevent">irxevent<a class="headerlink" href="#irxevent">¶</a></h4><p>
irxevent befindet sich im Paket</p><ul><li><p><strong>lirc-x</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install lirc-x </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install lirc-x </pre></div></div><p>
</p></div></div><p><a class="external" href="http://www.lirc.org/html/irxevent.html" rel="nofollow">irxevent</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist in der Lage, einzelne Tasten oder Tastenkombinationen auf dem Keyboard an bestimmte Anwendungen zu schicken. Zappte man bisher z.B. mit den Pfeiltasten auf der Tastatur durch seine Senderliste, kann das nun auch per Fernbedienung erledigt werden. Die Syntax in <strong>.lircrc</strong> unter <code class="notranslate">config</code> ist dabei: <code class="notranslate">Key</code> (d.h. es folgt eine Taste) <code class="notranslate">&lt;Name der Taste&gt;</code> (beschrieben unter <strong>/usr/share/doc/lirc/irxevent.keys</strong>) <code class="notranslate">&lt;Name des Programms&gt;</code>, als  Beispiel <code class="notranslate">config = Key alt-ctrl-t x-session-manager</code>. Bei entsprechender Tastenkombination lässt sich so zum Beispiel der Zoom von Compiz ausführen. Genauere Informationen finden sich in der <a class="internal" href="../man.html">manpage</a> des Programms. Damit die Befehle umgesetzt werden können, muss irxevent (zunächst im Terminal) als normaler Benutzer gestartet werden:</p><div class="bash"><div class="contents"><pre class="notranslate">irxevent -d </pre></div></div><p>Auch hier gilt: Um es dann dauerhaft nutzen zu können, empfiehlt es sich, es schon beim Systemstart, z.B. durch Eintrag in die <a class="internal" href="../rc.local.html">rc.local</a>, aufzurufen.</p></div><div class="section_3"><h4 id="xte">xte<a class="headerlink" href="#xte">¶</a></h4><p>
Manchmal kennt man den genauen Namen eines Programms, das aufgerufen wird, wenn man die Tastenkombination <em>XY</em> drückt, gar nicht. Oder man möchte die Zifferntasten in allen Anwendungen so nutzen wie den Numblock der Tastatur. Abhilfe schafft dabei das Programm xte. Mit ihm lassen sich vom Terminal aus alle Tasten des Keyboards simulieren, sodass für den Rechner kein Unterschied zwischen einem "echten" Tastendruck und dem Befehl von xte  erkennbar ist. xte befindet sich im Paket</p><ul><li><p><strong>xautomation</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install xautomation </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install xautomation </pre></div></div><p>
</p></div></div><p>Um das Programm in Verbindung mit LIRC nutzen zu können, wird es in <strong>.lircrc</strong> mittels irexec gestartet. Die relevante Zeile sieht dabei folgendermaßen aus: <code class="notranslate">config = xte 'key 1'</code>, oder für eine Tastenkombination: <code class="notranslate">config = xte 'keydown Alt_L' 'keydown 2' 'keyup Alt_L' 'keyup 2'</code>. Die Namen der Tasten sind in der manpage des Programms beschrieben.</p></div></div><div class="section_2"><h3 id="Automatisches-Erstellen-einer-lircrc">Automatisches Erstellen einer .lircrc<a class="headerlink" href="#Automatisches-Erstellen-einer-lircrc">¶</a></h3><p>
Um automatisch eine <strong>.lircrc</strong>-Datei zu erstellen, kann das Programm <strong>mythbuntu-lirc-generator</strong> verwendet werden (gleichnamiges Paket (<em>universe</em>) installieren). Es generiert mit den Angaben aus der <strong>lircd.conf</strong> eine Steuerungsdatei, die bei Bedarf weiter ausgebaut werden kann. Dabei werden Konfigurationen für die Programme <a class="internal" href="../mythtv.html">MythTV</a>, <a class="internal" href="../archiv/elisa_media_center.html">Elisa</a>, <a class="internal" href="../mplayer.html">MPlayer</a>, <a class="internal" href="../totem.html">Totem</a>, <a class="internal" href="../vlc.html">VLC</a>, <a class="internal" href="../xine.html">XINE</a>, und <a class="external" href="http://x.mame.net/german/" rel="nofollow">Xmame/Xmess</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> erstellt. Es wird eine kurze <strong>.lircrc </strong>erstellt, mit <code class="notranslate">include</code>-Befehlen werden die Konfigurationen für die einzelnen Programme aus dem angelegten Ordner <strong>~/.lirc</strong> aufgerufen (die automatisch erstellten <code class="notranslate">repeat = 0</code> und <code class="notranslate">delay = 0</code>-Anweisungen sind so allerdings überflüssig).</p><div class="section_3"><h4 id="Basisdateien">Basisdateien<a class="headerlink" href="#Basisdateien">¶</a></h4><p>
<strong>.lircrc</strong>
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>#Custom lircrc generated via mythbuntu-lirc-generator
#All application specific lircrc files are within ~/.lirc
include ~/.lirc/mythtv 
include ~/.lirc/mplayer 
include ~/.lirc/xine 
include ~/.lirc/vlc 
include ~/.lirc/xmame 
include ~/.lirc/xmess 
include ~/.lirc/totem 
include ~/.lirc/elisa 
</pre></div>
</td></tr></table></div><p><strong>~/.lirc/totem</strong>
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span># LIRCRC Auto Generated by Mythbuntu Lirc Generator
# Author(s): Mario Limonciello, Nick Fox
# Created for use with Mythbuntu
begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = INFO
    config = show_playing
    repeat = 0
    delay = 0
end

begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = Play
    config = play_pause
    repeat = 0
    delay = 0
end

begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = PAUSE
    config = pause
    repeat = 0
    delay = 0
end

begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = Mute
    config = mute
    repeat = 0
    delay = 0
end

begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = Vol-
    config = volume_down
    repeat = 0
    delay = 0
end

begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = Up
    config = up
    repeat = 0
    delay = 0
end

begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = Vol+
    config = volume_up
    repeat = 0
    delay = 0
end

begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = Down
    config = down
    repeat = 0
    delay = 0
end

begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = Right
    config = right
    repeat = 0
    delay = 0
end

begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = FF
    config = seek_forward
    repeat = 0
    delay = 0
end

begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = DVD
    config = play_dvd
    repeat = 0
    delay = 0
end

begin
    remote = Terratec_Cinergy_HT_PCI_
    prog = totem
    button = Left
    config = left
    repeat = 0
    delay = 0
end
</pre></div>
</td></tr></table></div></div></div><div class="section_2"><h3 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h3><p>
Als Veranschaulichung einiger Möglichkeiten eine kommentierte <strong>.lircrc</strong>, über die die Programme <a class="internal" href="../vagalume.html">Vagalume</a>, <a class="internal" href="../vlc.html">VLC</a> und <a class="internal" href="../rhythmbox.html">Rhythmbox</a> gesteuert werden können. Ebenfalls ist die Mausbedienung per Fernbedienung vorgesehen, außerdem ist das Herunterfahren des Rechners möglich (funktioniert so allerdings nur unter <a class="internal" href="../gnome.html">GNOME</a>). Die <code class="notranslate">echo</code>-Anweisungen in den <code class="notranslate">config</code>-Zeilen sind optional, sie geben die jeweils ausgeführte Aktion im Terminal wieder. So kann kontrolliert werden, ob die <code class="notranslate">mode</code>-Wechsel wie gewünscht vonstatten gehen (Voraussetzung: irexec wird nicht als daemon ausgeführt). Der Wechsel der Arbeitsflächen mit <a class="crosslink" href="#xte">xte</a> funktioniert natürlich nur, wenn die entsprechende Tastenkombinationen entsprechend eingestellt sind (siehe dazu auch im <a class="crosslink post" href="https://forum.ubuntuusers.de/post/1840983/">Forum</a>).</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span># Programm-Modi, Befehle werden per "include" aus einzelnen Dateien ausgelesen:
begin rhythmbox
    include ~/.lirc/rhythmbox
    include ~/.lirc/maus
end rhythmbox

begin vagalumectl
    include ~/.lirc/vagalume
    include ~/.lirc/maus
end vagalumectl

begin kaffeine
    include ~/.lirc/kaffeine
end kaffeine

begin vlc
    include ~/.lirc/vlc
    include ~/.lirc/maus
end vlc

begin maus
    include ~/.lirc/maus
end maus

begin shut

# "Sicherheitstaste" um aus versehentlich aufgerufenem Herunterfahr-Modus zurückzukommen:
begin
    button = BACK
    prog = irexec
    config = echo "mode normal aus shut"
    mode = normal
end

# Tasten-Sequenz zum tatsächlichen Herunterfahren:

begin
    prog = irexec
    button = DELETE
    button = POWER
    config = gnome-power-cmd.sh shutdown
end

end shut

# Befehle des Normal-Modus:
begin normal

# Starttasten für die Programme; gleichzeitig wird in den entsprechenden Modus gewechselt und auf eine andere Arbeitsfläche geschaltet:
begin
    prog = irexec
    button = TV
    config = echo "mode kaffeine aus startup" &amp;&amp; xte 'keydown Control_L' 'keydown Shift_L' 'keydown 4' 'keyup Control_L' 'keyup Shift_L' 'keyup 4' &amp;&amp; kaffeine &amp;
    mode = kaffeine
end

# VLC wird hier gleich als DVB-T-Player mit entsprechender channels.conf gestartet:
begin
    prog = irexec
    button = VIDEO
    config = echo "mode vlc aus startup" &amp;&amp; xte 'keydown Control_L' 'keydown Shift_L' 'keydown 2' 'keyup Control_L' 'keyup Shift_L' 'keyup 2' &amp;&amp; vlc /pfad/zur/channels.conf &amp;
    mode = vlc
end

begin
    prog = irexec
    button = MUSIC
    config = echo "mode vagalumectl aus startup" &amp;&amp; xte 'keydown Control_L' 'keydown Shift_L' 'keydown 1' 'keyup Control_L' 'keyup Shift_L' 'keyup 1' &amp;&amp; vagalumectl start &amp;
    mode = vagalumectl
end

begin
    prog = irexec
    button = DVD
    config = echo "mode rhythmbox aus startup" &amp;&amp; xte 'keydown Control_L' 'keydown Shift_L' 'keydown 3' 'keyup Control_L' 'keyup Shift_L' 'keyup 3' &amp;&amp; rhythmbox &amp;
    mode = rhythmbox
end

# Tasten zum Wechseln des Modus:

begin
    button = TEXT
    prog = irexec
    config = echo "mode maus aus mode normal"
    mode = maus
end

begin
    button = POWER
    prog = irexec
    config = echo "mode shut aus mode normal"
    mode = shut
end

# Aufruf von laufenden Programmen mit Wechsel auf entsprechend Arbeitsfläche (wird auch aus den einzelnen Modi heraus verwendet):
begin
    button = GREEN
    prog = irexec
    config = echo "mode vlc aus mode normal"&amp;&amp; xte 'keydown Control_L' 'keydown Shift_L' 'keydown 2' 'keyup Control_L' 'keyup Shift_L' 'keyup 2' 
    mode = vlc
end

begin
    button = RED
    prog = irexec
    config = echo "mode kaffeine aus mode normal" &amp;&amp; xte 'keydown Control_L' 'keydown Shift_L' 'keydown 4' 'keyup Control_L' 'keyup Shift_L' 'keyup 4' &amp;&amp;  dcop kaffeine KaffeineIface pause 
    mode = kaffeine
end

begin
    button = BLUE
    prog = irexec
    config = echo "mode vagalumectl aus mode normal" &amp;&amp; xte 'keydown Control_L' 'keydown Shift_L' 'keydown 1' 'keyup Control_L' 'keyup Shift_L' 'keyup 1' &amp;&amp; vagalumectl volumeup 1
    mode = vagalumectl
end

begin
    button = YELLOW
    prog = irexec
    config = echo "mode rhythmbox aus startup" &amp;&amp; xte 'keydown Control_L' 'keydown Shift_L' 'keydown 3' 'keyup Control_L' 'keyup Shift_L' 'keyup 3' &amp;&amp; rhythmbox-client --no-start --play &amp;
    mode = rhythmbox
end

end normal

# Inbetriebnahme der Fernbedienung mit der BACK-Taste:
begin
    button = BACK
    prog = irexec
    config = echo "mode normal start"
    mode = normal
end
</pre></div>
</td></tr></table></div><p>Dazu die entsprechende <strong>~/.lirc/vlc</strong> für ein Programm mit LIRC-Support:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>## VLC ##

begin
	prog = vlc
	button = PLAY
	config = key-play
end

begin	
        prog = vlc
	button = PAUSE
	config = key-play-pause
end

begin	
        prog = vlc
	button = STOP
	config = key-stop
end

begin       
       prog = vlc
       button = MUTE       
       config = key-vol-mute
end

begin
       prog = vlc
       button = VOLUMEDOWN       
       config = key-vol-down
       repeat = 2
       delay = 10
end

begin       
       prog = vlc
       button = VOLUMEUP       
       config = key-vol-up
       repeat = 2
       delay = 10
end

begin
        prog = vlc
	button = CHANNELUP
	config = key-next
end

begin
        prog = vlc
	button = CHANNELDOWN
	config = key-prev
end
begin	 
        prog = vlc
	button = PIC
	config = key-fullscreen
end
begin	
        prog = vlc
	button = REWIND
	config = key-slower
end
begin	
        prog = vlc
	button = FORWARD
	config = key-faster
end

# Navigation im DVD-Menü
begin	
        prog = vlc
	button = LEFT
	config = key-nav-left
end

begin	
        prog = vlc
	button = DOWN
	config = key-nav-down
end

begin	
        prog = vlc
	button = UP
	config = key-nav-up
end

begin	
        prog = vlc
	button = RIGHT
	config = key-nav-right
end

begin
      prog = vlc
      button = OK
      config = key-nav-activate
end

begin
      prog = vlc
      button = DVDMENU
      config = key-disc-menu
end

# Beenden des Programm, Rückkehr zu mode normal und Arbeitsfläche 1:
begin
      button = HOME
      prog = irexec
      config = echo "mode normal aus vlc quit" &amp;&amp; xte 'keydown Control_L' 'keydown Shift_L' 'keydown 1' 'keyup Control_L' 'keyup Shift_L' 'keyup 1'
end

# Hier ist die HOME-Taste bewusst mit einem zweiten Befehl belegt, da es sich um verschiedene Programme handelt, die gleichzeitig bedient werden (irecex und VLC):
begin	
        prog = vlc
	button = HOME
	config = key-quit
        mode = normal
end

# Rückkehr zu mode normal, um z.B. ein weiteres Progamm per Fernbedienung starten zu können; VLC wird stummgeschaltet; gleichzeitig Wechsel auf Arbeitsfläche 1:
begin       
       prog = vlc
       button = BACK       
       config = key-vol-mute
end

begin
     button = BACK
     prog = irexec
     config = echo "mode normal aus vlc" &amp;&amp; xte 'keydown Control_L' 'keydown Shift_L' 'keydown 1' 'keyup Control_L' 'keyup Shift_L' 'keyup 1'
     mode = normal
end

# Tasten, um zu bereits laufenden Anwendungen zu wechseln (über mode normal); VLC wird stummgeschaltet, die laufende Anwendung mit Sound/Forsetzung fortgeführt: 
begin
      prog = vlc
      button = RED
      config = key-vol-mute
      mode = normal
end

begin
      prog = vlc
      button = BLUE
      config = key-vol-mute
      mode = normal
end

begin       
       prog = vlc
       button = YELLOW       
       config = key-vol-mute
       mode = normal
end

# Lautstärke für VLC einschalten, wenn aus anderen Anwendungen in den VLC-Modus gewechselt wird (Taste länger drücken): 
begin
      prog = vlc
      button = GREEN
      config = key-vol-mute
      repeat = 1
      delay = 5
end

# Tasten, um andere Anwendungen zu starten; VLC wird stummgeschaltet, Aufruf über mode normal:
begin       
       prog = vlc
       button = TV       
       config = key-vol-mute
       mode = normal
end

begin       
       prog = vlc
       button = MUSIC       
       config = key-vol-mute
       mode = normal
end

begin
      prog = vlc
      button = DVD
      config = key-vol-mute
      mode = normal
end
</pre></div>
</td></tr></table></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Unter <a class="internal" href="../kde4.html">KDE4</a> ist eine Steurung so nicht mehr möglich. Die Steuerung erfolgt mit <a class="internal" href="../d-bus.html">D-Bus</a>-Aufrufe, siehe <a class="internal" href="../kaffeine.html#Fernbedienung">Kaffeine - Fernbedienung</a>. Die Grundfunktionen lassen  sich bei laufendem Kaffeine-Programm mit
</p><div class="bash"><div class="contents"><pre class="notranslate">qdbus org.kde.kaffeine /Player  </pre></div></div><p>
ausgeben.
</p></div></div></div><div class="section_2"><h3 id="Programme-beenden">Programme beenden<a class="headerlink" href="#Programme-beenden">¶</a></h3><p>
Um Programme zu bedienen, die keinen "eigenen" Befehl zum Beenden haben, kann folgendes Skript von <a class="crosslink user" href="https://ubuntuusers.de/user/bulderbacke/">bulderbacke</a> per Tastendruck gestartet werden:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># von http://xbmc.org/forum/showthread.php?s=a6f0736b696c88149143ce0077b2a448&amp;t=30230</span>

<span class="nb">export</span> <span class="nv">USER</span><span class="o">=</span>&lt;dein_User&gt;
<span class="nb">export</span> <span class="nv">LOG</span><span class="o">=</span>/tmp/irscript-&lt;zu steuerndes Programm&gt;_restart.log

<span class="c1"># Test to see if &lt;zu steuerndes Programm&gt; is still running</span>
<span class="k">if</span> <span class="o">[</span> -n <span class="s2">"</span><span class="k">$(</span>pidof &lt;zu steuerndes Programm&gt;<span class="k">)</span><span class="s2">"</span> <span class="o">]</span> <span class="p">;</span>
<span class="k">then</span>
<span class="c1"># Send gentle kill signal</span>
killall &lt;zu steuerndes Programm&gt;
<span class="nb">echo</span> <span class="sb">`</span>date<span class="sb">`</span> <span class="s2">"Killed &lt;zu steuerndes Programm&gt;! (soft)"</span> &gt;&gt; <span class="nv">$LOG</span>

<span class="c1"># takes a second or two to die with the soft kill</span>
sleep <span class="m">2</span>

<span class="c1"># still running? Send hard kill signal</span>
<span class="k">if</span> <span class="o">[</span> -n <span class="s2">"</span><span class="k">$(</span>pidof &lt;zu steuerndes Programm&gt;<span class="k">)</span><span class="s2">"</span> <span class="o">]</span> <span class="p">;</span>
<span class="k">then</span>
<span class="c1"># If it's still around, kill it -9</span>
killall -9 &lt;zu steuerndes Programm&gt; <span class="p">;</span>
<span class="nb">echo</span> <span class="sb">`</span>date<span class="sb">`</span> <span class="s2">"Killed &lt;zu steuerndes Programm&gt;! (hard)"</span> &gt;&gt; <span class="nv">$LOG</span>
<span class="k">fi</span>
<span class="k">else</span>
<span class="nb">echo</span> <span class="sb">`</span>date<span class="sb">`</span> <span class="s2">"Starting &lt;zu steuerndes Programm&gt;"</span> &gt;&gt; <span class="nv">$LOG</span>
&lt;zu steuerndes Programm&gt; --lirc --fullscreen<span class="p">;</span>
<span class="k">fi</span> <span class="p">&amp;</span>
</pre></div>
</td></tr></table></div><p>Skript herunterladen und ausführbar machen, <code class="notranslate">&lt;zu steuerndes Programm&gt;</code> durch den gewünschten Programmnamen ersetzen und unter einem aussagekräftigen Namen abspeichern (z.B. als <strong>start-stop-&lt;zu steuerndes Programm&gt;.sh</strong>). Das Skript versucht zunächst, das Programm "einfach" zu beenden und überprüft dann, ob es geklappt hat. Wenn nicht, kommt ein "härterer" <code class="notranslate">killall</code>-Befehl zum Einsatz. Wenn es zuvor nicht lief, wird das Programm gestartet - wenn möglich mit LIRC-Support und im Fullscreen-Modus. Da ganze wird dann noch in einem Log  (<strong>/tmp/irscript-&lt;zu steuerndes Programm&gt;_restart.log</strong>) mitgeschnitten.</p><p>Eine Anweisung in der  <strong>.lircrc</strong> zum Aufruf könnte so aussehen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>begin
        prog   = irexec
        button = HOME
        config = /Pfad/zum/Script/start-stop-&lt;zu steuerndes Programm&gt;.sh
end
</pre></div>
</td></tr></table></div></div></div><div class="section_1"><h2 id="Maus-per-Fernbedienung-steuern">Maus per Fernbedienung steuern<a class="headerlink" href="#Maus-per-Fernbedienung-steuern">¶</a></h2><p>
Mit <a class="crosslink" href="#xte">xte</a> ist es sehr einfach, auch die Maus-Funktionen per Fernbedienung zu steuern; hier eine <strong>.lircrc</strong>-Beispielkonfiguration, in der der Ziffernblock der Fernbedienung zur Navigation verwendet wird, die <img alt="linke Maustaste" class="image-default" src="../_/9c03a73e06581c6d6932d30e0750812ed76e6022.png"/> wird mit 5, die <img alt="rechte Maustaste" class="image-default" src="../_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/> mit 0 "geklickt".</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>#Maussteuerung per xte

begin
    prog = irexec
    button = 2
    config = xte  'mousermove 0 -15'
    repeat = 1
end

begin
    prog = irexec
    button = 3
    config = xte  'mousermove 15 -15'
    repeat = 1
end

begin
    prog = irexec
    button = 1
    config = xte  'mousermove -15 -15'
    repeat = 1
end

begin
    prog = irexec
    button = 8
    config = xte  'mousermove 0 15'
    repeat = 1
end

begin
    prog = irexec
    button = 7
    config = xte  'mousermove -15 15'
    repeat = 1
end

begin
    prog = irexec
    button = 9
    config = xte  'mousermove 15 15'
    repeat = 1
end

begin
    prog = irexec

    button = 4
    config = xte  'mousermove -15 0'
    repeat = 1
end

begin
    prog = irexec
    button = 6
    config = xte  'mousermove 15 0'
    repeat = 1
end

begin
    prog = irexec
    button = 5
    config = xte  'mouseclick 1' 
end

begin
    prog = irexec
    button = 0
    config = xte  'mouseclick 2' 
end
</pre></div>
</td></tr></table></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.lirc.org/html/configure.html#lircrc_format" rel="nofollow">Offizielle .lircrc-Dokumentation</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.g-loaded.eu/2006/01/10/how-to-configure-and-use-lirc/" rel="nofollow">LIRC-Tutorial</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../lirc/tasten_mit_funktionen_belegen/a/revision/945479.html">Diese Revision</a> wurde am 14. Dezember 2017 19:29 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../lirc.html">Lirc</a></li>
<li><a href="../lirc/tasten_mit_funktionen_belegen.html">Tasten mit Funktionen belegen</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>