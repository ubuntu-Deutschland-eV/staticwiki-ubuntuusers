<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>PCMan_File_Manager/Benutzerdefinierte_Aktionen › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../pcman_file_manager/benutzerdefinierte_aktionen.html">Benutzerdefinierte Aktionen</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/PCMan_File_Manager/Benutzerdefinierte_Aktionen">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../pcman_file_manager/benutzerdefinierte_aktionen/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../pcman_file_manager/benutzerdefinierte_aktionen/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../pcman_file_manager/benutzerdefinierte_aktionen/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../pcman_file_manager/benutzerdefinierte_aktionen/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../pcman_file_manager/benutzerdefinierte_aktionen/a/backlinks.html">Benutzerdefinierte Aktionen</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="../trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../.desktop-dateien.html">Einen Programmstarter erstellen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a>, <em>optional</em></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a>, <em>optional</em></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../rechte.html">Rechte für Dateien und Ordner ändern</a>, <em>optional</em></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Grundlagen">Grundlagen
</a></li><li><a class="crosslink" href="#Beispiele">Beispiele
</a></li><li><a class="crosslink" href="#Nautilus-Actions-Configuration-Tool">Nautilus-Actions Configuration Tool
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./pcmanfm_logo.png" class="image-left" src="../_/ae68ccc9094c523830d0cf61d42c9396e00bfbe4.png"/>
Benutzerdefinierte Aktionen erweitern die Funktionalität des Dateimanagers <a class="internal" href="../pcman_file_manager.html">PCMan File Manager</a> und werden im Kontextmenü <img alt="rechte Maustaste" class="image-default" src="../_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/> angezeigt. Das erlaubt den schnellen Zugriff auf diverse Kommandos und Programme direkt aus dem Dateimanager heraus. In Kombination mit Skripten hat man mit dieser Funktion quasi unbegrenzte Möglichkeiten.</p><p>Allerdings stehen diese benutzerdefinierten Aktionen erst ab der Version 1.2 oder neuer bzw. ab <a class="internal" href="../trusty.html">Ubuntu 14.04</a> zur Verfügung.</p><div class="section_1"><h2 id="Grundlagen">Grundlagen<a class="headerlink" href="#Grundlagen">¶</a></h2><p>
</p><ul><li><p>Die verwendeten Dateien sind inhaltlich eine Erweiterung der klassischen <strong>.desktop</strong>-Dateien (Programmstarter) <sup><a href="#source-1">[1]</a></sup>. Sie müssen daher zwingend die Endung <strong>.desktop</strong> besitzen, während der Dateiname keine Rolle spielt und frei wählbar ist.</p></li><li><p>Dateien mit Aktionen müssen zwingend im Ordner <strong>~/.local/share/file-manager/actions/</strong> im <a class="internal" href="../homeverzeichnis.html">Homeverzeichnis</a> gespeichert werden</p></li></ul><p>
Das Grundgerüst folgt dem Schema <a class="external" href="http://www.nautilus-actions.org/?q=node/377" rel="nofollow">DES-EMA</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> und ähnelt den von Unity/GNOME 3 verwendeten <a class="internal" href="../.desktop-dateien/quicklists.html">Quicklists</a> (Jumplists) bzw. den <a class="internal" href="../kde-servicemenüs.html">Servicemenü-Einträgen</a> bei KDE. Es besteht aus den beiden Abschnitten <code class="notranslate">[Desktop Entry]</code> und <code class="notranslate">[X-Action-Profile PROFILNAME]</code>. Die wichtigsten Einträge sind hier in der Form <code class="notranslate">SCHLÜSSEL=WERT</code> angegeben:</p><pre class="notranslate">[Desktop Entry]
Type=Action
Name=ENGLISCHE BESCHREIBUNG
Name[de]=DEUTSCHE BESCHREIBUNG
Icon=SYMBOLDATEI
Tooltip=TEXT

Profiles=PROFILNAME;

[X-Action-Profile PROFILNAME]
MimeTypes=MIME-TYP
Exec=BEFEHL
Name=BESCHREIBUNG</pre><p>
</p><table style="width: 95%"><tr class="titel"><td colspan="2"> Erläuterung </td></tr><tr class="kopf"><td style="width: 33%"> Element </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">Type=Action</code> </td><td> Beschreibt den Typ (obligatorisch). Klassische Programmstarter verwenden dagegen <code class="notranslate">Type=Application</code>. </td></tr><tr class="highlight"><td><code class="notranslate">Name=BESCHREIBUNG</code> </td><td> Text, der angezeigt werden soll. Für Übersetzungen wird in einer weiteren Zeile der Ländercode in eckigen Klammern angegeben. </td></tr><tr><td> <code class="notranslate">Icon=PFAD/ZUR/SYMBOLDATEI</code> </td><td> Legt ein Bild fest, das angezeigt werden soll (optional) </td></tr><tr class="highlight"><td><code class="notranslate">Tooltip=TEXT</code> </td><td> sorgt für die Anzeige eines <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Tooltip">Tooltip</a> (funktioniert nicht bei Lubuntu 14.04) </td></tr><tr><td> <code class="notranslate">Profiles=PROFILNAME;</code> </td><td> Verweist auf den nächsten Abschnitt. Name frei wählbar, aber ohne Leerzeichen. Je nach Bedarf können auch mehrere Profile mit unterschiedlichen Aktionen definiert werden. </td></tr><tr class="kopf"><td colspan="2"> </td></tr><tr><td> <code class="notranslate">[X-Action-Profile PROFILNAME]</code> </td><td> Beschreibt das Profil und die durchzuführende/n Aktion/en. <code class="notranslate">PROFILNAME</code> entspricht der Bezeichnung aus <code class="notranslate">PROFILES=</code>. </td></tr><tr class="highlight"><td><code class="notranslate">MimeTypes=MIME-TYP</code> </td><td> Bei welchem <a class="internal" href="../mime-typ.html">Dateityp</a> die Aktion angezeigt werden soll. Es können auch mehrere Dateitypen nach dem Muster <code class="notranslate">TYP;TYP;TYP;</code> angegeben werden. Praxisrelevant sind noch die Varianten <code class="notranslate">all/allfiles</code> für alle Dateien und <code class="notranslate">inode/directory</code> für Ordner. </td></tr><tr><td> <code class="notranslate">Exec=BEFEHL</code> </td><td> Befehl, der ausgeführt werden soll, wenn dieses Element ausgewählt wird. </td></tr><tr class="highlight"><td><code class="notranslate">Name=BESCHREIBUNG</code> </td><td> Weitere Beschreibung. Wird nicht angezeigt, kann aber zur internen Dokumentation genutzt werden. </td></tr></table></div><div class="section_1"><h2 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h2><p>
Hier ein paar Beispiele für benutzerdefinierte Aktionen. Zum Erstellen kann ein beliebiger Editor <sup><a href="#source-2">[2]</a></sup> verwendet werden.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Nach dem Hinzufügen neuer oder Ändern bestehender Aktionen müssen alle Instanzen von PCManFM beendet und neu gestartet werden. Für <a class="internal" href="../lubuntu.html">Lubuntu</a> ist dazu z.B. im <a class="internal" href="../terminal.html">Terminal</a> einzugeben:</p><div class="bash"><div class="contents"><pre class="notranslate">killall pcmanfm ; pcmanfm --desktop --profile lubuntu &amp; </pre></div></div><p>Alternativ kann man sich ab- und wieder neu anmelden. 
</p></div></div><table style="float: right; clear: both; border: none"><tr style="background-color: #E2C889"><td style="text-align: center; border-width: 0 10px 0 0; border-color: #FFFFFF"> <img alt="./pcmanfm_kontextmenu.png" class="image-default" src="../_/1df2e513ca8afe72847ce360eac71bdc795d15d4.png"/> </td></tr><tr style="background-color: #F9EAAF"><td style="text-align: center; border-width: 0 10px 0 0; border-color: #FFFFFF"> Ausgewählten Ordner mit Root-Rechten öffnen </td></tr></table><p>
</p><div class="section_2"><h3 id="Ordner-mit-Root-Rechten-oeffnen">Ordner mit Root-Rechten öffnen<a class="headerlink" href="#Ordner-mit-Root-Rechten-oeffnen">¶</a></h3><p>
Diese Aktion ist besonders nützlich, da der Menüpunkt <em>"Werkzeug -&gt; Aktuellen Ordner als Root öffnen"</em> in PCManFM nicht mehr vorhanden ist. Da ab <a class="internal" href="../saucy.html">Ubuntu 13.10</a> auch der erforderliche Befehl <strong>gksudo</strong> fehlt, benötigt man noch folgendes Paket <sup><a href="#source-3">[3]</a></sup>:</p><ul><li><p><strong>gksu</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install gksu </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install gksu </pre></div></div><p>
</p></div></div><ul><li><p><strong>~/.local/share/file-manager/actions/open_as_root.desktop</strong>: </p><pre class="notranslate">[Desktop Entry]
Type=Action
Tooltip=Open Folder As Root
Name=Open Folder As Root
Name[de]=Ordner mit Root-Rechten öffnen
Icon=gtk-dialog-authentication

Profiles=on_folder;

[X-Action-Profile on_folder]
MimeTypes=inode/directory;
Exec=/usr/bin/gksudo /usr/bin/pcmanfm %u
Name=replacement for missing function</pre></li></ul><p>
</p></div><div class="section_2"><h3 id="Datei-via-E-Mail-versenden">Datei via E-Mail versenden<a class="headerlink" href="#Datei-via-E-Mail-versenden">¶</a></h3><p>
Das hier beschriebene Beispiel setzt <a class="internal" href="../thunderbird.html">Thunderbird</a> voraus. Es kann auch für andere E-Mail-Programme genutzt werden, wenn die Zeile <code class="notranslate">Exec=...</code> entsprechend angepasst wird.</p><ul><li><p><strong>~/.local/share/file-manager/actions/send_as_attachment.desktop</strong>: </p><pre class="notranslate">[Desktop Entry]
Type=Action
Name=Send as attachment
Name[de]=Als Anhang versenden
Icon=stock_mail-compose
Tooltip=Als Anhang versenden

Profiles=as_attachment;

[X-Action-Profile as_attachment]
MimeTypes=all/allfiles;
Exec=thunderbird -compose attachment=%f
Name=Als Anhang versenden</pre></li></ul><p>Für <a class="internal" href="../claws_mail.html">Claws Mail</a> lautet die <code class="notranslate">Exec=...</code>-Zeile entsprechend </p><pre class="notranslate">Exec=claws-mail --compose --attach %U</pre><p>Für <a class="internal" href="../sylpheed.html">Sylpheed</a> ist einzutragen 
</p><pre class="notranslate">Exec=sylpheed --attach %F</pre></div><div class="section_2"><h3 id="Als-Hintergrundbild-setzen">Als Hintergrundbild setzen<a class="headerlink" href="#Als-Hintergrundbild-setzen">¶</a></h3><p>
Um schnell ausprobieren zu können, wie ein bestimmtes Bild als Desktop-Hintergrund aussehen würde, kann man folgende Aktion verwenden. Zurücksetzen muss man den Hintergrund über die <a class="internal" href="../lxde_einstellungen.html#Desktop">LXDE Einstellungen</a>.</p><ul><li><p><strong>~/.local/share/file-manager/actions/set_as_wallpaper.desktop</strong>: </p><pre class="notranslate">[Desktop Entry]
Type=Action
ToolbarLabel=Set As Wallpaper
ToolbarLabel[de]=Als Hintergrundbild
Name=Set As Wallpaper
Name[de]=Als Hintergrundbild setzen
Icon=gtk-orientation-landscape

Profiles=on_image;

[X-Action-Profile on_image]
MimeTypes=image/*;
Exec=pcmanfm -w %f
Name=only if pcmanfm is used for desktop management
Name[de]=funktioniert nur, wenn PCManFM den Desktop verwaltet</pre></li></ul><p>
</p></div><div class="section_2"><h3 id="Dokumente-drucken">Dokumente drucken<a class="headerlink" href="#Dokumente-drucken">¶</a></h3><p>
Um ODT- und DOC- bzw. PDF-Dateien auf dem Standard-Drucker ausdrucken zu können, werden zwei getrennte Aktionen verwendet.</p><ul><li><p><strong>~/.local/share/file-manager/actions/sendto_printer.desktop</strong>: </p><pre class="notranslate">[Desktop Entry]
Type=Action
Name=Print Document
Name[de]=Dokument drucken
Icon=printer

Profiles=Office;Text_PDF;

[X-Action-Profile Office]
MimeTypes=application/vnd.openxmlformats-officedocument.wordprocessingml.document;application/msword;application/vnd.oasis.opendocument.text;
Exec=libreoffice --headless -p %f
Name[de]=Officedateien drucken

[X-Action-Profile Text_PDF]
MimeTypes=text/plain;application/pdf;
Exec=lp %f
Name[de]=PDF- u. Textdruck</pre></li></ul><p>
</p></div><div class="section_2"><h3 id="PDF-aus-LaTeX-Dateien-erzeugen">PDF aus LaTeX Dateien erzeugen<a class="headerlink" href="#PDF-aus-LaTeX-Dateien-erzeugen">¶</a></h3><p>
Um aus <a class="internal" href="../latex.html">LaTeX</a>-Dateien PDF-Dateien zu erzeugen und anzuzeigen</p><ul><li><p><strong>~/.local/share/file-manager/actions/pdflatex.desktop</strong>: </p><pre class="notranslate">[Desktop Entry]
Type=Action
Name=pdflatex
Name[de]=pdflatex
Icon=application-pdf

Profiles=pdflatex;

[X-Action-Profile pdflatex]
MimeTypes=text/x-tex
Exec=bash -c 'pdflatex -jobname "$(basename %f .tex)" -output-directory "$(dirname %f)" %f ; xdg-open "$(dirname %f)"/"$(basename %f .tex)".pdf'
Name[de]=pdflatex ausführen und Ergebnis anzeigen
</pre></li></ul><p>
Für die Verwendung bei Dateinamen mit Leerzeichen, muss der Befehl in ein Skript ausgelagert werden. In der Zeile <code class="notranslate">Exec=</code> wird dann der Pfad zu folgendem Skript eingetragen.</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">## Skript tex2pdf - Latex-Dateien in PDF umwandeln und anzeigen</span>

pdflatex -jobname <span class="s2">"</span><span class="k">$(</span>basename <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> .tex<span class="k">)</span><span class="s2">"</span> -output-directory <span class="s2">"</span><span class="k">$(</span>dirname <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span><span class="k">)</span><span class="s2">"</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
xdg-open <span class="s2">"</span><span class="k">$(</span>dirname <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span><span class="k">)</span><span class="s2">"</span>/<span class="s2">"</span><span class="k">$(</span>basename <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> .tex<span class="k">)</span><span class="s2">"</span>.pdf
</pre></div>
</td></tr></table></div></div><div class="section_2"><h3 id="Zu-Audacious-hinzufuegen">Zu Audacious hinzufügen<a class="headerlink" href="#Zu-Audacious-hinzufuegen">¶</a></h3><p>
Da <a class="internal" href="../audacious.html">Audacious</a> bei Lubuntu als Standard-Audioplayer eingesetzt wird (und daher keine eigene Aktion zum Abspielen benötigt wird), fügt die folgende Aktion MP3- und OGG-Dateien zur Wiedergabeliste hinzu. Weitere Audioformate können in der Zeile <code class="notranslate">MimeTypes=</code> ergänzt werden.</p><ul><li><p><strong>~/.local/share/file-manager/actions/add2audacious.desktop</strong>: </p><pre class="notranslate">[Desktop Entry]
Type=Action
Tooltip=Add to playlist
Tooltip[de]=Zu Wiedergabeliste hinzufügen
Name=Enqueue to Audacious
Name[de]=Zur Audacious-Playliste hinzufügen
Icon=audacious

Profiles=on_audio;

[X-Action-Profile on_audio]
MimeTypes=audio/mpeg;audio/ogg;
Exec=audacious -e %F
Name=add once, play later...</pre></li></ul><p>
</p></div><div class="section_2"><h3 id="Papierkorb-leeren">Papierkorb leeren<a class="headerlink" href="#Papierkorb-leeren">¶</a></h3><p>
Mit Lubuntu 14.04 ist es möglich, via <em>"Einstellungen -&gt; Desktop-Einstellungen -&gt; Desktop-Symbole"</em> ein Symbol für den <a class="internal" href="../papierkorb.html">Papierkorb</a> auf dem Desktop anzuzeigen. Aber leider lässt sich der so sichtbar gewordene Papierkorb nicht wie gewohnt über das Kontextmenü <img alt="rechte Maustaste" class="image-default" src="../_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/> löschen. Um diese Funktion nachzurüsten, muss folgendes Paket installiert werden:</p><ul><li><p><strong>trash-cli</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install trash-cli </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install trash-cli </pre></div></div><p>
</p></div></div><ul><li><p><strong>~/.local/share/file-manager/actions/empty_trash.desktop</strong>: </p><pre class="notranslate">[Desktop Entry]
Type=Action
Name=Empty Trash
Name[de]=Papierkorb leeren
Icon=user-trash

Profiles=on_trash;

[X-Action-Profile on_trash]
MimeTypes=inode/directory;
Basenames=trash:///
Exec=/usr/bin/trash-empty
Name=clear user trash folder</pre></li></ul><p>
</p></div><div class="section_2"><h3 id="Dateien-sicher-loeschen">Dateien sicher löschen<a class="headerlink" href="#Dateien-sicher-loeschen">¶</a></h3><p>
Für diese Aufgabe werden die beiden folgenden Programme und ein Shell-Skript benötigt.</p><ul><li><p><strong>wipe</strong> (<em>universe</em>)</p></li><li><p><strong>zenity</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install wipe zenity </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install wipe zenity </pre></div></div><p>
</p></div></div><p>
Das Shell-Skript:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/bash</span>
zenity --question --title<span class="o">=</span><span class="s2">"Sicher löschen"</span> --text<span class="o">=</span><span class="s2">"Diese Dateien/Ordner entgültig löschen?\n\nHinweis: Keine Wiederherstellung möglich!"</span><span class="p">;</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> !<span class="o">=</span> <span class="m">1</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
	<span class="nv">param</span><span class="o">=</span><span class="nv">$#</span><span class="p">;</span>
	<span class="nv">zaehler</span><span class="o">=</span><span class="m">0</span><span class="p">;</span>
	<span class="nv">fcnt</span><span class="o">=</span><span class="m">1</span><span class="p">;</span>
	<span class="o">(</span>
	<span class="k">while</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$zaehler</span><span class="s2">"</span> !<span class="o">=</span> <span class="nv">$param</span> <span class="o">]</span>
		<span class="k">do</span>
		<span class="nv">status</span><span class="o">=</span><span class="sb">`</span>expr <span class="nv">$fcnt</span> - <span class="m">1</span><span class="sb">`</span><span class="p">;</span>
		<span class="nb">echo</span> <span class="k">$((</span><span class="nv">$status</span><span class="o">*</span><span class="m">100</span><span class="o">/</span><span class="nv">$param</span><span class="k">))</span> <span class="p">;</span>
		<span class="nb">echo</span> <span class="s2">"# Lösche: </span><span class="nv">$1</span><span class="s2">"</span> <span class="p">;</span>
		wipe -f -q -Q <span class="m">1</span> -R /dev/zero -S r -r <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span><span class="p">;</span>
		<span class="nb">echo</span> <span class="k">$((</span><span class="nv">$fcnt</span><span class="o">*</span><span class="m">100</span><span class="o">/</span><span class="nv">$param</span><span class="k">))</span> <span class="p">;</span>
		<span class="nb">echo</span> <span class="s2">"# Gelöscht: </span><span class="nv">$1</span><span class="s2">"</span> <span class="p">;</span>
		<span class="nb">shift</span>
		<span class="nv">fcnt</span><span class="o">=</span><span class="sb">`</span>expr <span class="nv">$fcnt</span> + <span class="m">1</span><span class="sb">`</span><span class="p">;</span>
		<span class="nv">zaehler</span><span class="o">=</span><span class="sb">`</span>expr <span class="nv">$zaehler</span> + <span class="m">1</span><span class="sb">`</span><span class="p">;</span>
		<span class="k">done</span> <span class="o">)</span> <span class="p">|</span>
	zenity --progress <span class="se">\</span>
	    --title<span class="o">=</span><span class="s2">"Sicher löschen"</span> <span class="se">\</span>
 	   --text<span class="o">=</span><span class="s2">"Initialisiere..."</span> <span class="se">\</span>
 	   --percentage<span class="o">=</span><span class="m">0</span> <span class="se">\</span>
 	   --auto-close
<span class="k">fi</span>
</pre></div>
</td></tr></table></div><p>
Das Skript erzeugt mittels <a class="internal" href="../zenity.html">Zenity</a> eine Sicherheitsabfrage und einen Fortschrittsbalken (nur bei mehreren Dateien und/oder Ordnern) und schließt das Warnfenster nach erfolgreichem Löschen automatisch. Man speichert es beispielsweise als <strong>~/bin/pcmanfm_secure_delete.sh</strong> und setzt die Ausführrechte <sup><a href="#source-4">[4]</a></sup><sup><a href="#source-5">[5]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">chmod u+x ~/bin/pcmanfm_secure_delete.sh </pre></div></div><p>
Nun fehlt noch der Inhalt der Datei für diese Aktion (<code class="notranslate">BENUTZERNAME</code> bzw. Speicherort/Name des Skripts bitte anpassen):</p><pre class="notranslate">[Desktop Entry]
Type=Action
Tooltip=
Name=Secure delete
Name[de]=Sicher löschen
Icon=gtk-dialog-warning

Profiles=on_wipe;

[X-Action-Profile on_wipe]
MimeTypes=all/allfiles;inode/directory;
Exec=/home/BENUTZERNAME/bin/pcmanfm_secure_delete.sh %F
Name=external script required</pre><p>
Dabei werden die zu löschenden Dateien und Ordner zunächst mit Nullen überschrieben und dann gelöscht.</p></div><div class="section_2"><h3 id="Netzwerkfreigaben">Netzwerkfreigaben<a class="headerlink" href="#Netzwerkfreigaben">¶</a></h3><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Aus Sicherheitsgründen sollte niemals das eigene Homeverzeichnis freigegeben werden, sondern nur ein einzelner Ordner innerhalb des Homeverzeichnisses. Dazu bietet sich beispielsweise der bereits vorhandene Ordner <strong>~/Öffentlich/</strong> an.
</p></div></div><p>
Grundlage ist die Kenntnis des Artikels <a class="internal" href="../samba_server/net_usershare.html">net usershare</a>. Dabei handelt es sich um die "persönliche Freigabe" eines Ordners im eigenen <a class="internal" href="../homeverzeichnis.html">Homeverzeichnis</a>, die nicht mit einer systemweiten Freigabe verwechselt werden sollte (siehe <a class="internal" href="../samba_server_gnome.html">Samba Server GNOME</a>) – auch wenn sie praktisch die gleiche Funktionalität bietet.</p><p>Außerdem muss man vorab dafür sorgen, dass
</p><ol class="arabic"><li><p>der Zugriff auf das eigene Homeverzeichnis überhaupt möglich ist und</p></li><li><p>die Rechte des Ordners, der später freigegeben werden soll, anpassen.</p></li></ol><p>
Dazu dienen folgende Befehle im Terminal:</p><div class="bash"><div class="contents"><pre class="notranslate">chmod 755 $HOME
chmod 777 $HOME/ORDNERNAME </pre></div></div><div class="section_3"><h4 id="Netzwerkfreigaben-erstellen">Netzwerkfreigaben erstellen<a class="headerlink" href="#Netzwerkfreigaben-erstellen">¶</a></h4><p>
</p><ul><li><p><strong>~/.local/share/file-manager/actions/create_share.desktop</strong>: </p><pre class="notranslate">[Desktop Entry]
Type=Action
Name=Create Network Share
Name[de]=Netzwerkfreigabe erstellen
Icon=gtk-connect

Profiles=create_share;

[X-Action-Profile create_share]
MimeTypes=inode/directory;
Exec=net usershare add %w %f "" Everyone:F guest_ok=y</pre><p> Möchte man keinen Vollzugriff erlauben, sondern nur Leserechte erteilen, ändert man die letzte Zeile wie folgt ab: </p><pre class="notranslate">Exec=net usershare add %w %f "" Everyone:R guest_ok=y</pre></li></ul><p>
</p></div><div class="section_3"><h4 id="Netzwerkfreigaben-entfernen">Netzwerkfreigaben entfernen<a class="headerlink" href="#Netzwerkfreigaben-entfernen">¶</a></h4><p>
</p><ul><li><p><strong>~/.local/share/file-manager/actions/remove_share.desktop</strong>: </p><pre class="notranslate">[Desktop Entry]
Type=Action
Name=Remove Network Share
Name[de]=Netzwerkfreigabe entfernen
Icon=gtk-disconnect

Profiles=remove_share;

[X-Action-Profile remove_share]
MimeTypes=inode/directory;
Exec=net usershare delete %w</pre></li></ul><p>
</p></div></div></div><div class="section_1"><h2 id="Nautilus-Actions-Configuration-Tool">Nautilus-Actions Configuration Tool<a class="headerlink" href="#Nautilus-Actions-Configuration-Tool">¶</a></h2><p>
Wem bei der Lektüre manches sehr vertraut vorkommt, ist auf der richtigen Spur: auch der Dateimanager <a class="internal" href="../nautilus.html">Nautilus</a> verwendet benutzerdefinierte Aktionen, die als "Nautilus-Aktionen" bezeichnet werden. Für LXDE/Lubuntu ist folgendes Paket – trotz des irreführenden Namens – interessant:</p><ul><li><p><strong>nautilus-actions</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install nautilus-actions </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install nautilus-actions </pre></div></div><p>
</p></div></div><p>
Mit dem enthaltenen Programm <a class="internal" href="../nautilus-actions.html">Nautilus-Actions Configuration Tool</a> lassen sich benutzerdefinierte Aktionen mit einer grafischen Oberfläche verwalten. Bei Bedarf kann man auch neue anlegen und vorhandene bearbeiten. Praktisch ist weiterhin die Möglichkeit, Skripte in Kategorien zusammenzufassen (also als Untermenü im Kontextmenü anzeigen).</p><p>Nach der Installation ist es bei Ubuntu-Varianten mit einem Anwendungsmenü unter <em>"System -&gt; Einstellungen für Nautilus-Aktionen"</em> zu finden. Manche der vielfältigen Einstellungsmöglichkeiten erschließen sich aber erst, wenn man sich intensiv mit der eingangs erwähnten <a class="crosslink" href="#Grundlagen">DES-EMA-Spezifikation</a> auseinander setzt.</p><p>Eine Anmerkung am Rande: Neu erstellte Dateien erhalten automatisch Dateinamen wie <strong>44c437e3-6d88-482b-a193-eabcb4c5df5a.desktop</strong>, die man mit einem Dateimanager bei Nichtgefallen einfach umbenennen kann.</p><div style="clear: both"><div class="contents"></div></div><p>
</p><table style="float: left; margin: 10px 5px; border: none"><tr><td style="text-align: center; background-color: #E2C889; border: none"> <img alt="./nautilus-actions.png" class="image-default" src="../_/56eddd78a4324a61e13905b6960fc47df85f3701.png"/> </td></tr><tr><td style="text-align: center; background-color: #F9EAAF; border: none"> Nautilus-Actions Configuration Tool unter Lubuntu 14.04</td></tr></table><div><div class="contents"></div></div><div style="clear: both"><div class="contents"></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://bernaerts.dyndns.org/linux/323-lubuntu-trusty-empty-trash-menu" rel="nofollow">Add right click menu to Empty Trash</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Blogbeitrag, 11/2014</p></li><li><p><a class="external" href="http://lubuntu.me/tip-actions/" rel="nofollow">Actions</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Blogbeitrag, 04/2014</p></li><li><p><a class="external" href="https://madebits.github.io/#blog/2014/2014-03-17-Custom-PcManFM-Context-Menu-Actions.md" rel="nofollow">Creating Custom PcManFM Context Menus in Lubuntu 14.04</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Blogbeitrag mit ausführlichen Hintergrundinformationen und Beispielen, 03/2014</p></li><li><p><a class="internal" href="../pcman_file_manager.html">PCMan File Manager</a> - Hauptartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../pcman_file_manager/benutzerdefinierte_aktionen/a/revision/942177.html">Diese Revision</a> wurde am 23. Juni 2017 21:15 von <a href="https://ubuntuusers.de/user/HaCeMei/">HaCeMei</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../pcman_file_manager.html">PCMan File Manager</a></li>
<li><a href="../pcman_file_manager/benutzerdefinierte_aktionen.html">Benutzerdefinierte Aktionen</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>