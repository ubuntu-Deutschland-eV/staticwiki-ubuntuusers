<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Automount › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./automount.html">Automount</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Automount">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./automount/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./automount/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./automount/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./automount/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./automount/a/backlinks.html">Automount</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./datenverwaltung.html">Datenverwaltung</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./datenträger.html">Datenträger</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./mount.html">Datenträger einbinden</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./sudo.html">Mit Administrator-Rechten arbeiten</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./pakete_installieren.html">Installieren von Paketen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Was-bedeutet-Automount">Was bedeutet "Automount"?
</a></li><li><a class="crosslink" href="#Eintraege-in-etc-fstab">Einträge in /etc/fstab
</a><ol class="arabic"><li><a class="crosslink" href="#Crontab">Crontab
</a></li><li><a class="crosslink" href="#udev-Regel">udev-Regel
</a></li></ol></li><li><a class="crosslink" href="#Automount-mittels-GUI">Automount mittels GUI
</a><ol class="arabic"><li><a class="crosslink" href="#Automount-deaktivieren">Automount deaktivieren
</a></li><li><a class="crosslink" href="#Einzelne-Datentraeger-ausschliessen">Einzelne Datenträger ausschließen
</a></li></ol></li><li><a class="crosslink" href="#Einbinden-ueber-Startprogramme">Einbinden über Startprogramme
</a></li><li><a class="crosslink" href="#Automounter">Automounter
</a></li><li><a class="crosslink" href="#Automount-und-GVFS">Automount und GVFS
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a><ol class="arabic"><li><a class="crosslink" href="#PowerTOP-und-hal-disable-polling">PowerTOP und hal-disable-polling
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Um auf Datenträger <sup><a href="#source-2">[2]</a></sup> zugreifen zu können, müssen diese (oder genau genommen die darauf befindlichen Partitionen) nach jedem Systemstart neu in die lokale Dateistruktur <sup><a href="#source-1">[1]</a></sup> eingebunden (eingehängt, "gemountet") werden. Dies gilt gleichermaßen für lokale wie für externe oder entfernte Datenträger. Von Hand geschieht dies mit dem Befehl <code class="notranslate">mount</code> <sup><a href="#source-3">[3]</a></sup> oder verwandten Befehlen (z.B. <code class="notranslate">gvfs-mount</code>). Es gibt aber auch verschiedene Möglichkeiten, das Einbinden von Partitionen zu automatisieren. Diese werden hier vergleichend erläutert; für einige davon gibt es weiterführende Artikel.</p><div class="section_1"><h2 id="Was-bedeutet-Automount">Was bedeutet "Automount"?<a class="headerlink" href="#Was-bedeutet-Automount">¶</a></h2><p>
Im weitesten Sinne ist "Automount" ein Sammelbegriff für alle Vorgänge, bei denen das Einbinden von Datenträgern oder Partitionen automatisch ohne Eingriffe des Benutzers im Hintergrund erfolgt. Im engeren Sinne spricht man bei Wechseldatenträgern (CD- oder DVD-Laufwerken) und externen Datenträgern (USB-Geräten) aber nur dann von "Automount", wenn dies ebenso auch beim Einlegen oder Einstecken des Datenträgers (<a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Hotplug">Hotplug</a>) geschieht. Entsprechendes gilt für Netzwerk-Freigaben, wenn die Netzwerk-Verbindung erst nachträglich hergestellt wird.</p><p>Hiervon zu unterscheiden sind "Automounter". Dies sind Programme, die Partitionen erst bei Bedarf, also erst beim Versuch, auf sie zuzugreifen, automatisch einhängen. Üblicherweise bieten solche Automounter auch die Option, Partitionen bei längerem Nichtgebrauch automatisch wieder auszuhängen.</p></div><div class="section_1"><h2 id="Eintraege-in-etc-fstab">Einträge in /etc/fstab<a class="headerlink" href="#Eintraege-in-etc-fstab">¶</a></h2><p>
Die klassische Methode, Datenträger und Partitionen automatisch systemweit statisch einzubinden, sind Einträge in der Datei <strong>/etc/fstab</strong>. Diese Datei und ihre Funktionen sind im Artikel <a class="internal" href="./fstab.html">fstab</a> ausführlich beschrieben.</p><p>Einige Einträge in <strong>/etc/fstab</strong> werden bei der Installation von Ubuntu bereits automatisch angelegt, sodass zumindest die zur Funktion des Systems notwendigen Partitionen bei jedem Systemstart automatisch eingebunden werden. Er ist jederzeit möglich, diese Datei mit einem <a class="internal" href="./editor.html">Editor</a> mit Root-Rechten <sup><a href="#source-3">[3]</a></sup> durch eigene Einträge zu erweitern. Ein grafisches Frontend zur Bearbeitung von <strong>fstab</strong>-Einträgen ist <a class="interwiki interwiki-sourceforge2" href="http://pysdm.sourceforge.net">PySDM</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> (bis Ubuntu 12.04); inzwischen eignet sich auch die <a class="internal" href="./laufwerksverwaltung.html">Laufwerksverwaltung</a> ("Laufwerke" / "Disks") für das grafische anpassen.</p><p>Die Datei <strong>/etc/fstab</strong> wird beim Systemstart, schon vor dem Anmelden eines bestimmten Benutzers und auch vor allen anderen Vorgängen, nach dem im Folgenden beschriebenen Verfahren abgearbeitet. Partitionen, für die dort ein Eintrag ohne die Option <code class="notranslate">noauto</code> besteht, werden deshalb auf jeden Fall sofort eingebunden, wenn mit einem der im Folgenden beschriebenen Verfahren versucht wird, sie einzubinden. Deshalb müssen die betreffenden <strong>fstab</strong>-Einträge auf jeden Fall zuerst entfernt oder deaktiviert werden, wenn eines der anderen Verfahren Erfolg haben soll. Möchte man das System nicht anschließend mit der veränderten <strong>fstab</strong> neu starten, müssen die betreffenden Partitionen außerdem noch von Hand ausgehängt werden.</p><p>Möchte man externe Partitionen mit anderen Optionen einbinden (z.B. andere Besitz- und Zugriffsrechte), als dies beim automatischen Mounten über die grafische Oberfläche und den Dateimanager geschehen würde, kann man diesem einfach durch einen geeigneten Eintrag in <strong>/etc/fstab</strong> zuvorkommen. Siehe dazu auch <a class="internal" href="./usb-datenträger_automatisch_einbinden.html">USB-Datenträger automatisch einbinden</a>.</p><p>Da die Datei <strong>/etc/fstab</strong> nur beim Systemstart automatisch abgearbeitet wird, genügen <strong>fstab</strong>-Einträge allein noch nicht, um Wechseldatenträger, USB-Geräte oder Netzwerk-Freigaben automatisch nachträglich einzubinden. Mit dem Befehl <code class="notranslate">mount -a</code> kann das Abarbeiten der <strong>fstab</strong>-Einträge jedoch jederzeit wiederholt werden.</p><div class="section_2"><h3 id="Crontab">Crontab<a class="headerlink" href="#Crontab">¶</a></h3><p>
Über einen <a class="internal" href="./cron.html">Cronjob</a> kann man festlegen, dass der Befehl <code class="notranslate">mount -a</code> automatisch in regelmäßigen Zeitabständen mit Administrator-Rechten <sup><a href="#source-5">[5]</a></sup> ausgeführt wird. Dazu gibt man in einem Terminal <sup><a href="#source-4">[4]</a></sup> folgende Zeile ein:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo crontab -e </pre></div></div><p>
und editiert auf diese Weise die Cron-Tabelle von <code class="notranslate">root</code>. Dort trägt man am Ende folgende Zeile ein und schließt diese mit einem Zeilenwechsel (Leerzeile) ab:</p><pre class="notranslate">*/2 * * * * /bin/mount -a &gt; /dev/null 2&gt;&amp;1</pre><p>
Damit wird <code class="notranslate">mount -a</code> alle zwei Minuten ausgeführt. Aufgrund des Konstrukts <code class="notranslate">&gt; /dev/null 2&gt;&amp;1</code> unterbleiben Fehlermeldungen, wenn Befehlszeilen in <strong>fstab</strong> nicht ausgeführt werden können.</p></div><div class="section_2"><h3 id="udev-Regel">udev-Regel<a class="headerlink" href="#udev-Regel">¶</a></h3><p>
Mit udev-Regeln lassen sich sehr komplexe Aufgaben "maßgeschneidert" lösen. Eine ausführliche Beschreibung für fortgeschrittene Benutzer findet sich im Artikel <a class="internal" href="./udev.html">udev</a>.</p><p>Hier wird nur der einfache Fall, dass beim Einstecken oder Einlegen eines externen Datenträgers sofort der Befehl <code class="notranslate">mount -a</code> mit Administrator-Rechten <sup><a href="#source-5">[5]</a></sup> ausgeführt wird, kurz dargestellt. Hierzu muss man im Ordner <strong>/lib/udev/rules.d/</strong> eine Regel-Datei anlegen. Auch hierzu sind Root-Rechte erforderlich. Der Dateiname muss mit einer zweiziffrigen Zahl beginnen und mit <strong>.rules</strong> enden, z.B. <strong>80-mount.rules</strong>. In diese trägt man nun folgende Zeile ein:
</p><pre class="notranslate">SUBSYSTEM=="block", RUN+="/bin/mount -a"</pre><p>
Damit wird der Befehl <code class="notranslate">mount -a</code> immer beim Hinzufügen oder Entfernen eines blockorientierten Gerätes (block device) ausgeführt. Hierzu gehören z.B. Festplatten und USB-Sticks, aber auch Daten-CDs und -DVDs sowie Disketten.</p><p>Die Datenträger werden nach <strong>/media/$User/</strong> gemountet. Möchte man sie an die früher übliche Stelle nämlich <strong>/media/</strong> mounten, muss eine udev Regel erstellt werden, indem in die Datei <strong>/etc/udev/rules.d/99-udisks2.rules</strong> dies</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1"># UDISKS_FILESYSTEM_SHARED</span>
<span class="c1"># ==1: mount filesystem to a shared directory (/media/VolumeName)</span>
<span class="c1"># ==0: mount filesystem to a private directory (/run/media/$USER/VolumeName)</span>
<span class="c1"># See udisks(8)</span>
ENV<span class="o">{</span>ID_FS_USAGE<span class="o">}==</span><span class="s2">"filesystem|other|crypto"</span>, ENV<span class="o">{</span>UDISKS_FILESYSTEM_SHARED<span class="o">}=</span><span class="s2">"1"</span>
</pre></div>
</td></tr></table></div><p>eingetragen wird.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Udev und das früher verwendete HAL reagieren nur auf Veränderungen der lokalen Hardware und eignen sich deshalb nicht für den Automount von Netzwerk-Freigaben.
</p></div></div></div></div><div class="section_1"><h2 id="Automount-mittels-GUI">Automount mittels GUI<a class="headerlink" href="#Automount-mittels-GUI">¶</a></h2><p>
Die großen Desktop-Umgebungen <a class="internal" href="./gnome.html">GNOME</a>/<a class="internal" href="./unity.html">Unity</a> (Ubuntu), <a class="internal" href="./kde.html">KDE</a> (Kubuntu), <a class="internal" href="./xfce.html">Xfce</a> (Xubuntu) und <a class="internal" href="./lxde.html">LXDE</a> (Lubuntu) können externe Datenträger sowohl beim Einloggen des jeweiligen Benutzers als auch beim nachträglichen Einstecken oder Einlegen des Datenträgers automatisch einbinden. Dies geschieht entweder selbstständig oder unter zu Hilfenahme des jeweiligen Dateimanagers. Diese Möglichkeit ist standardmäßig für alle diejenigen Partitionen aktiviert, für die kein Eintrag in <strong>/etc/fstab</strong> besteht. Außerdem bieten die Desktop-Umgebungen die Möglichkeit, nach dem Einbinden externer Datenträger noch bestimmte, vom Inhalt abhängige Aktionen automatisch auszuführen. Diese sind jeweils in eigenen Artikeln beschrieben.</p><p>Das Verhalten der Desktop-Umgebungen sowie der Dateimanager beim Automount hat sich in den Ubuntu-Versionen schrittweise wesentlich verändert. Dabei unterscheiden sich auch die Desktop-Umgebungen untereinander.</p><p>Externe Datenträger werden von den Desktop-Umgebungen nur dann automatisch eingebunden bzw. der Zugriff auf dieselben ist nur möglich, wenn der jeweilige Benutzer Mitglied der Gruppe <code class="notranslate">plugdev</code> (GID=46) ist. Standardmäßig sind alle Benutzer Mitglieder dieser Gruppe, doch kann der Administrator jederzeit einzelne Benutzer aus dieser Gruppe ausschließen.</p><div class="section_2"><h3 id="Automount-deaktivieren">Automount deaktivieren<a class="headerlink" href="#Automount-deaktivieren">¶</a></h3><p>
Es ist nicht immer erwünscht, dass externe Datenträger automatisch eingebunden werden. So können z.B. manche Anwendungen, wie z.B. <a class="internal" href="./k3b.html">K3b</a> oder <a class="internal" href="./gparted.html">GParted</a> Probleme haben, externe Datenträger zu löschen bzw. zu bearbeiten, wenn diese bereits per Automount eingebunden sind. Außerdem muss man verhindern, dass Datenträger automatisch eingebunden werden, wenn man dafür einen der Automounter (z.B. Autofs) verwenden will.</p><p>Das automatische Einbinden externer Datenträger über einen Dateimanager bzw. eine Desktop-Umgebung lässt sich generell deaktivieren und wieder aktivieren. Hier unterscheiden sich die Desktop-Umgebunden voneinander.</p><div class="section_3"><h4 id="GNOME-und-Unity">GNOME und Unity<a class="headerlink" href="#GNOME-und-Unity">¶</a></h4><p>
Seit der Umstellung auf <a class="internal" href="./unity.html">Unity</a> in <a class="internal" href="./natty.html">Ubuntu 11.04</a> sind die Einstellungen für das automatische Einbinden bei GNOME und Unity unter <em>gsettings</em> im Schema <em>org.gnome.desktop.media-handling</em> enthalten (siehe <code class="notranslate">man gsettings</code>). Die momentan gültigen Einstellungen erhält man mittels:</p><div class="bash"><div class="contents"><pre class="notranslate">gsettings list-recursively org.gnome.desktop.media-handling </pre></div></div><p>
Wenn Automount und das Öffnen eines Fensters für gemountete Partitionen aktiviert sind, erhält man folgende Ausgaben:</p><pre class="notranslate">org.gnome.desktop.media-handling automount true
org.gnome.desktop.media-handling automount-open true</pre><p>
Sind sie deaktiviert, steht dort statt <code class="notranslate">true</code> eben <code class="notranslate">false</code>. Um die Einstellungen zu verändern, gibt man folgende Befehlszeilen ein:</p><div class="bash"><div class="contents"><pre class="notranslate">gsettings set org.gnome.desktop.media-handling automount 'false'
gsettings set org.gnome.desktop.media-handling automount-open 'false' </pre></div></div><p>
Hat man das Paket <strong>dconf-tools</strong> installiert, so steht über</p><div class="bash"><div class="contents"><pre class="notranslate">dconf-editor </pre></div></div><p>
auch eine grafische Oberfläche zur Verfügung. Man navigiert dann zu <em>"org → gnome → desktop → media.handling"</em> und verändert dort die Einstellungen für <em>"automount"</em> und optional auch für <em>"automount-open"</em>.</p></div><div class="section_3"><h4 id="KDE-Kubuntu">KDE (Kubuntu)<a class="headerlink" href="#KDE-Kubuntu">¶</a></h4><p>
Die Einstellungen zum automatischen Einbinden sind per <a class="internal" href="./kde_systemeinstellungen.html">KDE Systemeinstellungen</a> unter <em>"Hardware → Wechselmedien"</em> kontrollierbar.</p></div><div class="section_3"><h4 id="Xfce-Xubuntu">Xfce (Xubuntu)<a class="headerlink" href="#Xfce-Xubuntu">¶</a></h4><p>
Bei Xubuntu (Xfce) werden externe Datenträger unmittelbar beim Einstecken eingebunden und nicht erst beim ersten Zugriff auf dieselben.</p><p>Das Verhalten von Xubuntu beim Einstecken oder Einlegen externer Datenträger lässt sich im <img alt="Wiki/InterwikiMap/xubuntu.png" class="image-default" src="./_/20fd3fdfdb4741ac2b775b2fb2a72f7bcaeebff9.png"/> Anwendungsmenü über "<em>Einstellungen -&gt; Einstellungen -&gt; Wechseldatenträger und Medieneinstellungen</em>" konfigurieren. Nähere Einzelheiten siehe <a class="internal" href="./xfce_einstellungen.html#Wechseldatentraeger-und-Medieneinstellungen">hier</a>.</p></div></div><div class="section_2"><h3 id="Einzelne-Datentraeger-ausschliessen">Einzelne Datenträger ausschließen<a class="headerlink" href="#Einzelne-Datentraeger-ausschliessen">¶</a></h3><p>
Für einzelne Datenträger lässt sich das Einbinden mit einem Eintrag in <strong>fstab</strong> unterbinden. Sollen die betreffenden Datenträger nicht an anderer Stelle, sondern gar nicht eingebunden werden, findet man oftmals den Vorschlag, sie gemäß folgendem Beispiel "ins Leere" (Mountpunkt <code class="notranslate">none</code>) zu mounten:</p><pre class="notranslate">BEZEICHNER  none  auto  noauto  0  0</pre><p>
Für "BEZEICHNER" kann dann die <strong>/dev</strong>-Kennung ("node"), das <a class="internal" href="./labels.html">Label</a> oder die <a class="internal" href="./uuid.html">UUID</a> der Partition verwendet werden <sup><a href="#source-4">[4]</a></sup>. In neueren Ubuntu-Versionen funktioniert dies nicht mehr, da diese nur noch "erfolgreiche" <strong>fstab</strong>-Einträge berücksichtigen. Man muss dann statt <code class="notranslate">none</code> einen wirklich existierenden Ordner als Mountpunkt wählen, der aber innerhalb eines versteckten Ordners liegen kann, zu dem gewöhnliche Benutzer keinen Zugang erhalten, und von dem man dann weiter keinen Gebrauch macht.</p></div></div><div class="section_1"><h2 id="Einbinden-ueber-Startprogramme">Einbinden über Startprogramme<a class="headerlink" href="#Einbinden-ueber-Startprogramme">¶</a></h2><p>
Jede der großen Desktop-Umgebungen bietet die Möglichkeit, einzelne Programme oder Skripte als <em>"Startprogramme"</em> einzutragen, sodass diese beim Einloggen des betreffenden Benutzers automatisch ausgeführt werden. Näheres hierzu findet man im Artikel <a class="internal" href="./autostart.html">Autostart</a>.</p><p>Während bei den bisher beschriebenen Verfahren Datenträger immer systemweit, d.h. ohne Differenzierung der Benutzer, eingebunden wurden, lässt sich mittels <em>"Startprogramme"</em> das automatische Einbinden beim Einloggen für einzelne Benutzer differenzieren.</p><p>Startprogramme werden mit der Identität eines gewöhnlichen Benutzers ausgeführt. Das Einbinden von Partitionen oder Freigaben erfordert aber standardmäßig Administrator-Rechte. Deshalb müssen zuerst folgende Vorkehrungen getroffen werden, damit man mittels Startprogrammen automatisch mounten kann:</p><ul><li><p>Die betreffenden Mount-Befehle müssen jeweils durch einen <strong>fstab</strong>-Eintrag mit den Optionen <code class="notranslate">noauto</code> und <code class="notranslate">users</code> für gewöhnliche Benutzer "freigeschaltet" werden. Für die eigentlichen Mount-Befehle genügt dann die Kurzform.</p></li><li><p>Werden vom Mount-Befehl intern Hilfsprogramme verwendet (z.B. <code class="notranslate">mount.cifs</code> für das cifs-vfs), so muss für diese das <a class="internal" href="./rechte.html#Sonderrechte">SUID-Bit</a> gesetzt sein. Siehe dazu auch z.B. <a class="internal" href="./samba_client_cifs.html#mount.cifs">Samba Client cifs</a>.</p></li><li><p>Manche dieser Hilfsprogramme verlangen, dass der Mountpunkt Eigentum desjenigen Benutzers ist, mit dessen Identität gemountet wird.</p></li></ul><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Der Befehl <code class="notranslate">mount -a</code> benötigt grundsätzlich Administrator-Rechte <sup><a href="#source-5">[5]</a></sup>. Er kann deshalb nicht als Startprogramm ausgeführt werden.
</p></div></div><p>Eine weitere Möglichkeit, einzelne externe Datenträger in Verbindung mit Startprogrammen individuell automatisch zu mounten, bietet das Programm <a class="internal" href="./pmount.html">pmount</a>.</p></div><div class="section_1"><h2 id="Automounter">Automounter<a class="headerlink" href="#Automounter">¶</a></h2><p>
"Automounter" sind spezielle Hilfsprogramme (Tools) zum automatischen Einbinden von Netzwerk-Freigaben, die sich aber auch zum Einbinden externer Datenträger verwenden lassen. Automounter hängen Freigaben und Partitionen immer erst dann ein, wenn auf diese zugegriffen wird. Außerdem bieten sie in der Regel optional die Möglichkeit, dass diese bei Nichtgebrauch nach einer bestimmten Zeitspanne automatisch wieder ausgehängt werden.</p><p>Automounter richten sich üblicherweise nach dem Abarbeiten der Datei <strong>/etc/fstab</strong>, aber vor dem Einloggen eines Benutzers als Dienst (<a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/daemon">Daemon</a>) ein, sodass sie Mount-Vorgänge systemweit mit Administrator-Rechten ausführen können.</p><p>In der Desktop-Umgebung Unity sind für externe Datenträger schon einige Funktionen eines Automounters (Einhängen erst bei Zugriff, jedoch nicht automatisches Aushängen bei Nichtgebrauch) integriert.</p><p>Man sollte es nach Möglichkeit vermeiden, Automounter und andere Automount-Verfahren nebeneinander zu verwenden, da sie sich gegenseitig beeinträchtigen können.</p><p>Die in Linux am weitesten verbreiteten Automounter sind <a class="internal" href="./autofs.html">Autofs</a> und der im Paket <strong>am-utils</strong> enthaltene <a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/Berkeley%20Automounter">Berkeley-Automounter (amd)</a>. Sie werden in gesonderten Artikeln beschrieben.</p></div><div class="section_1"><h2 id="Automount-und-GVFS">Automount und GVFS<a class="headerlink" href="#Automount-und-GVFS">¶</a></h2><p>
Zum Einbinden von Netzwerk-Freigaben verwenden die Dateimanager <a class="internal" href="./nautilus.html">Nautilus</a> (Ubuntu, GNOME/Unity), <a class="internal" href="./thunar.html">Thunar</a> (Xubuntu, Xfce) und <a class="internal" href="./pcmanfm.html">PCManFM</a> (Lubuntu, LXDE) sowie das Tool <a class="internal" href="./gigolo.html">Gigolo</a> das virtuelle Dateisystem GVFS. Weil das dabei verwendete Programm <a class="internal" href="./gvfs-mount.html">gvfs-mount</a> nicht über einen allgemeinen Mount-Befehl <sup><a href="#source-3">[3]</a></sup> angesprochen wird, lassen sich die bisherigen Erklärungen nicht ohne Weiteres auf GVFS übertragen.</p><p>Weil das Tool gvfs-mount grundsätzlich von einem gewöhnlichen Benutzer ohne Root-Rechte auszuführen ist, kann es weder über einen <strong>fstab</strong>-Eintrag noch über einen Eintrag in <a class="internal" href="./rc.local.html">/etc/rc.local</a> automatisiert werden. Auch Automounter lassen sich nicht ohne Weiteres dafür verwenden.</p><p>Dagegen lässt sich gvfs-mount problemlos über <a class="crosslink" href="#Einbinden-ueber-Startprogramme">Startprogramme</a> automatisieren. Am besten legt man hierfür ein kleines Skript an, in dem alle einzuhängenden Freigaben eingetragen sind, macht dieses ausführbar und trägt es unter <em>"Startprogramme"</em> ein. Sollte das automatische Einhängen (Mounten) beim Neustart nicht auf Anhieb funktionieren, schafft meist eine kleine Pause via <code class="notranslate">sleep 5</code> am Anfang Abhilfe:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#! /bin/bash</span>
sleep <span class="m">5</span>
gvfs-mount smb://192.168.1.101/Musik
gvfs-mount smb://192.168.1.101/Photos
</pre></div>
</td></tr></table></div><p>
Da gvfs-mount ohne zusätzlich zu installierende Plugins nicht nur <a class="internal" href="./samba.html">Samba</a>, sondern auch <a class="internal" href="./ftp.html">FTP</a>, <a class="internal" href="./ssh.html">SSH</a> und <a class="internal" href="./webdav.html">WebDAV</a> (jedoch leider nicht <a class="internal" href="./nfs.html">NFS</a>) unterstützt, handelt es sich hier um eine besonders einfache und vielseitige Möglichkeit, Netzwerk-Freigaben automatisch zu mounten.</p></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="PowerTOP-und-hal-disable-polling">PowerTOP und hal-disable-polling<a class="headerlink" href="#PowerTOP-und-hal-disable-polling">¶</a></h3><p>
Ein weitere Fehlerquelle ist evtl., dass der eine oder andere Laptopbesitzer mit <a class="internal" href="./powertop.html">PowerTOP</a> versucht hat, den Stromverbrauch seines Gerätes zu senken. Eine von PowerTOP vorgeschlagenen Optionen lautet <em>"hal-disable-polling --device /dev/cdrom"</em>. Diese Option, eingetragen in die <strong>/etc/<a class="internal" href="./rc.local.html">rc.local</a></strong> oder direkt auf der Kommandozeile aufgerufen, verhindert, dass das Laufwerk von HAL auf neue Medien kontrolliert wird. Somit erkennt Software, die sich auf HAL verlässt, auch keine eingelegten Medien.</p><p>Um dies zu wieder zu ändern, sollte zunächst ein evtl. vorgenommener Eintrag in die <strong>/etc/rc.local</strong> wieder entfernt oder auskommentiert werden. Im nächsten Schritt wird das Überprüfen des Laufwerks mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo hal-disable-polling --enable-polling  --device /dev/cdrom </pre></div></div><p>
wieder permanent aktiviert. Sollen die Änderungen noch vor einem Neustart des Computers wirksam werden, muss noch der Befehl <code class="notranslate">sudo /etc/rc.local</code> ausgeführt werden.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./autofs.html">Autofs</a> - der unter Linux wohl gebräuchlichste Automounter</p></li><li><p><a class="internal" href="./pmount.html">pmount</a> - Datenträger ohne Administrator-Rechte einhängen</p></li><li><p><a class="external" href="http://pysdm.sourceforge.net/" rel="nofollow">PySDM</a> - ein grafisches Werkzeug zur Bearbeitung von <strong>fstab</strong>-Einträgen <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/Berkeley%20Automounter">Berkeley-Automounter (amd)</a> - die Alternative zu Autofs </p></li><li><p><a class="external" href="http://gparted.sourceforge.net/faq.php" rel="nofollow">GParted FAQ</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./automount/a/revision/939459.html">Diese Revision</a> wurde am 5. Mai 2017 11:05 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./automount.html">Automount</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>