<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Bacula/bconsole › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../bacula/bconsole.html">bconsole</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Bacula/bconsole">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../bacula/bconsole/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../bacula/bconsole/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../bacula/bconsole/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../bacula/bconsole/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../bacula/bconsole/a/backlinks.html">bconsole</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="../trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Aufruf-und-Optionen">Aufruf und Optionen
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./bacula_logo.png" class="image-left" src="../_/d98dc038f9d37566597e5235359bb90e89829e49.png"/>
<img alt="bconsole_screenshot.png" class="image-right" src="../_/0eb1161b0cc73b308d516360a35a502ead72197a.png"/>
Bacula Console oder kurz <strong>bconsole</strong> ist das Werkzeug, mit dem man den Director im laufenden Betrieb verwalten kann. Es bietet einen interaktiven Textmodus, d.h. man muss nicht alle Optionen auf einmal angeben, sondern wird nach und nach gefragt. Dabei wird immer zuerst das Kommando angegeben und dann die Optionen spezifiziert.</p><div class="section_1"><h2 id="Aufruf-und-Optionen">Aufruf und Optionen<a class="headerlink" href="#Aufruf-und-Optionen">¶</a></h2><p>
Der Aufruf erfolgt in einem Terminal <sup><a href="#source-1">[1]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">bconsole OPTIONEN </pre></div></div><p>
Die Angabe von Optionen wird in den meisten Fällen nicht benötigt. Eine Übersicht über die enthaltenen Befehle erhält man mit <code class="notranslate">help</code>. Mit <code class="notranslate">quit</code> verlässt man den interaktiven Modus.</p><div class="section_2"><h3 id="status">status<a class="headerlink" href="#status">¶</a></h3><p>
Das erste, was man nach der Konfiguration machen sollte, ist alles zu testen. Das kann man mit <code class="notranslate">status</code> machen. Dazu am besten mit <code class="notranslate">4</code> dem Director anweisen, sich testweise mit allen zu verbinden. Falls das Verbinden fehlschlägt, sollte man sowohl das Passwort als auch den Servernamen überprüfen.</p></div><div class="section_2"><h3 id="restore">restore<a class="headerlink" href="#restore">¶</a></h3><p>
Mit dem Befehl <code class="notranslate">restore</code> kann man jederzeit Dateien aus den Backups wiederherstellen. Diese werden an den Pfad geschrieben, welchen man in der Konfiguration des Directors angegeben hat (z.B. <strong>/tmp</strong>).</p><p>Nachdem man mit der Eingabe von <code class="notranslate">restore</code> das Wiederherstellungs-Menü aufgerufen hat, gibt es eine große Anzahl an Möglichkeiten, die angeforderten Dateien einzugrenzen. Üblicherweise benutzt man Option <code class="notranslate">5</code> "Select the most recent backup for a client" und fordert damit das letzte Backup an. Dann kann man in der Sicherung arbeiten (mit üblichen Befehlen wie <a class="internal" href="../cd.html">cd</a>) und mit <code class="notranslate">mark &lt;file&gt;</code> Dateien markieren, die man wiederherstellen möchte. Wenn man fertig ist, dann bestätigt man mit <code class="notranslate">done</code> und die Dateien werden wiederhergestellt. Im folgenden Beispiel wird die Datei<strong> /etc/resolv.conf</strong> aus dem Backup wiederhergestellt und ist abschließend unter <strong>/tmp/etc/resolv.conf</strong> zu finden.
</p><pre class="notranslate">* restore
  5
  1
  mark /etc/resolv.conf
  done</pre></div><div class="section_2"><h3 id="list">list<a class="headerlink" href="#list">¶</a></h3><p>
Mit <code class="notranslate">list</code> kann man sich nützliche Informationen zum eingerichteten Backup-System anzeigen lassen. Mit <code class="notranslate">list pools</code> bekommt man eine Übersicht über die eingerichteten Pools oder mit <code class="notranslate">list volume</code> über alle Volumina und deren Zustand. Beispiel:</p><pre class="notranslate">*list pools
+--------+---------+---------+---------+----------+-------------+
| PoolId | Name    | NumVols | MaxVols | PoolType | LabelFormat |
+--------+---------+---------+---------+----------+-------------+
|      1 | Default |      37 |       0 | Backup   | catalog-    |
|      2 | Scratch |       0 |       0 | Backup   | *           |
|      3 | Server  |     400 |     400 | Backup   | server-     |
+--------+---------+---------+---------+----------+-------------+
*</pre></div><div class="section_2"><h3 id="prune">prune<a class="headerlink" href="#prune">¶</a></h3><p>
<code class="notranslate">prune</code> ist dazu da, Volumina, dessen Aufbewahrungszeitraum abgelaufen sind, zu löschen. Dabei wird dieser aber beachtet und falls noch gültig, wird das Volumen nicht gelöscht.</p></div><div class="section_2"><h3 id="purge">purge<a class="headerlink" href="#purge">¶</a></h3><p>
<code class="notranslate">purge</code> hat genau die gleiche Aufgabe wie "prune", allerdings löscht sie das Volumen direkt ohne Beachtung der Aufbewahrungszeit.</p></div><div class="section_2"><h3 id="help">help<a class="headerlink" href="#help">¶</a></h3><p>
Mit <code class="notranslate">help</code> kann man sich alle verfügbaren Kommandos in einer kurzen Liste anzeigen lassen. Außerdem kann man mit <code class="notranslate">help &lt;command&gt;</code> weitere Informationen über einen Befehl besorgen. Beispiel:</p><pre class="notranslate">* help list
  Command       Description
  =======       ===========
  list          List objects from catalog

Arguments:
	pools | jobs | jobtotals | volume | media &lt;pool=pool-name&gt; | files jobid=&lt;nn&gt; | copies jobid=&lt;nn&gt;

When at a prompt, entering a period cancels the command.</pre></div><div class="section_2"><h3 id="messages">messages<a class="headerlink" href="#messages">¶</a></h3><p>
Durch Ausführen von <code class="notranslate">messages</code> werden wartende Console-Meldungen sofort angezeigt. Gleichzeitig schreibt der Director die Protokolldateien in <strong>/var/log/bacula/log</strong>.</p></div><div class="section_2"><h3 id="run">run<a class="headerlink" href="#run">¶</a></h3><p>
Mit dem <code class="notranslate">run</code> Kommando kann man Jobs in den Zeitplan des Directors einfügen. Dazu gibt man den Job-Namen an und bestätigt diesen. Beispiel:</p><pre class="notranslate">* run job=server-1-job yes
  Job queued. JobId=5</pre></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Job-not-run">"Job not run"<a class="headerlink" href="#Job-not-run">¶</a></h3><p>
Wenn man diese Rückgabe erhält, dann sollte man versuchen, den Befehl in einer Zeile zu definieren (siehe <a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/1004494">1004494</a>). Das Problem lässt sich beheben, indem man unter <strong>/etc/init.d/</strong> in den Dateien <strong>bacula-dir</strong> und <strong>baculad-sd</strong> die Variable <code class="notranslate">LANG=C</code> setzt.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.bacula.org/5.0.x-manuals/en/console/console/Bacula_Console.html" rel="nofollow">Bacula Console</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - offizielle Dokumentation</p></li><li><p><a class="internal" href="../bacula.html">Bacula</a> - Hauptartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../bacula/bconsole/a/revision/945203.html">Diese Revision</a> wurde am 29. November 2017 22:01 von <a href="https://ubuntuusers.de/user/BillMaier/">BillMaier</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../bacula.html">Bacula</a></li>
<li><a href="../bacula/bconsole.html">bconsole</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>