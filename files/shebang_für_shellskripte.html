<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Shebang_für_Shellskripte › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./shebang_für_shellskripte.html">Shebang für Shellskripte</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Shebang_für_Shellskripte">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./shebang_für_shellskripte/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./shebang_für_shellskripte/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./shebang_für_shellskripte/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./shebang_für_shellskripte/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./shebang_für_shellskripte/a/backlinks.html">Shebang für Shellskripte</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Komplexitaet-reduzieren">Komplexität reduzieren
</a></li><li><a class="crosslink" href="#Interpreter">Interpreter
</a><ol class="arabic"><li><a class="crosslink" href="#Der-Aufruf">Der Aufruf
</a></li><li><a class="crosslink" href="#Einmal-einfach-und-zurueck-und-wo-war-gleich-der-symbolische-Link">Einmal einfach und zurück, und wo war gl...</a></li><li><a class="crosslink" href="#Was-soll-das-alles-wozu-der-Wildwuchs">Was soll das alles - wozu der Wildwuchs?...</a><ol class="arabic"><li><a class="crosslink" href="#Sonstiges">Sonstiges
</a></li></ol></li><li><a class="crosslink" href="#Faustregeln">Faustregeln
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/terminal.png" class="image-left" src="./_/e81889fd6e485dd32e1cde611eabc18abced7993.png"/>
Bei <a class="internal" href="./shell.html">Shellskripten</a> kommt es sporadisch zu Fehlern in Zusammenhang mit dem <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Shebang">Shebang</a> und <a class="internal" href="./ln.html#Symbolische-Verknuepfungen">symbolischen Links</a>. Vor allem die Ursache des Fehlers will dieser Artikel erklären.</p><p>Das Szenario besteht aus drei Einflussgrößen:</p><ul><li><p>Der symbolische Link: In <strong>/bin</strong> gibt es den Link zu <code class="notranslate">sh</code>, der zur <a class="internal" href="./dash.html">dash</a> weist, früher (oder wenn er explizit abgeändert wurde oder auch in manchen anderen Linuxdistributionen) auch zur <a class="internal" href="./bash.html">bash</a>.</p></li><li><p>Der verwendete Shebang, das ist die erste Zeile, die einen besonderen Kommentar enthält, wie z.B.:</p><ul><li><pre class="notranslate">#!/bin/sh</pre></li><li><pre class="notranslate">#!/bin/bash</pre></li><li><pre class="notranslate">#!/bin/dash</pre></li><li><p>theoretisch auch etwas wie  </p><pre class="notranslate">#!./splash</pre></li></ul></li><li><p>Die Form, in der man das Skript aufruft<sup><a href="#source-2">[2]</a></sup>: </p><ul><li><p>Als aufrufbares Programm via <a class="internal" href="./umgebungsvariable.html#PATH-erweitern">PATH</a>, mit absolutem oder relativem Pfad, wie z.B.:</p><ul><li><div class="bash"><div class="contents"><pre class="notranslate">script.sh  </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">~/bin/script.sh  </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">./bin/script.sh  </pre></div></div></li></ul></li><li><p>Explizit mittels Interpreter </p><ul><li><div class="bash"><div class="contents"><pre class="notranslate">bash bin/script.sh  </pre></div></div></li><li><div class="bash"><div class="contents"><pre class="notranslate">sh ~/bin/script.sh  </pre></div></div></li></ul></li></ul></li></ul><p>
</p><div class="section_1"><h2 id="Komplexitaet-reduzieren">Komplexität reduzieren<a class="headerlink" href="#Komplexitaet-reduzieren">¶</a></h2><p>
Für sich genommen sind die Punkte leicht zu verstehen - alleine, wenn sie sich zu einer Einheit verknüllen, wird die Frage doch ein wenig komplex. Um die Komplexität anzugehen, sollte man die Konzepte isoliert voneinander verstehen - das ist einfach. Danach ist es auch nicht schwer, die Kombination der Effekte zu verstehen.</p></div><div class="section_1"><h2 id="Interpreter">Interpreter<a class="headerlink" href="#Interpreter">¶</a></h2><p>
Ein Skript kann von unterschiedlichen Interpretern interpretiert werden - oder auch nicht. Es gibt einen <a class="external" href="http://pubs.opengroup.org/onlinepubs/9699919799/" rel="nofollow">POSIX-Standard</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>, den die populären Shells alle ganz gut beherrschen. Was darüber hinausgeht kann die eine Shell aber die andere nicht, und die andere kann jenes, was erstere nicht kann oder anders löst.</p><p>Wenn man einen Interpreter ausdrücklich aufruft, dann wird dieser verwendet - ohne wenn und aber; der Shebang schaut in die Röhre, wird also ignoriert. Natürlich kann man nicht erzwingen, dass das Skript in einem Interpreter funktionieren wird, für den es nicht geschrieben wurde. Das Skript wird ja nicht auf magische Weise umgeschrieben.</p><div class="section_2"><h3 id="Der-Aufruf">Der Aufruf<a class="headerlink" href="#Der-Aufruf">¶</a></h3><p>
Wenn man den Interpreter explizit aufruft, also beispielsweise</p><div class="bash"><div class="contents"><pre class="notranslate">dash script.sh </pre></div></div><p>dann muss man zuvor das Skript nicht ausführbar machen, weil man den Interpreter ausführt, und das Skript dessen Eingabedatei ist, so wie z.B. ein Bild die Eingabe für ein Grafikprogramm wie Gimp ist.</p><p>Lässt man den Interpreter weg, muss man das Skript erst ausführbar machen; dann wird der Shebang ausgewertet, der in der ersten Zeile steht und aus einem Kommentarzeichen <code class="notranslate">#</code> (engl.: sharp) besteht, dem <code class="notranslate">!</code> (engl.: bang) und dem Pfad zum Interpreter - üblicherweise dem absoluten Pfad, also <strong>/bin/bash</strong> oder <strong>/bin/sh</strong>, insgesamt also <code class="notranslate">#!/bin/bash</code>.</p><div class="bash"><div class="contents"><pre class="notranslate">script.sh </pre></div></div></div><div class="section_2"><h3 id="Einmal-einfach-und-zurueck-und-wo-war-gleich-der-symbolische-Link">Einmal einfach und zurück, und wo war gleich der symbolische Link?<a class="headerlink" href="#Einmal-einfach-und-zurueck-und-wo-war-gleich-der-symbolische-Link">¶</a></h3><p>
Das war ja jetzt alles nicht so schwer - wo ist das Problem?</p><p>Zurück zur Komplexität: Jetzt steht im Skript als Shebang <code class="notranslate">#!/bin/sh</code>, aber im Verzeichnis <strong>/bin</strong> ist <code class="notranslate">sh</code> ein symbolischer Link der auf <code class="notranslate">dash</code> weist, oder in früheren Zeiten auf die <code class="notranslate">bash</code>. Dann kann man doch auch gleich <code class="notranslate">#!/bin/dash</code> schreiben, das ist doch dann gleichbedeutend?</p><ul><li><p>Ja, ist es, wenn das Skript in einer unterstützten Standard-Ubuntu-Installation verwendet wird.</p></li><li><p>Ja, ist es auch sonst, wenn <strong>/bin/sh</strong> eine symbolische Verknüpfung auf <strong>/bin/dash</strong> ist.</p></li><li><p>Nein, ist es nicht, wenn <strong>/bin/sh</strong> beispielsweise eine Verknüpfung auf <strong>/bin/bash</strong> ist. Die Shell kann untersuchen, wie sie aufgerufen wurde, und sie tut das auch - zumindest die bash macht es. Sie stellt fest, dass sie als <code class="notranslate">sh</code> aufgerufen wurde, und verhält sich so, als habe man die Option <code class="notranslate">--posix</code> verwendet - daher ist auch der Aufruf <code class="notranslate">#!/bin/sh</code> nicht gleichbedeutend zum Aufruf <code class="notranslate">#!/bin/bash</code> (Genaueres in der <a class="internal" href="./man.html">manpage</a> der Bash auf den ersten Seiten). </p></li></ul><p>
So, das hat die Sache etwas subtiler gemacht, und wer sich davon angeregt fühlt, der schreibt in die eigenen Skripte auch noch Weichen hinein, die unterscheiden, ob das Skript mit vollem Pfad oder relativem Pfad aufgerufen wurde.</p><p>Mehr Komplexität gibt es aber hier nicht - das war schon alles.</p></div><div class="section_2"><h3 id="Was-soll-das-alles-wozu-der-Wildwuchs">Was soll das alles - wozu der Wildwuchs?<a class="headerlink" href="#Was-soll-das-alles-wozu-der-Wildwuchs">¶</a></h3><p>
Es gibt im wesentlichen drei Gründe, sich für die Shell zu interessieren: 
</p><ul><li><p>Man schreibt Konfigurationsskripte und ähnliches, die auf ganz unterschiedlichen Systemen laufen sollen. Dann ist man an einer großen Portabilität interessiert, und wird versuchen, sich auf den POSIX-Standard zu beschränken - den größten, gemeinsamen Nenner. Dann verwendet man auch den Shebang <code class="notranslate">#!/bin/sh</code></p></li><li><p>Man schreibt Skripte für ein Spezialgerät, bei dem es sehr auf die Größe der Shell ankommt. Dann wird man vielleicht die dash der bash vorziehen, aber je nach Gerät mag es andere ggf. noch kleinere Shells geben.</p></li><li><p>Man möchte möglichst viele, fortgeschrittene Konzepte einer bestimmten Shell verwenden. Dann wird man wohl zu etwas wie <code class="notranslate">bash</code> oder <code class="notranslate">zsh</code> greifen, und den entsprechenden Shebang verwenden. </p></li></ul><p>
</p><div class="section_3"><h4 id="Sonstiges">Sonstiges<a class="headerlink" href="#Sonstiges">¶</a></h4><p>
</p><ul><li><p>Bei Skripten mit Shebang werden vom Linuxkernel die <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/SUID">SUID</a>- und <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/setgid">SGID</a>-Flags ignoriert.</p></li><li><p>Mittels Shebang kann man ein Skript aufrufen, welches seinerseits wieder einen Shebang hat usw. Allerdings nur vier Rekursionstiefen tief, dann ist Schluss. </p></li><li><p>Der Shebang kann um Parameter erweitert werden: </p><pre class="notranslate">#!/bin/bash -f  </pre></li><li><p>Skripte in anderen Sprachen wie Lua, Python, Ruby usw. lassen sich analog mit einem Shebang starten - sofern das <code class="notranslate">#</code> dort als Kommentar toleriert wird, also </p><pre class="notranslate">#!/usr/bin/python</pre></li><li><p>Bei Skripten, bei denen man nicht weiß, auf welcher Unix-Plattform sie landen werden, findet man auch einen zweistufigen Aufruf, weil man beispielsweise nicht weiß, wo Lua installiert ist. Man ruft dann </p><pre class="notranslate">#!/usr/bin/env lua </pre><p> auf, und verlässt sich darauf, dass <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/env">env</a> einheitlich installiert ist, und damit lua im Pfad gefunden wird. </p></li></ul><p>
</p></div></div><div class="section_2"><h3 id="Faustregeln">Faustregeln<a class="headerlink" href="#Faustregeln">¶</a></h3><p>
Soweit nicht anders verordnet, nimmt man</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/bash</span>
</pre></div>
</td></tr></table></div><p>als erste Zeile des Skripts.</p><ul><li><p>Was mit der <code class="notranslate">dash</code> klappt und mit <code class="notranslate">sh</code>, das klappt fast immer auch mit der <code class="notranslate">bash</code> - umgekehrt aber nicht. </p></li><li><p>Die <code class="notranslate">bash</code> ist weit verbreitet und kommt auch bei Ubuntu als interaktive Shell zum Einsatz.</p></li><li><p>Die <code class="notranslate">bash</code> ist viel mächtiger als <code class="notranslate">dash</code>. Die Zeit, die man beim Schreiben spart holt die schnellere Startzeit der Dash niemals rein - außer man arbeitet in einer Umgebung, die es dringend gebietet mehr als Faustregeln zu lernen. </p></li><li><p>Die <a class="internal" href="./zsh.html">zsh</a> ist auch sehr mächtig, aber Leute, die zsh-Tipps geben, wissen, dass kaum jemand die <code class="notranslate">zsh</code> nutzt. Deswegen schreiben sie dann auch ausdrücklich dazu, dass es zsh-Code ist.</p></li></ul><p>
</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./shell.html">Shell</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersicht</p><ul><li><p><a class="internal" href="./shell/bash-skripting-guide_für_anfänger.html">Shell/Bash-Skripting-Guide für Anfänger</a></p></li></ul></li><li><p><a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/Shebang_(Unix)">shebang</a></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./shebang_für_shellskripte/a/revision/808978.html">Diese Revision</a> wurde am 19. April 2015 12:35 von <a href="https://ubuntuusers.de/user/aasche/">aasche</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./shebang_für_shellskripte.html">Shebang für Shellskripte</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>