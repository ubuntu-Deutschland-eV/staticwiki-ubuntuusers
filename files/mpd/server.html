<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>MPD/Server › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../mpd/server.html">Server</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/MPD/Server">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../mpd/server/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../mpd/server/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../mpd/server/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../mpd/server/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../mpd/server/a/backlinks.html">Server</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../dienste.html">Dienste verwalten</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../terminal.html">Ein Terminal bedienen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../sudo.html">Root-Rechte erlangen</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="../rechte.html">Rechte für Dateien und Ordner ändern</a></p></li><li><p><a class="crosslink anchor" href="#source-7" id="source-7"></a> <a class="internal" href="../benutzer_und_gruppen.html">Benutzer und Gruppen verwalten</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Benutzung">Benutzung
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a><ol class="arabic"><li><a class="crosslink" href="#Konfigurationsdatei-erstellen">Konfigurationsdatei erstellen
</a></li><li><a class="crosslink" href="#Verzeichnisse">Verzeichnisse
</a></li><li><a class="crosslink" href="#Sound-Ausgabe">Sound-Ausgabe
</a></li><li><a class="crosslink" href="#Netzwerk-Freigabe">Netzwerk-Freigabe
</a></li><li><a class="crosslink" href="#Logdateien">Logdateien
</a></li><li><a class="crosslink" href="#Rechtevergabe">Rechtevergabe
</a></li><li><a class="crosslink" href="#Datenbank-erzeugen">Datenbank erzeugen
</a></li><li><a class="crosslink" href="#Lautstaerkeregelung">Lautstärkeregelung
</a></li><li><a class="crosslink" href="#Weitere-Optionen">Weitere Optionen
</a></li><li><a class="crosslink" href="#Konfiguration-abschliessen">Konfiguration abschließen
</a></li><li><a class="crosslink" href="#Radiostreams-abspielen">Radiostreams abspielen
</a></li></ol></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a><ol class="arabic"><li><a class="crosslink" href="#Musiksammlung-auf-externem-Datentraeger">Musiksammlung auf externem Datenträger
</a></li><li><a class="crosslink" href="#Grosse-Playlists">Große Playlists
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="MPD/mpd.png" class="image-left" src="../_/a2d690435cfe5627d95eebdf044b448c8e6b7947.png"/> 
Dieser Artikel beschreibt die Installation und Einrichtung des MPD-Servers. Eine Beschreibung des MPD-Konzeptes und eine Übersicht über verfügbaren Client-Programme findet man im Artikel <a class="internal" href="../mpd.html">MPD</a>. Die Einrichtung auf der Benutzerebene, mit der die Einbindung mit <a class="internal" href="../pulseaudio.html">PulseAudio</a> wesentlich einfacher vonstatten geht, wird in <a class="internal" href="../mpd/mpd_auf_der_benutzerebene.html">MPD auf der Benutzerebene</a> beschrieben.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Folgendes Paket muss installiert<sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>mpd</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install mpd </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install mpd </pre></div></div><p>
</p></div></div><p>
Dieses Paket beinhaltet nur den MPD-Server. Ein <a class="internal" href="../mpd.html#Clients">Client-Programm</a> muss noch lokal oder auf einem weiteren Rechner installiert werden.</p></div><div class="section_1"><h2 id="Benutzung">Benutzung<a class="headerlink" href="#Benutzung">¶</a></h2><p>
Wie die meisten anderen Dienste bringt MPD ein Start/Stop-Skript mit. Dieses Skript lässt sich zum Kontrollieren des Dienstes nutzen<sup><a href="#source-2">[2]</a></sup>. In einem Terminal<sup><a href="#source-3">[3]</a></sup> werden folgende Befehle mit Root-Rechten<sup><a href="#source-4">[4]</a></sup> benutzt:</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein
sudo service mpd {start|start-create-db|stop|restart}
# Beispiel
sudo service mpd stop </pre></div></div><ul><li><p><code class="notranslate">start</code>: Startet den MPD Dienst </p></li><li><p><code class="notranslate">stop</code>: Stoppt den Server wieder </p></li><li><p><code class="notranslate">restart</code>: Startet den Server neu, bestehende Verbindungen auf den Server werden gekappt </p></li><li><p><code class="notranslate">start-create-db</code>: Erzeugt die Datenbank. Dieser Befehl ist in neueren MPD-Server-Versionen nicht mehr verfügbar und liefert einen Syntaxfehler.</p></li></ul><p>
</p></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Der MPD wird über die Konfigurationsdatei <strong>/etc/mpd.conf</strong> gesteuert. Diese Datei existiert schon vorkonfiguriert. Mit einem Editor <sup><a href="#source-5">[5]</a></sup> mit Root-Rechten <sup><a href="#source-4">[4]</a></sup> kann man MPD nun individuell einrichten. Im Folgenden werden wichtige Optionen aufgezeigt.</p><div class="section_2"><h3 id="Konfigurationsdatei-erstellen">Konfigurationsdatei erstellen<a class="headerlink" href="#Konfigurationsdatei-erstellen">¶</a></h3><p>
Sollte die Konfigurationsdatei nach der Installation des MPD nicht korrekt vorhanden sein, kann man MPD durch <code class="notranslate">debconf</code> erneut aus einem Terminal <sup><a href="#source-3">[3]</a></sup> heraus konfigurieren lassen.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg-reconfigure -plow mpd </pre></div></div><p>Ist die Datei erstellt, kann man MPD über die <strong>/etc/mpd.conf</strong> nochmals von Hand konfigurieren.</p></div><div class="section_2"><h3 id="Verzeichnisse">Verzeichnisse<a class="headerlink" href="#Verzeichnisse">¶</a></h3><p>
Am Anfang der Konfigurationsdatei werden die Verzeichnisse festgelegt, in denen MPD nach Musik und Playlisten sucht:</p><pre class="notranslate">music_directory         "/var/lib/mpd/music"
playlist_directory      "/var/lib/mpd/playlists"</pre><p>Hierbei ist zu beachten, dass MPD unter dem Benutzer <code class="notranslate">mpd</code> (Gruppe <code class="notranslate">audio</code>) läuft. Dieser oder die Gruppe <code class="notranslate">audio</code> müssen auf die Verzeichnisse lesend zugreifen dürfen. Eventuell muss man daher die Dateirechte der angegebenen Verzeichnisse anpassen. Mehr zu diesem Thema findet man im Wiki unter <a class="internal" href="../rechte.html">Rechte</a>. Kommentiert man die Zeile mit <code class="notranslate">user</code> komplett aus, wird der Dienst mit Root-Rechten gestartet.</p><p>In manchen fällen geschieht der Eintrag von Benutzer <code class="notranslate">mpd</code> in Gruppe <code class="notranslate">audio</code> nicht automatisch, in diesen Fällen läuft der MPD sauber an, kann aber keine Wiedergabe starten. In solch einem Fall muss der Eintrag von Hand vorgenommen werden.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo usermod -aG audio mpd     #Setzt die Gruppenzugehörigkeit
cat /etc/group | grep audio    #Zeigt Mitglieder der Gruppe audio an </pre></div></div></div><div class="section_2"><h3 id="Sound-Ausgabe">Sound-Ausgabe<a class="headerlink" href="#Sound-Ausgabe">¶</a></h3><p>
MPD ist bei der Wiedergabe von Musik sehr flexibel. Es kann verschiedene Soundarchitekturen wie <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Advanced_Linux_Sound_Architecture">ALSA</a> oder <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Open_Sound_System">OSS</a> nutzen sowie – falls im System vorhanden – unterschiedliche Soundkarten ansteuern. Zusätzlich kann MPD Streaming-Server wie <a class="internal" href="../icecast2.html">Icecast2</a> oder auch einen integrierten http-Server zur Ausgabe  verwenden. Für die verschiedenen Ausgabe-Möglichkeiten sind auskommentierte Standard-Einstellungen in der Konfiguration-Datei vorhanden, die man jeweils nur einkommentieren muss.</p><p>Da der Benutzer <code class="notranslate">mpd</code> Mitglied der Gruppe <code class="notranslate">audio</code> ist (überprüfen mit <code class="notranslate">id mpd</code>), sollte er alle Möglichkeiten der Sound-Ausgabe nutzen können.</p><div class="section_3"><h4 id="Alsa">Alsa<a class="headerlink" href="#Alsa">¶</a></h4><p>
Die Ausgabe über die Alsa-Soundkarte ist voreingestellt. Wird sie nicht gewünscht, muss man den Bereich auskommentieren.</p><p>Im folgenden Beispiel wird der Sound an die zweite im System befindliche Soundkarte via ALSA geschickt:</p><pre class="notranslate"># use this if you want to use ALSA audio output
audio_output {
       type            "alsa"
       name            "Soundkarte"
       device          "hw:0,1" # optional
       format          "44100:16:2" #optional
}</pre></div><div class="section_3"><h4 id="PulseAudio">PulseAudio<a class="headerlink" href="#PulseAudio">¶</a></h4><p>
Der erweiterte Soundserver <a class="internal" href="../pulseaudio.html">PulseAudio</a> ist standardmäßig ab Ubuntu 8.04 im Einsatz. Die passenden Zeilen dafür sehen wie folgt aus:</p><pre class="notranslate">audio_output {
        type    "pulse"
        name    "MPD PulseAudio Ausgabe"
        server  "localhost"   # optional
        #sink    "alsa_output" # optional
}</pre><p>Der <code class="notranslate">server</code> muss ggf. <code class="notranslate">localhost</code> sein, ansonsten taucht die mpd-Ausgabe nicht in den Audio-Einstellungen auf, und mpd blockiert die Soundkarte für andere Anwendungen, zudem kann andersherum mpd nichts ausgeben, wenn andere Sound-Anwendungen laufen.</p><p><code class="notranslate">sink</code> ist der Wert für die PulseAudio-Standard-Ausgabe und wird automatisch ermittelt, wenn man ihn nicht angibt. Gibt man dennoch einen Wert an, muss dieser auch korrekt ermittelt sein, sonst erhält man folgende Fehlermeldung:</p><pre class="notranslate">Cannot connect to server in PulseAudio output "MPD PulseAudio Ausgabe" (attempt 1): No such entity</pre><p>Daher sollte man den Wert mit folgendem Befehl ermitteln:</p><div class="bash"><div class="contents"><pre class="notranslate">pactl stat </pre></div></div><p>Dabei kann zum Beispiel Folgendes herauskommen:</p><pre class="notranslate">Standard-Ausgabe: alsa_output.pci_8086_27d8_sound_card_0_alsa_playback_0</pre><p>Demnach muss der Wert angepasst werden:</p><pre class="notranslate">sink    "alsa_output.pci_8086_27d8_sound_card_0_alsa_playback_0" # optional</pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Ggf. ist es für die Nutzung mit PulseAudio allerdings sinnvoller - zudem einfacher zu konfigurieren - <a class="internal" href="../mpd/mpd_auf_der_benutzerebene.html">MPD auf der Benutzerebene</a> zu verwenden, da auch PulseAudio als Benutzerdienst konzipiert ist. Die Verwendung als Streamimgserver etc. ist damit genauso möglich wie hier beschrieben.
</p></div></div></div><div class="section_3"><h4 id="Jack">Jack<a class="headerlink" href="#Jack">¶</a></h4><p>
Ein Anschluss für den Soundserver <a class="internal" href="../jack.html">jack</a> lässt sich leicht erstellen (wobei der Name frei gewählt werden kann):</p><pre class="notranslate">audio_output {
       type            "jack"
       name            "mpdjack"
}</pre><p>Die Angaben zu <code class="notranslate">device</code> und <code class="notranslate">format</code> werden nicht hier, sondern in den Einstellungen von <a class="internal" href="../jack.html">jack</a> vorgenommen.</p></div><div class="section_3"><h4 id="Eingebauter-Webserver">Eingebauter Webserver<a class="headerlink" href="#Eingebauter-Webserver">¶</a></h4><p>
MPD verfügt über einen eingebauten Webserver (<code class="notranslate">http</code>), der zur Soundausgabe genutzt werden kann. Man muss beachten, dass man die Qualität des Streams entweder als Qualitäts-Stufe oder als Bitrate, niemals aber beides, angibt.</p><pre class="notranslate">audio_output {
	type		"httpd"
	name		"MPD HTTP Stream"
	encoder		"vorbis"		# optional, vorbis oder lame
	port		"8000"
	quality		"5.0"			# entweder
#	bitrate		"128"			# oder
	format		"44100:16:1"
}</pre><p>Mit diesen Einstellungen ist der Stream über die Adresse <code class="notranslate">http://HOSTNAME:8000</code> bzw. <code class="notranslate">http://IP:8000</code> abrufbar.</p></div><div class="section_3"><h4 id="Streamingserver">Streamingserver<a class="headerlink" href="#Streamingserver">¶</a></h4><p>
Mit MPD kann man auch gängige Streamingserver „bestreamen“, die Einstellungen für den <a class="internal" href="../icecast2.html">Icecast2</a>-Server sind in der Datei <strong>/etc/mpd.conf</strong> schon vorkonfiguriert, jedoch noch auskommentiert.</p><pre class="notranslate">audio_output {
        type                    "shout"
        name                    "Name des Radiosenders"
        host                    "localhost"
        port                    "8000"
        mount                   "/stream"                   # nur bei Icecast
        password                "hackme"
        quality                 "5.0"                       # oder: bitrate "128"
        format                  "44100:16:2"
        user                    "source"                    # nur bei Icecast
        description             "Beschreibung der Sendung"  # optional
        genre                   "jazz"                      # optional
        public                  "no"                        # optional
}</pre><p>Die Optionen ergeben sich zum größten Teil aus der Konfigurationsdatei des Streamingsservers, in diesem Fall vom <a class="internal" href="../icecast2.html">Icecast2</a>. Damit der MPD sich mit dem Icecast-Server verbindet muss der MPD etwas abspielen, steht der MPD still, besteht auch keine Verbindung. Zum Steuern des MPD über einen Client auf dem selben Rechner muss wie oben beschrieben mindestens eine Soundkarte definiert sein.</p></div></div><div class="section_2"><h3 id="Netzwerk-Freigabe">Netzwerk-Freigabe<a class="headerlink" href="#Netzwerk-Freigabe">¶</a></h3><p>
Nach der Installation ist MPD so konfiguriert, dass man ihn nur vom <code class="notranslate">localhost</code> – also vom lokalen Rechner – aus ansprechen kann. Da einer der Hauptgründe für den Einsatz eines Musikservers normalerweise die Möglichkeit der Steuerung über das Netzwerk ist, sollte diese Bindung aufgehoben werden, so dass alle Rechner aus dem lokalen Netzwerk MPD ansprechen können:</p><pre class="notranslate"># Set this value if you only have one
# address you want to allow connection to.
# bind_to_address        "localhost"</pre><div class="section_3"><h4 id="Port-definieren">Port definieren<a class="headerlink" href="#Port-definieren">¶</a></h4><p>
Nun lässt sich auch noch der Port festlegen, an dem MPD nach Anfragen aus dem Netzwerk lauschen soll – üblicherweise ist hier allerdings die Voreinstellung ausreichend. Bei Bedarf kann man ihn aber ändern über:</p><pre class="notranslate">port   "6600"</pre></div></div><div class="section_2"><h3 id="Logdateien">Logdateien<a class="headerlink" href="#Logdateien">¶</a></h3><p>
Möchte man wissen, was der MPD-Server macht oder hat man Probleme, sich zu verbinden oder Musik abzuspielen, kann man MPD Logdateien schreiben lassen. (Direkt nach der Installation ist diese Funktion deaktiviert.)</p><pre class="notranslate"># Valid options are "default", "secure" or "verbose".
log_level              "verbose"</pre><p>Die Logs findet man anschließend im Verzeichnis <strong>/var/log/mpd/</strong>. Weitere Informationen bezüglich Logs findet man im Wiki unter <a class="internal" href="../logdateien.html">Logdateien</a>.</p></div><div class="section_2"><h3 id="Rechtevergabe">Rechtevergabe<a class="headerlink" href="#Rechtevergabe">¶</a></h3><p>
Interessant ist noch die Option <code class="notranslate">password</code>. Sie ist nicht nur ein Passwort, um den Daemon zu schützen, sondern man kann <code class="notranslate">password</code> mehrmals definieren, um so mehrere Benutzer mit unterschiedlichen Rechten anzulegen. Die Syntax lautet:</p><pre class="notranslate">Password "passwort@permissions"</pre><p>Als <code class="notranslate">permissions</code> kann man eine kommagetrennte Liste aus <code class="notranslate">read</code>, <code class="notranslate">add</code>, <code class="notranslate">control</code> und/oder <code class="notranslate">admin</code> notieren, also zum Beispiel:</p><pre class="notranslate">Password "geheim@read,control"</pre><p>Wenn man sich nun mit dem Passwort <code class="notranslate">geheim</code> am MPD anmeldet, hat man das Recht, die Datenbank zu lesen und den MPD zu kontrollieren. Das Attribut <code class="notranslate">add</code> erlaubt, Stücke zur Datenbank hinzuzufügen und der <code class="notranslate">admin</code> hat das Recht, den Daemon zu beenden.</p></div><div class="section_2"><h3 id="Datenbank-erzeugen">Datenbank erzeugen<a class="headerlink" href="#Datenbank-erzeugen">¶</a></h3><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Ein manuelles anlegen der Datenbank mittels <em>start-create-db</em> ist in neueren Versionen nicht mehr möglich und liefert einen vermeintlichen Syntax Fehler.
</p></div></div><p>
Um die Datenbank automatisch aktualisieren zu lassen, finden sich folgende Einstellungen in der Konfigurationsdatei:
</p><pre class="notranslate">auto_update    "yes"
auto_update_depth "3"  # optional

follow_outside_symlinks	"yes"  # optional
follow_inside_symlinks	"yes"  # optional</pre><p>
</p><ul><li><p><em>auto_update</em>: Regelt, ob die Datenbank automatisch vom Server aktualisiert werden soll</p></li><li><p><em>auto_update_depth</em>: Regelt, wie tief die Ordnerstruktur durchsucht werden soll. Kommentiert man die Zeile aus, werden alle Ordner durchsucht</p></li><li><p><em>follow_outside_symlinks</em>: Symbolische Links werden auch außerhalb der freigegeben Ordner verfolgt</p></li><li><p><em>follow_inside_symlinks</em>: Symbolischen Links werden auch innerhalb der freigegeben Ordner verfolgt</p></li></ul><p>
Alternativ kann im Client eine Aktualisierung der Datenbank gestartet werden. Allerdings unterstützt nicht jeder Client diese Funktion.</p></div><div class="section_2"><h3 id="Lautstaerkeregelung">Lautstärkeregelung<a class="headerlink" href="#Lautstaerkeregelung">¶</a></h3><p>
In der Konfigurationsdatei finden sich verschiedene Einstellungsmöglichkeiten, um dem Client eine Regelung der Lautstärke zu ermöglichen:
</p><pre class="notranslate">mixer_type	"software"    # hardware/software/disabled</pre><p>
</p><ul><li><p><em>hardware</em>: Lautstärke wird über die Hardware der Soundkarte geregelt. Damit ändert sich für alle Soundausgaben die Lautstärke. Funktioniert nicht mit jeder Soundkarte</p></li><li><p><em>software</em>: Lautstärke wird softwaremäßig nur für die Ausgabe des MPD-Servers geregelt</p></li><li><p><em>disabled</em>: Lautstärkeregelung über MPD-Client soll nicht möglich sein</p></li></ul><p>
</p></div><div class="section_2"><h3 id="Weitere-Optionen">Weitere Optionen<a class="headerlink" href="#Weitere-Optionen">¶</a></h3><p>
Weitere mögliche Optionen sind in der Datei <strong>/usr/share/doc/mpd/examples/mpdconf.example.gz</strong> sehr ausführlich dokumentiert.</p></div><div class="section_2"><h3 id="Konfiguration-abschliessen">Konfiguration abschließen<a class="headerlink" href="#Konfiguration-abschliessen">¶</a></h3><p>
Nachdem man MPD an die eigenen Bedürfnisse angepasst hat, muss man MPD seine Konfiguration neu einlesen lassen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service mpd restart </pre></div></div></div><div class="section_2"><h3 id="Radiostreams-abspielen">Radiostreams abspielen<a class="headerlink" href="#Radiostreams-abspielen">¶</a></h3><p>
Um Radiostreams mittels MPD abzuspielen, legt man im Playlistverzeichnis eine neue Datei namens <strong>Radiosender.m3u</strong> an und schreibt pro Zeile eine Streamadresse. Stationsübersichten finden finden sich im Artikel <a class="internal" href="../internetradio/stationen.html">Internetradio/Stationen</a> und <a class="internal" href="../internetradio/internetradio-stationen.html">Internetradio/Internetradio-Stationen</a>. Kennt man von einem gewünschten Radiosender nicht die direkte Streamadresse, sondern nur den Link auf einen <strong>.m3u</strong>-Container, kann man diesen einfach im Playlistverzeichnis ablegen. Beispielsweise kann der Sender WDR 5 mittels Terminal wie folgt hinzugefügt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">cd ~/.mpd/playlists
wget http://www.wdr.de/wdrlive/media/wdr5.m3u </pre></div></div><p>
Über den Playlistordner können nun die Streams von den Clients ausgewählt und abgespielt werden.</p></div></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="Musiksammlung-auf-externem-Datentraeger">Musiksammlung auf externem Datenträger<a class="headerlink" href="#Musiksammlung-auf-externem-Datentraeger">¶</a></h3><p>
Liegt die Musiksammlung auf einem externen Datenträger, muss sichergestellt werden, dass der Benutzer <code class="notranslate">mpd</code> darauf zugreifen darf. Dazu bindet man den Datenträger über die <a class="internal" href="../fstab.html">fstab</a> ein. Da es sich bei externen Datenträgern häufig um FAT- oder NTFS- Partitionen handelt, sei hier besonders auf den Artikel <a class="internal" href="../windows-partitionen_einbinden.html">Windows-Partitionen einbinden</a> hingewiesen. Der Benutzer <code class="notranslate">mpd</code> muss anschließend der Gruppe <code class="notranslate">plugdev</code> hinzugefügt werden.<sup><a href="#source-7">[7]</a></sup></p></div><div class="section_2"><h3 id="Grosse-Playlists">Große Playlists<a class="headerlink" href="#Grosse-Playlists">¶</a></h3><p>
Wer seine komplette Sammlung in einer Playlist zusammenfassen möchte, um daraus z.B. eine Zufallswiedergabe zu starten, muss ggf. die Werte für die Maximalgröße der Liste verändern. Standardmäßig kann MPD Listen mit bis zu 16384 (entspricht 2<sup><small>14</small></sup>) Einträgen verarbeiten. In der <strong>mpd.conf</strong>-Datei kann der Wert aber heraufgesetzt werden, möglichst in weiteren 2er-Potenzen, z.B.</p><pre class="notranslate">max_playlist_length		"131072"</pre><p>Allerdings können nicht alle Clients damit umgehen!</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.musicpd.org/" rel="nofollow">Homepage</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.produnis.de/blog/?p=1393" rel="nofollow">MPD mit Unterstützung für Lame bauen</a> <img alt="{de}" src="../_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> – Blogeintrag 01/2011</p></li><li><p><a class="external" href="http://mpd.wikia.com/wiki/Main_Page" rel="nofollow">Offizielles Wiki</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://gmpc.wikia.com/wiki/MPD_INSTALL_USER_SERVICE_UBUNTU" rel="nofollow">MPD im Userspace</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>, detaillierte Anleitung, mpd mit PulseAudio-Integration als Benutzer zu verwenden, getestet unter 12.04.</p></li><li><p><a class="internal" href="../musik_verwalten.html">Musik verwalten</a> <img alt="{Übersicht}" src="../_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../mpd/server/a/revision/938933.html">Diese Revision</a> wurde am 3. Mai 2017 17:56 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../mpd.html">MPD</a></li>
<li><a href="../mpd/server.html">Server</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>