<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>ext › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./ext.html">ext</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/ext">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./ext/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./ext/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./ext/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./ext/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./ext/a/backlinks.html">ext</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./sudo.html">Root-Rechte</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-3"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Die-bisherigen-ext-Versionen">Die bisherigen ext-Versionen
</a><ol class="arabic"><li><a class="crosslink" href="#ext2">ext2
</a></li><li><a class="crosslink" href="#ext3">ext3
</a></li><li><a class="crosslink" href="#ext4">ext4
</a></li></ol></li><li><a class="crosslink" href="#tuneables">tuneables
</a><ol class="arabic"><li><a class="crosslink" href="#Automatische-Dateisystemueberpruefung">Automatische Dateisystemüberprüfung
</a></li><li><a class="crosslink" href="#Verhalten-im-Fehlerfall">Verhalten im Fehlerfall
</a></li><li><a class="crosslink" href="#Reservierte-Bloecke">Reservierte Blöcke
</a></li><li><a class="crosslink" href="#Identifizierung">Identifizierung
</a></li><li><a class="crosslink" href="#ext-Optionen">ext-Optionen
</a></li><li><a class="crosslink" href="#Weitere-Optionen">Weitere Optionen
</a></li></ol></li><li><a class="crosslink" href="#ext-unter-Windows">ext unter Windows
</a></li><li><a class="crosslink" href="#ext-unter-Mac-OS-X-macOS">ext unter Mac OS X / macOS
</a></li><li><a class="crosslink" href="#Upgrade-von-ext">Upgrade von ext
</a><ol class="arabic"><li><a class="crosslink" href="#ext2-zu-ext3">ext2 zu ext3
</a></li><li><a class="crosslink" href="#ext3-zu-ext4">ext3 zu ext4
</a></li></ol></li><li><a class="crosslink" href="#Downgrade-von-ext">Downgrade von ext
</a><ol class="arabic"><li><a class="crosslink" href="#ext3-zu-ext2">ext3 zu ext2
</a></li><li><a class="crosslink" href="#ext4-zu-ext3">ext4 zu ext3
</a></li></ol></li><li><a class="crosslink" href="#Problemloesungen">Problemlösungen
</a><ol class="arabic"><li><a class="crosslink" href="#Superblock">Superblock
</a></li><li><a class="crosslink" href="#Unzureichende-Rechte-vorhanden">Unzureichende Rechte vorhanden
</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Im Gegensatz zu den unter Windows verwendeten Dateisystemen <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/FAT32">FAT32</a> und <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/NTFS">NTFS</a>, die auf einer Tabellenstruktur basieren, verwenden ext-Dateisysteme eine Baumstruktur zum Speichern des Laufwerksinhaltes. Die Knoten dieser Baumstruktur bestehen aus <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Inode">Inodes</a> (Kurzwort aus "index node"). Diese Inodes speichern entweder direkte Verweise auf Festplattenblöcke mit kleinen Dateien oder einen Verweis auf einen weiteren Block, in dem die Datenblöcke größerer Dateien gespeichert sind. Ein Inode hat eine Mindestgröße von 128 Byte.</p><p>Informationen über das Dateisystem werden im ersten Block, im Superblock des Dateisystems, gespeichert. Hier finden sich alle Optionen des Dateisystems, die sich auch mit dem Befehl <code class="notranslate">tune2fs</code> manipulieren lassen. Außerdem findet sich dort ein Verweis auf die Inode-Struktur des zu Grunde liegenden Dateisystems.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Alle ext-Dateisystemen werden in bestimmten Abständen automatisch überprüft. Dies geschieht im Regelfall bei dem Starten des Systems. Falls sich also der Start plötzlich deutlich verlängert, ist das der automatischen Überprüfung geschuldet und kein Anlass zur Panik.
</p></div></div><div class="section_1"><h2 id="Die-bisherigen-ext-Versionen">Die bisherigen ext-Versionen<a class="headerlink" href="#Die-bisherigen-ext-Versionen">¶</a></h2><p>
</p><div class="section_2"><h3 id="ext2">ext2<a class="headerlink" href="#ext2">¶</a></h3><p>
Lange Jahre war das robuste <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Ext2">ext2</a> das Standarddateisystem unter Linux. Es ist prinzipiell schneller als seine Nachfolger, die mehr Verwaltungsaufwand betreiben. Allerdings gibt es ein großes Manko: bei einem Systemabsturz oder einem "harten" Ausschalten des Systems muss das Dateisystem beim Neustart ausführlich und zeitintensiv geprüft werden.</p></div><div class="section_2"><h3 id="ext3">ext3<a class="headerlink" href="#ext3">¶</a></h3><p>
Durch die Einführung einer Journaling-Funktion entfallen die langwierigen Prüfungen des Dateisystems wie noch bei ext2, was sich insbesondere nach einem Problemfall zeitlich positiv bemerkbar macht. Bis Ubuntu 9.04 <a class="internal" href="./jaunty_jackalope.html">Jaunty Jackalope</a> war <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Ext3">ext3</a> das Standarddateisystem von Ubuntu. Auf älteren Systemen mit wenig Hauptspeicher immer noch sinnvoll.</p></div><div class="section_2"><h3 id="ext4">ext4<a class="headerlink" href="#ext4">¶</a></h3><p>
Vorteile gegenüber den Vorgängern liegen insbesondere in der aggressiveren Nutzung des Arbeitsspeichers durch Puffer-Mechanismen (Cache) sowie sehr viel schnelleren <a class="internal" href="./dateisystemcheck.html">Dateisystemchecks</a>. Bei Ubuntu ist <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Ext4">ext4</a> die Standardeinstellung bei Neuinstallationen seit Ubuntu 9.10 <a class="internal" href="./karmic_koala.html">Karmic Koala</a>. Dieses soll in Zukunft durch das neu entwickelte <a class="internal" href="./btrfs-dateisystem.html">Btrfs-Dateisystem</a> als Standard für die Neuinstallation abgelöst werden.</p></div></div><div class="section_1"><h2 id="tuneables">tuneables<a class="headerlink" href="#tuneables">¶</a></h2><p>
Änderungen an den Einstellungen des Dateisystems nimmt man mittels des Kommandozeilenwerkzeugs <code class="notranslate">tune2fs</code> vor. Diese Einstellungen bleiben wirksam, solange nicht andere Optionen in der <a class="internal" href="./fstab.html">fstab</a> gesetzt werden. Mit <code class="notranslate">PARTITION</code> ist immer der Devicenode (z.B. <code class="notranslate">/dev/sda1</code>) gemeint, nicht der Mountpunkt. Das Zeichen <code class="notranslate">|</code> bezeichnet (nicht ganz korrekt) eine Entweder-Oder-Auswahl.</p><div class="section_2"><h3 id="Automatische-Dateisystemueberpruefung">Automatische Dateisystemüberprüfung<a class="headerlink" href="#Automatische-Dateisystemueberpruefung">¶</a></h3><p>
ext-Partitionen werden nach einer gewissen Anzahl von mount-Vorgängen durch <code class="notranslate">e2fsck</code> auf ihre Konsistenz hin überprüft. Diese Anzahl lässt sich mit <code class="notranslate">tune2fs</code> bequem verändern bzw. einstellen.</p><p><a class="crosslink anchor" href="#c" id="c"></a>
<code class="notranslate">-c</code>: Der Parameter <code class="notranslate">-c</code> beeinflusst, nach wie vielen mounts die entsprechende Partition beim Systemstart auf Fehler überprüft wird. 0 heißt hierbei, dass keine Überprüfung stattfinden soll (Standardeinstellung ist 30 mounts).</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -c ANZAHL PARTITION </pre></div></div><p><a class="crosslink anchor" href="#i" id="i"></a>
<code class="notranslate">-i</code>: Neben der Möglichkeit das Dateisystem nach einer gewissen Anzahl von mount-Vorgängen per <code class="notranslate">e2fsck</code> überprüfen zu lassen, gibt es auch bzw. zusätzlich die Möglichkeit die maximale Anzahl zwischen zwei Überprüfungen festzulegen - in Tagen, Wochen oder Monaten. Natürlich lassen sich diese Parameter auch mit <code class="notranslate">tune2fs</code> anpassen.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -i ANZAHL_EINHEIT PARTITION </pre></div></div><p>
Beispiel: Möchte man z.B. das maximale Intervall für die Partition <strong>/dev/sda2</strong> auf 28 Tage festlegen, muss man Folgendes eingeben:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -i 28d /dev/sda2 </pre></div></div><p>
Für Wochen dient <code class="notranslate">w</code>, für Monate <code class="notranslate">m</code>.</p><p>Ähnlich zur Anzahl der mount-Vorgänge lässt sich auch das Intervall komplett ausschalten. Hier setzt man die Anzahl einfach auf 0 (hier im Beispiel für Partition <strong>/dev/hda2</strong>):</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -i 0d /dev/sda2 </pre></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Überprüfung des Dateisystems auf Konsistenz ist eine sehr wichtige Angelegenheit. Es sollte also wenigstens immer eine Überprüfungsvariante (nach Intervall oder nach Anzahl der mount-Vorgänge) eingeschaltet bleiben. Daher wird nicht empfohlen, die komplette Überprüfung einer Partition auszuschalten. 
</p></div></div></div><div class="section_2"><h3 id="Verhalten-im-Fehlerfall">Verhalten im Fehlerfall<a class="headerlink" href="#Verhalten-im-Fehlerfall">¶</a></h3><p>
Falls <code class="notranslate">e2fsck</code> ein fehlerhaftes Dateisystem feststellt, kann sich das System auf verschiedene Arten verhalten. Dies ist auch mit <code class="notranslate">tune2fs</code> einstellbar. Bei fehlerhaftem "superblock" siehe <a class="crosslink" href="#Problemloesung-Superblock">Problemlösung Superblock</a>.</p><p><a class="crosslink anchor" href="#e" id="e"></a>
<code class="notranslate">-e</code>: Das System kann entweder mit <code class="notranslate">continue</code> fortfahren, mit <code class="notranslate">remount-ro</code> die Partition schreibgeschützt erneut mounten oder mit <code class="notranslate">panic</code> einen <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Kernel%20Panic">Kernel Panic</a> auslösen.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -e &lt;continue|remount-ro|panic&gt; PARTITION </pre></div></div><p><a class="crosslink anchor" href="#f" id="f"></a>
<code class="notranslate">-f</code>: Manchmal treten beim Ausführen von <code class="notranslate">tune2fs</code>-Funktionen Fehler auf. Mit Hilfe der Zusatzfunktion <code class="notranslate">force</code>, kann man versuchen, diese Fehler zu ignorieren und tune2fs dennoch zum Ausführen der Funktionen zu bewegen. Ein Beispiel hierzu: Ist das Dateisystem korrupt, lassen sich vielleicht auf normalem Wege die <code class="notranslate">tune2fs</code>-Funktionen nicht mehr ausführen. Die Option <code class="notranslate">force</code> kann zudem nützlich sein, falls man von einem Journaling Filesystem (ext3 und ext4) das Journal entfernen möchte.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -f BEFEHLE PARTITION </pre></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Bei der Anwendung der <code class="notranslate">force</code>-Option sollte man genau wissen, was man tut. Das Entfernen eines Journals kann zu Datenverlust und einem nicht funktionierenden Dateisystem führen! 
</p></div></div></div><div class="section_2"><h3 id="Reservierte-Bloecke">Reservierte Blöcke<a class="headerlink" href="#Reservierte-Bloecke">¶</a></h3><p>
Ein gewisser Anteil an Speicherplatz wird von ext-Dateisystemen reserviert, um im Fall eines Volllaufens der Festplatten dem Systemadministrator <code class="notranslate">root</code> noch die Anmeldung und das Korrigieren des Zustands zu ermöglichen.</p><p><a class="crosslink anchor" href="#r" id="r"></a>
<code class="notranslate">-r</code>: Der Parameter <code class="notranslate">-r</code> beeinflusst die Anzahl der reservierten Blocks. <code class="notranslate">-r</code> erwartet die Angabe einer absoluten Anzahl von Blocks.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -r ANZAHL_RESERVIERTER_BLOCKS PARTITION </pre></div></div><p><a class="crosslink anchor" href="#m" id="m"></a>
<code class="notranslate">-m</code>: Der Parameter <code class="notranslate">-m</code> beeinflusst, wieviel Prozent des Dateisystems reserviert bleiben. Hierbei muss nur die Zahl angegeben werden, nicht das %-Zeichen.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -m WERT PARTITION </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Häufig liest man den Tipp, die Anzahl der reservierten Blocks auf 0 zu setzen. Das ist nicht empfehlenswert, da in diesem Bereich unter anderem beim Schreiben Platz vorgesehen wird, um die <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Fragmentierung_(Dateisystem)">Fragmentierung</a> des Dateisystems zu vermeiden. Allerdings kann man außerhalb der <code class="notranslate">/</code>-Partition problemlos einen Wert von unter 5% einstellen. Tipp: Auch Kommastellen wie 0.2 (Punkt statt Komma) sind möglich.
</p></div></div><p><a class="crosslink anchor" href="#g" id="g"></a>
<code class="notranslate">-g</code>: Mit dem Parameter <code class="notranslate">-g</code> kann der reservierte Speicher einer anderen Benutzergruppe zur Verfügung gestellt werden.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -g &lt;GruppenId bzw. Gruppenname&gt; PARTITION </pre></div></div><p><a class="crosslink anchor" href="#u" id="u"></a>
<code class="notranslate">-u</code>: Mit dem Parameter <code class="notranslate">-u</code> kann der reservierte Speicher anderen Benutzern zur Verfügung gestellt werden.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -u &lt;BenutzerId bzw. Benutzername&gt; PARTITION </pre></div></div></div><div class="section_2"><h3 id="Identifizierung">Identifizierung<a class="headerlink" href="#Identifizierung">¶</a></h3><p>
<a class="crosslink anchor" href="#U" id="U"></a>
<code class="notranslate">-U</code>: Der Parameter <code class="notranslate">-U</code> manipuliert die <a class="internal" href="./uuid.html">UUID</a> des Dateisystems. Hierbei ist es möglich, die UUID mit <code class="notranslate">clear</code> zu löschen, eine neue mit <code class="notranslate">random</code> erstellen zu lassen, eine zeitabhängige Pseudozufallszahl mit <code class="notranslate">time</code> zu setzen oder eine benutzerdefinierte UUID (zum Beispiel per <code class="notranslate">uuidgen</code> in der Konsole erstellt) zu verwenden.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -U &lt;UUID|clear|random|time&gt; PARTITION </pre></div></div><p><a class="crosslink anchor" href="#L" id="L"></a>
<code class="notranslate">-L</code>: Mit <code class="notranslate">-L</code> kann man dem Dateisystem zusätzlich zur UUID einen Namen geben, der auch in Mount-Vorgängen verwendet werden kann.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -L NAME PARTITION </pre></div></div></div><div class="section_2"><h3 id="ext-Optionen">ext-Optionen<a class="headerlink" href="#ext-Optionen">¶</a></h3><p>
<a class="crosslink anchor" href="#o" id="o"></a>
<code class="notranslate">-o</code>: Mount-Optionen werden mit <code class="notranslate">^</code> entfernt und mit <code class="notranslate">+</code> hinzugefügt. Mehrere Optionen werden durch Kommata separiert aufgezählt. Nach dem Komma darf kein Leerzeichen stehen!</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -o &lt;^|+&gt;&lt;Option&gt;[,&lt;^|+&gt;&lt;Option2&gt;,...] PARTITION </pre></div></div><p><a class="crosslink anchor" href="#O" id="O"></a>
<code class="notranslate">-O</code>: Dateisystem-Optionen werden mit <code class="notranslate">^</code> entfernt und mit <code class="notranslate">+</code> hinzugefügt. Mehrere Optionen werden durch Kommata separiert aufgezählt. Nach dem Komma darf kein Leerzeichen folgen!</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -O &lt;^|+&gt;&lt;Option&gt;[,&lt;^|+&gt;&lt;Option2&gt;,...] PARTITION </pre></div></div><p><a class="crosslink anchor" href="#j" id="j"></a>
<code class="notranslate">-j</code>: Der Parameter <code class="notranslate">-j</code> fügt dem Dateisystem ein Journal hinzu. Wird kein Parameter mit <code class="notranslate">-J</code> gesetzt, werden die Standardvorgaben benutzt.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -j PARTITION </pre></div></div><p><a class="crosslink anchor" href="#J" id="J"></a>
<code class="notranslate">-J</code>: Der Parameter <code class="notranslate">-J</code> manipuliert das zu erstellende Journal eines ext3 oder ext4-Dateisystems. Hierbei kann man mit <code class="notranslate">size=</code> die Größe des Journals in Blocks angeben. Mindestgröße sind 1024 Blocks, der maximale Wert beträgt 102.400 Blocks. Alternativ kann das Journal mit <code class="notranslate">device</code> auf einer anderen Partition gespeichert werden. Das externe Journal muss aber bereits mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mke2fs -O journal_dev external-journal </pre></div></div><p>
erstellt worden sein. <code class="notranslate">external-journal</code> darf ein Devicenode, ein Label oder eine UUID sein.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -J &lt;size=&lt;Anzahl&gt;|device=external-journal&gt; PARTITION </pre></div></div></div><div class="section_2"><h3 id="Weitere-Optionen">Weitere Optionen<a class="headerlink" href="#Weitere-Optionen">¶</a></h3><p>
<a class="crosslink anchor" href="#C" id="C"></a>
<code class="notranslate">-C</code>: Der Parameter <code class="notranslate">-C</code> beeinflusst direkt die gespeicherte Anzahl der Mount-Vorgänge einer Partition. Setzt man den Zähler (Count) auf eine Zahl größer als den mit <code class="notranslate">-c</code> eingestellten Wert, wird ein <a class="internal" href="./dateisystemcheck.html">Dateisystemcheck</a> beim nächsten Start erzwungen.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -C ANZAHL PARTITION </pre></div></div><p><a class="crosslink anchor" href="#T" id="T"></a>
<code class="notranslate">-T</code>: Der Parameter <code class="notranslate">-T</code> beeinflusst den gespeicherten Zeitpunkt des letzten Mount-Vorgangs. Das Datum wird im internationalen Datumsformat <code class="notranslate">JJJJMMTT</code> erwartet. Die Angabe der Uhrzeit ist optional, <code class="notranslate">now</code> ist ebenfalls erlaubt. Setzt man die Zeit auf einen Wert, der länger als das mit <code class="notranslate">-i</code> definierte Intervall vom Zeitpunkt des letzten Überprüfungsvorgangs entfernt ist, wird beim nächsten Start eine Überprüfung des Dateisystems erzwungen.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -T &lt;Datum|now&gt; PARTITION </pre></div></div><p><a class="crosslink anchor" href="#M" id="M"></a>
<code class="notranslate">-M</code>: Mit <code class="notranslate">-M</code> manipuliert man die gespeicherte Angabe des letzten Mountpunktes einer Partition.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -M &lt;Mountpunkt&gt; PARTITION </pre></div></div><p><a class="crosslink anchor" href="#l" id="l"></a>
<code class="notranslate">-l</code>: Ausgabe der ext-Optionen. Hierbei werden alle Optionen angezeigt, die mittels <code class="notranslate">tune2fs</code> manipulierbar sind.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo tune2fs -l PARTITION </pre></div></div></div></div><div class="section_1"><h2 id="ext-unter-Windows">ext unter Windows<a class="headerlink" href="#ext-unter-Windows">¶</a></h2><p>Wie man ext-Partitionen unter Windows einbindet, behandelt der Artikel: <a class="internal" href="./linux-partitionen_unter_windows.html">Linux-Partitionen unter Windows</a>.</p></div><div class="section_1"><h2 id="ext-unter-Mac-OS-X-macOS">ext unter Mac OS X / macOS<a class="headerlink" href="#ext-unter-Mac-OS-X-macOS">¶</a></h2><p>
Für Mac OS X gibt es aktuell(Stand: 9.Feb.2017/OSX 10.12 Sierra) nur die Möglichkeit, über den kommerziellen ExtFS-Treiber v10.1.109(Stand: Feb.2016) von Paragon-Software lesend &amp; schreibend auf ext2/ext3/ext4*-Partitionen zuzugreifen.</p><p>| * Ein Großteil der neuen Funktionen von Ext4 werden jetzt unterstützt: 64bit, dir_index, extent, extra_isize, ext_attr, flex_bg, has_journal.</p><p>| * Diese Funktionen von Ext4 werden noch nicht unterstützt: bigalloc, journal_dev, meta_bg.
</p><blockquote><p><a class="external" href="http://www.paragon-software.com/de/home/extfs-mac/index.html" rel="nofollow">ExtFS für Mac OS X</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></blockquote><p>
Für nur ext2 steht noch der OpenSource-Treiber fuse-ext2 in der Version 0.0.7 (Stand: 5.Dez.2013) zur Verfügung. Dieser wurde aber seit 2009 nicht mehr weiterentwickelt. Daher ist es mit diesem nicht empfehlenswert, schreibend auf ext3- oder gar ext4-Partitionen zuzugreifen. Vor der Installation von fuse-ext2 muss desweiteren <a class="external" href="http://osxfuse.github.io/" rel="nofollow">OSXFUSE</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> unter Mac OS X installiert sein.
</p><blockquote><p><a class="external" href="http://alperakcan.net/?open=projects&amp;project=fuse-ext2" rel="nofollow">fuse-ext2</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></blockquote></div><div class="section_1"><h2 id="Upgrade-von-ext">Upgrade von ext<a class="headerlink" href="#Upgrade-von-ext">¶</a></h2><p>
</p><div class="section_2"><h3 id="ext2-zu-ext3">ext2 zu ext3<a class="headerlink" href="#ext2-zu-ext3">¶</a></h3><p>
Das Upgrade von ext2 zu ext3 geschieht durch Hinzufügen eines Journals. Im Artikel <a class="external" href="http://old.xlife.zuavra.net/columns/20020211/" rel="nofollow">Switching from an ext2 to an ext3 filesystem</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> wird es in Einzelschritten beschrieben.</p></div><div class="section_2"><h3 id="ext3-zu-ext4">ext3 zu ext4<a class="headerlink" href="#ext3-zu-ext4">¶</a></h3><p>
Das Upgrade von ext3 auf ext4 beschreibt der Artikel <a class="internal" href="./upgrade_auf_ext4.html">Upgrade auf ext4</a>.</p></div></div><div class="section_1"><h2 id="Downgrade-von-ext">Downgrade von ext<a class="headerlink" href="#Downgrade-von-ext">¶</a></h2><p>
</p><div class="section_2"><h3 id="ext3-zu-ext2">ext3 zu ext2<a class="headerlink" href="#ext3-zu-ext2">¶</a></h3><p>
Ein Downgrade von ext3 zu ext2 ist möglich, indem man das Journal löscht.</p></div><div class="section_2"><h3 id="ext4-zu-ext3">ext4 zu ext3<a class="headerlink" href="#ext4-zu-ext3">¶</a></h3><p>
Ein Downgrade von ext4 auf ext3 ist im Normalfall ohne Neuformatierung nicht möglich. In diesem Fall ist eine Datensicherung und ein Neuanlegen des Dateisystems fällig. Sobald Features wie <a class="external" href="http://kernelnewbies.org/Ext4#head-7c5fd53118e8b888345b95cc11756346be4268f4" rel="nofollow">Extents</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> benutzt werden, was normalerweise automatisch beim nächsten schreibenden Zugriff passiert, ist die Umstellung auf Ext4 unumkehrbar.</p></div></div><div class="section_1"><h2 id="Problemloesungen">Problemlösungen<a class="headerlink" href="#Problemloesungen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Superblock">Superblock<a class="headerlink" href="#Superblock">¶</a></h3><p>
Für den Fall, dass beim Mounten einer Partition - hier beispielhaft für <strong>/dev/sda5</strong> - der Fehler</p><blockquote><p>"Bad superblock on /dev/sda5 error"</p></blockquote><p>erscheint, so kann man das aufgrund der Struktur von <strong>ext</strong> in den meisten Fällen reparieren - zumindest kann man damit die Daten retten.</p><p>Die nicht eingebundene Partition wird mit der Eingabe in ein Terminal <sup><a href="#source-1">[1]</a></sup></p><div class="bash"><div class="contents"><pre class="notranslate">sudo mke2fs -n /dev/sda5 </pre></div></div><p>
nach den Sicherungen der Superblöcke abgefragt. Damit wird eine Liste generiert, die beispielhaft am Ende  so aussehen kann:
</p><pre class="notranslate">Superblock-Sicherungskopien gespeichert in den Blöcken: 
	32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 
	4096000</pre><p>
Dieses sind die Adressen der Sicherungen des Superblocks, diese können nun anstelle des fehlerhaften Superblocks im Terminal <sup><a href="#source-1">[1]</a></sup> eingesetzt werden mit:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo e2fsck -y -b ADRESSE /dev/sda5 </pre></div></div><p>
(die Option <code class="notranslate">-y</code> unterbindet eine Interaktion) und setzt damit die neue Adresse von einem (nun hoffentlich noch lesbaren) Superblock. Danach sollte das Mounten dieser Partition wieder funktionieren.</p></div><div class="section_2"><h3 id="Unzureichende-Rechte-vorhanden">Unzureichende Rechte vorhanden<a class="headerlink" href="#Unzureichende-Rechte-vorhanden">¶</a></h3><p>
Nach dem Neuanlegen eines zusätzlichen <a class="internal" href="./datenträger.html">Datenträgers</a> zur Datenspeicherung, der zunächst keine ausreichenden Zugriffsrechte hat, sollte man die <a class="internal" href="./rechte.html">Rechte</a> des Ordners des Datenträgers (<a class="internal" href="./benutzer_und_gruppen.html">Besitzer und Gruppe</a>) auf den eigenen Benutzer bzw. <strong>plugdev</strong> setzen:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo chown $USER:plugdev /media/BENUTZER/GERÄT </pre></div></div><p>
<code class="notranslate">/media/BENUTZER/GERÄT</code> muss für das gewünschte Gerät eingesetzt werden.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./dateisystem.html">Dateisystem</a></p></li><li><p><a class="internal" href="./dateisystemcheck.html">Dateisystemcheck</a></p></li><li><p><a class="external" href="http://ctaas.de/ext4_backup.htm" rel="nofollow">ctaas.de/ext4_backup.htm</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - ein einfaches anpassbares Sicherungsskript zum sichern &amp; wiederherstellen von Systemen mit ext4 Partition.</p></li><li><p><a class="external" href="http://kernelnewbies.org/Ext4" rel="nofollow">Ext4</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Einführung in die Features von ext4.</p></li><li><p><a class="external" href="http://old.xlife.zuavra.net/columns/20020211/" rel="nofollow">Switching from an ext2 to an ext3 filesystem</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Upgrade von ext2 zu ext3 (02/2002).</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./ext/a/revision/935323.html">Diese Revision</a> wurde am 9. Februar 2017 16:45 von <a href="https://ubuntuusers.de/user/Xeno/">Xeno</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./ext.html">ext</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>