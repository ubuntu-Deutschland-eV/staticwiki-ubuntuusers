<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Wireshark › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./wireshark.html">Wireshark</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Wireshark">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./wireshark/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./wireshark/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./wireshark/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./wireshark/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./wireshark/a/backlinks.html">Wireshark</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./paketquellen_freischalten/ppa.html">Verwenden eines PPAs</a>, <em>optional</em></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./programme_starten.html">Ein Programm starten</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./benutzer_und_gruppen.html">Benutzer und Gruppen im System verwalten</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Programmstart">Programmstart
</a></li><li><a class="crosslink" href="#Mitschneiden">Mitschneiden
</a></li><li><a class="crosslink" href="#Hauptfenster">Hauptfenster
</a></li><li><a class="crosslink" href="#Filter">Filter
</a></li><li><a class="crosslink" href="#Menue">Menü
</a></li><li><a class="crosslink" href="#tshark">tshark
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./wireshark_logo.png" class="image-left" src="./_/59d971d39b0b4efd948c05e8a15ba8b07df6c130.png"/>
<a class="external" href="http://www.wireshark.org/" rel="nofollow">Wireshark</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein sogenannter "Sniffer", mit dem man Netzwerkpakete auf beliebigen Schnittstellen mitschneiden und danach bequem über eine grafische Oberfläche analysieren kann. Netzwerksniffer genießen leider teilweise einen schlechten Ruf, weil sie u.a. auch von Angreifern benutzt werden können, um Passwörter oder andere sensible Daten im Netzwerkverkehr zu erspähen. Sie sind aber auch aus dem Werkzeugschatz seriöser Netzwerk-Administratoren nicht wegzudenken, weil man mit ihnen Probleme in der Vernetzung aufspüren kann. Auch um die Funktion einer Software zu testen, z.B. wenn man wissen will, ob die eingeschaltete Verschlüsselung funktioniert oder wenn man "Nach-Hause-Telefonierern" auf die Schliche kommen will, ist ein Netzwerksniffer nahezu unverzichtbar.</p><p>Zusätzlich zur grafischen Wireshark-Version gibt es noch das textbasierte Tshark, dass auf demselben Netzwerkcode aufbaut, aber über Kommandozeilen-Optionen gesteuert wird. Beide Versionen benutzen zum Abspeichern von Netzwerkverkehr dasselbe Format (wie im übrigen auch der Klassiker <strong>tcpdump</strong>), so dass man bspw. problemlos auf einem Server mit tshark (oder tcpdump) den Verkehr mitschneiden und später in aller Bequemlichkeit auf einer grafischen Workstation mit Wireshark analysieren kann.</p><p>Altgedienten Recken ist Wireshark noch unter dem alten Namen <strong>Ethereal</strong> bekannt. Als der Hauptentwickler der Software vor einiger Zeit den Arbeitgeber wechselte, durfte er die Marke "Ethereal" nicht mitnehmen, weswegen er die Software jetzt unter einem neuen Namen weiterpflegt. <strong>tshark</strong> hieß dementsprechend früher <strong>tethereal</strong>.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Für Wireshark muss folgendes Paket installiert <sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>wireshark</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install wireshark </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install wireshark </pre></div></div><p>
</p></div></div><p>Möchte man tshark nutzen, benötigt man dagegen:</p><ul><li><p><strong>tshark</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install tshark </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install tshark </pre></div></div><p>
</p></div></div><div class="section_2"><h3 id="PPA">PPA<a class="headerlink" href="#PPA">¶</a></h3><p>
Eine eventuelle neuere Version ist Bestandteil eines "Personal Packages Archiv" (PPA) <sup><a href="#source-2">[2]</a></sup>.</p><p>Adresszeile zum <a class="internal" href="./paketquellen_freischalten/ppa.html#PPA-hinzufuegen">Hinzufügen</a> des PPAs:
</p><ul><li><p><strong>ppa:wireshark-dev/stable</strong> </p></li></ul><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
Zusätzliche <a class="internal" href="./fremdquellen.html">Fremdquellen</a> können das System gefährden. 
</p><hr/><p>Ein PPA unterstützt nicht zwangsläufig alle Ubuntu-Versionen. Weitere Informationen sind der <img alt="Wiki/Vorlagen/PPA/ppa.png" class="image-default" src="./_/237f3a0f00c3091056c1a912d81e924e8391ed6b.png"/> <a class="external" href="https://launchpad.net/~wireshark-dev/+archive/stable" rel="nofollow">PPA-Beschreibung</a> des Eigentümers/Teams <a class="interwiki interwiki-lpuser" href="https://launchpad.net/~wireshark-dev">wireshark-dev</a> zu entnehmen.
</p></div></div><p>
Damit Pakete aus dem PPA genutzt werden können, müssen die Paketquellen <a class="internal" href="./paketquellen_freischalten.html">neu eingelesen</a> werden.</p><p>Nach dem Aktualisieren der Paketquellen erfolgt die Installation wie oben angegeben.</p></div></div><div class="section_1"><h2 id="Programmstart">Programmstart<a class="headerlink" href="#Programmstart">¶</a></h2><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Aus Sicherheitsgründen sollten Wireshark und tshark niemals mit Root-Rechten gestartet werden <sup><a href="#source-3">[3]</a></sup>, da dies beispielsweise ein <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Exploit">Exploit</a> ausnutzen kann und darüber dann im schlimmsten Fall das ganze System lahm legen kann! Wireshark und tshark mit Root-Rechten aufzurufen, ist daher keine gute Idee.</p><p>Stattdessen sollte immer die nachfolgend beschriebene Methode verwendet werden.
</p></div></div><p>Einigen Nutzern wird aufgefallen sein, dass bei Ubuntu-Versionen mit einem Anwendungsmenü der früher vorhandene Eintrag "Wireshark (as root)" unter <em>"Anwendungen -&gt; Internet"</em> nicht mehr vorhanden ist. Viele Wireshark-Nutzer denken, dass unbedingt Root-Rechte benötigt werden, um den vollen Funktionsumfang von Wireshark nutzen zu können und rufen Wireshark fälschlicherweise mit <strong>gksudo</strong> oder <strong>kdesudo</strong> auf. Dass dies gefährlich werden kann, wissen die wenigsten. Da bewusst auf den zweiten Eintrag verzichtet wurde bzw. wird, muss man ein klein wenig nachhelfen, um als normaler Nutzer den Netzwerkverkehr mitschneiden zu können.</p><p>Im folgenden wird gezeigt, wie Wireshark in vollem Funktionsumfang genutzt wird, ohne Root-Rechte zu benötigen. Hierzu wechselt man in ein Terminal und gibt folgenden Befehl ein:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo dpkg-reconfigure wireshark-common </pre></div></div><p>Nachdem man die Information durchgelesen hat, bestätigt man die Frage, ob außer dem Superuser noch andere Nutzer Pakete aufzeichnen dürfen, mit "Ja". Dieser Schritt konfiguriert Dumpcap so, dass alle Mitglieder der <a class="internal" href="./benutzer_und_gruppen.html#Gruppen">Gruppe</a> <code class="notranslate">wireshark</code> Pakete mitschneiden können, ohne das Programm als Root betreiben zu müssen. Damit man als normaler Nutzer den Netzwerkverkehr mitschneiden kann, fügt man den – oder die – Benutzer der Gruppe <code class="notranslate">wireshark</code> hinzu <sup><a href="#source-4">[4]</a></sup>.</p><ul><li><p>Allgemein: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo adduser BENUTZERNAME wireshark </pre></div></div></li><li><p>Den eigenen Benutzernamen: </p><div class="bash"><div class="contents"><pre class="notranslate">sudo adduser $USER wireshark </pre></div></div></li></ul><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Damit die Änderung des Benutzerkontos aktiv wird, muss die Umgebung neu geladen werden. Dies erreicht man durch einmaliges ab- und wieder anmelden oder über den Befehl <a class="internal" href="./newgrp.html">newgrp</a>.
</p></div></div><p>Nun benötigen Wireshark und tshark zum Mitschneiden des Netzwerkverkehrs keine Root-Privilegien mehr, da <strong>/usr/bin/dumpcap</strong> nun der der <a class="internal" href="./benutzer_und_gruppen.html#Gruppen">Gruppe</a> <code class="notranslate">wireshark</code> <a class="internal" href="./rechte.html">angehört</a> und somit alle <a class="internal" href="./benutzer_und_gruppen.html#Benutzer">Mitglieder</a> dieser Gruppe Pakete mitschneiden können.</p></div><div class="section_1"><h2 id="Mitschneiden">Mitschneiden<a class="headerlink" href="#Mitschneiden">¶</a></h2><p>
<img alt="./wireshark-options.png" class="image-right" src="./_/2fb922e148a0b8ca4b44154f1883ec7de4994ded.png"/> Man startet den Vorgang mit dem Menüpunkt <em>"Capture -&gt; Options..."</em> oder durch den zweiten Knopf von links in der Werkzeugleiste. Es öffnet sich ein Dialog (siehe Abbildung), in dem man noch diverse Einstellungen tätigen kann:</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Alle diese Optionen können über die <em>"Capture"</em>- bzw. <em>"Name resolution"</em>-Einstellungen unter <em>"Edit -&gt; Preferences"</em> dauerhaft eingestellt werden. Ansonsten gehen diese Optionen beim nächsten Start von Wireshark verloren. 
</p></div></div><table style="width: 97%"><tr class="kopf"><td> Option</td><td> Bedeutung</td></tr><tr><td> <em>Interface</em> </td><td> Die Schnittstelle, auf der gesnifft werden soll. Man kann entweder eine einzelne oder alle zusammen auswählen. </td></tr><tr><td> <em>Link-layer header type</em> </td><td> Sollte eigentlich immer auf <em>"Ethernet"</em> stehen. </td></tr><tr><td> <em>Capture packets in promiscuous mode</em> </td><td> Der <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Promiscuous_Mode">Promiscuous Mode</a> fängt nicht nur die Pakete aus dem Netz ein, die für die gewählte Netzwerkkarte bestimmt sind, sondern auch alle anderen. (Was in einem geswitchten Netzwerk allerdings normalerweise keinen Unterschied macht.) Die Option kann im Allgemeinen immer aktiviert bleiben. </td></tr><tr><td> <em>Limit each packet</em> </td><td> Wenn man z.B. nur an Headerdaten interessiert ist, kann man hiermit die Datenteile der Pakete abschneiden lassen. </td></tr><tr><td> <em>Capture Filter</em> </td><td> Hier öffnet sich ein weiterer Dialog, in dem man Filterregeln bestimmen kann, welche Art Pakete man mitschneiden will, und welche nicht. Filter werden weiter unten erklärt. </td></tr><tr><td> <em>Capture File</em> </td><td> Hier kann man eine Datei benennen, in der der Netzwerkverkehr abgespeichert wird. Als Speicherformat wird das sog. <em>pcap</em>-Format verwendet, weswegen es sinnvoll - aber nicht notwendig - ist, der Datei die Endung <strong>.pcap</strong> zu verpassen. </td></tr><tr><td> <em>Use multiple files</em> (und folgende) </td><td> Es werden fortlaufend durchnummerierte Dateien erzeugt, ähnlich rotierter Logdateien. </td></tr><tr><td> <em>Stop Capture</em> </td><td> Selbsterklärend. Es wird festgelegt, wieviel mitgeschnitten werden soll. </td></tr><tr><td> <em>Update list of packets in real time</em> </td><td> Normalerweise snifft man mit Wireshark erst, und analysiert dann. Mit dieser Option kann man schon während des Sniffvorgangs in den Daten stöbern. Da die Darstellung relativ aufwendig ist, könnte es jedoch passieren, dass der Sniffer auf diese Art das eine oder andere Paket verpasst. Wer sicher gehen will, lässt diese Option deswegen aus. Wer anhaltend sniffen und sich zwischendurch die Daten ansehen will, kann <strong>tshark</strong> in eine Datei schreiben lassen, und dann mit Wireshark zwischendurch dort hineinschauen. </td></tr><tr><td> <em>Automatic scrolling in live capture</em> </td><td> Eher nervig. Immer wenn neue Pakete eintreffen, springt die Anzeige ans Ende, so dass man nichts genauer betrachten kann. </td></tr><tr><td> <em>Hide capture info dialog</em> </td><td> Das Fenster, in dem während des Capture-Vorgangs die Anzahl der mitgeschnittenen Pakete angezeigt wird, wird unterdrückt. </td></tr><tr><td> <em>Enable MAC name resolution</em> </td><td> Bei Paketen unterhalb der IP-Ebene (z.B. ARP-Pakete) werden die ersten Stellen der MAC-Adresse durch den Herstellernamen ersetzt. </td></tr><tr><td> <em>Enable network name resolution</em> </td><td> IP-Adressen werden per DNS in Rechnernamen umgewandelt. Wenn die Namensauflösung über dieselbe Schnittstelle abgewickelt wird, an der gerade gesnifft wird, füllt das natürlich die Liste mit endlosen DNS-Abfragen und ist deswegen nicht unbedingt zu empfehlen. (Man kann natürlich auch einfach DNS-Pakete über einen <em>Capture Filter</em> ausgrenzen.) </td></tr><tr><td> <em>Enable transport name resolution</em> </td><td> U.a. werden mit dieser Option Portnummern nach Möglichkeit in Dienstnamen umgewandelt. </td></tr></table><p>
Es gibt auch noch zwei Kurzformen, um einen Capture-Vorgang zu starten. <em>"Capture -&gt; Interfaces"</em> (bzw. das erste Symbol der Werkzeugleiste) lässt einen aus der Liste der Schnittstellen wählen, behält aber die eingestellten Optionen bei. <em>"Capture -&gt; Start"</em> (oder dritter Knopf) startet sofort den Mitschnitt mit den voreingestellten Optionen inkl. Interface.</p><p>Anhalten kann man den Vorgang ebenfalls über das Menü oder die Werkzeugleiste, oder auch, indem man einfach den <em>"Stop"</em>-Knopf im <em>"Capture info"</em>-Dialog klickt - sofern man diesen Dialog nicht abgeschaltet hat.</p></div><div class="section_1"><h2 id="Hauptfenster">Hauptfenster<a class="headerlink" href="#Hauptfenster">¶</a></h2><p>
<img alt="./Wireshark_Capture" class="image-left" src="./_/c3f3b5fd05a8a348a5f179f5f8a3c8a38faa9b26.png"/> Hat man erstmal genug Netzwerkverkehr aufgezeichnet, eine pcap-Datei geladen, oder hat man in den Einstellungen <em>"Update list of packets in real time"</em> angewählt (s.o.), so füllt sich das Hauptfenster mit den entsprechenden Daten. Von oben nach unten gesehen ist das Fenster vertikal in folgende sechs Bereiche aufgeteilt:</p><div class="section_2"><h3 id="Menueleiste">Menüleiste<a class="headerlink" href="#Menueleiste">¶</a></h3><p>
Die Menüfunktionen werden weiter unten im Abschnitt <a class="crosslink" href="#Menu">Menü</a> im Detail beschrieben.</p></div><div class="section_2"><h3 id="Werkzeugleiste">Werkzeugleiste<a class="headerlink" href="#Werkzeugleiste">¶</a></h3><p>
Die wichtigsten Funktionen des Programms können hier über einen Mausklick betätigt werden. Beschrieben werden diese Funktionen in den anderen Abschnitten dieses Artikels.</p></div><div class="section_2"><h3 id="Filterleiste">Filterleiste<a class="headerlink" href="#Filterleiste">¶</a></h3><p>
In dieser Zeile können Filterregeln festgelegt werden, welche Art von Verkehr in der Paketliste ein- bzw. ausgeblendet werden soll. Die Filterleiste wird weiter unten im Abschnitt <a class="crosslink" href="#Filter">Filter</a> beschrieben.</p></div><div class="section_2"><h3 id="Paketliste">Paketliste<a class="headerlink" href="#Paketliste">¶</a></h3><p>
Neben einer durchlaufenden Nummerierung, einem Zeitstempel relativ zum Beginn der Aufzeichnung, der Quell- und der Zieladresse wird hier noch das Protokoll angezeigt, zu dem das jeweilige Paket gehört. Hierbei wird stets das Protokoll des höchsten verfügbaren Levels aufgelistet. Ein HTTP-Paket wird also z.B. genau so gelistet, und nicht etwa als TCP-, IP-Paket oder Ethernet-Frame. Je nach Protokoll werden die Zeilen unterschiedlich eingefärbt, um eine optimale Übersicht zu gewährleisten.</p><p>Durch Anklicken kann man ein bestimmtes Paket auswählen, dass dann in den weiter unten gelegenen Bereichen genauer dargestellt wird. Außerdem existiert ein Kontextmenü, über das man einige praktische, weiter unten beschriebene Funktionen erreichen kann.</p></div><div class="section_2"><h3 id="Paketdetails">Paketdetails<a class="headerlink" href="#Paketdetails">¶</a></h3><p>
Hier wird das jeweils angewählte Paket in seine Bestandteile zerlegt und analysiert, wobei der Protokollstack von unten nach oben durchgegangen wird. Durch Klick auf die jeweiligen Pfeile kann man genau die Sektionen ausrollen, die einen interessieren. Ohne zumindest oberflächliche Kenntnis von den betreffenden Protokollen zu haben, sind diese Informationen jedoch nur von begrenztem Wert.</p><p>Das Kontextmenü in den Paketdetails bietet einige zusätzliche, nützliche Einträge, die sonst nirgendwo zu finden sind. So kann man bspw. auf den Eintrag <em>"Resolve Name"</em> auswählen, und die Namen werden auf der jeweiligen Protokollebene aufgelöst und in den entsprechenden Feldern eingetragen, sofern man für den entsprechenden Bereich die automatische Namensauflösung deaktiviert hat. (Für DNS-Namensauflösung muss man z.B. das Kontextmenü von <em>"Internet Protocol"</em> nutzen.)</p><p>Außerdem kommt man über das Kontextmenü auch sehr leicht an weitere Informationen. Mit <em>"Wiki Protocol Page"</em> öffnet Wireshark einen Browser mit der Seite aus dem Wireshark-Wiki, wo das betreffende Protokoll ausführlich beschrieben wird. Mit <em>"Filter Field Reference"</em> gelangt man dagegen auf eine Seite, wo alle Filter-Funktionen (<a class="crosslink" href="#Filter">s.u.</a>) bzgl. des Protokolls dokumentiert sind.</p></div><div class="section_2"><h3 id="Bytes">Bytes<a class="headerlink" href="#Bytes">¶</a></h3><p>
Hier wird das Paket in seiner Rohform als Hex- und ASCII-Dump dargestellt.</p></div></div><div class="section_1"><h2 id="Filter">Filter<a class="headerlink" href="#Filter">¶</a></h2><p>
Wireshark besitzt mächtige Filterfunktionen, mit deren Hilfe man auch auf stark frequentierten Systemen den Überblick behalten kann. Hierfür benutzt Wireshark eine eigene Filtersprache, deren Syntax allerdings den Rahmen dieses Artikels übersteigt. Wer sie lernen möchte, kann die umfangreiche Manpage <strong>wireshark-filter</strong> durcharbeiten oder er betreibt "learning by doing" anhand der im Folgenden beschriebenen grafischen Werkzeuge.</p><p>Zentrales Werkzeug für den Filter ist die Filterleiste im oberen Teil des Hauptfensters. Hier befindet sich ein Texteingabefeld, in dem man den aktuellen Filter ansehen oder auch verändern kann. Ob der Filterstring den Syntaxregeln entspricht, wird durch die Hintergrundfarbe des Textfelds direkt beim Eintragen angezeigt.</p><p>Rechts davon existieren u.a. Knöpfe, um den Filterstring anzuwenden, oder um den vorhandenen Filter zu löschen (und dadurch wieder alle Pakete anzuzeigen).</p><div class="section_2"><h3 id="Filtern-nach-Paketen">Filtern nach Paketen<a class="headerlink" href="#Filtern-nach-Paketen">¶</a></h3><p>
Die einfachste Art, Filter zu erstellen, ist über das Kontextmenü in der Paketliste. Über den Eintrag <em>"Conversation Filter"</em> kann man bspw. alle Pakete heraussuchen lassen, die nach dem dann ausgewählten Protokoll dieselben Quell- und Zieladressen besitzen.</p><p>Daneben existieren noch die Funktionen <em>"Apply as Filter"</em> und <em>"Prepare as Filter"</em>. Die erste von beiden wendet den Filter sofort an, während die zweite ihn nur in der Filterleiste einträgt, wo er mit dem <em>"Anwenden"</em>-Knopf aktiviert werden muss. Das ist vor allem sinnvoll, wenn man erstmal mehrere Filter verknüpfen will.</p><p>Diese beiden Funktionen arbeiten nicht nur zeilen- sondern auch spaltensensitiv. D.h. je nachdem, ob man das Menü über der Quell- oder Zieladresse öffnet, bezieht sich der Filter auch auf die Quell- oder Zieladresse. Aus dem sich öffnenden Untermenü kann man dann auswählen, ob man alle Pakete <em>mit</em> dieser Adresse anzeigen lassen will, oder ob man den Filter umkehren will. Außerdem kann man den Filter per <em>"and"</em> oder <em>"or"</em> mit dem bestehenden Filter verknüpfen.</p></div><div class="section_2"><h3 id="Filter-Dialog">Filter-Dialog<a class="headerlink" href="#Filter-Dialog">¶</a></h3><p>
Über den mit <em>"Filter"</em> beschrifteten Knopf am linken Rand der Filterleiste gelangt man in den Filter-Dialog. Dieser funktioniert in etwa wie die Lesezeichen-Verwaltung eines Webbrowsers. Ein paar vordefinierte Filter existieren dort schon. Hat man gerade einen Filter im Hauptfenster laufen, kann man diesen mit dem <em>"Neu"</em>-Knopf in die Liste aufnehmen, vorzugsweise nachdem man einen aussagekräftigen Namen in das zuständige Feld eingetragen hat.</p></div><div class="section_2"><h3 id="Expression-Dialog">Expression-Dialog<a class="headerlink" href="#Expression-Dialog">¶</a></h3><p>
Mit dem Knopf <em>"Expression"</em> gelangt man in einen anderen Dialog, mit dem man ebenfalls Filterregeln erstellen kann. Hierbei klickt man die Regel aus den vorhandenen Syntaxelementen zusammen. Ein Studium der Manpage <strong>wireshark-filter</strong> ist hierzu aber ebenfalls anzuraten.</p></div></div><div class="section_1"><h2 id="Menue">Menü<a class="headerlink" href="#Menue">¶</a></h2><p>
Wireshark besitzt ein sehr reichhaltiges Menü. In diesem Artikel werden aber nur die wichtigsten/interessantesten beschrieben.</p><div class="section_2"><h3 id="File-Menue">File-Menü<a class="headerlink" href="#File-Menue">¶</a></h3><p>
Hier befinden sich die typischen Einträge. Man kann den Mitschnitt in verschiedenen Formaten speichern, wieder öffnen oder in diverse andere Formate exportieren, die sich dann von anderen Programmen lesen lassen. Auch eine Druckfunktion ist integriert.</p><p>Über <em>"Merge"</em> lassen sich mehrere Dateien öffnen und die Pakete zu einer einzigen Liste verschmelzen. So kann man bspw. mehrere Mitschnitte aneinander hängen, oder auch Mitschnitte von unterschiedlichen Rechnern zusammenfassen.</p></div><div class="section_2"><h3 id="Edit-Menue">Edit-Menü<a class="headerlink" href="#Edit-Menue">¶</a></h3><p>
In diesem Menü befindet sich eine Suchfunktion. Außerdem kann man einzelne Pakete mit einer Markierung versehen, die man dann u.a. in der Speicher- oder Druckfunktion verwenden kann, oder einfach nur, um eine bestimmte Stelle später wiederzufinden.</p></div><div class="section_2"><h3 id="View-Menue">View-Menü<a class="headerlink" href="#View-Menue">¶</a></h3><p>
Hier kann man u.a. einzelne Teile des Haupftfensters ausblenden, wenn man z.B. mit der Bytedarstellung überhaupt nichts anfangen kann und den Platz lieber anderweitig nutzen möchte.</p></div><div class="section_2"><h3 id="Capture-Menue">Capture-Menü<a class="headerlink" href="#Capture-Menue">¶</a></h3><p>
Das <em>"Capture"</em>-Menü wurde <a class="crosslink" href="#Mitschneiden">weiter oben</a> schon beschrieben.</p></div><div class="section_2"><h3 id="Analyze-Menue">Analyze-Menü<a class="headerlink" href="#Analyze-Menue">¶</a></h3><p>
Hier findet man ein paar Funktionen zur Analyse des mitgeschnittenen Netzwerkverkehrs. U.a. die äußerst nützliche Funktion <em>"Follow TCP Stream"</em> (die sich auch im Kontextmenü der Paketliste anfindet), und die auch gerade Netzwerk-Laien sehr einfach an die relevanten Informationen kommen lässt. Es öffnet sich ein neues Fenster, indem die komplette TCP-Verbindung des markierten Pakets als Fließtext ohne störende Headerdaten dargestellt wird.</p><p>Über <em>"Firewall ACL Rules"</em> gelangt man in einen Dialog, mit dessen Hilfe man aus dem markierten Paket eine Firewall-Regel nach einem von mehreren wählbaren Formaten (z.B. <em>"Netfilter (iptables)"</em>) erstellen kann. Diese kann dann per Copy'n'Paste woanders eingefügt werden.</p></div><div class="section_2"><h3 id="Statistics-Menue">Statistics-Menü<a class="headerlink" href="#Statistics-Menue">¶</a></h3><p>
Hier finden sich zahlreiche Möglichkeiten zur statistischen Auswertung der aufgezeichneten Daten. Welche man davon als nützlich empfindet, kann jeder selber ausprobieren.</p></div></div><div class="section_1"><h2 id="tshark">tshark<a class="headerlink" href="#tshark">¶</a></h2><p>
Tshark ist die Kommandozeilenversion von Wireshark. Ohne die Option <strong>-w</strong> gibt das Programm "live" alle empfangenen Pakete im Terminal aus, in einer Ausgabe die identisch zu der Listenansicht in Wireshark ist. Wer genauer analysieren möchte, nutzt am besten <strong>-w &lt;Dateiname&gt;</strong> um den gesamten Verkehr (nicht nur die Header) in einer pcap-Datei zu speichern, und lädt diese dann - evtl. auf einem anderen System - in die grafische Wireshark-Version. Ein paar interessante Optionen folgen, der Rest ergibt sich aus der Lektüre der tshark-<a class="internal" href="./man.html">Manpage</a>.</p><table><tr class="kopf"><td>Option </td><td> Bedeutung</td></tr><tr><td> <code class="notranslate">-w &lt;Dateiname&gt;</code> </td><td> Schreibt komplette Paketinhalte im pcap-Format in die angegebene Datei, anstatt nur eine Infozeile pro Paket auszugeben. </td></tr><tr><td> <code class="notranslate">-S</code> </td><td> Gibt auch bei Verwendung von <strong>-w</strong> die Infozeilen während des Sniffvorgangs aus. </td></tr><tr><td> <code class="notranslate">-i &lt;Interface&gt;</code> </td><td> Beschränkt die Aktivität von tshark auf eine bestimmte Netzwerkschnittstelle. </td></tr><tr><td> <code class="notranslate">-R &lt;Filter&gt;</code> </td><td> Filtert gleich beim Einlesen. Die Syntax ist dieselbe wie in Wireshark. </td></tr></table><p>
</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./netzwerk-monitoring.html">Netzwerk-Monitoring</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Programmübersicht</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./wireshark/a/revision/944754.html">Diese Revision</a> wurde am 6. November 2017 19:13 von <a href="https://ubuntuusers.de/user/noisefloor/">noisefloor</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./wireshark.html">Wireshark</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>