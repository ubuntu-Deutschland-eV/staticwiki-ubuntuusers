<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Howto/Odoo_Installation › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../howto/odoo_installation.html">Odoo Installation</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Howto/Odoo_Installation">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../howto/odoo_installation/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../howto/odoo_installation/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../howto/odoo_installation/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../howto/odoo_installation/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../howto/odoo_installation/a/backlinks.html">Odoo Installation</a></h1>
<div id="page"><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Verwendung dieses Howto geschieht auf eigene Gefahr. Bei Problemen mit der Anleitung melde dies bitte in der dazugehörigen Diskussion und wende dich zusätzlich an den Verfasser des Howtos.
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Diese Howto-Anleitung wurde von <a class="crosslink user" href="https://ubuntuusers.de/user/tcs/">tcs</a> am 3.2.2017 unter <strong>Ubuntu 14.04</strong>, <strong>Ubuntu 16.04</strong> und <strong>Ubuntu 16.10</strong> erfolgreich getestet.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../programme_starten.html">Starten von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="../editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="../sudo.html">Root-Rechte</a></p></li></ol></div></div><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Useranlage">Useranlage
</a></li><li><a class="crosslink" href="#Datenbank">Datenbank
</a></li><li><a class="crosslink" href="#Abhaengigkeiten-installieren">Abhängigkeiten installieren
</a></li><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Startscript">Startscript
</a></li><li><a class="crosslink" href="#Automatisierung">Automatisierung
</a></li><li><a class="crosslink" href="#Weitere-Schritte">Weitere Schritte
</a></li><li><a class="crosslink" href="#Troubleshooting">Troubleshooting
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./odoo-logo.png" class="image-left" src="../_/995484f514dce68607f68a38bbc346c7bed56e0f.png"/></p><p><a class="external" href="https://www.odoo.com/" rel="nofollow">Odoo</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein in Python programmiertes <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Enterprise-Resource-Planning">Enterprise-Resource-Planning</a> System. Die Software setzt eine PostgreSQL Datenbank voraus und lässt sich in nahezu allen Details an gegebene Anforderungen anpassen. Weitere Informationen sind auf der Herstellerseite verfügbar.</p><p>Dieses HowTo soll die nötigen Schritte vorstellen, um eine lauffähige Installation der Odoo Community Edition auf einem Ubuntu Server 14.04 LTS/16.04 LTS/16.10 vorzunehmen. Odoo ist ein außerordentlich mächtiges und komplexes Tool, welches bei entsprechendem Wissen auf nahezu alle Anforderungen maßgeschneidert werden kann. Die Community Edition wird von Odoo kostenfrei zur Verfügung gestellt, inkludiert allerdings keinerlei Support. Darüber hinausgehend wird auch die kostenpflichtige Cloud- und die Enterpriseversion angeboten. Eine Übersicht über die verschiedenen Versionen befindet sich auf der <a class="external" href="https://www.odoo.com/de_DE/pricing" rel="nofollow">Herstellerseite</a>.</p><p>Um Odoo auf einem Ubuntu System zu betreiben empfiehlt sich die auf der Herstellerseite vorgestellte Vorgehensweise, die aktuellste Version aus dem git Repository zu laden und anschließend entsprechend zu konfigurieren.</p><p>Der größte Vorteil dieser Vorgehensweise dürfte die – wenn auch unter Umständen ungewohnte – Möglichkeit sein, per <code class="notranslate">git pull</code> Updates direkt vom Hersteller einzuspielen. Weiters gibt sie einem die Möglichkeit, präzise nach Vorgabe/Wunsch zu installieren und später bei fast immer unvermeidlichen Anpassungen nicht nachbessern zu müssen.
Auch für Entwicklungs- oder Testsysteme birgt dieser Ansatz große Vorteile, da man ohne großen Aufwand verschiedene Installationen/Versionen parallel betreiben kann.</p><div class="section_1"><h2 id="Useranlage">Useranlage<a class="headerlink" href="#Useranlage">¶</a></h2><p>
Als erstes muß ein Benutzer angelegt werden, der Zugriffsberechtigung für die Installationsordner hat und mit dessen ID die erforderlichen Serverprozesse gestartet werden:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo adduser -system -home=/opt/odoo -group odoo </pre></div></div><p>
Der Parameter <code class="notranslate">-system</code> bewirkt dabei, dass der angelegte Benutzer keine zugeordnete Login-Shell hat, was aber nicht bedeutet, dass man ich nicht für Shellbefehle verwenden kann:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo su - odoo -s /bin/bash </pre></div></div></div><div class="section_1"><h2 id="Datenbank">Datenbank<a class="headerlink" href="#Datenbank">¶</a></h2><p>
Odoo setzt PostgreSQL voraus, die Installation gestaltet sich angenehm unkompliziert:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install postgresql </pre></div></div><p>Damit nicht mit dem root-User der Postgres Datenbank gearbeitet werden muss, sollte ein neuer Benutzer angelegt werden:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo su - postgres
createuser --createdb --username postgres --no-createrole --no-superuser --pwprompt odoo
Enter password for new role: ************
Enter it again: ************
exit </pre></div></div></div><div class="section_1"><h2 id="Abhaengigkeiten-installieren">Abhängigkeiten installieren<a class="headerlink" href="#Abhaengigkeiten-installieren">¶</a></h2><p>
Damit die in Odoo implementierten Fähigkeiten und Services funktionieren können, müssen einige Abhängigkeiten erfüllt werden:
</p><ul><li><p><strong>node-less</strong></p></li><li><p><strong>python-babel</strong></p></li><li><p><strong>python-cups</strong></p></li><li><p><strong>python-dateutil</strong></p></li><li><p><strong>python-decorator</strong></p></li><li><p><strong>python-docutils</strong></p></li><li><p><strong>python-feedparser</strong></p></li><li><p><strong>python-gdata</strong></p></li><li><p><strong>python-geoip</strong></p></li><li><p><strong>python-gevent</strong></p></li><li><p><strong>python-imaging</strong></p></li><li><p><strong>python-jinja2</strong></p></li><li><p><strong>python-ldap</strong></p></li><li><p><strong>python-libxslt1</strong></p></li><li><p><strong>python-lxml</strong></p></li><li><p><strong>python-mako</strong></p></li><li><p><strong>python-mock</strong></p></li><li><p><strong>python-openid</strong></p></li><li><p><strong>python-passlib</strong></p></li><li><p><strong>python-psutil</strong></p></li><li><p><strong>python-psycopg2</strong></p></li><li><p><strong>python-pychart</strong></p></li><li><p><strong>python-pydot</strong></p></li><li><p><strong>python-pyparsing</strong></p></li><li><p><strong>python-pypdf</strong></p></li><li><p><strong>python-reportlab</strong></p></li><li><p><strong>python-requests</strong></p></li><li><p><strong>python-simplejson</strong></p></li><li><p><strong>python-tz</strong></p></li><li><p><strong>python-unicodecsv</strong></p></li><li><p><strong>python-unittest2</strong></p></li><li><p><strong>python-vatnumber</strong></p></li><li><p><strong>python-vobject</strong></p></li><li><p><strong>python-werkzeug</strong></p></li><li><p><strong>python-xlwt</strong></p></li><li><p><strong>python-yaml</strong></p></li><li><p><strong>python-zsi</strong></p></li><li><p><strong>wkhtmltopdf</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install node-less python-babel python-cups python-dateutil python-decorator python-docutils python-feedparser python-gdata python-geoip python-gevent python-imaging python-jinja2 python-ldap python-libxslt1 python-lxml python-mako python-mock python-openid python-passlib python-psutil python-psycopg2 python-pychart python-pydot python-pyparsing python-pypdf python-reportlab python-requests python-simplejson python-tz python-unicodecsv python-unittest2 python-vatnumber python-vobject python-werkzeug python-xlwt python-yaml python-zsi wkhtmltopdf </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install node-less python-babel python-cups python-dateutil python-decorator python-docutils python-feedparser python-gdata python-geoip python-gevent python-imaging python-jinja2 python-ldap python-libxslt1 python-lxml python-mako python-mock python-openid python-passlib python-psutil python-psycopg2 python-pychart python-pydot python-pyparsing python-pypdf python-reportlab python-requests python-simplejson python-tz python-unicodecsv python-unittest2 python-vatnumber python-vobject python-werkzeug python-xlwt python-yaml python-zsi wkhtmltopdf </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Die Installation von Odoo wird, wie eingangs erwähnt, durch git vorgenommen, da man durch diese Vorgehensweise die Möglichkeit hat, die Software sehr schnell und unkompliziert zu aktualisieren. Außerdem hat man auf diese Weise Zugriff auf die aktuellsten Versionen, noch bevor sie als Paket zur Verfügung stehen. Dies kann hilfreich sein, wenn man beispielsweise von einem Bug betroffen ist, der zwar schon behoben, aber noch nicht in den apt Repositories verfügbar ist.</p><p>Sollte git noch nicht auf dem System vorhanden sein muß es installiert werden:
</p><ul><li><p><strong>git</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install git </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install git </pre></div></div><p>
</p></div></div><p>Mit dem zuvor erstellten Benutzer werden nun die Dateien per git heruntergeladen:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo su - odoo -s /bin/bash
mkdir odoo10
cd odoo10
git clone https://www.github.com/odoo/odoo --depth 1 --branch 10.0 --single-branch .
exit </pre></div></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Im Repository ist bereits eine rudimentäre Konfigurationsdatei für den Server vorhanden, diese kann man als Basis für die eigene Installation verwenden:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /opt/odoo/odoo10/debian/odoo.conf /etc/odoo10.conf
sudo chown odoo: /etc/odoo10.conf
sudo chmod 0640 /etc/odoo10.conf </pre></div></div><p>
Die Datei sollte nicht von jedem gelesen werden können, da sich Datenbankzugänge darin befinden. In diesem Fall dürfen nur die User <code class="notranslate">root</code> und <code class="notranslate">odoo</code> schreibend, Mitglieder der Gruppe <code class="notranslate">odoo</code> lesend zugreifen.</p><p>Um den Odoo Server starten zu können sind einige kleine Anpassungen in der Konfigurationsdatei vorzunehmen. Dies kann mit einem Texteditor wie z. B. nano erledigt werden. Wichtig ist, den Editor von einem ausreichend berechtigten User aufzurufen, um die vorgenommenen Änderungen auch speichern zu können:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo nano -w /etc/odoo10.conf </pre></div></div><p>In der Konfigurationsdatei müssen die Pfadangaben zu Addon- und Logverzeichnis sowie die Datenbankverbindung (wie zuvor angelegt) angegeben werden:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nv">db_host</span> <span class="o">=</span> localhost
<span class="nv">db_maxconn</span> <span class="o">=</span> <span class="m">64</span>
<span class="nv">db_name</span> <span class="o">=</span> False
<span class="nv">db_password</span> <span class="o">=</span> ************
<span class="nv">db_port</span> <span class="o">=</span> <span class="m">5432</span>
<span class="nv">db_template</span> <span class="o">=</span> template1
<span class="nv">db_user</span> <span class="o">=</span> odoo
<span class="nv">addons_path</span> <span class="o">=</span> /opt/odoo/odoo10/addons
<span class="nv">logfile</span> <span class="o">=</span> /var/log/odoo/odoo10.log
<span class="p">;</span> Für jede Installation muß ein eigener Port angegeben werden, Standard: <span class="m">8069</span>
<span class="p">;</span><span class="nv">xmlrpc_port</span> <span class="o">=</span> <span class="m">8069</span>
</pre></div>
</td></tr></table></div><p>Der in der Konfigurationsdatei angegebene Ordner für die Logiles muß manuell erstellt werden, da dieser nicht automatisch angelegt wird:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo mkdir /var/log/odoo
sudo chown odoo:root /var/log/odoo </pre></div></div><p>Der erste Test:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo su - odoo -s /bin/bash
/opt/odoo/odoo10/odoo-bin </pre></div></div><p>
Der Server wird dadurch auf der aktuellen Konsole gestartet und man kann dort die Meldungen, die sonst in das angegebene Logfile geschrieben würden, mitverfolgen.
Tauchen bei diesem ersten Test keine Fehler auf, kann man den Server mit der Tastenkombination

<span class="key">Strg</span>  + 
<span class="key">C</span>  beenden.
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Läuft bereits eine andere Instanz auf dem Standardport 8069, muß man mittels Parametrisierung des Aufrufs einen anderen, nicht benutzten Port angeben:
</p><div class="bash"><div class="contents"><pre class="notranslate">/opt/odoo/odoo10/odoo-bin --xmlrpc-port=8070 </pre></div></div><p>
</p></div></div><p>Per
</p><div class="bash"><div class="contents"><pre class="notranslate">exit </pre></div></div><p>
verläßt man die für den User odoo geöffnete Shell.</p></div><div class="section_1"><h2 id="Startscript">Startscript<a class="headerlink" href="#Startscript">¶</a></h2><p>
Um den Server nicht immer von der Shell ausführen zu müssen empfiehlt es sich, ein Startscript zu erstellen und dieses ggf. automatisch ausführen zu lassen.
Bei Einsatz von SysVinit gibt es ein vorbereitetes Script, das man als Basis nutzen kann:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /opt/odoo/odoo10/debian/init /etc/init.d/odoo10 </pre></div></div><p>
Da die Pfadangaben nicht mit der vorliegenden Installation übereinstimmen muß man folgende Variablen anpassen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="nv">DAEMON</span><span class="o">=</span>/opt/odoo/odoo10/odoo-bin
<span class="nv">CONFIG</span><span class="o">=</span>/etc/odoo10.conf
<span class="nv">LOGFILE</span><span class="o">=</span>/var/log/odoo/odoo10.log
</pre></div>
</td></tr></table></div><p>Abschließend setzt man die Berechtigungen für das Script:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo chmod 0755 /etc/init.d/odoo10
sudo chown root: /etc/init.d/odoo10 </pre></div></div><p>Für Systemd wird von Odoo derzeit leider noch kein Startscript mitgeliefert, glücklicherweise gibt es hier ein Script von <a class="external" href="https://github.com/benrolsen/odoo8-salt-config/blob/master/odoo8/odoo-server.service" rel="nofollow">Ben Olsen</a>, was hier als Basis dient:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="o">[</span>Unit<span class="o">]</span>
<span class="nv">Description</span><span class="o">=</span>Odoo <span class="m">10</span> server
<span class="nv">After</span><span class="o">=</span>syslog.target network.target

<span class="o">[</span>Service<span class="o">]</span>
<span class="nv">Type</span><span class="o">=</span>simple
<span class="nv">User</span><span class="o">=</span>odoo
<span class="nv">Group</span><span class="o">=</span>odoo
<span class="c1"># This line connects the odoo server to the Xvfb virtual display and allows wkhtmltopdf to work</span>
<span class="nv">Environment</span><span class="o">=</span><span class="s2">"DISPLAY=:0"</span> <span class="s2">"PYTHONPATH=/usr/local/lib/python2.7/dist-packages/:</span><span class="nv">$PYTHONPATH</span><span class="s2">"</span>
<span class="nv">ExecStart</span><span class="o">=</span>/opt/odoo/odoo10/odoo-bin -c /etc/odoo10.conf --db-filter<span class="o">=</span>imsar_prod

<span class="c1"># Give a reasonable amount of time for the server to start up/shut down</span>
<span class="nv">TimeoutSec</span><span class="o">=</span><span class="m">300</span>

<span class="o">[</span>Install<span class="o">]</span>
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</pre></div>
</td></tr></table></div><div class="section_2"><h3 id="Test-des-Servers-mit-Startscript">Test des Servers mit Startscript<a class="headerlink" href="#Test-des-Servers-mit-Startscript">¶</a></h3><p>
<img alt="./odoo-appscreen.png" class="image-right" src="../_/a6ffbefa5762aa1e1b609369d729ffe6f66af410.png"/></p><p>Start des Odoo Servers mit SysVinit:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service odoo10 start </pre></div></div><p>Start des Odoo Servers mit Systemd:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo systemctl start odoo10.service </pre></div></div><p>Die Meldungen lassen sich im Logfile verfolgen:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo less /var/log/odoo/odoo10.log </pre></div></div><p>
Sollten hier keinerlei Auffälligkeiten oder Fehler/Warnungen verzeichnet sein kann man sich der weiteren Konfiguration durch das Webfrontend zuwenden. Dafür ruft man im Browser sinngemäß die folgende Adresse auf:</p><p><a class="external" href="http://serveradresse:8069" rel="nofollow" title="http://serveradresse:8069">http://serveradresse:8069</a></p><p>Nachdem dies der erste Aufruf ist und es dementsprechend noch keine Datenbank für Odoo gibt, wird man sofort zum Datenbank Management weitergeleitet.
Das Passwort für dem administrativen Benutzer wird als Klartext in der Konfigurationsdatei gespeichert, daher ist es sehr wichtig, die Zugriffsrechte auf diese Datei gewissenhaft zu setzen.
Der letzte Funktionstest ist, den Server per Script zu stoppen und zu kontrollieren, ob dies erfolgreich durchgeführt wird.</p><p>SysVinit:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service odoo10 stop </pre></div></div><p>Systemd:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo systemctl odoo10.service stop </pre></div></div><p>Der Vorgang lässt sich sowohl im Logfile verfolgen (s. o.) als auch über die Prozessliste kontrollieren. Hierfür sucht man in der Ausgabe des Befehls <code class="notranslate">ps</code> nach dem Begriff "odoo":
</p><div class="bash"><div class="contents"><pre class="notranslate">ps aux | grep odoo </pre></div></div><p>
Läuft eine Instanz des Odoo Servers, sollte jetzt ein Suchergebnis ausgegeben werden, das in etwa wie folgt aussieht:
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>odoo     <span class="m">10769</span> <span class="m">52</span>.0  <span class="m">1</span>.3 <span class="m">441684</span> <span class="m">51384</span> ?        Sl   <span class="m">14</span>:00   <span class="m">0</span>:00 python /opt/odoo/odoo10/odoo-bin --config /etc/odoo10.conf --logfile /var/log/odoo/odoo10.log
</pre></div>
</td></tr></table></div></div></div><div class="section_1"><h2 id="Automatisierung">Automatisierung<a class="headerlink" href="#Automatisierung">¶</a></h2><p>
Soll der Odoo Server automatisch beim Systemstart gestartet und beim Herunterfahren gestoppt werden bindet man das Script entsprechend ein.</p><p>SysVinit:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-rc.d odoo10 defaults </pre></div></div><p>Systemd:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo systemctl enable odoo10.service </pre></div></div><p>Nach einem Neustart des gesamten Systems sollte der Odoo Server automatisch gestartet sein, was sich anhand des Logfiles und der Prozessliste kontrollieren läßt.</p></div><div class="section_1"><h2 id="Weitere-Schritte">Weitere Schritte<a class="headerlink" href="#Weitere-Schritte">¶</a></h2><p>
Auf der zuvor erwähnten Konfigurationsseite (Datenbank Management System) kann man die zu verwendende Datenbank konfigurieren, im Anschluß sollte man unbedingt das Passwort für den administrativen Benutzer vom Standard "admin" auf einen sicheren Wert ändern.
Wie bereits erwähnt ist Odoo ein überaus mächtiges und komplexes Werkzeug, das nach der hier beschriebenen Installation noch einige Konfigurations- und Einrichtungsarbeit erfordert, bevor es wirklich genutzt werden kann.
Um Odoo besser kennenzulernen empfiehlt es sich, bei der Ersteinrichtung Beispieldaten in die Datenbank schreiben zu lassen, damit man dadurch eine bessere Vorstellung von den Fähigkeiten dieses ERP Systems bekommen kann.</p></div><div class="section_1"><h2 id="Troubleshooting">Troubleshooting<a class="headerlink" href="#Troubleshooting">¶</a></h2><p>
Sollte es bei der Installation von PostgreSQL zu Fehlermeldungen bezüglich falsch gesetzter oder nicht vorhandener locales kommen, muß man sicherstellen, daß auf Server und Client die entsprechenden Einstellungen kompatibel zueinander sind. Verbindet man sich per SSH mit einem Ubuntu 14.04 in Standardkonfiguration werden clientseitig mitgeschickte locales berücksichtigt. Dies kann zu Problemen führen, wenn diese locales nicht auf dem Server vorhanden sind.
Lösen kann man dieses Problem auf zwei Wegen:
</p><div class="section_2"><div class="section_3"><h4 id="Deaktivieren-von-clientseitig-mitgeschickten-locales-in-der-SSH-Serverkonfiguration-durch-Auskommentieren-der-Option-AcceptEnv">Deaktivieren von clientseitig mitgeschickten locales in der SSH Serverkonfiguration durch Auskommentieren der Option <code class="notranslate">AcceptEnv</code><a class="headerlink" href="#Deaktivieren-von-clientseitig-mitgeschickten-locales-in-der-SSH-Serverkonfiguration-durch-Auskommentieren-der-Option-AcceptEnv">¶</a></h4><p>
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1"># /etc/ssh/sshd-config</span>
...
<span class="c1"># Allow client to pass locale environment variables</span>
<span class="c1">#AcceptEnv LANG LC_*</span>
...
</pre></div>
</td></tr></table></div><p>
</p></div><div class="section_3"><h4 id="Installation-der-benoetigten-locales-auf-dem-Server-im-Beispiel-deutsch">Installation der benötigten locales auf dem Server (im Beispiel deutsch)<a class="headerlink" href="#Installation-der-benoetigten-locales-auf-dem-Server-im-Beispiel-deutsch">¶</a></h4><p>
</p><ul><li><p><strong>language-pack-de</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="../_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="../apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install language-pack-de </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install language-pack-de </pre></div></div><p>
</p></div></div><p>
Nach einem Neustart des SSH-Servers sollte das Problem behoben sein.</p></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.odoo.com" rel="nofollow">Odoo</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Projektseite</p></li></ul><p></p></div></div>
<p class="meta">
<a href="../howto/odoo_installation/a/revision/941960.html">Diese Revision</a> wurde am 16. Juni 2017 07:54 von <a href="https://ubuntuusers.de/user/tcs/">tcs</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../howto.html">Howto</a></li>
<li><a href="../howto/odoo_installation.html">Odoo Installation</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>