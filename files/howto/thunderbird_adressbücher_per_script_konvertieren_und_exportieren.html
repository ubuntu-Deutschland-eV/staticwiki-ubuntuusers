<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Howto/Thunderbird_Adressbücher_per_Script_konvertieren_und_exportieren › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../howto/thunderbird_adressbücher_per_script_konvertieren_und_exportieren.html">Thunderbird Adressbücher per Script konvertieren und exportieren</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Howto/Thunderbird_Adressbücher_per_Script_konvertieren_und_exportieren">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../howto/thunderbird_adressbücher_per_script_konvertieren_und_exportieren/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../howto/thunderbird_adressbücher_per_script_konvertieren_und_exportieren/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../howto/thunderbird_adressbücher_per_script_konvertieren_und_exportieren/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../howto/thunderbird_adressbücher_per_script_konvertieren_und_exportieren/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../howto/thunderbird_adressbücher_per_script_konvertieren_und_exportieren/a/backlinks.html">Thunderbird Adressbücher per Script konvertieren und exportieren</a></h1>
<div id="page"><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Verwendung dieses Howto geschieht auf eigene Gefahr. Bei Problemen mit der Anleitung melde dies bitte in der dazugehörigen Diskussion und wende dich zusätzlich an den Verfasser des Howtos
</p></div></div><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Diese Howto-Anleitung wurde zuletzt von <a class="crosslink user" href="https://ubuntuusers.de/user/Bourness/">Bourness</a> am 05.01.2018 unter <strong>Ubuntu 16.04</strong> erfolgreich getestet.
</p></div></div><div class="section_1"><h2 id="Problembeschreibung">Problembeschreibung<a class="headerlink" href="#Problembeschreibung">¶</a></h2><p>
Über die grafische Benutzeroberfläche (GUI) von Thunderbird ist es sehr einfach ein beliebiges Adressbuch manuell in eine CSV-Datei zu exportieren. Thunderbird kennt aber leider keinen entsprechenden Befehl für die Kommandozeile (CL). Dieser Umstand ist insbesondere dann ärgerlich, wenn man den Konvertierungsvorgang automatisiert per Script realisieren möchte. Einen Ausweg bietet der Mork Converter, der in diesem Howto zur Anwendung kommt.</p></div><div class="section_1"><h2 id="Voraussetzungen">Voraussetzungen<a class="headerlink" href="#Voraussetzungen">¶</a></h2><p>
1. Vor der Durchführung dieser Anleitung muss sichergestellt sein, dass die hier benutzte Ordnerstruktur (~/.thunderbird) vorhanden ist. Dies kann bei einer Standardinstallation von Ubuntu 16.04, in der Unity Desktop Version, durch das einmalige Starten von Thunderbird sichergestellt werden.</p><p>2. Der Mork Converter setzt Python 2 (Version 2.4 oder höher) voraus, was unter Ubuntu 16.04  automatisch gegeben ist. Python 3 wird zurzeit vom Mork Converter nicht unterstützt!</p></div><div class="section_1"><h2 id="Problemloesung">Problemlösung<a class="headerlink" href="#Problemloesung">¶</a></h2><p>
</p></div><div class="section_1"><h2 id="Schritt-1-optional">Schritt 1: (optional)<a class="headerlink" href="#Schritt-1-optional">¶</a></h2><p>
Das System aktualisieren.
</p><pre class="notranslate">sudo apt update
sudo apt upgrade</pre><p>
</p></div><div class="section_1"><h2 id="Schritt-2">Schritt 2:<a class="headerlink" href="#Schritt-2">¶</a></h2><p>
Python Lex-Yacc installieren.
</p><pre class="notranslate">sudo apt install python-ply</pre></div><div class="section_1"><h2 id="Schritt-3">Schritt 3:<a class="headerlink" href="#Schritt-3">¶</a></h2><p>
Den Mork Converter mit
</p><pre class="notranslate">cd ~/Downloads
wget https://github.com/KevinGoodsell/mork-converter/archive/master.zip</pre><p>
downloaden und anschließend mit
</p><pre class="notranslate">unzip ./master.zip -d ~/.local/share/applications</pre><p>
entpacken.</p></div><div class="section_1"><h2 id="Schritt-4">Schritt 4:<a class="headerlink" href="#Schritt-4">¶</a></h2><p>
Ab diesem Schritt beginnt der eigentliche Konvertierungsvorgang.</p><p>Zunächst wechselt man mit
</p><pre class="notranslate">cd ~/.local/share/applications/mork-converter-master/src</pre><p>
in das Arbeitsverzeichnis des Mork Converters.</p><p>Jetzt wird per
</p><pre class="notranslate">find ~/.thunderbird -name abook.mab -exec cp {} abook_save.mab \;</pre><p>das gewünschte lokal gespeicherte Adressbuch gefunden und als Kopie unter einem abweichenden Dateinamen gespeichert.
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Möchte man ein anderes lokales Adressbuch konvertieren, so ist beim find Befehl dessen Dateiname anzugeben. (Beispiel: abook-1.mab statt abook.mab)
</p></div></div><p>
</p></div><div class="section_1"><h2 id="Schritt-5">Schritt 5:<a class="headerlink" href="#Schritt-5">¶</a></h2><p>
Konvertieren der Datei (abook_save.mab).
</p><pre class="notranslate">python mork --csv --outname=Adressbuch abook_save.mab</pre><p>
Damit ist die eigentliche Konvertierung abgeschlossen.</p><p>Allerdings hat die erstellte CSV-Datei einen ungebräuchlichen Dateinamen, befindet sich in einem (vom Mork Converter) neu erstellten versteckten Ordner und beinhaltet noch einige unerwünschte Zeilen und Spalten.</p></div><div class="section_1"><h2 id="Schritt-6">Schritt 6:<a class="headerlink" href="#Schritt-6">¶</a></h2><p>
Zum Umbenennen der Datei wechselt man mit
</p><pre class="notranslate">cd ./Adressbuch</pre><p>
in den neu erstellten Ordner. Dort befinden sich zwei Dateien, von denen aber nur eine für die weitere Bearbeitung relelant ist.</p><p>Mit dem Befehl
</p><pre class="notranslate">mv ns:addrbk:db:row:scope:card:all-1 Adressbuch.csv</pre><p>
wird die relevante Datei in Adressbuch.csv umbenannt.</p></div><div class="section_1"><h2 id="Schritt-7">Schritt 7:<a class="headerlink" href="#Schritt-7">¶</a></h2><p>
Das Entfernen der unerwünschten Zeilen und Spalten wird durch die Befehle
</p><pre class="notranslate">sed '/^ns:addrbk:db:row:scope:data:all,1,,,,,,,,,,,,,,,,,,,,,,,,,/d' Adressbuch.csv &gt;Adressbuch.tmp	
cut -d, -f3- Adressbuch.tmp &gt;Adressbuch.csv</pre><p>
erreicht.</p><p>Anschließend kopiert man per
</p><pre class="notranslate">cp Adressbuch.csv ~/Dokumente</pre><p>
die Datei in einen schon vorhanden sichtbaren Ordner (z. B. Dokumente). Dort kann die Datei nun gefunden werden und von jeglicher Anwendung (App), die Daten im CSV-Format verarbeiten kann, genutzt werden.</p></div><div class="section_1"><h2 id="Schritt-8-optional">Schritt 8: (optional)<a class="headerlink" href="#Schritt-8-optional">¶</a></h2><p>
Die Adressdaten innerhalb der erzeugten Datei sind leider nicht alphabetisch sortiert, was aber meist erwünscht ist. Eine individuelle Sortierung (Beispiel: erst Nachname dann Vorname) kann wie folgt realisiert werden:
</p><pre class="notranslate">sed -n 1,1p Adressbuch.csv &gt;Header.tmp
tail -n +2 Adressbuch.csv &gt;Adressbuch-1.tmp
sort -t',' -k 24,24 -k 14,14 Adressbuch-1.tmp -o Adressbuch-2.tmp
cat Header.tmp &gt;Adressbuch.csv
cat Adressbuch-2.tmp &gt;&gt;Adressbuch.csv</pre><p>Durch den Befehl
</p><pre class="notranslate">mv Adressbuch.csv ~/Dokumente</pre><p>
wird die in Schritt 7 erzeugte, bisher nicht sortierte CSV-Datei, durch die nun individuell sortierte CSV-Datei ersetzt.</p></div><div class="section_1"><h2 id="Schritt-9">Schritt 9:<a class="headerlink" href="#Schritt-9">¶</a></h2><p>
Die nicht mehr benötigten temporären Dateien und Ordner müssen zwingend gelöscht werden, da sonst die Schritte 4-7 und 9 oder 4-9 nicht erneut fehlerfrei durchgeführt werden können!
</p><pre class="notranslate">cd ~
rm ~/.local/share/applications/mork-converter-master/src/abook_save.mab*
rm -r ~/.local/share/applications/mork-converter-master/src/Adressbuch</pre></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p>Homepage Mork-Converter: <a class="external" href="https://github.com/KevinGoodsell/mork-converter" rel="nofollow" title="https://github.com/KevinGoodsell/mork-converter">https://github.com/KevinGoodsell/mork-converter</a></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="../howto/thunderbird_adressbücher_per_script_konvertieren_und_exportieren/a/revision/946481.html">Diese Revision</a> wurde am 17. Januar 2018 18:08 von <a href="https://ubuntuusers.de/user/Bourness/">Bourness</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../howto.html">Howto</a></li>
<li><a href="../howto/thunderbird_adressbücher_per_script_konvertieren_und_exportieren.html">Thunderbird Adressbücher per Script konvertieren und exportieren</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>