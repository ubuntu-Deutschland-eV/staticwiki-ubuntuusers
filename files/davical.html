<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>DAViCal › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./davical.html">DAViCal</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/DAViCal">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./davical/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./davical/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./davical/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./davical/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./davical/a/backlinks.html">DAViCal</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./sudo.html">Root-Rechte erlangen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Voraussetzungen">Voraussetzungen
</a></li><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#Fremdquelle">Fremdquelle
</a></li><li><a class="crosslink" href="#Fremdpakete">Fremdpakete
</a></li></ol></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a><ol class="arabic"><li><a class="crosslink" href="#Apache">Apache
</a></li><li><a class="crosslink" href="#DAViCal-Konfiguration">DAViCal Konfiguration
</a></li><li><a class="crosslink" href="#PostgreSQL">PostgreSQL
</a></li></ol></li><li><a class="crosslink" href="#Benutzung">Benutzung
</a><ol class="arabic"><li><a class="crosslink" href="#Administration">Administration
</a></li><li><a class="crosslink" href="#Clients">Clients
</a></li><li><a class="crosslink" href="#Upgrade">Upgrade
</a></li></ol></li><li><a class="crosslink" href="#Probleme-und-Loesungen">Probleme und Lösungen
</a><ol class="arabic"><li><a class="crosslink" href="#Weisse-Seite-nach-der-Installation">Weiße Seite nach der Installation
</a></li><li><a class="crosslink" href="#Termineinladungen">Termineinladungen
</a></li><li><a class="crosslink" href="#Synchronisation-von-Kontakten-mit-iOS">Synchronisation von Kontakten mit iOS
</a></li></ol></li><li><a class="crosslink" href="#Alternativen">Alternativen
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./davical_logo.png" class="image-left" src="./_/2f824579ebe04d04491908b0bdb21b08e7c9dd86.png"/>
<a class="external" href="http://www.davical.org/" rel="nofollow">DAViCal</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> (ehemals "Really Simple CalDAV Store" bzw. RSCDS) ist ein Kalenderserver, welcher das <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/CalDAV">CalDAV</a>-Protokoll implementiert. Das CalDAV-Protokoll erweitert das <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Hypertext_Transfer_Protocol">HTTP-</a> bzw. das <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/WebDAV">WebDAV-Protokoll</a> um Zugriffsicherungs- und Auswertungsfunktionen für das Kalenderaustauschformat <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/iCalendar">iCalendar</a>. Der Server selbst ist in <a class="internal" href="./php.html">PHP 5</a> programmiert und verwendet für die Verwaltung der Daten eine <a class="internal" href="./postgresql.html">PostgreSQL</a>-Datenbank.</p><p>Es können verschiedene Arten von Nutzern definiert werden, welche Kalender schreiben, lesen oder auch nur freie Termine einer anderen Person einsehen dürfen. Die Kalender können mit diversen Programmen abgerufen und modifiziert werden. Auch Mobilgeräte und Telefone sind teilweise in der Lage, sich mit den (online) veröffentlichten Kalendern zu synchronisieren. Unter anderem können die folgenden Client-Programme bzw. Geräte mit DAViCal verwendet werden:</p><p><a class="crosslink anchor" href="#Clientprogramme" id="Clientprogramme"></a>
</p><ul><li><p><a class="internal" href="./evolution.html">Evolution</a></p></li><li><p><a class="internal" href="./thunderbird.html">Thunderbird</a> mit der Erweiterung <a class="internal" href="./thunderbird/lightning.html">Lightning</a></p></li><li><p><a class="internal" href="./kontact.html">Kontact</a></p></li><li><p><a class="internal" href="./rainlendar.html">Rainlendar</a></p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Mulberry_(Software)">Mulberry</a></p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/iCal">iCal</a></p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Apple_iPhone">iPhone</a></p></li><li><p><a class="external" href="https://davdroid.bitfire.at/" rel="nofollow">DAVdroid (für Android 4+)</a></p></li></ul><p>
Neben der Funktion als reiner Kalenderserver kann DAViCAL auch Aufgabenlisten und Notizen verwalten. So wird es möglich, Treffen mit anderen Personen zu planen, Aufgaben in einem Team zu verteilen und die Arbeit zu organisieren.</p><p>Sehr interessant ist ein DAViCal-Server in Kombination mit <a class="internal" href="./postfix.html">Postfix</a>, <a class="internal" href="./fetchmail.html">Fetchmail</a>, <a class="internal" href="./dovecot_2.html">Dovecot</a> (IMAP), <a class="internal" href="./openldap_ab_precise.html">OpenLDAP</a> und einem geeigneten E-Mail-Programm mit Kalenderfunktion, da diese Kombination von der Funktion her recht nahe an die weit verbreitete kommerzielle Lösung Exchange/Outlook herankommt (siehe auch weitere <a class="external" href="http://www.udslinux.de/consulting_linux_groupware.html" rel="nofollow">Alternativen zu Outlook/MS-Exchange unter Linux</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/>). Wen die Kombination verschiedener Einzelprogramme abschreckt, sollte sich <a class="external" href="http://davmail.sourceforge.net/" rel="nofollow">DavMail Gateway</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> anschauen. Diese Software stellt ein <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Gateway_(Informatik)">Gateway</a> zu einem bestehenden Exchange-Server bereit.</p><p>Seit Version 0.9.9.2 kann ein DAViCal-Server auch Adressen im <a class="interwiki interwiki-wikipedia_en" href="https://en.wikipedia.org/wiki/CardDAV">CardDAV</a>-Format verarbeiten, womit eine gemeinsame Adressenverwaltung auch ohne LDAP z.B. mit <a class="internal" href="./evolution.html">Evolution</a> möglich ist.</p><div class="section_1"><h2 id="Voraussetzungen">Voraussetzungen<a class="headerlink" href="#Voraussetzungen">¶</a></h2><p>
Zunächst müssen <a class="internal" href="./apache_2.4.html">Apache 2.4</a>, <a class="internal" href="./php.html">PHP</a> und <a class="internal" href="./postgresql.html">PostgreSQL</a> installiert werden und prinzipiell funktionieren. Anleitungen dazu findet man in den Artikeln:</p><ul><li><p><a class="internal" href="./apache_2.4.html">Apache 2.4</a> (Ubuntu 14.04 oder neuer)</p></li><li><p><a class="internal" href="./php.html">PHP 5</a> (PHP 7 ab Ubuntu 16.04)</p></li><li><p><a class="internal" href="./postgresql.html">PostgreSQL</a></p></li></ul><p>
</p></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
DAViCal ist in den offiziellen Paketquellen enthalten. Folgende Pakete müssen installiert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>davical</strong> (<em>universe</em>)</p></li><li><p><strong>davical-doc</strong> (optional, Dokumentation)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install davical davical-doc </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install davical davical-doc </pre></div></div><p>
</p></div></div><p>Da die in den offiziellen Paketquellen enthaltene Version unter Umständen älter als der aktuelle Entwicklungsstand ist, kann bis einschließlich <a class="internal" href="./trusty.html">Ubuntu 14.04</a> eine manuelle Installation interessant sein. Dazu kann man entweder eine Fremdquelle nutzen oder die jeweiligen Pakete manuell installieren. Die Verwendung einer Fremdquelle hat den Vorteil, dass Updates automatisch eingespielt werden.</p><div class="section_2"><h3 id="Fremdquelle">Fremdquelle<a class="headerlink" href="#Fremdquelle">¶</a></h3><p>
Zum Einrichten einer Fremdquelle folgt man der entsprechenden <a class="external" href="https://wiki.davical.org/index.php/Downloading#Ubuntu" rel="nofollow">Anleitung</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> im DAViCal-Wiki.</p><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
Zusätzliche <a class="internal" href="./fremdquellen.html">Fremdquellen</a> können das System gefährden. 
</p></div></div></div><div class="section_2"><h3 id="Fremdpakete">Fremdpakete<a class="headerlink" href="#Fremdpakete">¶</a></h3><p>
Alternativ können drei Fremdpakete im DEB-Format für die benötigte Bibliothek <a class="external" href="https://people.debian.org/~fsfs/davical-current/pool/main/a/awl/" rel="nofollow">libawl-php</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> und  die eigentlichen <a class="external" href="https://people.debian.org/~fsfs/davical-current/pool/main/d/davical/" rel="nofollow">davical-Pakete</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> heruntergeladen und manuell installiert werden. Hierbei muss die Installation des Pakets <strong>libawl-php</strong> zuerst erfolgen (<code class="notranslate">VERSION</code> bitte anpassen):</p><ol class="arabic"><li><p><strong>libawl-php_VERSION_all.deb</strong></p></li><li><p><strong>davical_VERSION_all.deb</strong></p></li><li><p><strong>davical-doc_VERSION_all.deb</strong></p></li></ol><p>
</p><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
<a class="internal" href="./fremdquellen.html">Fremdpakete</a> können das System gefährden. 
</p></div></div></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Diese Anleitung erhebt keinen Anspruch auf Vollständigkeit, stellt aber einen funktionierenden Kalenderserver mit Webadministration bereit. Eine ausführlichere Anleitung mit erweiterten Konfigurationsmöglichkeiten ist - allerdings noch für <a class="internal" href="./lucid.html">Ubuntu 10.04</a> -  im <a class="external" href="http://wiki.davical.org/w/Ubuntu/Lucid" rel="nofollow">Wiki</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> von DAViCal zu finden.</p><p>Der Port <code class="notranslate">11371</code> darf nicht durch eine Firewall blockiert werden.
. 
</p><div class="section_2"><h3 id="Apache">Apache<a class="headerlink" href="#Apache">¶</a></h3><p>
Davical kann mit verschiedenen Webservern und PHP ab 5.1 arbeiten. Die Webserver können dann die Daten als Virtueller Host oder als simuliertes Unterverzeichnis zurück liefern. Die letztere, auch als Alias bezeichnete Variante wird im folgenden betrachtet.</p><div class="section_3"><h4 id="Apache-2-4">Apache 2.4<a class="headerlink" href="#Apache-2-4">¶</a></h4><p>
Für Apache Version 2.4 bzw. ab <a class="internal" href="./saucy.html">Ubuntu 13.10</a> liegt die Konfigurationsdatei in <strong>/etc/apache2/conf-available/</strong> und wird mit einem symbolischen Link in <strong>/etc/apache2/conf-enabled/</strong> gespiegelt. Sie lautet:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c1">## /etc/apache2/conf-available/davical.conf</span>

<span class="c1"># &lt;IfModule mod_ssl.c&gt;</span>
Alias /davical /usr/share/davical/htdocs

&lt;Directory /usr/share/davical/htdocs&gt;
        Require all granted
        Options Indexes
        DirectoryIndex index.php
        php_flag magic_quotes_gpc Off
        php_flag register_globals Off
&lt;/Directory&gt;
<span class="c1"># &lt;/IfModule&gt;</span>
</pre></div>
</td></tr></table></div><p>Der symbolische Link wird erzeugt mit 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ln -s /etc/apache2/conf-available/davical.conf /etc/apache2/conf-enabled/davical.conf </pre></div></div><p>Nach Änderungen in den Konfigurationsdateien muss der Webserver (Apache) neu gestartet werden.
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apache2ctl graceful </pre></div></div><p>Wer nur SSL-verschlüsselte Verbindungen erlauben will, kann die #-Kommentarzeichen vor den Zeilen mit <code class="notranslate">&lt;IfModule ...&gt;</code> und <code class="notranslate">&lt;/IfModule&gt;</code> entfernen.</p></div></div><div class="section_2"><h3 id="DAViCal-Konfiguration">DAViCal Konfiguration<a class="headerlink" href="#DAViCal-Konfiguration">¶</a></h3><p>
Im Verzeichnis <strong>/etc/davical/</strong> wird eine Datei mit dem Namen <strong>config.php</strong> erstellt und der folgende Inhalt mit einem Texteditor eingetragen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
  <span class="nv">$c</span><span class="o">-&gt;</span><span class="na">default_locale</span> <span class="o">=</span> <span class="s2">"de_DE"</span><span class="p">;</span>
<span class="c1">// Diesen String verwenden, wenn die Datenbank auf dem gleichen Host betrieben </span>
<span class="c1">// wird, wie das Webinterface.</span>
  <span class="nv">$c</span><span class="o">-&gt;</span><span class="na">pg_connect</span><span class="p">[]</span> <span class="o">=</span> <span class="s1">'dbname=davical user=davical_app'</span><span class="p">;</span>
<span class="c1">// Wenn der Datenbankserver auf einer anderen Maschine läuft, diesen String verwenden. </span>
<span class="c1">//  $c-&gt;pg_connect[] = 'dbname=davical user=davical_app host=HOSTNAME port=5432';</span>
<span class="cp">?&gt;</span>
</pre></div>
</td></tr></table></div><p>Die Konfigurationsdatei muss für den Apache lesbar sein. Diese erreicht man, indem man die Leserechte für andere Benutzer setzt.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo chmod 644 /etc/davical/config.php </pre></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die Konfigurationsdatei kann auch so angelegt werden, dass fuer verschiedene Clients im Netzwerk verschiedene Datenbanken verwendet werden. (siehe <a class="external" href="http://davical.dhits.nl/index.php?title=Configuration" rel="nofollow">Davical Configuration</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>)
</p></div></div></div><div class="section_2"><h3 id="PostgreSQL">PostgreSQL<a class="headerlink" href="#PostgreSQL">¶</a></h3><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Da in unterschiedlichen Ubuntu-Versionen auch die Versionen von PostgreSQL variieren, ist im folgenden <strong>x</strong> ein Platzhalter für die Versionsnummer des PostgreSQL-Servers. 
</p></div></div><p>Zuerst müssen in der PostgreSQL-Datenbank die Benutzer für DAViCal angelegt werden. Dafür wird ein Terminal <sup><a href="#source-2">[2]</a></sup> geöffnet und der folgende Befehl eingegeben:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres createuser davical_app
sudo -u postgres createuser davical_dba </pre></div></div><p>Die Fragen nach <code class="notranslate">superuser</code>, <code class="notranslate">roles</code> und <code class="notranslate">databases</code> können alle mit <em>"Nein"</em> beantwortet werden, denn der neu zu erstellende Benutzer von PostgreSQL soll keine besonderen Rechte besitzen. Der Vorgang wird für einen weiteren Benutzer wiederholt, wieder werden die auftretenden Fragen verneint.</p><p>Jetzt müssen noch die Zugriffsrechte der beiden Nutzer für die PostgreSQL-Datenbank eingerichtet werden. Dazu wird die Konfigurationsdatei <strong>/etc/postgresql/VERSION/main/pg_hba.conf</strong> mit einem Editor <sup><a href="#source-3">[3]</a></sup> und Root-Rechten <sup><a href="#source-4">[4]</a></sup> geöffnet und die folgenden zwei Zeilen <strong>:"</strong> den vorhandenen Code <strong>vor</strong> den bereits vorhandenen Codeblöcken eingefügt.</p><pre class="notranslate">[...]
# TYPE  DATABASE    USER        CIDR-ADDRESS          METHOD
## DAViCal darf sich lokal OHNE passwort anmelden.
local   davical     davical_dba                     trust
local   davical     davical_app                     trust
[...]</pre><p>Damit die Änderungen wirksam werden, muss der Datenbankserver neu gestartet werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo /etc/init.d/postgresql restart </pre></div></div><p>Anschließend wird mit einem Skript die DAViCal-Datenbank angelegt:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres -s /usr/share/davical/dba/create-database.sh </pre></div></div><p>Nachdem das Skript durchgelaufen ist, wird am Ende das Administrator-Password angezeigt.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Dieses Passwort sollte man sich notieren. Es kann und sollte später über das <a class="crosslink" href="#Administration">Webinterface</a> geändert werden. Das Passwort steht in jedem Fall auch als Klartext in der Datenbank. Bei entsprechender Konfiguration und Verwendung von SSL-Verschlüsselung (<code class="notranslate">https://</code>) ist dies jedoch vernachlässigbar.
</p></div></div><p>Damit ist die Grundkonfiguration abgeschlossen und man kann sich mit der Erstellung von Benutzern und Ressourcen beschäftigen.</p></div></div><div class="section_1"><h2 id="Benutzung">Benutzung<a class="headerlink" href="#Benutzung">¶</a></h2><p>
<img alt="./davical_login.png" class="image-right" src="./_/3d07eecb5bd0a70acb0351acf5fe194d13204b1c.png"/>
</p><div class="section_2"><h3 id="Administration">Administration<a class="headerlink" href="#Administration">¶</a></h3><p>
Als Administrator kann man mit einem Web-Browser lokal über</p><ul><li><p><a class="external" href="http://localhost/davical/" rel="nofollow" title="http://localhost/davical/">http://localhost/davical/</a></p></li></ul><p>oder
</p><ul><li><p><a class="external" href="http://&lt;IP-Adresse&gt;/davical/" rel="nofollow" title="http://&lt;IP-Adresse&gt;/davical/">http://&lt;IP-Adresse&gt;/davical/</a></p></li></ul><p>
auf die Verwaltung zugreifen und Benutzer und deren Rechte einrichten. Der Anmeldename ist <code class="notranslate">admin</code> und das Passwort ist das Passwort aus der Datenbankerstellung. Als Erstes sollte das Passwort geändert werden. Für einen schnellen Funktionstest ist es ausreichend, einen neuen Benutzer nur mit Benutzername und Passwort anzulegen.</p><p>Empfehlenswert ist auf jeden Fall ein Blick in die umfangreiche <a class="external" href="http://wiki.davical.org/w/Main_Page" rel="nofollow">Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> , um z.B. Gruppen festzulegen, damit Benutzer auch untereinander Kalenderdaten austauschen können (siehe auch  <a class="external" href="http://ubuntuguide.org/wiki/DAViCal_tips#Clarification_of_user_types_and_relationships" rel="nofollow">Clarification of user types and relationships</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>).</p></div><div class="section_2"><h3 id="Clients">Clients<a class="headerlink" href="#Clients">¶</a></h3><p>
Der Zugriff mit einem geeignetem <a class="crosslink" href="#Clientprogramme">Clientprogramm</a> erfolgt grundsätzlich über die Adresse (URL) des DAViCal-Servers:</p><pre class="notranslate">http://&lt;IP-Adresse-des-DAVical-Servers&gt;/davical/caldav.php/&lt;Benutzername&gt;/home/</pre><p>Das Verzeichnis <strong>/home</strong> ist der Standardkalender. Konfigurationsanleitungen mit Bildern für einzelnen Clients gibt es auf der Webseite <a class="external" href="http://www.davical.org/clients.php" rel="nofollow">Client Configuration</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> .</p><p>Ab Version 0.9.9.5 ist der Kalender über folgende URL erreichbar:</p><pre class="notranslate">http://&lt;IP-Adresse-des-DAVical-Servers&gt;/davical/caldav.php/&lt;Benutzername&gt;/calendar/</pre><p>Das Adressbuch ist über folgende URL erreichbar:</p><pre class="notranslate">http://&lt;IP-Adresse-des-DAVical-Servers&gt;/davical/caldav.php/&lt;Benutzername&gt;/addressbook/</pre></div><div class="section_2"><h3 id="Upgrade">Upgrade<a class="headerlink" href="#Upgrade">¶</a></h3><p>
Die neuen Pakete herunterladen und installieren. DAViCal bringt ein eigenes Upgrade-Skript zum Aktualisieren der Datenbank mit. 
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wer früher sichert, hat später was zum Rücksichern. Soll heißen: Vor dem Update sollte die Datenbank gesichert werden.
</p></div></div><div class="bash"><div class="contents"><pre class="notranslate">pg_dump -W -U postgres davical &gt; davical_dateNtime.psql </pre></div></div><p>Dann kann man das Update-Skript ausführen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres -s /usr/share/davical/dba/update-davical-database </pre></div></div></div></div><div class="section_1"><h2 id="Probleme-und-Loesungen">Probleme und Lösungen<a class="headerlink" href="#Probleme-und-Loesungen">¶</a></h2><p>
</p><div class="section_2"><h3 id="Weisse-Seite-nach-der-Installation">Weiße Seite nach der Installation<a class="headerlink" href="#Weisse-Seite-nach-der-Installation">¶</a></h3><p>
Es kann passieren, dass nach der Installation nur eine weiße Seite erscheint. Folgende Befehle könnten dann helfen:</p><div class="bash"><div class="contents"><pre class="notranslate">cd /usr/share/davical/inc
sudo ln -s /usr/share/awl/inc/* . </pre></div></div></div><div class="section_2"><h3 id="Termineinladungen">Termineinladungen<a class="headerlink" href="#Termineinladungen">¶</a></h3><p>
Im Zusammenspiel von DAViCal und Thunderbird/Lightning kann es beim Versenden von Termineinladungen zu Problemen kommen. Man kann zwar die Funktion zur Termineinladung in Lightning ausführen, aber im Anschluss wird weder die Frage nach der Outlook-Kompatibilität gestellt noch wird eine E-Mail versendet. Um dieses Problem zu lösen, ist ab der Version 0.9.9.4-1 von DAViCal der Konfigurationsdatei <strong>/etc/davical/&lt;IP_Adresse oder kanonischer_Name&gt;-conf.php</strong> eine Zeile hinzuzufügen:</p><pre class="notranslate">$c-&gt;enable_auto_schedule = false;</pre><p>Mit der Auslieferung von Thunderbird 5 / Lightning 1.04b kann es sein, dass der obere Workaround im Zusammenspiel mit DAViCal 0.9.9.4-1 nicht mehr funktioniert. Die Termineinladungen können nun aber durch Einfügen der folgenden Zeile in die <strong>/etc/davical/&lt;IP_Adresse oder kanonischer_Name&gt;-conf.php</strong> anstelle der zuvor genannten wieder aktiviert werden:</p><pre class="notranslate">  $c-&gt;override_dav_header = '1, 2, 3, access-control, calendar-access, calendar-schedule, extended-mkcol, calendar-proxy, bind'; </pre><p>Der Mangel an dieser Lösung ist, dass eventuelle Neuerungen in zukünftigen Updates vielleicht nicht zur Verfügung stehen.</p></div><div class="section_2"><h3 id="Synchronisation-von-Kontakten-mit-iOS">Synchronisation von Kontakten mit iOS<a class="headerlink" href="#Synchronisation-von-Kontakten-mit-iOS">¶</a></h3><p>
Möchte man Kontakte mit iOS Geräten (4.3.5) synchronisieren, dann muss die Konfiguration des Apache noch um einen zweiten Alias ergänzt werden, da die Account-URL bei CardDav-Accounts nicht manuell hinterlegt werden kann.</p><p>Die Konfigurationsdatei <strong>/etc/apache2/conf.d/davical.conf</strong> dazu um folgende Zeile ergänzen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>...
Alias /principals /usr/share/davical/htdocs
...
</pre></div>
</td></tr></table></div><p>Statt eines CalDav-Accounts wie bei einem Kalender fügt man dann einen CardDav-Account hinzu.</p></div></div><div class="section_1"><h2 id="Alternativen">Alternativen<a class="headerlink" href="#Alternativen">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://caldav.calconnect.org/implementations/servers.html" rel="nofollow">CalDAV Server</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Übersicht</p></li><li><p><a class="external" href="http://baikal-server.com/" rel="nofollow">Baikal</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - CalDAV- und CardDAV-Server, Zugriff nur über Client-Programme (keine Weboberfläche)</p></li><li><p><a class="interwiki interwiki-packages" href="http://packages.ubuntu.com/calendarserver">Apple Calendar Server</a></p></li><li><p><a class="external" href="http://www.k5n.us/webcalendar.php" rel="nofollow">WebCalendar</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Kalenderserver (<a class="interwiki interwiki-packages" href="http://packages.ubuntu.com/webcalendar">webcalendar</a>)</p></li><li><p><a class="external" href="http://www.php-calendar.com/" rel="nofollow">PHP-Calendar</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Lösung mit <a class="internal" href="./php.html">PHP</a></p></li><li><p><a class="internal" href="./radicale.html">Radicale</a> - ein Kalenderserver in <a class="internal" href="./python.html">Python</a></p></li><li><p><a class="external" href="http://www.lewe.com/index.php?option=com_content&amp;view=article&amp;id=107&amp;Itemid=42" rel="nofollow">TeamCal Pro</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Webkalender für Teams</p></li><li><p><a class="external" href="http://www.tutos.org/" rel="nofollow">TUTOS</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - weiterer Webkalender für Teams</p></li><li><p><a class="external" href="http://phpicalendar.net/" rel="nofollow">PHP iCalendar</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Lesezugriff auf <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/iCalendar">iCalendar</a>-Dateien</p></li><li><p><a class="internal" href="./archiv/sogo.html">SOGo</a> - Groupware mit CalDAV-Implementation</p></li><li><p><a class="external" href="http://www.tine20.org/de/startseite.html" rel="nofollow">Tine 2.0</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Groupware und Customer Relationship Management (CRM) mit CalDAV-Implementation</p></li></ul><p>
</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.davical.org/" rel="nofollow">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="interwiki interwiki-bug" href="https://launchpad.net/bugs/717810">717810</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Lösung für Bug mit weißer Seite</p></li><li><p><a class="external" href="http://ubuntuguide.org/wiki/DAViCal_tips" rel="nofollow">DAViCal tips</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - ursprüngliche Grundlage dieses Artikels</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./davical/a/revision/938967.html">Diese Revision</a> wurde am 3. Mai 2017 20:09 von <a href="https://ubuntuusers.de/user/noisefloor/">noisefloor</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./davical.html">DAViCal</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>