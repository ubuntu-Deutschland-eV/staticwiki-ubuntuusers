<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>nginx › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./nginx.html">nginx</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/nginx">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./nginx/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./nginx/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./nginx/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./nginx/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./nginx/a/backlinks.html">nginx</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./paketquellen_freischalten/ppa.html">Verwenden eines PPAs</a>, <em>optional</em></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./packprogramme.html">Archive entpacken</a>, <em>optional</em></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./programme_kompilieren.html">Pakete aus dem Quellcode erstellen</a>, <em>optional</em></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a><ol class="arabic"><li><a class="crosslink" href="#PPA">PPA
</a></li><li><a class="crosslink" href="#Manuell">Manuell
</a></li></ol></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a><ol class="arabic"><li><a class="crosslink" href="#Konfigurieren-des-Webservers">Konfigurieren des Webservers
</a></li><li><a class="crosslink" href="#nginx-als-Reverse-Proxy">nginx als Reverse-Proxy
</a></li><li><a class="crosslink" href="#ndern-der-Umgebung">Ändern der Umgebung
</a></li></ol></li><li><a class="crosslink" href="#Steuerung-von-nginx">Steuerung von nginx
</a><ol class="arabic"><li><a class="crosslink" href="#Moegliche-Befehle">Mögliche Befehle
</a></li><li><a class="crosslink" href="#Andere-Konfigurationsdatei-verwenden">Andere Konfigurationsdatei verwenden
</a></li></ol></li><li><a class="crosslink" href="#Optimierung-von-nginx">Optimierung von nginx
</a><ol class="arabic"><li><a class="crosslink" href="#GZip-Komprimierung-aktivieren">GZip-Komprimierung aktivieren
</a></li><li><a class="crosslink" href="#Charset-festlegen">Charset festlegen
</a></li></ol></li><li><a class="crosslink" href="#PHP-mit-nginx">PHP mit nginx
</a><ol class="arabic"><li><a class="crosslink" href="#FastCGI-Schnittstelle">FastCGI-Schnittstelle
</a></li><li><a class="crosslink" href="#Universelle-Methode">Universelle Methode
</a></li><li><a class="crosslink" href="#Die-Konfiguration-von-nginx-anpassen">Die Konfiguration von nginx anpassen
</a></li><li><a class="crosslink" href="#PHP-mit-dem-Paket-php5-fpm">PHP mit dem Paket php5-fpm
</a></li></ol></li><li><a class="crosslink" href="#Perl-mit-nginx">Perl mit nginx
</a></li><li><a class="crosslink" href="#Module">Module
</a></li><li><a class="crosslink" href="#Tipps-Tricks">Tipps &amp; Tricks
</a><ol class="arabic"><li><a class="crosslink" href="#IPv6">IPv6
</a></li><li><a class="crosslink" href="#Loadbalancing-mit-nginx">Loadbalancing mit nginx
</a></li><li><a class="crosslink" href="#Rewriting">Rewriting
</a></li></ol></li><li><a class="crosslink" href="#Absicherung-von-nginx">Absicherung von nginx
</a></li><li><a class="crosslink" href="#Erste-Hilfe-bei-Problemen">Erste Hilfe bei Problemen
</a><ol class="arabic"><li><a class="crosslink" href="#Bei-allen-PHP-Dateien-wird-nur-No-input-file-specified-angezeigt">Bei allen PHP-Dateien wird nur "No input...</a></li><li><a class="crosslink" href="#nginx-zeigt-bei-existierenden-Dateien-im-Browser-403-an">nginx zeigt bei existierenden Dateien im...</a></li><li><a class="crosslink" href="#Es-erscheint-auf-allen-Websites-nur-noch-die-Meldung-502-Bad-Gateway">Es erscheint auf allen Websites nur noch...</a></li><li><a class="crosslink" href="#nginx-verarbeitet-keine-htaccess-Dateien">nginx verarbeitet keine .htaccess-Dateie...</a></li><li><a class="crosslink" href="#nginx-startet-nicht-automatisch">nginx startet nicht automatisch
</a></li><li><a class="crosslink" href="#nginx-startet-nicht-da-die-Konfigurationsdatei-angeblich-falsch-ist">nginx startet nicht, da die Konfiguratio...</a></li><li><a class="crosslink" href="#Obwohl-nginx-richtig-konfiguriert-ist-passiert-beim-Aufrufen-von-Subdomains-nichts">Obwohl nginx richtig konfiguriert ist, p...</a></li><li><a class="crosslink" href="#Wieso-bleibt-nginx-an-der-Meldung-80-failed-98-Address-already-in-use-haengen">Wieso bleibt nginx an der Meldung "[...]...</a></li><li><a class="crosslink" href="#Wieso-kann-Plesk-nginx-nicht-konfigurieren">Wieso kann Plesk nginx nicht konfigurier...</a></li><li><a class="crosslink" href="#Wieso-wird-die-neue-Konfiguration-nicht-uebernommen">Wieso wird die neue Konfiguration nicht ...</a></li><li><a class="crosslink" href="#Die-Log-Datei-bleibt-leer-warum">Die Log-Datei bleibt leer, warum?
</a></li><li><a class="crosslink" href="#Weshalb-laeuft-eine-FastCGI-Schnittstelle-die-andere-aber-nicht">Weshalb läuft eine FastCGI-Schnittstelle...</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="nginx-logo.png" class="image-left" src="./_/c7c2ed44d024886f213cd452430a476d309e49a4.png"/> <a class="external" href="http://www.nginx.org" rel="nofollow">nginx</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> (gesprochen „engine x”) ist ein Webserver, der im Vergleich zum Marktführer <a class="internal" href="./apache.html">Apache</a> sehr schnell und schlank ist. Er wurde mit der Vorgabe konzipiert, selbst unter hoher Last nur wenig Ressourcen zu verbrauchen. nginx wird von Igor Sysoev entwickelt und wird laut <a class="external" href="https://w3techs.com/technologies/overview/web_server/all" rel="nofollow">w3techs.com Statsitik</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> von ca. 30 % aller Websites genutzt (Stand: Sommer 2016). Damit ist nginx der am 2. meisten eingesetzte Webserver.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
nginx kann aus den offiziellen Paketquellen installiert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>nginx</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install nginx </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install nginx </pre></div></div><p>
</p></div></div><div class="section_2"><h3 id="PPA">PPA<a class="headerlink" href="#PPA">¶</a></h3><p>
Eine – je nach eingesetzter Ubuntu-Version – aktuellere nginx-Version ist über ein "Personal Package Archiv" (PPA) <sup><a href="#source-2">[2]</a></sup> erhältlich.
</p><p>Adresszeile zum <a class="internal" href="./paketquellen_freischalten/ppa.html#PPA-hinzufuegen">Hinzufügen</a> des PPAs:
</p><ul><li><p><strong>ppa:nginx/stable</strong> </p></li></ul><div class="box warning"><h3 class="box warning">Hinweis!</h3><div class="contents"><p>
Zusätzliche <a class="internal" href="./fremdquellen.html">Fremdquellen</a> können das System gefährden. 
</p><hr/><p>Ein PPA unterstützt nicht zwangsläufig alle Ubuntu-Versionen. Weitere Informationen sind der <img alt="Wiki/Vorlagen/PPA/ppa.png" class="image-default" src="./_/237f3a0f00c3091056c1a912d81e924e8391ed6b.png"/> <a class="external" href="https://launchpad.net/~nginx/+archive/stable" rel="nofollow">PPA-Beschreibung</a> des Eigentümers/Teams <a class="interwiki interwiki-lpuser" href="https://launchpad.net/~nginx">nginx</a> zu entnehmen.
</p></div></div><p>
Damit Pakete aus dem PPA genutzt werden können, müssen die Paketquellen <a class="internal" href="./paketquellen_freischalten.html">neu eingelesen</a> werden.</p></div><div class="section_2"><h3 id="Manuell">Manuell<a class="headerlink" href="#Manuell">¶</a></h3><p>
Da im Gegensatz zu Apache keine (nachladbaren) Module zum Einsatz kommen, werden benötigte Funktionen bereits beim Kompilieren von nginx angegeben. So kann man im Gegensatz zu den vorkompilierten Paketen aus den offiziellen Paketquellen oder dem PPA den Webserver noch genauer auf den geplanten Einsatzzweck abstimmen und weitere Performance-Gewinne erzielen. Bevor nginx kompiliert werden kann, werden folgende Pakete benötigt (je nach gewünschter Funktionalität evtl. auch noch weitere Pakete; Details sind dem <a class="external" href="https://www.nginx.com/resources/wiki/start/topics/tutorials/installoptions/" rel="nofollow">nginx-Wiki</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> zu entnehmen):</p><ul><li><p><strong>build-essential</strong> (Basiswerkzeuge zur Kompilierung)</p></li><li><p><strong>libpcre3-dev</strong></p></li><li><p><strong>libssl-dev</strong> (wird nur für SSL bzw. HTTPS benötigt)</p></li><li><p><strong>zlib1g-dev</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install build-essential libpcre3-dev libssl-dev zlib1g-dev </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install build-essential libpcre3-dev libssl-dev zlib1g-dev </pre></div></div><p>
</p></div></div><p>Dann wird der Quellcode von der <a class="external" href="http://nginx.org/en/download.html" rel="nofollow">offiziellen Downloadseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> benötigt. Nun entpackt <sup><a href="#source-3">[3]</a></sup> man das Quellcode-Archiv und kompiliert <sup><a href="#source-4">[4]</a></sup> nginx. Damit sich der selbst-kompilierte nginx (fast) wie eine Paket-Installation anfühlt, setzt man noch folgende symbolischen Links:</p><pre class="notranslate">mkdir /etc/nginx
ln -s /usr/local/nginx/conf/nginx.conf /etc/nginx/nginx.conf
ln -s /usr/local/nginx/sbin/nginx /usr/local/bin/nginx</pre><p>Somit spart man sich das umständliche Zusammensuchen der Komponenten und kann nginx direkt ohne Pfadangabe starten.</p><p><img alt="Wiki/Icons/settings.png" class="image-right" src="./_/44291e0203c1fed32d9b02c10c138504ec425e3d.png"/>
</p></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
nginx liest die Konfiguration aus der Datei <strong>/etc/nginx/nginx.conf</strong>. Diese besteht aus den Blöcken <code class="notranslate">events { [...] }</code> und <code class="notranslate">http { [...] }</code>. Kommentiert wird mit einer Raute (<code class="notranslate">#</code>).</p><div class="section_2"><h3 id="Konfigurieren-des-Webservers">Konfigurieren des Webservers<a class="headerlink" href="#Konfigurieren-des-Webservers">¶</a></h3><p>
</p><div class="section_3"><h4 id="Grundkonfiguration">Grundkonfiguration<a class="headerlink" href="#Grundkonfiguration">¶</a></h4><p>
Damit nginx an eine Domain oder IP gebunden wird, muss folgender Grundblock in den <strong>http</strong>-Teil eingefügt werden:</p><pre class="notranslate">server {

}</pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die Datei ist nach der Installation schon vorkonfiguriert. Es ist empfehlenswert, jegliche <code class="notranslate">server { [...] }</code>-Bereiche zu entfernen, um Komplikationen zu vermeiden.
</p></div></div><p>Nun wird angegeben, an welchen Port sich nginx binden soll (<code class="notranslate">80</code>) und an welche Domain bzw. IP (<code class="notranslate">localhost</code>):</p><pre class="notranslate">server {
     listen       80;
     server_name  localhost;
}</pre><p><a class="crosslink anchor" href="#rootverzeichnis" id="rootverzeichnis"></a>
Alleine mit dieser Konfiguration ist nginx bereits erreichbar, hat aber keine Daten verfügbar, die an den Benutzer versendet werden können. Dies ändert man mit <code class="notranslate">root</code> (im Beispiel liegen die Dateien in <strong>/srv/localhost</strong>):</p><pre class="notranslate">root         /srv/localhost;</pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p><code class="notranslate">root</code> steht für <code class="notranslate">document root</code> und nicht, wie man denken könnte, für den Benutzer <code class="notranslate">root</code>.
</p></div></div><p>Zuletzt wird noch festgelegt, welche Datei aufgerufen werden soll, wenn der Nutzer nur <code class="notranslate">localhost</code> eintippt:</p><pre class="notranslate">location / {
        index     index.html  index.htm;
}</pre></div><div class="section_3"><h4 id="Domains-einbinden">Domains einbinden<a class="headerlink" href="#Domains-einbinden">¶</a></h4><p>
Domains lassen sich folgendermaßen einbinden:</p><pre class="notranslate">server_name  www.example.com example.com;</pre><p>Damit hört nginx sowohl an <code class="notranslate">www.example.com</code> als auch <code class="notranslate">example.com</code>.</p></div><div class="section_3"><h4 id="Sub-und-Wildcarddomains-einbinden">Sub- und Wildcarddomains einbinden<a class="headerlink" href="#Sub-und-Wildcarddomains-einbinden">¶</a></h4><p>
Sub- und Wildcarddomains bindet man mit</p><pre class="notranslate">server_name  *.example.com subdomain.example.com;</pre><p>ein.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Jede Domain, die in <code class="notranslate">server_name</code> aufgelistet ist, wird auch von dem (virtuellen) Server betrieben. Konkret würde dies für das Beispiel heißen, dass die beiden Domains mit dem gleichen Inhalt und den gleichen Einstellungen betrieben werden.
</p></div></div></div><div class="section_3"><h4 id="Beispiel">Beispiel<a class="headerlink" href="#Beispiel">¶</a></h4><p>
</p><pre class="notranslate">[...]

http {
     server {
          listen       80;
          server_name  localhost example.com www.example.com;
          root         /srv/daten;

          location / {
             index     index.html  index.htm;
          }
     }

     server {
          listen       80;
          server_name  subdomain.example.com;
          root         /srv/subdomain/daten;

          location / {
             index     index.html  index.htm;
          }
     }
}

[...]</pre></div></div><div class="section_2"><h3 id="nginx-als-Reverse-Proxy">nginx als Reverse-Proxy<a class="headerlink" href="#nginx-als-Reverse-Proxy">¶</a></h3><p>
Der nginx Webserver ist auch recht beliebt zum Einsatz als "Reverse Proxy". Dabei nimmt der Server die Anfrage aus dem Internet an, leitet diese an einen lokal laufenden Applikationsserver weiter und liefert anschließend dessen Antwort wird aus. So ist z.B. im <a class="internal" href="./python.html">Python</a> Umfeld der Einsatz von nginx als Reverse Proxy in Kombination mit den (lokal laufenden) WSGI Applikationsserver <a class="internal" href="./gunicorn.html">gunicorn</a> oder uwsgi eine durchaus beliebte Lösung.</p><p>Im einfachsten Fall benötigt man in der Konfiguration von nginx nur die folgenden beiden Zeilen:</p><pre class="notranslate">location / {
                proxy_pass http://127.0.0.1:8000;
}</pre><p>Damit werden alle Anfragen an diese <code class="notranslate">location</code> - im obigen Beispiel als das Root-Verzeichnis der Domäne -  an <code class="notranslate">http://127.0.0.1:8000</code> weitergeleitet, wo dann ein Applikationsserver läuft.</p><p>Trotz der Weiterleitung übergibt nginx den angesteuerten Pfad (z.B. <code class="notranslate">http://example.com/neu</code>, und nicht <code class="notranslate">http://127.0.0.1:8000/</code>).</p><p>Weiterführende Informationen findet man in der <a class="external" href="https://www.nginx.com/resources/admin-guide/reverse-proxy/" rel="nofollow">Dokumention</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> des Servers.</p></div><div class="section_2"><h3 id="ndern-der-Umgebung">Ändern der Umgebung<a class="headerlink" href="#ndern-der-Umgebung">¶</a></h3><p>
</p><div class="section_3"><h4 id="ndern-des-Nutzers">Ändern des Nutzers<a class="headerlink" href="#ndern-des-Nutzers">¶</a></h4><p>
Nginx kann - wie viele andere Webserver - auch einen anderen Nutzer als „root” benutzen. Um dies einzurichten, ändert man folgende Zeile:</p><pre class="notranslate">#user  nobody;</pre><p>ab zu folgender Zeile (in diesem Beispiel wird der Nutzer „www-data” verwendet):
</p><pre class="notranslate">user  www-data;</pre><p>
Dies ändert - unabhängig davon, mit welchem Nutzer nginx gestartet wurde - das Konto, mit dem der <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Daemon">Daemon</a> arbeitet.</p></div><div class="section_3"><h4 id="Aktivierung-einer-Logdatei">Aktivierung einer Logdatei<a class="headerlink" href="#Aktivierung-einer-Logdatei">¶</a></h4><p>
Um eine komplette Logdatei nach <strong>/etc/nginx/logs/error.log</strong> zu schreiben, ändert man die Zeile:</p><pre class="notranslate">#error_log  logs/error.log;</pre><p>ab zu:</p><pre class="notranslate">error_log  /etc/nginx/logs/error.log;</pre><p>Durch das Hinzufügen von <code class="notranslate">info</code> oder <code class="notranslate">notice</code> nach dem Dateinamen kann das Protokoll gefiltert werden. Dies bedeutet, dass z.B. nur Informationen gesichert werden.</p></div></div></div><div class="section_1"><h2 id="Steuerung-von-nginx">Steuerung von nginx<a class="headerlink" href="#Steuerung-von-nginx">¶</a></h2><p>
Nginx bildet sich aus einem „Master”-Prozess und vielen „Slave”- bzw. „Client”-Prozessen. Man steuert nginx mit dem Master-Prozess, den man mit dem Befehl <code class="notranslate">nginx</code> anspricht. Dies geht nach folgendem Prinzip:</p><div class="bash"><div class="contents"><pre class="notranslate">nginx [-s signal] [-c filename] [-p prefix] [-g directives] </pre></div></div><div class="section_2"><h3 id="Moegliche-Befehle">Mögliche Befehle<a class="headerlink" href="#Moegliche-Befehle">¶</a></h3><p>
Starten lässt sich nginx recht simpel:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo nginx </pre></div></div><p>Es sind <a class="internal" href="./sudo.html">Rootrechte</a> erforderlich, wenn nginx an einem Port kleiner als <code class="notranslate">1024</code> horchen soll (siehe auch <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Liste%20der%20standardisierten%20Ports">Liste der standardisierten Ports</a>).</p><p>Für das Stoppen übergibt man das "stop"-Signal an nginx:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo nginx -s stop </pre></div></div><p>Falls ein <a class="internal" href="./dienste.html">Dienste</a>-Skript vorhanden ist, kann man nginx auch mit diesen Optionen steuern:</p><div class="bash"><div class="contents"><pre class="notranslate">/etc/init.d/nginx (start|stop|restart|reload|force-reload) </pre></div></div></div><div class="section_2"><h3 id="Andere-Konfigurationsdatei-verwenden">Andere Konfigurationsdatei verwenden<a class="headerlink" href="#Andere-Konfigurationsdatei-verwenden">¶</a></h3><p>
Falls eine andere Konfigurationsdatei als <strong>/etc/nginx/nginx.conf</strong>, z.B. zu Testzwecken, verwendet werden soll, startet man nginx folgendermaßen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo nginx -c /pfad/der/konfigurationsdatei </pre></div></div></div></div><div class="section_1"><h2 id="Optimierung-von-nginx">Optimierung von nginx<a class="headerlink" href="#Optimierung-von-nginx">¶</a></h2><p>
</p><div class="section_2"><h3 id="GZip-Komprimierung-aktivieren">GZip-Komprimierung aktivieren<a class="headerlink" href="#GZip-Komprimierung-aktivieren">¶</a></h3><p>
Dank der GZip-Komprimierung kann man sich viel Datenverkehr sparen. Wie die Kompression von Websites funktioniert und warum man sie aktivieren sollte, kann man auf <a class="external" href="http://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/" rel="nofollow">betterexplained.com</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> nachlesen. nginx kann alle Typen von Websites und Textdateien komprimieren, im Gegensatz zu dem ZLib-Modul von PHP, welches nur PHP komprimiert.</p><p>Um die Komprimierung zu aktivieren, fügt man folgende Zeile in den <code class="notranslate">http { [...] }</code>-Block ein:</p><pre class="notranslate">gzip on;</pre><p>und startet nginx neu. Zusätzlich sollte man festlegen, welche Dateitypen geschrumpft werden sollen und welche Browser ausgenommen werden sollen:</p><pre class="notranslate">gzip_types       text/plain application/xml;
gzip_disable     "MSIE [1-6]\.";</pre></div><div class="section_2"><h3 id="Charset-festlegen">Charset festlegen<a class="headerlink" href="#Charset-festlegen">¶</a></h3><p>
Falls ein Charset (=Zeichensatz) festgelegt werden soll, kann man sich mit folgendem Befehl im <code class="notranslate">server { [...] }</code>-Block behelfen:</p><pre class="notranslate">charset         utf-8;</pre><p><img alt="./php-logo.png" class="image-right" src="./_/fd080a430e0bda1d29ac125f941e42c92ce6860e.png"/>
</p></div></div><div class="section_1"><h2 id="PHP-mit-nginx">PHP mit nginx<a class="headerlink" href="#PHP-mit-nginx">¶</a></h2><p>
</p><div class="section_2"><h3 id="FastCGI-Schnittstelle">FastCGI-Schnittstelle<a class="headerlink" href="#FastCGI-Schnittstelle">¶</a></h3><p>
nginx verlangt für PHP eine FastCGI-Schnittstelle. Da PHP nicht im Passiv-Modus agiert, müssen - wie bei FastCGI üblich - PHP-Instanzen gestartet werden, die im Arbeitsspeicher auf ihren Einsatz warten.</p><p>Zuerst installiert man PHP im CGI-Modus, falls noch nicht geschehen, mit folgendem Paket:</p><ul><li><p><strong>php5-cgi</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install php5-cgi </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install php5-cgi </pre></div></div><p>
</p></div></div><p>
Dann installiert man, falls noch nicht geschehen, das Paket</p><ul><li><p><strong>spawn-fcgi</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install spawn-fcgi </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install spawn-fcgi </pre></div></div><p>
</p></div></div><p>
Dann erstellt man ein <a class="internal" href="./bash.html">Bash</a>-Skript, welches die Instanzen startet (Quelle: <a class="external" href="http://library.linode.com/web-servers/nginx/php-fastcgi/ubuntu-9.10-karmic" rel="nofollow">Linode.com - Nginx and PHP-FastCGI on Ubuntu</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>):</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/sh</span>
/usr/bin/spawn-fcgi -a <span class="m">127</span>.0.0.1 -p <span class="m">9000</span> -u www-data -f /usr/bin/php5-cgi
</pre></div>
</td></tr></table></div><p>
Das Skript speichert man unter <strong>/usr/local/bin/php-fastcgi</strong> ab und setzt mit</p><div class="bash"><div class="contents"><pre class="notranslate">chmod a+x /usr/local/bin/php-fastcgi </pre></div></div><p>
die notwendigen Rechte. Man startet nun die Instanzen mit dem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo php-fastcgi </pre></div></div></div><div class="section_2"><h3 id="Universelle-Methode">Universelle Methode<a class="headerlink" href="#Universelle-Methode">¶</a></h3><p>
Falls es Probleme geben sollte, kann man versuchen, PHP direkt an eine FastCGI-Schnittstelle zu binden. Dafür legt man die Datei <strong>/usr/local/bin/php-fastcgi</strong> mit folgendem Inhalt an:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/bash</span>
php-cgi -b <span class="m">127</span>.0.0.1:9000
</pre></div>
</td></tr></table></div><p>
Danach vergibt man Ausführrechte:</p><div class="bash"><div class="contents"><pre class="notranslate">chmod a+x /usr/local/bin/php-fastcgi </pre></div></div><p>
Und zu guter Letzt startet man die FastCGI-Schnittstelle mit dem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo php-fastcgi </pre></div></div></div><div class="section_2"><h3 id="Die-Konfiguration-von-nginx-anpassen">Die Konfiguration von nginx anpassen<a class="headerlink" href="#Die-Konfiguration-von-nginx-anpassen">¶</a></h3><p>
Zu guter Letzt muss jetzt noch nginx wissen, wie man sich an die Schnittstelle bindet. Dazu fügt man in den <code class="notranslate">server { [...] }</code>-Block folgendes ein:</p><pre class="notranslate">location ~ \.php$ {
        fastcgi_pass   localhost:9000;
        include        fastcgi.conf;
}</pre></div><div class="section_2"><h3 id="PHP-mit-dem-Paket-php5-fpm">PHP mit dem Paket php5-fpm<a class="headerlink" href="#PHP-mit-dem-Paket-php5-fpm">¶</a></h3><p>
Alternativ bietet sich der "FastCGI Process Manager" (kurz fpm) an, um PHP einfacher mit FastCGI einzubinden. Das Paket findet sich in den offiziellen Paketquellen:</p><ul><li><p><strong>php5-fpm</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install php5-fpm </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install php5-fpm </pre></div></div><p>
</p></div></div><p>
Fpm agiert als <a class="internal" href="./dienste.html">Dienst</a> und die Konfiguration wird über <strong>/etc/php5/fpm/</strong> vorgenommen. Den Service kann man mit:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo service php5-fpm restart </pre></div></div><p>
einfach neu starten bzw. stoppen/starten. Um PHP nun mit nginx zu nutzen, muss im Serverblock folgendes stehen:</p><pre class="notranslate">location ~ \.php$ {
        fastcgi_split_path_info ^(.+\.php)(/.+)$;
        fastcgi_pass unix:/var/run/php5-fpm.sock;
        fastcgi_index index.php;
        include fastcgi.config;  # fastcgi_params wird nur für Abwärtskompatibilität verwendet 
}</pre><p>
Diese Konfiguration kann auch entsprechend an eigene Bedürfnisse angepasst werden. Nach einem Neustart von nginx sollte PHP wie gewünscht funktionieren. Und durch die Verwendung von "Unix Domain Sockets" erspart man sich Probleme mit den Ports von FastCGI.</p><p><img alt="./camel_head.png" class="image-right" src="./_/f6c4cc7eece807a121cb7185450f1640f27a5031.png"/>
</p></div></div><div class="section_1"><h2 id="Perl-mit-nginx">Perl mit nginx<a class="headerlink" href="#Perl-mit-nginx">¶</a></h2><p>
Um Perl zum Laufen zu bekommen, ist einige Arbeit nötig: Zuerst einmal muss Perl überhaupt eine FastCGI-Schnittstelle bekommen. Das geht mit dem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">perl -MCPAN -e 'install FCGI' </pre></div></div><p>
Dann muss ein Perl-Skript geschrieben werden, über das Perl abläuft (<a class="external" href="http://www.ruby-forum.com/topic/145858" rel="nofollow">Quelle</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>):</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/usr/bin/perl</span>

<span class="k">use</span> <span class="nn">FCGI</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">Socket</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">POSIX</span> <span class="sx">qw(setsid)</span><span class="p">;</span>

<span class="k">require</span> <span class="s">'syscall.ph'</span><span class="p">;</span>

<span class="o">&amp;</span><span class="n">daemonize</span><span class="p">;</span>

<span class="c1">#this keeps the program alive or something after exec'ing perl scripts</span>
<span class="k">END</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span> <span class="k">BEGIN</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="o">*</span><span class="nn">CORE::GLOBAL::</span><span class="nb">exit</span> <span class="o">=</span> <span class="k">sub</span> <span class="p">{</span> <span class="nb">die</span> <span class="s">"fakeexit\nrc="</span><span class="o">.</span><span class="nb">shift</span><span class="p">()</span><span class="o">.</span><span class="s">"\n"</span><span class="p">;</span> <span class="p">};</span> 
<span class="nb">eval</span> <span class="sx">q{exit}</span><span class="p">;</span> 
<span class="k">if</span> <span class="p">(</span><span class="vg">$@</span><span class="p">)</span> <span class="p">{</span> 
	<span class="nb">exit</span> <span class="k">unless</span> <span class="vg">$@</span> <span class="o">=~</span><span class="sr"> /^fakeexit/</span><span class="p">;</span> 
<span class="p">};</span>

<span class="o">&amp;</span><span class="n">main</span><span class="p">;</span>

<span class="k">sub</span> <span class="nf">daemonize</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">chdir</span> <span class="s">'/'</span>                 <span class="ow">or</span> <span class="nb">die</span> <span class="s">"Can't chdir to /: $!"</span><span class="p">;</span>
    <span class="nb">defined</span><span class="p">(</span><span class="k">my</span> <span class="nv">$pid</span> <span class="o">=</span> <span class="nb">fork</span><span class="p">)</span>   <span class="ow">or</span> <span class="nb">die</span> <span class="s">"Can't fork: $!"</span><span class="p">;</span>
    <span class="nb">exit</span> <span class="k">if</span> <span class="nv">$pid</span><span class="p">;</span>
    <span class="n">setsid</span>                    <span class="ow">or</span> <span class="nb">die</span> <span class="s">"Can't start a new session: $!"</span><span class="p">;</span>
    <span class="nb">umask</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">sub</span> <span class="nf">main</span> <span class="p">{</span>
        <span class="nv">$socket</span> <span class="o">=</span> <span class="nn">FCGI::</span><span class="n">OpenSocket</span><span class="p">(</span> <span class="s">"127.0.0.1:9000"</span><span class="p">,</span> <span class="mi">10</span> <span class="p">);</span> <span class="c1">#use IP sockets</span>
        <span class="nv">$request</span> <span class="o">=</span> <span class="nn">FCGI::</span><span class="n">Request</span><span class="p">(</span> <span class="o">\*</span><span class="bp">STDIN</span><span class="p">,</span> <span class="o">\*</span><span class="bp">STDOUT</span><span class="p">,</span> <span class="o">\*</span><span class="bp">STDERR</span><span class="p">,</span> <span class="o">\</span><span class="nv">%req_params</span><span class="p">,</span> <span class="nv">$socket</span> <span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$request</span><span class="p">)</span> <span class="p">{</span> <span class="n">request_loop</span><span class="p">()};</span>
            <span class="nn">FCGI::</span><span class="n">CloseSocket</span><span class="p">(</span> <span class="nv">$socket</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">sub</span> <span class="nf">request_loop</span> <span class="p">{</span>
        <span class="k">while</span><span class="p">(</span> <span class="nv">$request</span><span class="o">-&gt;</span><span class="n">Accept</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
            
           <span class="c1">#processing any STDIN input from WebServer (for CGI-POST actions)</span>
           <span class="nv">$stdin_passthrough</span> <span class="o">=</span><span class="s">''</span><span class="p">;</span>
           <span class="nv">$req_len</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">+</span> <span class="nv">$req_params</span><span class="p">{</span><span class="s">'CONTENT_LENGTH'</span><span class="p">};</span>
           <span class="k">if</span> <span class="p">((</span><span class="nv">$req_params</span><span class="p">{</span><span class="s">'REQUEST_METHOD'</span><span class="p">}</span> <span class="ow">eq</span> <span class="s">'POST'</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nv">$req_len</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">){</span> 
                <span class="k">my</span> <span class="nv">$bytes_read</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="k">while</span> <span class="p">(</span><span class="nv">$bytes_read</span> <span class="o">&lt;</span> <span class="nv">$req_len</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">my</span> <span class="nv">$data</span> <span class="o">=</span> <span class="s">''</span><span class="p">;</span>
                        <span class="k">my</span> <span class="nv">$bytes</span> <span class="o">=</span> <span class="nb">read</span><span class="p">(</span><span class="bp">STDIN</span><span class="p">,</span> <span class="nv">$data</span><span class="p">,</span> <span class="p">(</span><span class="nv">$req_len</span> <span class="o">-</span> <span class="nv">$bytes_read</span><span class="p">));</span>
                        <span class="k">last</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$bytes</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="o">!</span><span class="nb">defined</span><span class="p">(</span><span class="nv">$bytes</span><span class="p">));</span>
                        <span class="nv">$stdin_passthrough</span> <span class="o">.=</span> <span class="nv">$data</span><span class="p">;</span>
                        <span class="nv">$bytes_read</span> <span class="o">+=</span> <span class="nv">$bytes</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="c1">#running the cgi app</span>
            <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="o">-</span><span class="n">x</span> <span class="nv">$req_params</span><span class="p">{</span><span class="n">SCRIPT_FILENAME</span><span class="p">})</span> <span class="o">&amp;&amp;</span>  <span class="c1">#can I execute this?</span>
                 <span class="p">(</span><span class="o">-</span><span class="n">s</span> <span class="nv">$req_params</span><span class="p">{</span><span class="n">SCRIPT_FILENAME</span><span class="p">})</span> <span class="o">&amp;&amp;</span>  <span class="c1">#Is this file empty?</span>
                 <span class="p">(</span><span class="o">-</span><span class="n">r</span> <span class="nv">$req_params</span><span class="p">{</span><span class="n">SCRIPT_FILENAME</span><span class="p">})</span>     <span class="c1">#can I read this file?</span>
            <span class="p">){</span>
		<span class="nb">pipe</span><span class="p">(</span><span class="n">CHILD_RD</span><span class="p">,</span> <span class="n">PARENT_WR</span><span class="p">);</span>
		<span class="k">my</span> <span class="nv">$pid</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">KID_TO_READ</span><span class="p">,</span> <span class="s">"-|"</span><span class="p">);</span>
		<span class="k">unless</span><span class="p">(</span><span class="nb">defined</span><span class="p">(</span><span class="nv">$pid</span><span class="p">))</span> <span class="p">{</span>
			<span class="k">print</span><span class="p">(</span><span class="s">"Content-type: text/plain\r\n\r\n"</span><span class="p">);</span>
                        <span class="k">print</span> <span class="s">"Error: CGI app returned no output - "</span><span class="p">;</span>
                        <span class="k">print</span> <span class="s">"Executing $req_params{SCRIPT_FILENAME} failed !\n"</span><span class="p">;</span>
			<span class="k">next</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="p">(</span><span class="nv">$pid</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
			<span class="nb">close</span><span class="p">(</span><span class="n">CHILD_RD</span><span class="p">);</span>
			<span class="k">print</span> <span class="n">PARENT_WR</span> <span class="nv">$stdin_passthrough</span><span class="p">;</span>
			<span class="nb">close</span><span class="p">(</span><span class="n">PARENT_WR</span><span class="p">);</span>

			<span class="k">while</span><span class="p">(</span><span class="k">my</span> <span class="nv">$s</span> <span class="o">=</span> <span class="sr">&lt;KID_TO_READ&gt;</span><span class="p">)</span> <span class="p">{</span> <span class="k">print</span> <span class="nv">$s</span><span class="p">;</span> <span class="p">}</span>
			<span class="nb">close</span> <span class="n">KID_TO_READ</span><span class="p">;</span>
			<span class="nb">waitpid</span><span class="p">(</span><span class="nv">$pid</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
	                <span class="k">foreach</span> <span class="nv">$key</span> <span class="p">(</span> <span class="nb">keys</span> <span class="nv">%req_params</span><span class="p">){</span>
        	           <span class="nv">$ENV</span><span class="p">{</span><span class="nv">$key</span><span class="p">}</span> <span class="o">=</span> <span class="nv">$req_params</span><span class="p">{</span><span class="nv">$key</span><span class="p">};</span>
                	<span class="p">}</span>
        	        <span class="c1"># cd to the script's local directory</span>
	                <span class="k">if</span> <span class="p">(</span><span class="nv">$req_params</span><span class="p">{</span><span class="n">SCRIPT_FILENAME</span><span class="p">}</span> <span class="o">=~</span><span class="sr"> /^(.*)\/[^\/]+$/</span><span class="p">)</span> <span class="p">{</span>
                        	<span class="nb">chdir</span> <span class="nv">$1</span><span class="p">;</span>
                	<span class="p">}</span>

			<span class="nb">close</span><span class="p">(</span><span class="n">PARENT_WR</span><span class="p">);</span>
			<span class="nb">close</span><span class="p">(</span><span class="bp">STDIN</span><span class="p">);</span>
			<span class="c1">#fcntl(CHILD_RD, F_DUPFD, 0);</span>
			<span class="nb">syscall</span><span class="p">(</span><span class="o">&amp;</span><span class="n">SYS_dup2</span><span class="p">,</span> <span class="nb">fileno</span><span class="p">(</span><span class="n">CHILD_RD</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
			<span class="c1">#open(STDIN, "&lt;&amp;CHILD_RD");</span>
			<span class="nb">exec</span><span class="p">(</span><span class="nv">$req_params</span><span class="p">{</span><span class="n">SCRIPT_FILENAME</span><span class="p">});</span>
			<span class="nb">die</span><span class="p">(</span><span class="s">"exec failed"</span><span class="p">);</span>
		<span class="p">}</span>
            <span class="p">}</span> 
            <span class="k">else</span> <span class="p">{</span>
                <span class="k">print</span><span class="p">(</span><span class="s">"Content-type: text/plain\r\n\r\n"</span><span class="p">);</span>
                <span class="k">print</span> <span class="s">"Error: No such CGI app - $req_params{SCRIPT_FILENAME} may not "</span><span class="p">;</span>
                <span class="k">print</span> <span class="s">"exist or is not executable by this process.\n"</span><span class="p">;</span>
            <span class="p">}</span>

        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div><p>
Gespeichert wird das Perl-Skript unter <strong>/usr/local/bin/fastcgi-wrapper.pl</strong>. Die Schreibrechte müssen auch korrekt gesetzt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">chmod a+x /usr/local/bin/fastcgi-wrapper.pl </pre></div></div><p>
Zusätzlich wird noch ein Startskript erstellt, das als <strong>/usr/local/bin/perl-fastcgi</strong> gespeichert wird (<a class="external" href="http://library.linode.com/web-servers/nginx/perl-fastcgi/ubuntu-9.10-karmic" rel="nofollow">Quelle</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>):</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="nv">PERL_SCRIPT</span><span class="o">=</span>/usr/bin/fastcgi-wrapper.pl
<span class="nv">RETVAL</span><span class="o">=</span><span class="m">0</span>
<span class="k">case</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> in
    start<span class="o">)</span>
      <span class="nv">$PERL_SCRIPT</span>
      <span class="nv">RETVAL</span><span class="o">=</span><span class="nv">$?</span>
  <span class="p">;;</span>
    stop<span class="o">)</span>
      killall -9 perl
      <span class="nv">RETVAL</span><span class="o">=</span><span class="nv">$?</span>
  <span class="p">;;</span>
    restart<span class="o">)</span>
      killall -9 perl
      <span class="nv">$PERL_SCRIPT</span>
      <span class="nv">RETVAL</span><span class="o">=</span><span class="nv">$?</span>
  <span class="p">;;</span>
    *<span class="o">)</span>
      <span class="nb">echo</span> <span class="s2">"Usage: perl-fastcgi {start|stop|restart}"</span>
      <span class="nb">exit</span> <span class="m">1</span>
  <span class="p">;;</span>
<span class="k">esac</span>
<span class="nb">exit</span> <span class="nv">$RETVAL</span>
</pre></div>
</td></tr></table></div><p>
Auch dieses Skript wird ausführbar gemacht:</p><div class="bash"><div class="contents"><pre class="notranslate">chmod a+x /usr/local/bin/perl-fastcgi </pre></div></div><p>
Man startet nun die Schnittstelle mit dem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">perl-fastcgi start </pre></div></div><p>
Zuletzt muss nur noch die nginx-Konfiguration angepasst werden:</p><pre class="notranslate">location ~ \.pl$ {
        include fastcgi.conf;
        fastcgi_pass  127.0.0.1:9000;
}</pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>GZip-Komprimierung verlangsamt die Skripte.
</p></div></div></div><div class="section_1"><h2 id="Module">Module<a class="headerlink" href="#Module">¶</a></h2><p>
nginx besitzt standardmäßig nur einige Module, welche <a class="external" href="http://wiki.nginx.org/NginxModules#Standard_HTTP_Modules" rel="nofollow">hier</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> gelistet sind. Allerdings kann man nginx mit vielen weiteren Modulen benutzen, deren offiziellen Anlaufstellen <a class="external" href="http://wiki.nginx.org/NginxModules#Optional_HTTP_modules" rel="nofollow">hier</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> und <a class="external" href="http://wiki.nginx.org/Nginx3rdPartyModules" rel="nofollow">hier</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> sind. Die Module kann man allerdings - nicht wie bei allen anderen Webservern - direkt benutzen, sondern muss sie mit nginx kompilieren<sup><a href="#source-4">[4]</a></sup>. Wie das funktioniert, steht in aller Regel in der Dokumentation des Modules. Bei optionalen HTTP-Modulen (<a class="external" href="http://wiki.nginx.org/NginxModules#Optional_HTTP_modules" rel="nofollow">hier</a> gelistet) funktioniert das folgendermaßen:</p><p>Im Beispiel wird <strong>SSL</strong>-Unterstützung installiert. Man bezieht sich den Quellcode (siehe <strong>Installation</strong>) von nginx und entpackt ihn. Statt nun</p><div class="bash"><div class="contents"><pre class="notranslate">./configure </pre></div></div><p>einzutippen, fügt man nun das Modul an:</p><div class="bash"><div class="contents"><pre class="notranslate">./configure --with-http_ssl_module </pre></div></div><p>Somit wird bei der weiteren Kompilierung SSL berücksichtigt. Um SSL zu benutzen, muss die Konfiguration angepasst werden, wie es im <a class="external" href="http://wiki.nginx.org/NginxHttpSslModule" rel="nofollow">nginx-Wiki</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> beschrieben wird.</p></div><div class="section_1"><h2 id="Tipps-Tricks">Tipps &amp; Tricks<a class="headerlink" href="#Tipps-Tricks">¶</a></h2><p>
</p><div class="section_2"><h3 id="IPv6">IPv6<a class="headerlink" href="#IPv6">¶</a></h3><p>
Um nginx für <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/IPv6">IPv6</a> bereit zu machen, muss man zuerst - sofern man den Webserver nicht als Paket installiert hat - folgendermaßen neu kompilieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">./configure --with-ipv6
make
sudo make install </pre></div></div><p>
Im zweiten Schritt öffnet man die Konfigurationsdatei und sorgt dafür, dass nginx IPv4- und IPv6-Verbindungen an Port 80 akzeptiert, indem man <code class="notranslate">listen 80</code> durch <code class="notranslate">listen [::]:80</code> ersetzt.
Sofern noch nicht erledigt, müssen für jede Domain AAAA-Einträge in seinem DNS-Manager angelegt sein.</p></div><div class="section_2"><h3 id="Loadbalancing-mit-nginx">Loadbalancing mit nginx<a class="headerlink" href="#Loadbalancing-mit-nginx">¶</a></h3><p>
<a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Loadbalancing">Loadbalancing</a> ist standardmäßig in nginx vorhanden und schlägt laut <a class="external" href="http://www.admin-blog.com/archives/227-Nginx-vs-Pound-Klarer-Sieg-fuer-Nginx-als-Loadbalancer.html" rel="nofollow">diesem Artikel</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Pound_(Software)">Pound</a> deutlich. Im folgenden Beispiel verteilt nginx die Last auf 3 Server:
</p><pre class="notranslate">http {
  upstream loadbalancer {
    server 127.0.0.1:8000;
    server 127.0.0.1:8001;
    server 127.0.0.1:8002;    
  }
 
  server {
    listen 80;
    server_name www.example.com example.com;
    location / {
      proxy_pass http://loadbalancer;
    }
  }
}</pre><p>Zur Erklärung: Im Upstream <code class="notranslate">loadbalancer</code> sind drei (Web-)Server vorhanden und mit ihren jeweiligen Daten (<code class="notranslate">IP:Port</code>) angegeben. Im <code class="notranslate">server { [...] }</code>-Block hört nginx an den Domains <code class="notranslate">www.example.com</code> und <code class="notranslate">example.com</code> an Port 80 und leitet die Anfrage an den upstream weiter.</p></div><div class="section_2"><h3 id="Rewriting">Rewriting<a class="headerlink" href="#Rewriting">¶</a></h3><p>
nginx unterstützt URL-Rewriting nativ und kann mithilfe von Regex (<a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Regul%C3%A4rer%20Ausdruck">Regulärer Ausdruck</a>) Anfragen umschreiben. So kann zum Beispiel eine Domain <code class="notranslate">example.com/artikel.php?id=123</code> zu <code class="notranslate">example.com/artikel/123</code> vereinfacht werden, ohne dass der Nutzer weitergeleitet werden muss. Das Rewriting kann im Hintergrund auf Server-Ebene geschehen. Um Rewriting zu aktivieren, fügt man folgendes in seine Konfiguration in einem <code class="notranslate">server { [...] }</code>-Block ein:</p><pre class="notranslate">rewrite  ^/artikel/(.*)$  /artikel.php?id=$1?  last;</pre><p>Der reguläre Ausdruck <code class="notranslate">^/artikel/(.*)$</code> bedeutet folgendes: Existiert in der aufgerufenen Domain an irgendeiner Stelle die Zeichenfolge <code class="notranslate">/artikel/</code> wird sämtliches hinter dieser an <code class="notranslate">artikel.php</code> als GET-Parameter <code class="notranslate">id</code> übergeben.</p><p>Dieses Rewriting passiert mit der Flag <code class="notranslate">last</code> nur intern. nginx bietet folgende Flags zur Auswahl an:</p><p>
</p><table><tr><td>last/break </td><td> Internes Rewriting ohne Weiterleitung </td></tr><tr><td> redirect </td><td> Leitet den Nutzer auf die Seite weiter (HTTP 302 - Temporäre Weiterleitung) </td></tr><tr><td> permanent </td><td> Leitet den Nutzer auf die Seite weiter (HTTP 301 - Dauerhafte Weiterleitung) </td></tr></table><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Ohne eine gesetzte Flag gibt nginx den Fehler HTTP 500 zurück.
</p></div></div><p>Weitere Hilfe, Tipps und Tricks findet man im <a class="external" href="http://wiki.nginx.org/HttpRewriteModule" rel="nofollow">nginx-Wiki</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>.</p></div></div><div class="section_1"><h2 id="Absicherung-von-nginx">Absicherung von nginx<a class="headerlink" href="#Absicherung-von-nginx">¶</a></h2><p>
Man stelle sich vor, ein Hacker würde eine Datei via PHP/Perl/Python in das Verzeichnis <strong>/uploads/</strong> hochladen. Diese Datei ist mit Schadcode infiziert und würde bei der Ausführung dem Server schaden. Wenn jetzt aber die Ausführung der Datei nicht verboten wird, könnte der Hacker seinen Angriff starten. Um das zu verhindern, fügt man in den <code class="notranslate">server { [...] }</code>-Block folgendes ein:</p><pre class="notranslate">if ($uri !~ "^/uploads/") {
    fastcgi_pass 127.0.0.1:9000;
}</pre><p>Dies löst aus, dass alle Dateien, die sonst über die FastCGI-Schnittstelle an Port 9000 laufen würden, in allen Ordnern mit dem Namen <strong>uploads</strong> nicht mehr ausgeführt werden.</p></div><div class="section_1"><h2 id="Erste-Hilfe-bei-Problemen">Erste Hilfe bei Problemen<a class="headerlink" href="#Erste-Hilfe-bei-Problemen">¶</a></h2><p>
<img alt="Wiki/Icons/hint.png" class="image-right" src="./_/3b059ce1de24f6093351a77533350750f9687706.png"/>
Siehe auch <a class="external" href="http://wiki.nginx.org/Pitfalls" rel="nofollow">Nginx Pitfalls</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> (sinngemäß: typische Fehler).</p><div class="section_2"><h3 id="Bei-allen-PHP-Dateien-wird-nur-No-input-file-specified-angezeigt">Bei allen PHP-Dateien wird nur "No input file specified" angezeigt<a class="headerlink" href="#Bei-allen-PHP-Dateien-wird-nur-No-input-file-specified-angezeigt">¶</a></h3><p>
Dies ist ein üblicher Fehler, der aber schnell behoben werden kann. Es gibt zwei hauptsächliche Ursachen:</p><div class="section_3"><h4 id="Ursache-1">Ursache 1<a class="headerlink" href="#Ursache-1">¶</a></h4><p>
Folgende Konfiguration wird für PHP-Dateien benutzt:
</p><pre class="notranslate">location ~ \.php$ {
        fastcgi_pass   localhost:9000;
        include           fastcgi_params; # Statt fastcgi.conf
}</pre><p>
Da nur in der Datei <strong>fastcgi.conf</strong> spezifiziert ist, dass PHP-Dateien auch unabhängig von dem <code class="notranslate">document root</code>-Verzeichnis verarbeitet werden sollen, sollte man diese statt <strong>fastcgi_params</strong> verwenden. Wer <strong>fastcgi_params</strong> trotzdem nutzen möchte, kann statt des Ersetzen folgende Zeile hinzufügen:
</p><pre class="notranslate">        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</pre></div><div class="section_3"><h4 id="Ursache-2">Ursache 2<a class="headerlink" href="#Ursache-2">¶</a></h4><p>
Folgende (vereinfachte) Konfiguration wird benutzt:
</p><pre class="notranslate">location / {
        root               /srv/www/;
}

location ~ \.php$ {
        fastcgi_pass   localhost:9000;
        include          fastcgi.conf;
}</pre><p>
Da die location <code class="notranslate">~ \.php$</code> eine andere als <code class="notranslate">/</code> ist, ist für die FastCGI-Schnittstelle unbekannt, wo das Wurzelverzeichnis für diesen <code class="notranslate">server { [...] }</code>-Block ist, weil dieses nur in <code class="notranslate">location /</code> festgelegt ist. Folgende Konfiguration löst dieses Problem:</p><pre class="notranslate">root               /srv/www/; # 'root' wird nun global für den server { [...] }-Block festgelegt

location ~ \.php$ {
                     fastcgi_pass   localhost:9000;
                     include          fastcgi.conf;
}</pre></div></div><div class="section_2"><h3 id="nginx-zeigt-bei-existierenden-Dateien-im-Browser-403-an">nginx zeigt bei existierenden Dateien im Browser "403" an<a class="headerlink" href="#nginx-zeigt-bei-existierenden-Dateien-im-Browser-403-an">¶</a></h3><p>
Benutzerberechtigungen überprüfen! Diese Meldung kommt meistens, wenn nginx bzw. der Benutzer, mit dem nginx läuft, keinen Zugriff auf die Dateien hat.</p></div><div class="section_2"><h3 id="Es-erscheint-auf-allen-Websites-nur-noch-die-Meldung-502-Bad-Gateway">Es erscheint auf allen Websites nur noch die Meldung "502 Bad Gateway"<a class="headerlink" href="#Es-erscheint-auf-allen-Websites-nur-noch-die-Meldung-502-Bad-Gateway">¶</a></h3><p>
Dies passiert, wenn die FastCGI-Schnittstelle oder die Adresse von <code class="notranslate">proxy_pass</code> nicht für nginx erreichbar ist (auf Servern kann dies mit <a class="internal" href="./lynx.html">Lynx</a> überprüft werden). Gründe können z.B. ein Absturz der Schnittstelle sein.</p><p>Da man das Problem mithilfe dieser Meldung nicht pauschal festmachen kann, gibt es <a class="external" href="http://www.codeweblog.com/nginx-502-bad-gateway-error-collection-problem/" rel="nofollow">hier</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> eine Liste von möglichen Ursachen und deren Behebung.</p></div><div class="section_2"><h3 id="nginx-verarbeitet-keine-htaccess-Dateien">nginx verarbeitet keine .htaccess-Dateien<a class="headerlink" href="#nginx-verarbeitet-keine-htaccess-Dateien">¶</a></h3><p>
Das ist korrekt, da alle Änderungen bzw. Einstellungen in der Konfigurationsdatei <strong>nginx.conf</strong> vorgenommen werden. Und Absicht - div. Gründe, wieso es unter nginx keine htaccess-Dateien gibt, finden sich im <a class="external" href="http://wiki.nginx.org/LikeApache-htaccess" rel="nofollow">FAQ von nginx</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - kurz gesagt ist <strong>.htaccess</strong> ist ein Performancekiller und potentielle Sicherheitslücke. Allerdings gibt es diverse <a class="external" href="http://winginx.com/htaccess" rel="nofollow">Konverter</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> von htaccess zu nginx, um den Umstieg leicht zu machen.</p></div><div class="section_2"><h3 id="nginx-startet-nicht-automatisch">nginx startet nicht automatisch<a class="headerlink" href="#nginx-startet-nicht-automatisch">¶</a></h3><p>
Eventuell fehlt das <strong>/etc/init.d/</strong>-Startskript. <a class="external" href="http://library.linode.com/web-servers/nginx/installation/ubuntu-9.10-karmic#create_an_init_script_to_manage_nginx" rel="nofollow">Create an Init Script to Manage nginx</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> bietet Hilfe.</p></div><div class="section_2"><h3 id="nginx-startet-nicht-da-die-Konfigurationsdatei-angeblich-falsch-ist">nginx startet nicht, da die Konfigurationsdatei angeblich falsch ist<a class="headerlink" href="#nginx-startet-nicht-da-die-Konfigurationsdatei-angeblich-falsch-ist">¶</a></h3><p>
Die Konfigurationsdatei überprüfen, ob überall am Ende jedes Befehls/jeder Zeile ein Semikolon ist, und, ob alle <code class="notranslate">server { [...] }</code>-Blöcke auch mit dem Zeichen "}" geschlossen sind!</p></div><div class="section_2"><h3 id="Obwohl-nginx-richtig-konfiguriert-ist-passiert-beim-Aufrufen-von-Subdomains-nichts">Obwohl nginx richtig konfiguriert ist, passiert beim Aufrufen von Subdomains nichts<a class="headerlink" href="#Obwohl-nginx-richtig-konfiguriert-ist-passiert-beim-Aufrufen-von-Subdomains-nichts">¶</a></h3><p>
Bei diesem Problem wird vermutlich eine Fehlkonfiguration der DNS-Zonen vorliegen.</p></div><div class="section_2"><h3 id="Wieso-bleibt-nginx-an-der-Meldung-80-failed-98-Address-already-in-use-haengen">Wieso bleibt nginx an der Meldung "<em>[...]:80 failed (98: Address already in use)</em>" hängen?<a class="headerlink" href="#Wieso-bleibt-nginx-an-der-Meldung-80-failed-98-Address-already-in-use-haengen">¶</a></h3><p>
nginx oder ein anderer Webserver benutzt bereits den Port 80. Es kann immer nur ein Programm an dem Port lauschen.</p></div><div class="section_2"><h3 id="Wieso-kann-Plesk-nginx-nicht-konfigurieren">Wieso kann Plesk nginx nicht konfigurieren?<a class="headerlink" href="#Wieso-kann-Plesk-nginx-nicht-konfigurieren">¶</a></h3><p>
Das liegt daran, dass <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Plesk">Plesk</a> <a class="internal" href="./apache.html">Apache</a> nutzt und nicht auf nginx zugeschnitten ist.</p></div><div class="section_2"><h3 id="Wieso-wird-die-neue-Konfiguration-nicht-uebernommen">Wieso wird die neue Konfiguration nicht übernommen?<a class="headerlink" href="#Wieso-wird-die-neue-Konfiguration-nicht-uebernommen">¶</a></h3><p>
Für eine Konfigurationsänderung muss nginx neugestartet werden. Wie das geht, steht im Bereich "nginx steuern".</p></div><div class="section_2"><h3 id="Die-Log-Datei-bleibt-leer-warum">Die Log-Datei bleibt leer, warum?<a class="headerlink" href="#Die-Log-Datei-bleibt-leer-warum">¶</a></h3><p>
Falls der Nutzer geändert wurde, mit dem nginx läuft, muss dieser über Schreibzugriff auf diese Datei verfügen.</p></div><div class="section_2"><h3 id="Weshalb-laeuft-eine-FastCGI-Schnittstelle-die-andere-aber-nicht">Weshalb läuft eine FastCGI-Schnittstelle, die andere aber nicht?<a class="headerlink" href="#Weshalb-laeuft-eine-FastCGI-Schnittstelle-die-andere-aber-nicht">¶</a></h3><p>
Eventuell sollen beide Schnittstellen den selben Port verwenden. Allerdings kann sich jeweils nur eine Schnittstelle an einen Port binden.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://wiki.nginx.org/" rel="nofollow">nginx Wiki</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Dokumentation</p></li><li><p><a class="external" href="http://wiki.nginx.org/NginxHttpSslModule" rel="nofollow">SSL mit nginx benutzen</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="https://sherbers.de/howto/nginx/" rel="nofollow">Sichere SSL/TLS Konfiguration mit Nginx</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Ausführliche Anleitung</p></li><li><p><a class="external" href="http://www.joeandmotorboat.com/2008/02/28/apache-vs-nginx-web-server-performance-deathmatch/" rel="nofollow">Apache vs Nginx: Web Server Performance Deathmatch</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://library.linode.com/web-servers/nginx/" rel="nofollow">Hosting Websites with Nginx</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> - Weiterführende Konfiguration</p></li><li><p><a class="external" href="http://www.my-it-brain.de/wordpress/certificate-pinning-mit-nginx/" rel="nofollow">Certificate Pinning mit Nginx</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> - Artikel zum "Public Key Pinning for HTTP" (RFC 7469)</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./nginx/a/revision/942231.html">Diese Revision</a> wurde am 27. Juni 2017 20:04 von <a href="https://ubuntuusers.de/user/noisefloor/">noisefloor</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./nginx.html">nginx</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>