<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>PostgreSQL › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./postgresql.html">PostgreSQL</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/PostgreSQL">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./postgresql/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./postgresql/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./postgresql/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./postgresql/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./postgresql/a/backlinks.html">PostgreSQL</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./sudo.html">sudo verwenden</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Administration">Administration
</a></li><li><a class="crosslink" href="#Datensicherung">Datensicherung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="./postgreSQL_logo.png" class="image-left" src="./_/7c11e0e0c0f3b5e279673b80de2ba0207d2c5460.png"/>
<a class="external" href="http://www.postgresql.org/" rel="nofollow">PostgreSQL</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> nennt sich selbst <em>"The world's most advanced open source database"</em>. PostgreSQL ist für Linux, aber auch für alle anderen, gängigen Betriebssysteme wie MacOS, Windows und BSD verfügbar.</p><p>PostgreSQL setzt den SQL Standard 2008 sehr umfassend um. Neben den gängigen Datentypen kann die Datenbank auch nativ mit XML umgehen und ab Version 9.2 auch mit Daten im <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/JSON-Format">JSON-Format</a>.</p><p>Einige Eckdaten für Datenbanken innerhalb von PostgreSQL sind in der folgenden Tabelle aufgeführt:</p><p>
</p><table><tr class="titel"><td colspan="2"> PostgreSQL Datenbanken </td></tr><tr class="kopf"><td> Bereich </td><td> Begrenzung </td></tr><tr><td> Maximale Datenbankgröße </td><td> Unendlich (begrenzt nur durch das Dateisystem/Plattenplatz) </td></tr><tr><td> Maximale Tabellengröße </td><td> 32 TiB </td></tr><tr><td> Maximale Zeilengröße </td><td> 400 GiB </td></tr><tr><td> Maximale Feldgröße </td><td> 1 GiB </td></tr><tr><td> Maximale Zeilen pro Tabelle </td><td> Unendlich </td></tr><tr><td> Maximale Spalten pro Tabelle </td><td> 250 - 1600, abhängig vom Spaltentyp </td></tr><tr><td> Maximale Indices pro Tabelle </td><td> Unendlich </td></tr></table><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
</p><div class="section_2"><h3 id="Datenbankserver">Datenbankserver<a class="headerlink" href="#Datenbankserver">¶</a></h3><p>
PostgreSQL wird durch folgendes Paket installiert <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>postgresql</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install postgresql </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install postgresql </pre></div></div><p>
</p></div></div><p>Dieses Paket installiert die neueste verfügbare Version von PostgreSQL aus den offiziell unterstützten Paketquellen (<em>main</em>).</p></div><div class="section_2"><h3 id="Datenbankclient">Datenbankclient<a class="headerlink" href="#Datenbankclient">¶</a></h3><p>
Es ist natürlich nicht notwendig auf einem Client, also auf einem Rechner der nur auf die Datenbank zugreifen möchte, auch die Datenbank installiert zu haben, daher genügt es hier folgendes Paket zu installieren <sup><a href="#source-1">[1]</a></sup>:
</p><ul><li><p><strong>postgresql-client</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install postgresql-client </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install postgresql-client </pre></div></div><p>
</p></div></div></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Dieser Artikel geht davon aus, dass Version 9.1 der PostgreSQL Datenbank installiert ist. Sollte eine andere Version installiert sein, ist das kein Problem, man muss nur in Pfadangaben/Befehlen immer <code class="notranslate">9.1</code> durch die installierte Version (z.B. <code class="notranslate">9.3</code>) ersetzten.
</p></div></div><p>
</p><div class="section_2"><h3 id="Admin-Passwort-einrichten">Admin-Passwort einrichten<a class="headerlink" href="#Admin-Passwort-einrichten">¶</a></h3><p>
PostgreSQL wird unter Ubuntu von einem Systembenutzer <code class="notranslate">postgres</code> verwaltet, dieser hat alle Rechte um z.B. Datenbanken oder auch Datenbankbenutzer anzulegen. Es gilt zu beachten, dass Datenbankbenutzer und Systembenutzer in der Regel in keinem Zusammenhang stehen.</p><p>Daher ist es zunächst ratsam dem Datenbankbenutzer <code class="notranslate">postgres</code> ein Passwort zu geben, so das man sich mit diesem auch über das Netzwerk anmelden kann. Hierzu öffnet man ein Terminal <sup><a href="#source-2">[2]</a></sup> und führt folgende Befehle aus <sup><a href="#source-4">[4]</a></sup>:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres psql </pre></div></div><p>Man befindet sich nun in der Umgebung von PostgreSQL (erkennbar an <code class="notranslate">postgres=#</code>). Als nächsten Befehl gibt man 
</p><div class="bash"><div class="contents"><pre class="notranslate">\password postgres  </pre></div></div><p>
ein.
Nun wird man zur Eingabe des neues Passwortes aufgefordert.</p><p>Um die Postgre-Umgebung wieder zu verlassen, einfach 
</p><div class="bash"><div class="contents"><pre class="notranslate">\q </pre></div></div><p>
eingeben.
</p></div><div class="section_2"><h3 id="Netzwerkzugriff-ermoeglichen">Netzwerkzugriff ermöglichen<a class="headerlink" href="#Netzwerkzugriff-ermoeglichen">¶</a></h3><p>
<a class="crosslink anchor" href="#netzwerk" id="netzwerk"></a>
PostgreSQL akzeptiert nach der Installation keine Verbindungen von anderen Computern. Um sich über das Netzwerk auf PostgreSQL anmelden zu können, muss in der Datei <strong>/etc/postgresql/9.1/main/postgresql.conf</strong> das Listen (Horchen) auf allen Netzwerkkarten erlaubt werden<sup><a href="#source-3">[3]</a></sup>. 
</p><pre class="notranslate">listen_addresses = '*'</pre><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Man sollte prüfen ob dies wirklich erforderlich ist! Denn in der Regel sollte es reichen wenn PostgreSQL auf der Netzwerkschnittstelle lauscht auf der auch die Datenbankanwendungen auf diese zugreifen. Insbesondere ohne SSL-Verschlüsselung kann sonst viel Unfug mit der Datenbank angestellt werden!
</p></div></div></div><div class="section_2"><h3 id="Authentifizierung">Authentifizierung<a class="headerlink" href="#Authentifizierung">¶</a></h3><p>
In der Datei <strong>/etc/postgresql/9.1/main/pg_hba.conf</strong> erfolgt die Konfiguration, wer auf welche Datenbank darf und welche Methoden (Verschlüsselung,Passwort) dafür erforderlich sind <sup><a href="#source-3">[3]</a></sup>. Zeilen in dieser Datei welche mit einem <code class="notranslate">#</code>-Zeichen anfangen sind Kommentare und werden von PostgreSQL nicht beachtet!</p><p>Eine gültige Zeile in dieser Datei hat folgendes Format:</p><pre class="notranslate">Typ Datenbank Benutzer Adressen Methode</pre><p>Folgende Werte sind für das Feld <em>Typ</em> möglich:
</p><ul><li><p><code class="notranslate">local</code> wird für Unix Domain Sockets (nur lokal möglich) verwendet</p></li><li><p><code class="notranslate">host</code> wird für unverschlüsselte TCP/IP Verbindungen verwendet</p></li><li><p><code class="notranslate">hostssl</code> wird für SSL verschlüsselte TCP/IP Verbindungen verwendet</p></li></ul><p>Das Feld <em>Datenbank</em> sollte entweder auf <code class="notranslate">all</code> (Zugriff auf alle Datenbanken) stehen oder den Namen einer vorhandenen Datenbank enthalten. Beim Feld <em>Benutzer</em> verhält es sich Analog, auch hier steht <code class="notranslate">all</code> für alle möglichen Benutzer.</p><p>Das Feld <em>Adressen</em> darf bei dem Typ <code class="notranslate">local</code> nicht gesetzt werden, bei allen anderen Varianten ist es aber zwingend notwendig. In der Regel wird man hier eine <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/CIDR">CIDR</a>-konforme Adresse eintragen, hier ein paar Beispiele:
</p><ul><li><p><strong>192.168.1.0/24</strong> würde alle Adressen aus dem Subnet 192.168.1.0 erlauben</p></li><li><p><strong>127.0.0.1/32</strong> würde nur Verbindungen von localhost (127.0.0.1) erlauben</p></li><li><p><strong>0.0.0.0/0</strong> würde Verbindungen von überall erlauben</p></li></ul><p>
Das Feld <em>Methode</em> sollte in der Regel auf <code class="notranslate">md5</code> stehen, andere Möglichkeiten sind der <a class="external" href="http://www.postgresql.org/docs/current/static/auth-methods.html" rel="nofollow">PostgreSQL-Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> erklärt.</p><p>Eine gültige Zeile welche dem Benutzer <code class="notranslate">max</code> Zugriff auf die Datenbank <code class="notranslate">buchhaltung</code> nur über SSL verschlüsselte Verbindungen aus dem Subnet 10.0.0.0/8 erlaubt würde demnach so aussehen:
</p><pre class="notranslate">hostssl buchhaltung max 10.0.0.0/8 md5</pre><p>Nach Änderungen an der PostgreSQL-Konfiguration muss der Server <a class="crosslink" href="#steuerung">neu geladen</a> werden.</p></div></div><div class="section_1"><h2 id="Administration">Administration<a class="headerlink" href="#Administration">¶</a></h2><p>
</p><div class="section_2"><h3 id="Datenbankbenutzer-anlegen-oder-loeschen">Datenbankbenutzer anlegen oder löschen<a class="headerlink" href="#Datenbankbenutzer-anlegen-oder-loeschen">¶</a></h3><p>
Damit man sich (mit der Standardauthentifizierung) an der Datenbank anmelden kann, ist es nicht ratsam den Datenbanksuperuser (<code class="notranslate">postgres</code>) zu verwenden. Es ist daher ratsam einen extra Benutzer hierfür anzulegen, dies ist mit folgendem Befehl möglich:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres createuser -P -d nutzername </pre></div></div><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Das <code class="notranslate">-P</code> als Schalter für <code class="notranslate">createuser</code> ist erforderlich da PostgreSQL sonst nicht nach einem Passwort für den neuen Benutzer fragen würde.
Das <code class="notranslate">-d</code> als Schalter für <code class="notranslate">createuser</code> ist erforderlich wenn der user Datenbanken anlegen können soll.
Siehe auch <a class="external" href="http://www.postgresql.org/docs/current/static/app-createuser.html" rel="nofollow" title="http://www.postgresql.org/docs/current/static/app-createuser.html"><span class="longlink_show">http://www.postgresql.org/docs/curre</span><span class="longlink_collapse">nt/static/app-c</span><span>reateuser.html</span></a>
</p></div></div><p>
Das Löschen eines Datenbankbenutzers geht mit nachfolgendem Kommando:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres dropuser nutzername </pre></div></div><p>
</p></div><div class="section_2"><h3 id="Datenbanken-anlegen-oder-loeschen">Datenbanken anlegen oder löschen<a class="headerlink" href="#Datenbanken-anlegen-oder-loeschen">¶</a></h3><p>
Für jede Anwendung die man benötigt ist in der Regel eine eigene Datenbank erforderlich, diese kann in einem Terminal <sup><a href="#source-2">[2]</a></sup> wie folgt angelegt werden:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres createdb -O nutzername datenbank </pre></div></div><p>
Dieser Befehl würde die Datenbank <code class="notranslate">datenbank</code> mit dem Eigentümer <code class="notranslate">nutzername</code> anlegen.</p><p>Eine Datenbank kann mit folgendem Befehl wieder gelöscht werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres dropdb datenbank </pre></div></div></div><div class="section_2"><h3 id="Steuern-des-PostgreSQL-Dienstes">Steuern des PostgreSQL-Dienstes<a class="headerlink" href="#Steuern-des-PostgreSQL-Dienstes">¶</a></h3><p>
<a class="crosslink anchor" href="#steuerung" id="steuerung"></a>
PostgreSQL bringt natürlich auch die üblichen Start/Stop-Skripte mit. Aus einem Terminal heraus kann man den Server mit verschiedenen Befehlen <sup><a href="#source-3">[3]</a></sup> steuern: 
</p><div class="bash"><div class="contents"><pre class="notranslate"># Allgemein
sudo /etc/init.d/postgresql (start|stop|restart|reload|force-reload|status)
# Beispiel
sudo /etc/init.d/postgresql reload </pre></div></div><p>
Die Optionen bedeuten:</p><ul><li><p><code class="notranslate">start</code> - Startet den PostgreSQL-Server. </p></li><li><p><code class="notranslate">stop</code> - Stoppt den Server. </p></li><li><p><code class="notranslate">restart</code> - Startet den Server neu, bestehende Verbindungen auf den Server werden getrennt. </p></li><li><p><code class="notranslate">reload</code> - Lädt die Konfigurationsdateien neu, es gehen keine Verbindungen verloren. </p></li><li><p><code class="notranslate">force-reload</code> - Lädt die Konfigurationsdateien neu, es können dabei Verbindungen verloren gehen. </p></li><li><p><code class="notranslate">status</code> - Zeigt den Status des PostgreSQL-Servers an. </p></li></ul><p>Mehr Informationen dazu findet man unter <a class="internal" href="./dienste.html">Dienste</a> im Wiki.</p></div><div class="section_2"><h3 id="pgAdmin-III">pgAdmin III<a class="headerlink" href="#pgAdmin-III">¶</a></h3><p>
<img alt="pgadmin3.png" class="image-right" src="./_/ac1b969b724e8eb85cda486d657438df15bb2b9c.png"/>
Das offizielle grafische Administrationswerkzeug von PostgreSQL trägt den Namen <a class="external" href="http://pgadmin.org/" rel="nofollow"><strong>pgAdmin III</strong></a> (die römische Zahl gehört nicht zur offiziellen Versionsnummer) und befindet sich im Paket <strong>pgadmin3</strong> <sup><a href="#source-1">[1]</a></sup>.</p><ul><li><p><strong>pgadmin3</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install pgadmin3 </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install pgadmin3 </pre></div></div><p>
</p></div></div><p>Folgende Funktionen bietet pgAdmin III:
</p><ul><li><p>Anlegen von Datenbanken, Benutzern, Rollen</p></li><li><p>Vergabe von Zugriffsrechten</p></li><li><p>Abfragen diverse Informationen vom PostgreSQL Server</p></li><li><p>Eingebaute Dokumentation zu PostgreSQL</p></li><li><p>Syntaxhervorhebung</p></li></ul><p>Es ist zu beachten, dass immer nur die Funktionen zu Verfügung stehen die der angemeldete Datenbankbenutzer auch ausführen darf.
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Um über das Netzwerk eine Datenbank zu administrieren, ist es erforderlich die unter <a class="crosslink" href="#netzwerk">Netzwerkzugriff ermöglichen</a> beschriebenen Schritte durchzuführen!
</p></div></div></div><div class="section_2"><h3 id="phpPgAdmin">phpPgAdmin<a class="headerlink" href="#phpPgAdmin">¶</a></h3><p>
<img alt="./phppgadmin.png" class="image-left" src="./_/a4015712890262b36cceba4448a6fd6dfe90c6a7.png"/>
<img alt="./phppgadmin2.png" class="image-right" src="./_/9514fd9741cd7d21e620c2145ea13775ff563f22.png"/></p><p><a class="external" href="http://phppgadmin.sourceforge.net/" rel="nofollow">phpPgAdmin</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist eine freie PHP-Applikation zur Administration von PostgreSQL-Datenbanken ähnlich wie <a class="internal" href="./mysql/werkzeuge.html#phpMyAdmin">phpMyAdmin</a> für MySQL. Die Administration erfolgt über die Web-Oberfläche eines Browsers. Voraussetzung für die Verwendung von phpPgAdmin ist, dass ein <a class="internal" href="./apache.html">Webserver</a> mit <a class="internal" href="./php.html">PHP</a> auf demselben System installiert und aktiv ist.
Für phpPgAdmin muss das folgende Paket installiert <sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>phppgadmin</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install phppgadmin </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install phppgadmin </pre></div></div><p>
</p></div></div><p>Bis Ubuntu 14.10 muss die Datei <strong>/etc/apache2/apache2.conf</strong> um eine Zeile ergänzt und dann <code class="notranslate">service apache2 reload</code> ausgeführt werden.</p><p>Für Ubuntu 14.04: <code class="notranslate">Include /etc/apache2/conf.d/phppgadmin</code></p><p>Ab Ubuntu 15.04 muss der Befehl <code class="notranslate">a2enconf phppgadmin</code> und danach <code class="notranslate">service apache2 reload</code> ausgeführt werden.</p><p>Auf <code class="notranslate">http://localhost/phppgadmin</code> ist nun phppgadmin verfügbar.</p></div></div><div class="section_1"><h2 id="Datensicherung">Datensicherung<a class="headerlink" href="#Datensicherung">¶</a></h2><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Es gilt zu beachten, dass eine Datensicherung <span class="underline">immer</span> geprüft wird, dies gilt unabhängig von der eingesetzten Datenbank! Auch sollten die Programme, die zu Datensicherung verwendet werden, immer in einer Version sein, die gleich oder neuer als die der installierten Datenbank ist.</p><p>Insbesondere ein "downgrade", also das Wiederherstellen einer Dateisicherung auf einem Datenbankserver in einer kleineren Version wird nicht empfohlen!
</p></div></div><div class="section_2"><h3 id="Datensicherung-erstellen">Datensicherung erstellen<a class="headerlink" href="#Datensicherung-erstellen">¶</a></h3><p>
Um seine Daten zu sichern oder auf einen anderen Rechner zu kopieren ist eine Datensicherung erforderlich. Auch beim Upgrade von z.b. PostgreSQL 9.1 auf 9.3 ist dies erforderlich!</p><p>Eine einzelne Datenbank (<code class="notranslate">datenbank</code>) kann mit dem Befehl <strong>pg_dump</strong> gesichert werden, dabei werden (bis auf wenige Ausnahmen, die nur in Sonderfällen benötigt werden) alle Daten gesichert. 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres pg_dump --format=custom --dbname=datenbank --file=datenbank.dump </pre></div></div><p>Um alle im System vorhandenen Datenbanken (inkl. Systemtabellen, Benutzer, Zugriffsrechte, usw …) zu sichern, dient der Befehl <strong>pg_dumpall</strong>, Beispiel:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres pg_dumpall &gt; alle-datenbanken.dump </pre></div></div></div><div class="section_2"><h3 id="Datensicherung-wiederherstellen">Datensicherung wiederherstellen<a class="headerlink" href="#Datensicherung-wiederherstellen">¶</a></h3><p>
Eine einzelne Datenbank aus der Datensicherung <strong>datenbank.dump</strong> kann in die Datenbank mit dem Namen <code class="notranslate">datenbank</code> wie folgt wiederhergestellt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres pg_restore -d datenbank datenbank.dump </pre></div></div><p>
Um eine vollständige Datensicherung aller Datenbanken wiederherzustellen, die sich in der Datei <strong>alle-datenbanken.dump</strong> befindet, ist folgender Befehl notwendig:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo -u postgres psql -f alle-datenbanken.dump postgres </pre></div></div><p>
</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://www.postgresql.org/" rel="nofollow">Offizielle PostgreSQL-Webseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.postgresql.org/community/" rel="nofollow">Offizielle Community Seite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="https://help.ubuntu.com/12.04/serverguide/C/postgresql.html" rel="nofollow">Offizielle Ubuntu Dokumentation</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.postgresql.sk/docs/books/pghandbuch.html.de" rel="nofollow">Offizielle Handbuch mit deutscher Übersetzung</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/PostgreSQL">PostgreSQL auf Wikipedia</a></p></li><li><p><a class="external" href="http://pgadmin.org/" rel="nofollow">Offizielle pgAdmin-Webseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p></p></div></div>
<p class="meta">
<a href="./postgresql/a/revision/939142.html">Diese Revision</a> wurde am 4. Mai 2017 12:30 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./postgresql.html">PostgreSQL</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>