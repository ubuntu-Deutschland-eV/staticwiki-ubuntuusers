<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>gdisk › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./gdisk.html">gdisk</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/gdisk">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./gdisk/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./gdisk/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./gdisk/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./gdisk/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./gdisk/a/backlinks.html">gdisk</a></h1>
<div id="page"><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Veränderungen an einer GPT können das System unbrauchbar machen und sollten nie ohne eine vorherige Datensicherung durchgeführt werden.
</p></div></div><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./packprogramme.html">Archive entpacken</a>, <em>optional</em></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./sudo.html">Root-Rechte erlangen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./terminal.html">Ein Terminal benutzen</a></p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./datenträger.html#Wie-heissen-die-Datentraeger">Wie heißen die Datenträger</a></p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./systeminformationen_ermitteln.html#Festplatten">Welche Datenträger sind angeschlossen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#gdisk">gdisk
</a></li><li><a class="crosslink" href="#sgdisk">sgdisk
</a></li><li><a class="crosslink" href="#cgdisk">cgdisk
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/terminal.png" class="image-left" src="./_/e81889fd6e485dd32e1cde611eabc18abced7993.png"/>
<a class="external" href="http://www.rodsbooks.com/gdisk/" rel="nofollow">gdisk</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> (f<strong>disk</strong> für <strong>G</strong>PT) ist ein Kommandozeilen-Programm zur Partitionierung von Datenträgern mit <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/GUID_Partition_Table">GUID Partitionstabelle</a> (kurz GPT). Dabei werden eigenständige Programm-Module eingesetzt, die nicht auf <a class="internal" href="./gnu_parted.html">libparted</a> aufsetzen. In den meisten Fällen wird nur das Modul sgdisk zum Auflisten und Analysieren der GPT-Partitionen sowie zum Erzeugen einer externen Backup-Datei der GPT benötigt.</p><ul><li><p>GPTs können auch im BIOS-Modus, d.h. ohne <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Extensible_Firmware_Interface">(U)EFI</a> eingesetzt werden. <br/> Anm.: Windows verlangt beim Einsatz einer GPT auf dem Systemdatenträger immer auch die Nutzung von (U)EFI.</p></li><li><p><a class="internal" href="./grub_2/grundlagen.html#MBR-mit-GUID-Partitionstabelle-GPT">GRUB 2</a> kann auch mit BIOS-GPT umgehen, sofern eine "BIOS Boot-Partition" bereitgestellt wird.</p></li></ul><p>
Für die Bearbeitung der Partitionstabelle des älteren <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Master_Boot_Record">Master Boot Records</a> (MBR) steht das Programmpaket <a class="internal" href="./fdisk.html">fdisk</a> zur Verfügung.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Das Programmpaket kann direkt aus den offiziellen Paketquellen installiert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>gdisk</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install gdisk </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install gdisk </pre></div></div><p>
</p></div></div><p>
Seit <a class="internal" href="./precise_pangolin.html">Ubuntu 12.04</a> sind im Paket folgende Komponenten enthalten:</p><ul><li><p><a class="crosslink" href="#gdisk">gdisk</a> - zur interaktiven Nutzung auf der Kommandozeile</p></li><li><p><a class="crosslink" href="#sgdisk">sgdisk</a> - skripting-fähige Variante</p></li><li><p><a class="crosslink" href="#cgdisk">cgdisk</a> - <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/ncurses">ncurses</a>-Textoberfläche für gdisk</p></li><li><p>fixparts - gesondertes Reparaturprogramm für den MBR-Bereich</p></li></ul><p>
</p><div class="section_2"><h3 id="Manuell">Manuell<a class="headerlink" href="#Manuell">¶</a></h3><p>
Um das Programm aus dem Quellcode zu kompilieren, müssen vorher die folgenden Pakete installiert werden:</p><ul><li><p><strong>build-essential</strong></p></li><li><p><strong>libicu-dev</strong></p></li><li><p><strong>libncurses5-dev</strong></p></li><li><p><strong>libpopt-dev</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install build-essential libicu-dev libncurses5-dev libpopt-dev </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install build-essential libicu-dev libncurses5-dev libpopt-dev </pre></div></div><p>
</p></div></div><p>Anschließend lädt man sich von <a class="interwiki interwiki-sourceforge" href="http://sourceforge.net/projects/gptfdisk/files">SourceForge</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> den aktuellen Quelltext herunter, entpackt <sup><a href="#source-2">[2]</a></sup> ihn in einen beliebigen Ordner und führt <code class="notranslate">make</code> aus.</p><div class="bash"><div class="contents"><pre class="notranslate">cd /Pfad/zum/entpackten/Quelltext
sudo make </pre></div></div><p>
Die erzeugten Programme sowie die Dokumentationen müssen nur noch an einen ausführbaren Ort verschoben werden, z.B.:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp gdisk sgdisk cgdisk fixparts /usr/local/sbin/
sudo cp gdisk.8 sgdisk.8 cgdisk.8 fixparts.8 /usr/local/share/man/man8/ </pre></div></div></div></div><div class="section_1"><h2 id="gdisk">gdisk<a class="headerlink" href="#gdisk">¶</a></h2><p>
gdisk legt GPT-Partititonen an, löscht, manipuliert oder listet sie. Es ist interaktiv und erwartet Kommandoeingaben. Die Ausführung und Benutzung erfolgt mit Root-Rechten <sup><a href="#source-3">[3]</a></sup> im Terminal <sup><a href="#source-4">[4]</a></sup>.</p><div class="section_2"><h3 id="Syntax">Syntax<a class="headerlink" href="#Syntax">¶</a></h3><p>
Beim Aufruf muss immer ein zu bearbeitender Datenträger<sup><a href="#source-5">[5]</a></sup> angegeben werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo gdisk DEVICE </pre></div></div><p>
Die drei Menüs können im interaktiven Modus, auf allen Menü-Ebenen, direkt durch die folgenden Buchstaben angesteuert werden:</p><ol class="arabic"><li><p>
<span class="key">M</span> <em>"Hauptmenü"</em> - main menu </p></li><li><p>
<span class="key">R</span> <em>"Rettungs- und Transformationsmenü"</em> - recovery and transformation options (experts only)</p></li><li><p>
<span class="key">X</span> <em>"Zusätzliche Funktionen"</em> - extra functionality (experts only)</p></li></ol><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>
</p><ul><li><p>Je nach angewählter Menü-Ebene haben die Kommandos von gdisk zum Teil unterschiedliche Funktionen.</p></li><li><p>Beim interaktiven Gebrauch werden alle Änderungen erst vorgemerkt. Das Programm kann jederzeit mit 
<span class="key">Q</span>  verlassen werden, ohne Veränderungen am Datenträger vorzunehmen. Erst mit dem Kommando 
<span class="key">W</span>  werden alle Informationen unwiderruflich festgeschrieben.</p></li></ul></div></div><p>Eine Erklärung aller Kommandos und Optionen mit ausführlicher Information liefert die <a class="internal" href="./man.html">Manpage</a> sowie die Links zur <a class="crosslink" href="#Extern">Programmierer-Seite</a>.</p></div><div class="section_2"><h3 id="Hauptmenue">Hauptmenü<a class="headerlink" href="#Hauptmenue">¶</a></h3><p>
</p><p>
</p><table><tr class="titel"><td colspan="2">Auswahl von Kommandos im Hauptmenü 
<span class="key">M</span>  (main menu) ohne Veränderungen an einer GPT </td></tr><tr class="kopf"><td>Kommando </td><td> Beschreibung </td></tr><tr><td style="width: 10%"><code class="notranslate">?</code> </td><td> Ausgabe eines Hilfetextes der zur Verfügung stehenden Kommandos - je Menü-Ebene möglich </td></tr><tr class="highlight"><td><code class="notranslate">i</code> </td><td> Detaillierte Informationen zu einer GPT-Partition - die Partitionsnummer (1-128) wird anschließend abgefragt </td></tr><tr><td> <code class="notranslate">L</code> </td><td> Bekannte GPT-Partitionstypen (ID) und deren Bezeichnung (Name) auflisten. </td></tr><tr class="highlight"><td><code class="notranslate">p</code> </td><td> Auflisten der Informationen zu GPT-Partitionen </td></tr><tr><td> <code class="notranslate">q</code> </td><td> Verlassen des Programms, ohne Veränderungen auf den Datenträger zu schreiben </td></tr><tr class="highlight"><td><code class="notranslate">r</code> </td><td> Aufruf des Expertenmenüs 
<span class="key">R</span>  (recovery and transformation options) </td></tr><tr><td> <code class="notranslate">x</code> </td><td> Aufruf des Expertenmenüs 
<span class="key">X</span>  (extra functionality) </td></tr></table><p>
</p><p>
</p><table><tr class="titel"><td colspan="2">Auswahl von Kommandos im Hauptmenü 
<span class="key">M</span>  (main menu) mit Veränderungen an einer GPT </td></tr><tr class="kopf"><td>Kommando </td><td> Beschreibung </td></tr><tr><td style="width: 10%"><code class="notranslate">c</code> </td><td> Ändern des frei wählbaren Namens einer GPT-Partition (mehr Infos: <a class="crosslink" href="#Partitionsnamen-aendern">Partitionsnamen ändern</a>) </td></tr><tr class="highlight"><td><code class="notranslate">d</code> </td><td> Löschen einer GPT-Partition </td></tr><tr><td> <code class="notranslate">n</code> </td><td> Neuanlage einer GPT-Partition </td></tr><tr class="highlight"><td><code class="notranslate">s</code> </td><td> Sortieren aller Einträge zu GPT-Partitionen, aufsteigend nach Sektoren - dabei werden auch die Partitions-Nummern neu vergeben (gegebenenfalls <a class="internal" href="./fstab.html#Identifikation-der-Geraete">fstab</a> und <a class="internal" href="./grub-umgebung_analysieren.html#Aktuelle-GRUB-Konfiguration-ausgeben">grub.cfg</a> prüfen) </td></tr><tr><td> <code class="notranslate">t</code> </td><td> Ändern des GPT-Partitionstyps (ID) (siehe dazu auch Kommando L)  </td></tr><tr class="highlight"><td><code class="notranslate">w</code> </td><td> Abspeichern aller Änderungen in die GPT-Bereiche eines Datenträgers </td></tr></table></div><div class="section_2"><h3 id="Expertenmenues">Expertenmenüs<a class="headerlink" href="#Expertenmenues">¶</a></h3><div class="section_3"><h4 id="Rettungs-und-Transformationsmenue">Rettungs- und Transformationsmenü<a class="headerlink" href="#Rettungs-und-Transformationsmenue">¶</a></h4><p>
</p><p>
</p><table><tr class="titel"><td colspan="2">Auswahl von Kommandos im Expertenmenü 
<span class="key">R</span>  (recovery and transformation options) </td></tr><tr class="kopf"><td>Kommando </td><td> Beschreibung </td></tr><tr><td style="width: 10%"><code class="notranslate">b</code> </td><td> Neuaufbau GPT-Header - aus Sicherungs-GPT (Secondary-GPT) eines Datenträgers </td></tr><tr class="highlight"><td><code class="notranslate">c</code> </td><td> Neuaufbau GPT-Einträge zu den Partitionen - aus Sicherungs-GPT (Secondary-GPT) eines Datenträgers </td></tr><tr><td> <code class="notranslate">d</code> </td><td> Neuaufbau Sicherungs-Header (Secondary-GPT) - aus GPT-Header eines Datenträgers </td></tr><tr class="highlight"><td><code class="notranslate">e</code> </td><td> Neuaufbau Sicherungs-Einträge zu den Partitionen (Secondary-GPT) - aus GPT-Einträgen zu den Partitionen eines Datenträgers </td></tr></table></div><div class="section_3"><h4 id="Zusaetzliche-Funktionen">Zusätzliche Funktionen<a class="headerlink" href="#Zusaetzliche-Funktionen">¶</a></h4><p>
</p><p>
</p><table><tr class="titel"><td colspan="2">Auswahl von Kommandos im Expertenmenü 
<span class="key">X</span>  (extra functionality) </td></tr><tr class="kopf"><td>Kommando </td><td> Beschreibung </td></tr><tr><td style="width: 10%"><code class="notranslate">a</code> </td><td> Setzen der <a class="crosslink" href="#Partitionsattribute">Partitions-Attribute</a> </td></tr><tr class="highlight"><td><code class="notranslate">d</code> </td><td> Anzeige des <a class="internal" href="./ssd/alignment.html">Sektor-Allignment-Wertes</a> bezüglich der Partitionen eines Datenträger </td></tr><tr><td> <code class="notranslate">e</code> </td><td> Sicherungs-GPT (Secondary-GPT) vollständig neu am Ende eines Datenträgers erstellen und platzieren  </td></tr><tr class="highlight"><td><code class="notranslate">l</code> </td><td> Einstellen des <a class="internal" href="./ssd/alignment.html">Sektor-Allignment-Wertes</a> bezüglich der Partitionen eines Datenträgers </td></tr><tr><td> <code class="notranslate">o</code> </td><td> Anzeige des sog. "Protectiv MBR" </td></tr></table></div><div class="section_3"><h4 id="Partitionsattribute">Partitionsattribute<a class="headerlink" href="#Partitionsattribute">¶</a></h4><p>
Den Partitionen können bestimmte Attribute zugewiesen werden, wie z.B. das <em>Bootfähig</em>-Flag unter Windows. Interessant wird dies z.B. bei einem System, dass sowohl im BIOS- als auch im EFI-Modus betrieben werden soll. <a class="internal" href="./grub_2.html">GRUB 2</a> nutzt dabei unterschiedliche Partitionen für die <a class="internal" href="./grub_2/grundlagen.html#MBR-mit-GUID-Partitionstabelle-GPT">Bootloader-Infos</a>, wobei die <a class="internal" href="./grub_2/grundlagen.html#Ohne-EFI">BIOS Boot Partition</a> vor EFI versteckt werden muss.</p><p>
</p><table><tr class="titel"><td colspan="2">Liste der z.Zt. bekannten Attribute </td></tr><tr class="kopf"><td>Wert </td><td> Beschreibung </td></tr><tr><td> <code class="notranslate">0</code> </td><td> Systempartition (system partition) </td></tr><tr><td> <code class="notranslate">1</code> </td><td> Verstecke die Partition vor EFI (hide from EFI) </td></tr><tr><td> <code class="notranslate">2</code> </td><td> Legacy Bootflag (legacy BIOS bootable) </td></tr><tr><td> 60 </td><td> Nur lesen (read-only) </td></tr><tr><td> 62 </td><td> Versteckt (hidden) </td></tr><tr><td> 63 </td><td> Nicht Einhängen (do not automount) </td></tr></table></div></div><div class="section_2"><h3 id="Beispiele">Beispiele<a class="headerlink" href="#Beispiele">¶</a></h3><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>In allen Beispielen wird als Datenträgerbezeichnung <strong>/dev/sdX</strong> genutzt. Diese muss auf das eigene System angepasst werden!
</p></div></div><p>Der Start beinhaltet immer eine Kurzanalyse des angegebenen Datenträgers:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo gdisk /dev/sdX </pre></div></div><pre class="notranslate">GPT fdisk (gdisk) version 0.8.1

Partition table scan:
  MBR: protective
  BSD: not present
  APM: not present
  GPT: present

Found valid GPT with protective MBR; using GPT.

Command (? for help): </pre><p>Generelle Informationen der GPT-Partitionen anzeigen:</p><div class="bash"><div class="contents"><pre class="notranslate">Command (? for help): p </pre></div></div><pre class="notranslate">Disk /dev/sdX: 7913471 sectors, 3.8 GiB
Logical sector size: 512 bytes
Disk identifier (GUID): 5E49BB87-03F4-4FB4-9D3C-D8A28E5ADB85
Partition table holds up to 128 entries
First usable sector is 34, last usable sector is 7913437
Partitions will be aligned on 2-sector boundaries
Total free space is 0 sectors (0 bytes)

Number  Start (sector)    End (sector)  Size       Code  Name
   1              34            2047   1007.0 KiB  EF02  BIOS Grub-Partition
   2            2048         7913437   3.8 GiB     0700  VFAT 32 Pendrive

Command (? for help):</pre><p>Detaillierte GPT-Informationen zur Partition 1 anzeigen:</p><div class="bash"><div class="contents"><pre class="notranslate">Command (? for help): i </pre></div></div><p>
Bei mehreren vorhandenen GPT-Einträgen wird die Partitionsnummer zusätzlich abgefragt:</p><div class="bash"><div class="contents"><pre class="notranslate">Partition number (1-4): 1 </pre></div></div><pre class="notranslate">Partition GUID code: 21686148-6449-6E6F-744E-656564454649 (BIOS boot partition)
Partition unique GUID: 9E39F351-4D0F-48C7-8402-93A0AF35A0B4
First sector: 34 (at 17.0 KiB)
Last sector: 2047 (at 1023.5 KiB)
Partition size: 2014 sectors (1007.0 KiB)
Attribute flags: c000000000000001
Partition name: 'BIOS Grub-Partition'
Command (? for help):</pre><p>Überprüfen der kompl. GPT, incl. kleinerer Fehlerbehebung:</p><div class="bash"><div class="contents"><pre class="notranslate">Command (? for help): v </pre></div></div><pre class="notranslate">No problems found. 0 free sectors (0 bytes) available in 0
segments, the largest of which is 0 (0 bytes) in size.
Command (? for help):</pre><p>Beenden ohne Abspeichern der evtl. vorgenommenen Veränderungen auf den Datenträger<sup><a href="#source-3">[3]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">Command (? for help): q </pre></div></div></div></div><div class="section_1"><h2 id="sgdisk">sgdisk<a class="headerlink" href="#sgdisk">¶</a></h2><p>
sgdisk führt die gleichen Aufgaben wie <a class="crosslink" href="#gdisk">gdisk</a> durch, wird aber komplett über mitgegebene Optionen gesteuert und ist daher für Skripte geeignet. Es übernimmt bei GPT u.a. die Auflistung der Datenträger-Informationen, die beim Legacy-MBR mittels des Befehls <a class="internal" href="./fdisk.html#Partitionen-Informationen"><code class="notranslate">sudo fdisk -l</code></a> erzeugt werden.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Wird sgdisk mit Optionen aufgerufen, die eine Veränderung an einer GPT herbeiführen, so werden diese Änderungen unmittelbar auf den Datenträger geschrieben und bei falschem Einsatz wird dieser evtl. unbenutzbar. Der Einsatz dieser Optionen in Skripte sollte gut überlegt werden. 
</p></div></div><div class="section_2"><h3 id="Syntax-2">Syntax<a class="headerlink" href="#Syntax-2">¶</a></h3><p>
Beim Aufruf muss immer ein zu bearbeitender Datenträger angegeben werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sgdisk OPTIONEN DEVICE </pre></div></div><p>
Eine Erklärung aller Optionen und ausführliche Informationen liefert die <a class="internal" href="./man.html">Manpage</a> sowie die Links zur <a class="crosslink" href="#Extern">Programmierer-Seite</a>.</p></div><div class="section_2"><h3 id="Optionen">Optionen<a class="headerlink" href="#Optionen">¶</a></h3><p>
</p><p>
</p><table><tr class="titel"><td colspan="2">Auswahl von Optionen ohne Veränderungen an einer GPT  </td></tr><tr class="kopf"><td>Option </td><td> Beschreibung </td></tr><tr><td style="width: 22%"><code class="notranslate">-?</code> </td><td> Ausgabe eines Hilfetextes der zur Verfügung stehenden Kommandos </td></tr><tr class="highlight"><td><code class="notranslate">-a wert /device</code> </td><td> Einstellen des <a class="internal" href="./ssd/alignment.html">Alignment-Wertes</a>, z.B. 1024, 2048 etc. </td></tr><tr><td><code class="notranslate">-b /pfad/dateiname /device</code> </td><td> Erzeugt eine externe, binäre Backup-Datei eines Datenträgers<sup><a href="#source-3">[3]</a></sup> - <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/GUID_Partition_Table#Aufbau">Inhalt</a>: Protectiv-MBR, Primary-Header, 1x Partitionen-Einträge sowie Secondary-Header </td></tr><tr class="highlight"><td><code class="notranslate">-i partitionsnr /device</code> </td><td> Detaillierte GPT-Informationen zu einer Partition </td></tr><tr><td> <code class="notranslate">-L</code> </td><td> Bekannte GPT-Partitionstypen (ID) und deren Bezeichnung (Name) auflisten </td></tr><tr class="highlight"><td><code class="notranslate">-p /device</code> </td><td> Auflisten der Informationen zu GPT-Partitionen </td></tr></table><p>
</p><table><tr class="titel"><td colspan="2">Auswahl von Optionen mit Veränderungen an einer GPT  </td></tr><tr class="kopf"><td>Option </td><td> Beschreibung </td></tr><tr><td style="width: 22%"><code class="notranslate">-c partitionsnr:name /device</code> </td><td> Ändern des frei wählbaren Namens einer GPT-Partition eines Datenträgers (mehr Infos: <a class="crosslink" href="#Partitionsnamen-aendern">Partitionsnamen ändern</a>) </td></tr><tr class="highlight"><td><code class="notranslate">-G /device</code> </td><td> Neue eindeutige GUID eines Datenträgers erzeugen </td></tr><tr><td> <code class="notranslate">-l /pfad/dateiname /device</code> </td><td> Zurückladen der externen, binären Backup-Datei in die GPT-Bereiche eines Datenträgers. </td></tr><tr class="highlight"><td><code class="notranslate">-R /device-aus /device-ein</code> </td><td> Übertragen der GPT auf einen anderen, neuen Datenträger (z.B. Austausch einer defekten Platte bei <a class="internal" href="./software-raid.html#Ausfall-einer-Festplatte">RAID</a>) </td></tr><tr><td> <code class="notranslate">-s /device</code> </td><td> Sortieren aller Einträge zu GPT-Partitionen, aufsteigend nach Sektoren - dabei werden auch die Partitions-Nummern neu vergeben (gegebenenfalls <a class="internal" href="./fstab.html#Identifikation-der-Geraete">fstab</a> und <a class="internal" href="./grub-umgebung_analysieren.html#Aktuelle-GRUB-Konfiguration-ausgeben">grub.cfg</a> prüfen) </td></tr><tr class="highlight"><td><code class="notranslate">-t partitionsnr:ID /device</code> </td><td> Ändern des GPT-Partitionstyps (ID) (siehe dazu auch Option <strong>-L</strong>)  </td></tr><tr><td><code class="notranslate">-v /device</code> </td><td> Überprüfen einer kompl. GPT - inkl. Behebung kleinerer Fehler </td></tr></table></div><div class="section_2"><h3 id="Beispiele-2">Beispiele<a class="headerlink" href="#Beispiele-2">¶</a></h3><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>In allen Beispielen wird als Datenträgerbezeichnung <strong>/dev/sdX</strong> genutzt. Diese muss auf das eigene System angepasst werden!
</p></div></div><p>sgdisk kann auch "Legacy-MBR"-Einträge auflisten, aber nicht manipulieren. Auf diesen Umstand weist das Programm mit folgender Meldung hin:</p><pre class="notranslate">***************************************************************
Found invalid GPT and valid MBR; converting MBR to GPT format.
***************************************************************</pre><div class="section_3"><h4 id="Partitionen-Informationen">Partitionen-Informationen<a class="headerlink" href="#Partitionen-Informationen">¶</a></h4><p>
Listen aller Einträge zu GPT-Partitionen des Datenträgers:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sgdisk -p /dev/sdX </pre></div></div><p>
</p><pre class="notranslate">Disk /dev/sdX: 7913471 sectors, 3.8 GiB
Logical sector size: 512 bytes
Disk identifier (GUID): 5E49BB87-03F4-4FB4-9D3C-D8A28E5ADB85
Partition table holds up to 128 entries
First usable sector is 34, last usable sector is 7913437
Partitions will be aligned on 2-sector boundaries
Total free space is 0 sectors (0 bytes)

Number  Start (sector)    End (sector)  Size       Code  Name
   1              34            2047   1007.0 KiB  EF02  BIOS Grub-Partition
   2            2048         7913437   3.8 GiB     0700  VFAT 32 Pendrive</pre></div><div class="section_3"><h4 id="Anlegen-einer-Partition">Anlegen einer Partition<a class="headerlink" href="#Anlegen-einer-Partition">¶</a></h4><p>
Im folgenden Beispiel wird eine neue Partition mit der Nummer <code class="notranslate">1</code> angelegt:
</p><ul><li><p>Das <a class="internal" href="./ssd/alignment.html">Alignment</a> wird auf <code class="notranslate">1024</code> Bytes eingestellt (<code class="notranslate">-a 1024</code>)</p></li><li><p>Die neue Partition erhält die Nummer <code class="notranslate">1</code>, wird <code class="notranslate">1024</code> Bytes groß und vor die anderen Partitionen in den Bereich von <code class="notranslate">1024-2048</code> Bytes gelegt (<code class="notranslate">-n 1:1024:2048</code>)</p></li><li><p>Der interne Name der 1.Partition wird geändert (<code class="notranslate">-c 1:"BIOS Boot Partition"</code>)</p></li><li><p>Der GPT-Partitionstyp wird auf <code class="notranslate">ef02</code> eingestellt und bekommt dadurch die <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/GUID_Partition_Table#Partitionstyp-GUIDs">GUID</a> <code class="notranslate">21686148-6449-6E6F-744E-656564454649</code> zugeteilt (Die GUID erzeugt im lesbaren Format, z.B. mit <code class="notranslate">hexdump -C</code>, den Text <code class="notranslate">Hah!IdontNeedEFI</code>).</p></li></ul><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sgdisk -a 1024 -n 1:1024:2047 -c 1:"BIOS Boot Partition" -t 1:ef02 /dev/sdX  </pre></div></div></div><div class="section_3"><h4 id="Partitions-Information-detailliert">Partitions-Information (detailliert)<a class="headerlink" href="#Partitions-Information-detailliert">¶</a></h4><p>
Detaillierte Informationen zur GPT-Partition 1 des Datenträgers:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sgdisk -i1 /dev/sdX </pre></div></div><pre class="notranslate">Partition GUID code: 21686148-6449-6E6F-744E-656564454649 (BIOS boot partition)
Partition unique GUID: 9E39F351-4D0F-48C7-8402-93A0AF35A0B4
First sector: 34 (at 17.0 KiB)
Last sector: 2047 (at 1023.5 KiB)
Partition size: 2014 sectors (1007.0 KiB)
Attribute flags: C000000000000001
Partition name: 'BIOS Grub-Partition'</pre></div><div class="section_3"><h4 id="Partitionstabelle-sichern">Partitionstabelle sichern<a class="headerlink" href="#Partitionstabelle-sichern">¶</a></h4><p>
Beinhaltet den "Protective MBR", den "Primary Header", die Partitionstabelle und den "Secondary Header".
</p><ul><li><p>Eingabe: GPT-Bereiche des Datenträgers <strong>sdX</strong></p></li><li><p>Ausgabe: <strong>Backup_sdX.GPT</strong> im eigenen <a class="internal" href="./homeverzeichnis.html">Homeverzeichnis</a></p></li></ul><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sgdisk -b ${HOME}/Backup_sdX.GPT /dev/sdX  </pre></div></div></div><div class="section_3"><h4 id="Partitionstabelle-zurueckladen">Partitionstabelle zurückladen<a class="headerlink" href="#Partitionstabelle-zurueckladen">¶</a></h4><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Eine GPT sollte nur auf den gleichen Datenträger zurückgeladen werden.
</p></div></div><ul><li><p>Eingabe: <strong>Backup_sdX.GPT</strong> aus dem Verzeichnis <strong>/backup</strong></p></li><li><p>Ausgabe: GPT-Bereiche auf dem Datenträger <strong>sdX</strong></p></li></ul><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sgdisk -l /backup/sdX_Backup.GPT /dev/sdX  </pre></div></div></div><div class="section_3"><h4 id="Partitiontabelle-uebertragen">Partitiontabelle übertragen<a class="headerlink" href="#Partitiontabelle-uebertragen">¶</a></h4><p>
Die Partitionstabelle von Datenträger<sup><a href="#source-4">[4]</a></sup> <strong>sdX</strong> nach <strong>sdZ</strong> übertragen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sgdisk -R /dev/sdZ /dev/sdX  </pre></div></div><p> 
Anschließend wird dem neuen Datenträger <strong>sdZ</strong> noch eine neue, eindeutige Datenträger-GUID zugewiesen:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sgdisk -G /dev/sdZ  </pre></div></div></div><div class="section_3"><h4 id="Partitionsnamen-aendern">Partitionsnamen ändern<a class="headerlink" href="#Partitionsnamen-aendern">¶</a></h4><p>
In einer GPT kann zu der Partitions-ID ein frei wählbarer Name vergeben werden, um eine bessere Identifizierung der einzelnen Partitionen zu ermöglichen. Dieser Eintrag ist vergleichbar mit dem <a class="internal" href="./labels.html">Label</a> einer Partition, ist aber davon völlig unabhängig. Bei der Neuanlage einer Partition wird dazu die Bezeichnung der programminternen ID-Namens-Tabelle herangezogen.</p><p>Im folgenden Beispiel werden die Namen von 3 Partitionen (<code class="notranslate">1, 2, 5</code>) in der GPT des Datenträgers <strong>sdX</strong> geändert. Anmerkung: Bei Leerzeichen im Namen muss dieser in Hochkommata "" gesetzt werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo sgdisk -c 1:BIOS-Grub /dev/sdX                # Partition 1 - Name: BIOS-Grub
sudo sgdisk -c 2:Standard_Lucid /dev/sdX           # Partition 2 - Name: Standard_Lucid
sudo sgdisk -c 5:"Precise Pangolin" /dev/sdX       # Partition 5 - Name: "Precise Pangolin"
sudo sgdisk -p /dev/sdX                            # Listen der neuen Partitionen-Informationen </pre></div></div></div></div></div><div class="section_1"><h2 id="cgdisk">cgdisk<a class="headerlink" href="#cgdisk">¶</a></h2><p>
cgdisk ist eine Textoberfläche zu <a class="crosslink" href="#gdisk">gdisk</a>, welche die wichtigsten Aufgaben über eine Menüsteuerung bereitstellt und selbsterklärend ist. Die Steuerung erfolgt über die Pfeilstasten und Enter.</p><div class="section_2"><h3 id="Syntax-3">Syntax<a class="headerlink" href="#Syntax-3">¶</a></h3><p>
Beim Aufruf muss immer ein zu bearbeitender Datenträger angegeben werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cgdisk DEVICE </pre></div></div><p>
Ausführliche Informationen liefert die <a class="internal" href="./man.html">Manpage</a> sowie die Links zur <a class="crosslink" href="#Extern">Programmierer-Seite</a>.</p></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><div class="section_2"><h3 id="Intern">Intern<a class="headerlink" href="#Intern">¶</a></h3><p>
</p><ul><li><p><a class="internal" href="./skripte/partitionstabellen_sichern.html">Partitionstabellen sichern</a> - Skript zum Sichern aller Partitionstabellen (MPT+GPT)   </p></li><li><p><a class="internal" href="./partitionierung.html">Partitionierung</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li></ul></div><div class="section_2"><h3 id="Extern">Extern<a class="headerlink" href="#Extern">¶</a></h3><p>
</p><ul><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/GUID_Partition_Table">GUID Partition Table</a> - (GPT) inkl. Protectiv-MBR</p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Solid-State-Drive#Alignment_bzw._Ausrichtung">Alignment-Problematik am Beispiel SSDs</a></p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Extensible_Firmware_Interface">(U)EFI</a> - Unified Extensible Firmware Interface</p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Master_Boot_Record">Master-Boot-Record</a> - (MBR) Legacy-MBR </p></li><li><p><a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Partitionstabelle">Partitionstabelle</a> - (MPT) des Master-Boot-Record</p></li></ul><p>
</p><ul><li><p><a class="external" href="http://www.rodsbooks.com/" rel="nofollow">Tutorials des Programmierers Roderick W. Smith</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p><ul><li><p><a class="external" href="http://www.rodsbooks.com/gdisk/" rel="nofollow">GPT fdisk</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.rodsbooks.com/gdisk/walkthrough.html" rel="nofollow">gdisk Walkthrough</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.rodsbooks.com/gdisk/sgdisk.html" rel="nofollow">sgdisk Walkthrough</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.rodsbooks.com/gdisk/cgdisk.html" rel="nofollow">cgdisk Walkthrough</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.rodsbooks.com/gdisk/advice.html#alignment" rel="nofollow">Alignment-Problematik</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.rodsbooks.com/gdisk/bios.html" rel="nofollow">Problemlösungen bei GPT und BIOS-Modus</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://www.rodsbooks.com/gdisk/repairing.html" rel="nofollow">Reparieren einer GPT Disk</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul></li></ul><p>
</p></div></div></div>
<p class="meta">
<a href="./gdisk/a/revision/945815.html">Diese Revision</a> wurde am 29. Dezember 2017 01:14 von <a href="https://ubuntuusers.de/user/BillMaier/">BillMaier</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./gdisk.html">gdisk</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>