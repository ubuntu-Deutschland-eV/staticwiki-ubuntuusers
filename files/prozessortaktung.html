<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Prozessortaktung › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./prozessortaktung.html">Prozessortaktung</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Prozessortaktung">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./prozessortaktung/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./prozessortaktung/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./prozessortaktung/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./prozessortaktung/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./prozessortaktung/a/backlinks.html">Prozessortaktung</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p> 
Dieser Artikel ist größtenteils für alle Ubuntu-Versionen gültig.
</p></div></div><p>
</p><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Je nach Prozessortyp stehen gegebenenfalls nicht alle in diesem Artikel beschriebenen Abfrage- und Einstellmöglichkeiten zur Verfügung. Im BIOS muss ggf. <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Cool%E2%80%99n%E2%80%99Quiet">Cool&amp;Quiet (AMD)</a> oder <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Speedstep">Speedstep (Intel)</a> aktiviert werden.
</p></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Verfuegbare-Governors">Verfügbare Governors
</a></li><li><a class="crosslink" href="#Taktfrequenzanpassung-beeinflussen">Taktfrequenzanpassung beeinflussen
</a><ol class="arabic"><li><a class="crosslink" href="#Unity">Unity
</a></li><li><a class="crosslink" href="#Xfce">Xfce
</a></li><li><a class="crosslink" href="#LXDE">LXDE
</a></li><li><a class="crosslink" href="#MATE">MATE
</a></li><li><a class="crosslink" href="#Kommandozeile">Kommandozeile
</a></li></ol></li><li><a class="crosslink" href="#Hintergrundinfos-und-Einstellung-im-Terminal">Hintergrundinfos und Einstellung im Termin...</a><ol class="arabic"><li><a class="crosslink" href="#Daten-zur-CPU-Frequenz-auslesen">Daten zur CPU-Frequenz auslesen
</a></li><li><a class="crosslink" href="#Manuelle-nderungen-vornehmen">Manuelle Änderungen vornehmen
</a></li><li><a class="crosslink" href="#Einstellung-bei-Systemstart-festlegen">Einstellung bei Systemstart festlegen
</a></li></ol></li><li><a class="crosslink" href="#Kernel-Module">Kernel-Module
</a></li><li><a class="crosslink" href="#Intel-Turbo-Boost">Intel Turbo Boost
</a></li><li><a class="crosslink" href="#Weiterfuehrende-Informationen">Weiterführende Informationen
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a><ol class="arabic"><li><a class="crosslink" href="#ondemand-Governor-startet-nicht">ondemand-Governor startet nicht
</a></li><li><a class="crosslink" href="#Prozessor-taktet-bei-unwichtigen-Prozessen-hoch">Prozessor taktet bei unwichtigen Prozess...</a></li></ol></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/config.png" class="image-left" src="./_/3475dd57f95d2ba05371b972d92d88305bdeb343.png"/> 
Linux bietet die Möglichkeit, die Taktfrequenz des Prozessors (CPU) auszulesen und wenn notwendig, auch zu modifizieren bzw. den aktuellen Bedürfnissen (an die Rechenleistung) anzupassen. Dies wird normalerweise vollautomatisch erledigt.</p><p>Während die Taktfrequenzstufen und -grenzen durch die Hardware vorgegeben sind, entscheidet ein sogenannter <em>"(Scaling-)Governor"</em>, wie die Taktfrequenz automatisch geregelt bzw. konkret angepasst wird. Dieser Artikel gibt Hinweise für manuelle Eingriffe.</p><p>Wer nicht zuerst den kompletten Artikel lesen möchte, findet im Abschnitt <a class="crosslink" href="#Links">Links</a> ein einfaches Shellskript, das die wichtigsten Informationen zur CPU, Governor, Taktfrequenz etc. im Terminal anzeigt.</p><p><a class="crosslink anchor" href="#governor" id="governor"></a></p><div class="section_1"><h2 id="Verfuegbare-Governors">Verfügbare Governors<a class="headerlink" href="#Verfuegbare-Governors">¶</a></h2><p>
</p><ul><li><p><em>ondemand</em> - Standard bei den meisten Systemen. Die CPU-Frequenz wird den aktuellen Bedürfnissen an die Rechenleistung angepasst. Dabei wird die CPU-Frequenz u.U. sprunghaft angehoben oder abgesenkt.</p></li><li><p><em>conservative</em> - Die CPU-Frequenz wird den aktuellen Bedürfnissen an die Rechenleistung angepasst. Die Taktfrequenz wird aber Schritt-für-Schritt angehoben bzw. abgesenkt.</p></li><li><p><em>performance</em> - CPU läuft permanent auf der höchsten erlaubten Taktfrequenz.</p></li><li><p><em>powersave</em> - CPU läuft permanent auf der niedrigsten erlaubten Taktfrequenz.</p></li><li><p><em>userspace</em> - Dies ist kein kernel-eigener Governor. Vielmehr wird ein eigenes Governor-Programm verwendet. Sinnvoll, wenn der Kernel meint, nur den Governor <em>performance</em> verwenden zu können (siehe <a class="crosslink" href="#Problembehebung">Problembehebung</a>).</p></li></ul><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Auch wenn die Bezeichnungen der Taktstufen anderes suggerieren, spart man bei <code class="notranslate">powersave</code> nicht unbedingt Strom! Im normalen Desktop-Betrieb sorgt <code class="notranslate">powersave</code> dafür, dass der Prozessor später in den "Schlafmodus" fällt, weil er langsamer rechnet und daher entsprechend länger braucht. Der Schlafmodus spart aber wesentlich mehr Energie als die niedrigste Taktfrequenz.</p><p><code class="notranslate">powersave</code> ist nur dann sinnvoll, wenn ein Lüfter lärmt, der zu Ungunsten der Systemleistung langsamer drehen und damit leiser werden soll. In allen anderen Fällen heißt die stromsparendste Variante – auch bei Notebooks im Akkubetrieb – <strong>ondemand</strong>. Vor diesem Hintergrund ist eine Änderung des Governors in den allermeisten Fällen reine Spielerei.
</p></div></div></div><div class="section_1"><h2 id="Taktfrequenzanpassung-beeinflussen">Taktfrequenzanpassung beeinflussen<a class="headerlink" href="#Taktfrequenzanpassung-beeinflussen">¶</a></h2><p>
In aktuellen Ubuntu-Versionen wird die Prozessorsteuerung vollautomatisch (ondemand) über eine vordefinierte Kernel-Einstellung geregelt. Damit muss der Anwender diesbezüglich eigentlich nichts weiter tun, denn durch diese "Ondemand"-Einstellung (siehe obige Tabelle) wird die Prozessorlast automatisch verteilt und optimiert die Prozessor-Arbeitsverteilung.</p><p>Für die Regelung der Taktstufen hat man prinzipiell zwei Möglichkeiten: entweder grafisch (von der Desktop-Umgebung abhängig) oder im Terminal (desktop-unabhängig). Allerdings gilt auch hier das bereits gesagte: außer in Sonderfällen ist eine manuelle Steuerung der Taktfrequenz völlig überflüssig.</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="indicator-cpufreq.png" class="image-default" src="./_/24e03df34f39e9e80fa798c24a578f3c332ae1bf.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 100px"> Unity</td></tr></table><p>
</p><div class="section_2"><h3 id="Unity">Unity<a class="headerlink" href="#Unity">¶</a></h3><p>
Für das ab <a class="internal" href="./natty.html">Ubuntu 11.04</a> eingesetzte <a class="internal" href="./unity.html">Unity</a> gibt es das <a class="interwiki interwiki-launchpad" href="https://launchpad.net/indicator-cpufreq">indicator-cpufreq</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>. Seit <a class="internal" href="./precise.html">Ubuntu 12.04</a> ist es auch in den offiziellen Paketquellen enthalten und wird über das Paket</p><ul><li><p><strong>indicator-cpufreq</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install indicator-cpufreq </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install indicator-cpufreq </pre></div></div><p>
</p></div></div><p>
installiert <sup><a href="#source-1">[1]</a></sup>. Nach einem einen Neustart bzw. Wiederanmelden kann man über das Symbol die Taktfrequenzen beeinflussen. Die Einstellungen gelten für den Prozessor, nicht für einzelne Prozessorkerne.</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="extension-cpufreq.png" class="image-default" src="./_/8997e754c3562ad931ef9173fa60eeeb9fd8d100.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 140px"> GNOME 3</td></tr></table><p>
</p><div class="section_3"><h4 id="GNOME-3">GNOME 3<a class="headerlink" href="#GNOME-3">¶</a></h4><p>
Einer grafischen Anzeige, samt Änderungen der Frequenzen und Anpassungsmechanismen der Prozessorsteuerung, kann für die <a class="internal" href="./gnome_shell.html">GNOME Shell</a> mittels einer entsprechenden <a class="internal" href="./gnome_shell_extensions.html">Shell-Extension</a> nachinstalliert werden. <a class="external" href="https://extensions.gnome.org/extension/444/cpu-freq/" rel="nofollow">Cpufreq</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> kann - wenn geladen, installiert und aktiviert - ins obere Panel gelegt und die Prozessorlast steuern und überwachen.</p><p>Voraussetzung ist das Paket:</p><ul><li><p><strong>cpufrequtils</strong> (<em>universe</em>, Kontrolle und Einstellung der CPU-Frequenzen)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install cpufrequtils </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install cpufrequtils </pre></div></div><p>
</p></div></div><p>Weitere Voraussetzungen für den Betrieb oder Hilfestellung bei Problemen findet der Anwender in der <a class="interwiki interwiki-github" href="https://github.com/nodefourtytwo/gnome-shell-extension-cpu-freq/blob/master/README.md">Readme-Datei</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> der Erweiterung. Ebenso finden sich dort weiterführende Informationen, wie z.B. welche Werkzeuge vorhanden und Bedingungen für 4 Kernprozessoren erfüllt sein müssen, damit in die Prozessorsteuerung eingegriffen werden kann. Außerdem enthält sie Hinweise zu vordefinierten Standardeinstellungen und vieles andere mehr.</p></div></div><div class="section_2"><h3 id="Xfce">Xfce<a class="headerlink" href="#Xfce">¶</a></h3><p>
Auch unter Xubuntu kann ein natives <a class="internal" href="./xfce_panel.html#Erweiterungen">Panel-Applet</a> genutzt werden. Dazu fügt man dem Panel via <img alt="rechte Maustaste" class="image-default" src="./_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/> ein neues Element <a class="internal" href="./xfce_panel_plugins.html#Governor-Plugin">Governor Plugin</a> hinzu. Der dazugehörige Paketname lautet:</p><ul><li><p><strong>xfce4-cpufreq-plugin</strong> (<em>universe</em>, nur Anzeige der Taktfrequenz)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install xfce4-cpufreq-plugin </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install xfce4-cpufreq-plugin </pre></div></div><p>
</p></div></div><p>
Als weitere Möglichkeit kann der im folgenden Abschnitt beschriebene <strong>indicator-cpufreq</strong> verwendet werden.</p><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="lxpanel_indicator.png" class="image-default" src="./_/af3508d86a4f3ffdee1c0a64f52d92124ece6b40.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 80px"> LXDE</td></tr></table><p>
</p></div><div class="section_2"><h3 id="LXDE">LXDE<a class="headerlink" href="#LXDE">¶</a></h3><p>
Das <a class="internal" href="./lxde_einstellungen.html#Panel">Panel</a> von LXDE (<strong>lxpanel</strong>) enthält ein Mini-Programm (Applet), das die Taktfrequenz anzeigen kann. Eine Änderung der Taktfrequenz oder des Governors darüber ist nicht vorgesehen. Man kann alternativ wie unter Unity <a class="crosslink" href="#Unity">indicator-cpufreq</a> nutzen, jedoch wird im Lxpanel kein Symbol angezeigt. Um das Symbol im Lxpanel dennoch anzuzeigen, müssen zuerst passende Bilddateien an den entsprechenden Ordner kopiert werden. Dazu öffnet man ein Terminal und kopiert die fünf benötigten Symbole mit folgendem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo cp /usr/share/icons/ubuntu-mono-dark/status/22/indicator-cpufreq* /usr/share/pixmaps/ </pre></div></div></div><div class="section_2"><h3 id="MATE">MATE<a class="headerlink" href="#MATE">¶</a></h3><p>
Zur grafischen Anzeige und Änderung der Frequenzen und Anpassungsmechanismen kann man das Programm <strong>mate-cpufreq-applet</strong> nutzen, welches in der Regel in der Standardinstallation von Ubuntu MATE enthalten ist. Der entsprechende Paketname lautet <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>mate-applets</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install mate-applets </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install mate-applets </pre></div></div><p>
</p></div></div><p>
</p><table style="float: right; clear: left; margin-top: 0px; border: none"><tr class="titel"><td> <img alt="cpufreq-applet.png" class="image-default" src="./_/98893d442db1996c4c758a0cda820a5d896482be.png"/></td></tr><tr class="normal"><td style="text-align: center; width: 100px"> MATE</td></tr></table><p>Man führt einen Rechtsklick <img alt="rechte Maustaste" class="image-default" src="./_/aa516ca8be74ff7de9b706b8ffc7a88e87e17fb5.png"/> auf das MATE-Panel aus und wählt dann <em>"Zum Panel hinzufügen -&gt; Überwachen der Prozessortaktstufen"</em>. Dort sollte dann im Leerlauf (bei <em>"ondemand"</em>) immer die niedrigst mögliche Frequenz angezeigt werden. Bei mehreren Kernen fügt man dem Panel weitere Instanzen des Programms hinzu und stellt dann jeweils die zu überwachende CPU ein.</p><p>Mit einem Linksklick <img alt="linke Maustaste" class="image-default" src="./_/9c03a73e06581c6d6932d30e0750812ed76e6022.png"/> auf das Applet kann man die Taktstufen-Anpassung auch selbst verändern. So kann man beispielsweise die Taktrate fest auf den niedrigsten Wert einstellen. Klickt man zum ersten Mal auf einen der Werte, so muss ein Administrator des Systems diesen Vorgang erlauben.</p></div><div class="section_2"><h3 id="Kommandozeile">Kommandozeile<a class="headerlink" href="#Kommandozeile">¶</a></h3><p>
Zur Kontrolle (Änderungen sind nicht möglich) dient das Programm <strong>cpufreq-info</strong> aus dem Paket:</p><ul><li><p><strong>cpufrequtils</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install cpufrequtils </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install cpufrequtils </pre></div></div><p>
</p></div></div><p>Beispiel:</p><div class="bash"><div class="contents"><pre class="notranslate">cpufreq-info </pre></div></div><p>Ausgabe für einen <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Intel_Pentium_M">Pentium M</a> Einkern-Prozessor (CPUs werden beginnend mit <code class="notranslate">0</code> hochgezählt):
</p><pre class="notranslate">cpufrequtils 007: cpufreq-info (C) Dominik Brodowski 2004-2009
Bitte melden Sie Fehler an cpufreq@vger.kernel.org.
analysiere CPU 0:
  Treiber: acpi-cpufreq
  Folgende CPUs laufen mit der gleichen Hardware-Taktfrequenz: 0
  Die Taktfrequenz folgender CPUs werden per Software koordiniert: 0
  Maximale Dauer eines Taktfrequenzwechsels: 20.0 us.
  Hardwarebedingte Grenzen der Taktfrequenz: 600 MHz - 1.70 GHz
  mögliche Taktfrequenzen: 1.70 GHz, 1.40 GHz, 1.20 GHz, 1000 MHz, 800 MHz, 600 MHz
  mögliche Regler: conservative, ondemand, userspace, powersave, performance
  momentane Taktik: die Frequenz soll innerhalb 600 MHz und 1.70 GHz.
                    liegen. Der Regler "ondemand" kann frei entscheiden,
                    welche Taktfrequenz innerhalb dieser Grenze verwendet wird.
  momentane Taktfrequenz ist 1.20 GHz.
  Statistik:1.70 GHz:14,12%, 1.40 GHz:0,02%, 1.20 GHz:0,03%, 1000 MHz:0,02%, 800 MHz:0,13%, 600 MHz:85,68%  (266)</pre><p>Um schnell zwischen verschiedenen Governors umzuschalten, kann das folgende Skript verwendet werden:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="ch">#!/bin/sh</span>

<span class="nb">echo</span> <span class="s2">"gov - show or set governor (set requires root privileges)"</span>
<span class="nb">echo</span> <span class="s2">"usage: [sudo] gov [o|ondemand|f|performance|p|powersave|c|conservative]"</span>
<span class="nb">echo</span> <span class="s2">"governor in use:"</span>

<span class="nv">getgov</span><span class="o">=</span><span class="k">$(</span>cat /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor<span class="k">)</span>

<span class="k">case</span> <span class="nv">$1</span> in
  o<span class="p">|</span>ondemand<span class="o">)</span>     <span class="nv">governor</span><span class="o">=</span>ondemand<span class="p">;;</span>
  f<span class="p">|</span>performance<span class="o">)</span>  <span class="nv">governor</span><span class="o">=</span>performance<span class="p">;;</span>
  p<span class="p">|</span>powersave<span class="o">)</span>    <span class="nv">governor</span><span class="o">=</span>powersave<span class="p">;;</span>
  c<span class="p">|</span>conservative<span class="o">)</span> <span class="nv">governor</span><span class="o">=</span>conservative<span class="p">;;</span>
  *<span class="o">)</span>         <span class="nb">echo</span> <span class="nv">$getgov</span>
         exit<span class="p">;;</span>
<span class="k">esac</span>

<span class="k">for</span> g in /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor<span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> <span class="nv">$governor</span> &gt; <span class="nv">$g</span><span class="p">;</span> <span class="k">done</span>
<span class="nb">echo</span> <span class="k">$(</span>cat /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor<span class="k">)</span>
</pre></div>
</td></tr></table></div><p>
Als <strong>gov</strong> abspeichern und ausführbar machen. Um den Governor ändern zu können, muss es mit Root-Rechten gestartet werden.</p></div></div><div class="section_1"><h2 id="Hintergrundinfos-und-Einstellung-im-Terminal">Hintergrundinfos und Einstellung im Terminal<a class="headerlink" href="#Hintergrundinfos-und-Einstellung-im-Terminal">¶</a></h2><p>
</p><div class="section_2"><h3 id="Daten-zur-CPU-Frequenz-auslesen">Daten zur CPU-Frequenz auslesen<a class="headerlink" href="#Daten-zur-CPU-Frequenz-auslesen">¶</a></h3><p>
Alle relevanten Daten zur Taktfrequenz der CPU (wie z.B. mögliche Taktfrequenzen, aktuelle Taktfrequenz, Strategie für Taktfrequenzwechsel etc.) befinden sich in einem Unterverzeichnis von <strong>/sys</strong>. Dies ist keine "festes" Verzeichnis wie z.B. <strong>/usr</strong> oder <strong>/home</strong>, sondern wird bei jedem Systemstart bzw. zur Laufzeit dynamisch angelegt. Der Linux-Kernel legt in diesem Verzeichnis viele Systeminformationen ab. Um die Daten der CPU-Frequenz auszulesen, hilft das Verzeichnis <strong>/sys/devices/system/cpu/cpu0/cpufreq</strong> weiter.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Hat man ein Mehrprozessorsystem, so existieren auch die Unterverzeichnisse <strong>.../cpu1/...</strong> , <strong>.../cpu2/...</strong> etc., je nach Anzahl der Prozessoren. Im Folgenden beziehen sich alle Beispiele auf die erste CPU (also <code class="notranslate">cpu0</code>). Alle Angaben sind aber 1:1 auf die anderen CPUs übertragbar. 
</p></div></div><p>Lässt man sich mit</p><div class="bash"><div class="contents"><pre class="notranslate">ls /sys/devices/system/cpu/cpu0/cpufreq/ </pre></div></div><p>
den Inhalt dieser Verzeichnisse ausgeben, erhält man eine Ausgabe wie z.B.</p><pre class="notranslate">affected_cpus     ondemand                       scaling_driver    stats
cpuinfo_cur_freq  scaling_available_frequencies  scaling_governor
cpuinfo_max_freq  scaling_available_governors    scaling_max_freq
cpuinfo_min_freq  scaling_cur_freq               scaling_min_freq</pre><p>
<strong>ondemand</strong> (der Name ist abhängig vom gerade verwendeten Governor) und <strong>stats</strong> sind Verzeichnisse, alles andere sind Textdateien, welche bestimmte Informationen zur CPU bzw. zur Taktfrequenz enthalten. Fast alle Dateien können ohne weiteres mit <a class="internal" href="./cat.html">cat</a> in einem Terminal <sup><a href="#source-2">[2]</a></sup> angezeigt werden.</p><p>Soll z.B. die maximal mögliche CPU-Frequenz ausgelesen werden:</p><div class="bash"><div class="contents"><pre class="notranslate">cat /sys/devices/system/cpu/cpu0/cpufreq/cpuinfo_max_freq </pre></div></div><p>
</p><pre class="notranslate">1400000</pre><p>
Die Ausgabe erfolgt in KHz, d.h. diese CPU hat einen maximalen Takt von 1,4 GHz.</p><div class="section_3"><h4 id="Details-zum-laufenden-Governor">Details zum laufenden Governor<a class="headerlink" href="#Details-zum-laufenden-Governor">¶</a></h4><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor </pre></div></div><p>
</p><pre class="notranslate">conservative</pre><div class="bash"><div class="contents"><pre class="notranslate">ls /sys/devices/system/cpu/cpu0/cpufreq/conservative/ # spätestens seit Ubuntu 12.04 entfällt hier "cpu0/" </pre></div></div><p>
</p><pre class="notranslate">down_threshold  ignore_nice_load      sampling_rate      sampling_rate_min
freq_step       sampling_down_factor  sampling_rate_max  up_threshold</pre><p>
Über diese Dateien kann zusätzlich das Verhalten des Governors im Detail beeinflusst werden. Dies wird weiter unten beschrieben (<a class="crosslink" href="#Manuelle-nderungen-vornehmen">Manuelle Änderungen vornehmen</a>). Interessierte können die entsprechenden Informationen auch unter <a class="crosslink" href="#Weiterfuehrende-Informationen">Weiterführende Informationen</a> nachlesen.</p></div><div class="section_3"><h4 id="Taktfrequenzgrenzen-des-Prozessors">Taktfrequenzgrenzen des Prozessors<a class="headerlink" href="#Taktfrequenzgrenzen-des-Prozessors">¶</a></h4><p>
</p><table style="width: 97%"><tr class="titel"><td colspan="2">Taktfrequenzgrenzen Prozessor</td></tr><tr class="kopf"><td> Datei </td><td> enthält Info zu </td></tr><tr><td><strong>cpuinfo_cur_freq</strong> </td><td>Die aktuelle Taktfrequenz der CPU. </td></tr><tr><td><strong>cpuinfo_max_freq</strong> </td><td>Die maximale Taktfrequenz der CPU. </td></tr><tr><td><strong>cpuinfo_min_freq</strong> </td><td>Die minimale CPU-Frequenz. </td></tr></table><p>
</p></div><div class="section_3"><h4 id="Taktfrequenzgrenzen-des-Governors">Taktfrequenzgrenzen des Governors<a class="headerlink" href="#Taktfrequenzgrenzen-des-Governors">¶</a></h4><p>
Die Taktfrequenzwechsel müssen nicht unbedingt innerhalb der durch die Hardware (CPU) vorgegebenen Grenzen erfolgen, die Grenzen für die Governor werden über folgende Dateien im Verzeichnis <strong>/sys/devices/system/cpu/cpu0/cpufreq</strong> festgesetzt:</p><table style="width: 97%"><tr class="titel"><td colspan="2">Taktfrequenzgrenzen Governor</td></tr><tr class="kopf"><td> Datei </td><td> enthält Info zu </td></tr><tr><td><strong>scaling_available_frequencies</strong> </td><td>Gibt alle möglichen Frequenzen der CPU aus. </td></tr><tr><td><strong>scaling_max_freq</strong> </td><td>Maximal (für den Governor) erlaubte Frequenz; muss nicht zwangsläufig identisch mit cpuinfo_max_freq sein! </td></tr><tr><td><strong>scaling_min_freq</strong> </td><td>Minimale (für den Governor) erlaubte Frequenz; muss nicht zwangsläufig identisch mit cpuinfo_min_freq sein! </td></tr><tr><td><strong>scaling_cur_freq</strong> </td><td>Aktuell vom Governor eingestellte Taktfrequenz</td></tr></table><p>
</p></div><div class="section_3"><h4 id="Statistik-ueber-Taktfrequenzwechsel">Statistik über Taktfrequenzwechsel<a class="headerlink" href="#Statistik-ueber-Taktfrequenzwechsel">¶</a></h4><p>
Einige Statistiken zu den Frequenzwechseln enthält <strong>/sys/devices/system/cpu/cpu0/cpufreq/stats</strong>:</p><div class="bash"><div class="contents"><pre class="notranslate">ls /sys/devices/system/cpu/cpu0/cpufreq/stats/ </pre></div></div><p>
</p><pre class="notranslate">time_in_state  total_trans  trans_table</pre><p>
Den Dateien können folgende Informationen entnommen werden:</p><table style="width: 97%"><tr class="titel"><td colspan="2">Statistik</td></tr><tr class="kopf"><td> Datei </td><td> enthält Info zu </td></tr><tr><td><strong>time_in_state</strong> </td><td>Wie lange wurde mit welcher Taktfrequenz gearbeitet</td></tr><tr><td><strong>total_trans</strong> </td><td>Anzahl der Taktwechsel</td></tr><tr><td><strong>trans_table</strong> </td><td>Übersicht, wie oft von welcher Frequenz auf welche andere Frequenz gewechselt wurde</td></tr></table><p>
Beispiel:</p><div class="bash"><div class="contents"><pre class="notranslate">cat /sys/devices/system/cpu/cpu0/cpufreq/stats/time_in_state </pre></div></div><p>
</p><pre class="notranslate">1400000 53513
1200000 2616
1000000 2400
800000 2840
600000 1208171</pre><div class="bash"><div class="contents"><pre class="notranslate">cat /sys/devices/system/cpu/cpu0/cpufreq/stats/total_trans </pre></div></div><p>
</p><pre class="notranslate">5477</pre><div class="bash"><div class="contents"><pre class="notranslate">cat /sys/devices/system/cpu/cpu0/cpufreq/stats/trans_table </pre></div></div><p>
</p><pre class="notranslate">   From  :    To
         :   1400000   1200000   1000000    800000    600000
  1400000:         0       282       258       291      1549
  1200000:        52         0        12        12       206
  1000000:        48         0         0        14       208
   800000:        52         0         0         0       265
   600000:      2228         0         0         0         0</pre></div></div><div class="section_2"><h3 id="Manuelle-nderungen-vornehmen">Manuelle Änderungen vornehmen<a class="headerlink" href="#Manuelle-nderungen-vornehmen">¶</a></h3><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die unüberlegte oder unvorsichtige Änderung von Dateien, welche die CPU-Taktfrequenz beeinflussen, kann im schlimmsten Fall zur Beschädigung der Hardware führen! 
</p></div></div><p><a class="crosslink anchor" href="#Grenzen" id="Grenzen"></a>
</p><div class="section_3"><h4 id="Governor-und-Frequenzgrenzen-aendern">Governor und Frequenzgrenzen ändern<a class="headerlink" href="#Governor-und-Frequenzgrenzen-aendern">¶</a></h4><p>
Manuell lassen sich folgende Änderungen vornehmen:</p><ul><li><p>maximal erlaubte obere Taktfrequenz</p></li><li><p>minimal erlaubte untere Taktfrequenz</p></li><li><p>zu verwendener Governor</p></li></ul><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die <a class="internal" href="./shell/umleitungen.html">Umleitung</a> über <strong>tee</strong> ist für das Wechseln des Governors notwendig, da ein direktes <strong>echo conservative &gt; /sys/...</strong> nicht erlaubt ist und mit einer Fehlermeldung beendet wird. 
</p></div></div><p>Die Änderungen lassen sich per <strong>echo</strong> in die entsprechende Datei schreiben. Im folgenden Beispiel wird zuerst der aktuelle Governor abgefragt, dann die möglichen Alternativen und anschließend der Governor von "ondemand" auf "conservative" gesetzt:</p><div class="bash"><div class="contents"><pre class="notranslate">cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor </pre></div></div><p>
</p><pre class="notranslate">ondemand</pre><div class="bash"><div class="contents"><pre class="notranslate">cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_available_governors </pre></div></div><p>
</p><pre class="notranslate">powersave userspace ondemand conservative performance</pre><div class="bash"><div class="contents"><pre class="notranslate">echo conservative | sudo tee /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor </pre></div></div><p>
</p><pre class="notranslate">conservative</pre><p>Zu bedenken ist, dass die Änderung flüchtig ist, d.h. nach einem Neustart des Rechners muss die gewünschte Änderung erneut vorgenommen werden. Oder man nutzt die folgende Anleitung:</p><p><a class="crosslink anchor" href="#sysfsutils" id="sysfsutils"></a>
</p></div></div><div class="section_2"><h3 id="Einstellung-bei-Systemstart-festlegen">Einstellung bei Systemstart festlegen<a class="headerlink" href="#Einstellung-bei-Systemstart-festlegen">¶</a></h3><p>
Mit Hilfe der <strong>sysfsutils</strong> lassen sich Einträge im Verzeichnis <strong>/sys</strong> bei Systemstart vornehmen. So ist es z.B. auch möglich, den Governor festzulegen, ohne jedesmal den Befehl <code class="notranslate">echo &lt;Option&gt; | sudo tee ...</code> aufrufen zu müssen.</p><p>Dazu muss man das Paket</p><ul><li><p><strong>sysfsutils </strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install sysfsutils  </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install sysfsutils  </pre></div></div><p>
</p></div></div><p>installieren. Anschließend bearbeitet oder ergänzt man in der Konfigurationsdatei <strong>/etc/sysfs.conf</strong> in einem Editor mit Root-Rechten <sup><a href="#source-3">[3]</a></sup>. Um z.B. den <em>"Ondemand Governor"</em> festzulegen und den minimalen CPU-Takt auf 1,0 Ghz, ergänzt man folgende Zeilen:</p><pre class="notranslate">devices/system/cpu/cpu0/cpufreq/scaling_governor = ondemand
devices/system/cpu/cpu0/cpufreq/scaling_min_freq = 1000000</pre><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Hat man einen Mehrkernprozessor, so müssen die entsprechenden Einträge natürlich auch für die weiteren CPUs vorgenommen werden. 
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Wenn man sysfsutils für die dauerhafte Änderung des Governors benutzen möchte, sollte das <strong>ondemand</strong>-Skript in <strong>/etc/init.d</strong> deaktiviert werden, um sicher zu stellen, dass die in <strong>/etc/sysfs.conf</strong> vorgenommenen Einstellungen nicht überschrieben werden.
</p></div></div><p>Dazu muss folgender Befehl eingegeben werden:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo update-rc.d ondemand disable </pre></div></div><p><a class="crosslink anchor" href="#module" id="module"></a>
</p></div></div><div class="section_1"><h2 id="Kernel-Module">Kernel-Module<a class="headerlink" href="#Kernel-Module">¶</a></h2><p>
</p><div class="box improvable"><h3 class="box improvable">Ausbaufähige Anleitung</h3><div class="contents"><p>
Dieser Anleitung fehlen noch einige Informationen. Wenn Du etwas
verbessern kannst, dann editiere den Beitrag, um die Qualität
des Wikis noch weiter zu verbessern.
</p><hr/><p><strong>Anmerkung:</strong> Dieser Abschnitt geht nicht auf das Modul <code class="notranslate">intel-pstate</code> ein, das teilweise bei neuen Intel-CPUs verwendet wird (<a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Intel-Sandy-Bridge-Mikroarchitektur">Sandy Bridge und neuer</a>). Siehe auch <a class="crosslink" href="#Intel-Turbo-Boost">Intel Turbo Boost</a>.
</p></div></div><p>Die in diesem Artikel besprochenen Funktionen setzen voraus, dass ein entsprechendes Kernelmodul zur Taktfrequenzanpassung für den Prozessor geladen ist. Ob dies der Fall ist, lässt sich über den Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">lsmod | less </pre></div></div><p>
feststellen (beenden mit <strong>q</strong>).</p><p>In der Übersicht sollte, je nach Prozessor, eines der folgenden Module auftauchen:</p><table style="width: 97%"><tr class="titel"><td colspan="2">Übersicht</td></tr><tr class="kopf"><td> Prozessortyp </td><td> Kernel-Modul </td></tr><tr><td> Intel Prozessoren neuerer Generation, bei korrekter ACPI-Implementierung </td><td> <strong>acpi-cpufreq</strong> oder <strong>intel-pstate</strong></td></tr><tr><td> Intel Centrino (Kompatibilitätsmodus) </td><td> <strong>speedstep-centrino</strong> </td></tr><tr><td> Intel Pentium 4 (und teilweise neuere) </td><td> <strong>p4-clockmod</strong></td></tr><tr><td> Intel Pentium-III M </td><td> <strong>speedstep-ich</strong> </td></tr><tr><td> AMD </td><td> je nach Modellreihe <strong>powernow-k6</strong>, <strong>powernow-k7</strong> oder <strong>powernow-k8</strong> </td></tr><tr><td> Mainboards mit Nforce2-Chipsatz </td><td> <strong>cpufreq_nforce2</strong> </td></tr></table><p>
In neueren Ubuntu-Versionen sind die Module teilweise statisch in den Kernel eingebunden, und werden daher nicht von <strong>lsmod</strong> angezeigt. Für <strong>intel-pstate</strong> prüft man das z.B. mit folgendem Befehl. Steht am Ende der Ausgabezeile ein "y", ist das Modul fest in den Kernel eingebunden und wird daher bei jedem Start geladen.</p><div class="bash"><div class="contents"><pre class="notranslate">grep INTEL_PSTATE /boot/config*
...
/boot/config-4.4.0-104-generic:CONFIG_X86_INTEL_PSTATE=y
... </pre></div></div><p>In manchen Fällen - gerade bei Notebooks - kann es vorkommen, dass das BIOS falsche ACPI-Tabellenwerte zurückliefert. Dann kann es sein, dass entweder kein Modul geladen wurde oder ein anderes nötig ist. Benutzer mit einem Intel Core Duo können bei Problemen unter Umständen Abhilfe schaffen, indem sie das Kernel-Modul <strong>p4-clockmod</strong> laden.</p><p>Ab dem Kernel 3.15 (<a class="internal" href="./utopic.html">Ubuntu 14.10</a>) wird für neuere Intel-Chips P-State verwendet. Dieser Treiber unterstützt nur die Governors "Performance" und "Powersave".</p><p>Ein Kernel-Modul wird mit</p><div class="bash"><div class="contents"><pre class="notranslate">sudo modprobe -v modulname </pre></div></div><p>
geladen. Näheres zum Umgang mit Modulen erfährt man unter <a class="internal" href="./kernelmodule.html">Kernelmodule</a>.</p><p>Nach dem Laden des richtigen Moduls sollte das Heruntertakten funktionieren. Wenn nicht, dann kann vielleicht noch ein <a class="internal" href="./bios_aktualisieren.html">BIOS-Update/-Downgrade</a> (bekannte Bugs beim BIOS von Asus Mainboards; siehe <a class="crosslink topic" href="https://forum.ubuntuusers.de/topic/acpi-cpufreq-no-such-device/">Forum</a>) helfen.</p></div><div class="section_1"><h2 id="Intel-Turbo-Boost">Intel Turbo Boost<a class="headerlink" href="#Intel-Turbo-Boost">¶</a></h2><p>
Mit <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/Intel_Turbo_Boost">Intel Turbo Boost</a> wird die automatische Erhöhung des Rechentakts von Hauptprozessoren bezeichnet. Sie wurde von der Firma Intel eingeführt. Diese Funktion erhöht bei Bedarf kurzfristig die Rechenleistung, indem ein Kern übertaktet wird, während sich die anderen im Leerlauf befinden. Zwangsläufig steigen dadurch auch Energieaufnahme und Wärmeabgabe. Im zumeist vorherrschenden Leerlauf wird dann aber im Endeffekt weniger Energie verbraucht.</p><p>Um die dynamische Erhöhung des Prozessortaktes zu testen, öffnet man ein Terminal und startet den Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">grep MHz /proc/cpuinfo </pre></div></div><p>
Bei einem Prozessor mit vier Kernen sollte die Ausgabe so aussehen:</p><pre class="notranslate">cpu MHz         : 1600.000
cpu MHz         : 1600.000
cpu MHz         : 1600.000
cpu MHz         : 1600.000</pre><p>
Nun startet man ein zweites Terminal. Dort startet man eine Endlosschleife mit folgendem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">while :; do :; done </pre></div></div><p>Im ersten Fenster ist nun wieder <code class="notranslate">grep MHz /proc/cpuinfo</code> auszuführen. Die Ausgabe sollte zeigen, dass ein Prozessor den maximalen Takt nutzt.</p><pre class="notranslate">cpu MHz         : 1600.000
cpu MHz         : 3701.000
cpu MHz         : 1600.000
cpu MHz         : 1600.000</pre><p>
Die im zweiten Fenster noch laufende Schleife kann mit der Tastenkombination 
<span class="key">Strg</span>  + 
<span class="key">C</span>  abgebrochen werden. Sollte sich Turbo Boost auf diese Weise nicht nachweisen lassen, hilft u.U. ein Blick in die BIOS-Einstellungen des Rechners weiter.</p><p><a class="crosslink anchor" href="#doku" id="doku"></a>
</p></div><div class="section_1"><h2 id="Weiterfuehrende-Informationen">Weiterführende Informationen<a class="headerlink" href="#Weiterfuehrende-Informationen">¶</a></h2><p>
Weitere Informationen zu den verschiedenen Governors, den Dateien im Verzeichnis <strong>/sys/devices/system/cpu/cpu0/cpufreq</strong> und manuellen Eingriffsmöglichkeiten enthält die Kernel-Dokumentation. Diese kann über folgendes Paket installiert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>linux-doc</strong></p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install linux-doc </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install linux-doc </pre></div></div><p>
</p></div></div><p>Die entsprechenden Dokumente befinden sich dann im Verzeichnis <strong>/usr/share/doc/linux-doc-KERNELVERSION/Documentation/cpu-freq</strong>, wobei die <em>KERNELVERSION</em> je nach System variiert.</p></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="ondemand-Governor-startet-nicht">ondemand-Governor startet nicht<a class="headerlink" href="#ondemand-Governor-startet-nicht">¶</a></h3><p>
Per Design - <em>it's a feature, not a bug</em> - wird der Rechner ab <a class="internal" href="./jaunty.html">Ubuntu 9.04</a> mit dem Governor <code class="notranslate">performance</code> gestartet. Nach kurzer Zeit (wenige Minuten nach Systemstart) übernimmt der neue <a class="internal" href="./dienste.html">Dienst</a> <strong>ondemand</strong> die Aufgabe, den gleichnamigen Governor <code class="notranslate">ondemand</code> zu aktivieren. Damit ist Ubuntu in der Lage, den Systemstart zu beschleunigen, während der Prozessor im normalen Betrieb dynamisch geregelt wird.</p><p>Allerdings können Probleme mit manchen CPUs auftreten, die auf <code class="notranslate">performance</code> bleiben. Zur Diagnose die Datei <strong>/var/log/kern.log</strong> auf Fehlermeldungen prüfen. Beispiel:
</p><blockquote><p>"ondemand governor failed, too long transition latency of HW, fallback to performance governor"</p></blockquote><p>
Praktisch heißt das: der Prozessor ist nicht in der Lage, ausreichend schnell herunter- bzw. hochzutakten. Daher wird er dauerhaft mit der höchsten Taktfrequenz betrieben.</p><p>Speziell beim Pentium 4 kann der Einsatz eines <code class="notranslate">userspace</code>-Governors in Kombination mit dem Kernelmodul <code class="notranslate">p4-clockmod</code> helfen. Obwohl einzelne Taktstufen dann frei wählbar sind, bewirkt die Auswahl von "Conservative" und "Ondemand" in manchen Fällen einen Rückfall auf "Performance" ("Powersave" funktioniert). Die Kontrolle kann alternativ auch mit <a class="internal" href="./powertop.html">PowerTOP</a> erfolgen.</p><p>Der Dienst <strong>ondemand</strong> kann auch der Grund sein, wenn eigene Einstellungen (z.B. über <a class="internal" href="./rc.local.html">/etc/rc.local</a>) wieder überschrieben bzw. zurückgesetzt werden. Dies sollte bei Manipulationen am Governor beachtet werden.</p><div class="section_3"><h4 id="Bis-Ubuntu-13-04">Bis Ubuntu 13.04<a class="headerlink" href="#Bis-Ubuntu-13-04">¶</a></h4><p>
Alternativ empfiehlt sich der Einsatz des Programms <strong>cpufreqd</strong>:</p><ul><li><p><strong>cpufreqd</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install cpufreqd </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install cpufreqd </pre></div></div><p>
</p></div></div><p>
Die Konfiguration erfolgt über die Datei <strong>/etc/cpufreqd.conf</strong>. Einfach einen Eintrag für <code class="notranslate">ondemand</code> erzeugen und die restlichen Einträge ausdokumentieren oder ersatzlos löschen.</p></div><div class="section_3"><h4 id="Ab-Ubuntu-13-10">Ab Ubuntu 13.10<a class="headerlink" href="#Ab-Ubuntu-13-10">¶</a></h4><p>
Im Gegensatz zu früheren Ubuntu-Versionen sollte <strong>cpufreqd</strong> nicht mehr verwendet werden, da es mehr Probleme bereitet als löst.</p></div></div><div class="section_2"><h3 id="Prozessor-taktet-bei-unwichtigen-Prozessen-hoch">Prozessor taktet bei unwichtigen Prozessen hoch<a class="headerlink" href="#Prozessor-taktet-bei-unwichtigen-Prozessen-hoch">¶</a></h3><p>
Ab <a class="internal" href="./jaunty.html">Ubuntu 9.04</a> werden auch Prozesse niedriger Priorität (kleiner <a class="internal" href="./shell/nice.html">nice</a>-Wert) bei dynamischen Govenor (z.B. <code class="notranslate">ondemand</code>) bei Auslastung mit hoher Taktfrequenz bearbeitet. Dies kann bei Hintergrundprozessen (z.B. <a class="internal" href="./boinc.html">BOINC</a>) unerwünscht den Stromverbrauch erhöhen. Dies wird mit dem Setzen der Datei <a class="internal" href="./prozessortaktung.html#Details-zum-laufenden-Governor">ignore_nice_load</a> auf 1 geändert. Die einfachste Methode ist es, dies mit Hilfe der <a class="internal" href="./prozessortaktung.html#sysfsutils">sysfsutils</a> gleich beim Start festzulegen. Dazu muss das Paket <strong>sysfsutils</strong> installiert sein.</p><p>Dann öffnet man die Datei <strong>/etc/sysfs.conf</strong> mit einem Texteditor <sup><a href="#source-3">[3]</a></sup> und Root-Rechten <sup><a href="#source-4">[4]</a></sup> und fügt folgende Zeilen ein (spätestens seit Ubuntu 12.04 entfällt hier "<code class="notranslate">cpu0/</code>") :</p><pre class="notranslate">devices/system/cpu/cpu0/cpufreq/scaling_governor = ondemand
devices/system/cpu/cpu0/cpufreq/ondemand/ignore_nice_load = 1</pre><p>Dann wird wie gehabt beim Start des Systems automatisch der <a class="internal" href="./prozessortaktung.html#Arbeitsweise-der-Governors">Ondemand-Govenor</a> eingestellt, allerdings ignoriert er dann Prozesse niedriger Priorität.</p><p>Um dieses Verhalten beim Systemstart automatisch zu aktivieren, kann man die Zeile:</p><pre class="notranslate">## spätestens seit Ubuntu 12.04 entfällt hier "cpu0/"
echo 1 &gt; /sys/devices/system/cpu/cpu0/cpufreq/ondemand/ignore_nice_load</pre><p>
in die Datei <a class="internal" href="./rc.local.html">/etc/rc.local</a> eintragen.</p><p>Damit die Einstellung auch nach dem Erwachen aus dem Standby erhalten bleibt, muss die Datei <strong>/usr/lib/pm-utils/sleep.d/94cpufreq</strong> angepasst werden, um den "ignore_nice_load" erneut setzen:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="k">case</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> in
	suspend<span class="p">|</span>hibernate<span class="o">)</span>
		hibernate_cpufreq
		<span class="p">;;</span>
	resume<span class="p">|</span>thaw<span class="o">)</span>
		thaw_cpufreq<span class="p">;</span>
		<span class="nb">echo</span> <span class="m">1</span> &gt; /sys/devices/system/cpu/cpufreq/ondemand/ignore_nice_load
		<span class="p">;;</span>
	*<span class="o">)</span> <span class="nb">exit</span> <span class="nv">$NA</span>
		<span class="p">;;</span>
<span class="k">esac</span>
</pre></div>
</td></tr></table></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./laptop-mode-tools.html">laptop-mode-tools</a> - Taktfrequenz etc. eines (Laptop-) Computers kontrollieren </p></li><li><p><a class="internal" href="./strom_sparen.html">Strom sparen</a> - weitere Maßnahmen, um (am Laptop) Strom zu sparen</p></li><li><p><a class="interwiki interwiki-attachment" href="./prozessortaktung.html">Shell-Skript zum schnellen Anzeigen der möglichen CPU-Frequenzen, verfügbarer Governors etc.</a> <img alt="{dl}" src="./_/8e630211d0f5f5cb7c6424055f9c9aa15a420fab.png"/> </p></li><li><p><a class="external" href="http://linuxundich.de/de/2009/06/powersave-heist-nicht-energie-sparen/" rel="nofollow">Powersave heißt nicht Energie sparen</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/> </p></li><li><p><a class="external" href="http://www.thinkwiki.org/wiki/How_to_use_cpufrequtils" rel="nofollow">How to use cpufrequtils</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li><li><p><a class="external" href="http://askubuntu.com/questions/544266/why-are-missing-the-frequency-options-on-cpufreq-utils-indicator" rel="nofollow">Why are missing the frequency options on cpufreq-utils indicator?</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./prozessortaktung/a/revision/945706.html">Diese Revision</a> wurde am 24. Dezember 2017 15:27 von <a href="https://ubuntuusers.de/user/rolands11/">rolands11</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./prozessortaktung.html">Prozessortaktung</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>