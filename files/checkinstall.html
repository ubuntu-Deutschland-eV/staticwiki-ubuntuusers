<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>checkinstall › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./checkinstall.html">checkinstall</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/checkinstall">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./checkinstall/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./checkinstall/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./checkinstall/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./checkinstall/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./checkinstall/a/backlinks.html">checkinstall</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./sudo.html">Root-Rechte erlangen</a></p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./paketinstallation_deb.html">Ein einzelnes Paket installieren</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Einschraenkungen">Einschränkungen
</a></li><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Verwendung">Verwendung
</a></li><li><a class="crosslink" href="#Problembehebung">Problembehebung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><img alt="Wiki/Icons/terminal.png" class="image-left" src="./_/e81889fd6e485dd32e1cde611eabc18abced7993.png"/>
Ein klassisches Problem bei Kompilierung eines Programms aus dem Quellcode ist, dass man (als Nicht-Entwickler) häufig nicht nachvollziehen kann, welche Dateien bei der Installation wohin kopiert werden. Das macht eine Deinstallation so gut wie unmöglich.</p><p><a class="external" href="http://checkinstall.izto.org/" rel="nofollow">Checkinstall</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein Kommandozeilenwerkzeug, um aus dem Quelltext ein Debian-Paket (<strong>.deb</strong>) zu erstellen, das anschließend automatisch installiert werden kann. Dadurch können selbstkompilierte Programme mit einer beliebigen Paketverwaltung wieder rückstandsfrei entfernt werden. Des Weiteren können diese Pakete verwendet werden, um eine <a class="internal" href="./lokale_paketquellen.html">lokale Paketquelle</a> einzurichten.</p><p>Eine andere Methode der Kompilierung mit der Möglichkeit einer einfachen Deinstallation, aber ohne die Erstellung eines DEB-Pakets, ist die Nutzung von <a class="internal" href="./paco.html">paco</a> bzw. dessen Nachfolger <a class="internal" href="./porg.html">porg</a>.</p><div class="section_1"><h2 id="Einschraenkungen">Einschränkungen<a class="headerlink" href="#Einschraenkungen">¶</a></h2><p>
</p><ul><li><p>Technisch betrachtet gilt die Verwendung von checkinstall als "quick &amp; dirty", da nicht alle Möglichkeiten durch die herkömmliche <a class="internal" href="./grundlagen_der_paketerstellung.html">Paketerstellung</a> gegeben sind (beispielsweise Prüfsummen, Maintainer-Skripte oder Modifikationen beim Kompiliervorgang). Dadurch sind die mit checkinstall erstellten Pakete von geringerer Qualität als herkömmlich erstellte. Zur Veröffentlichung bestimmte Pakete sollte man deswegen unbedingt über den herkömmlichen Weg erzeugen. Weitere Informationen dazu finden sich unter <a class="internal" href="./paketbau.html">Paketbau</a>.</p></li></ul><p>
</p><ul><li><p>Für das Kompilieren von Kernelmodulen (Treibern) ist checkinstall nicht geeignet. Hierbei muss entweder auf die <a class="internal" href="./programme_kompilieren/alternativen.html#Die-Debian-Methode">Debian-Methode</a> oder auf die Installation über <code class="notranslate">make install</code> als <a class="internal" href="./programme_kompilieren.html#Die-Standard-Methode">Standard-Methode</a> zurückgegriffen werden. Ferner sei nochmals erwähnt, dass Kernel-Module bei Kernel-Updates, also der Installation eines neuen Kernels, immer neu kompiliert und installiert werden müssen. Hier bietet sich der Einsatz von <a class="internal" href="./dkms.html">dkms</a> an, um diesen Vorgang zu automatisieren.</p></li></ul><p>
</p></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Das Programm ist Bestandteil der offiziellen Paketquellen. Folgendes Paket muss installiert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>checkinstall</strong> (<em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install checkinstall </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install checkinstall </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Verwendung">Verwendung<a class="headerlink" href="#Verwendung">¶</a></h2><p>
Ein einfaches Beispiele, die die Verwendung von checkinstall demonstriert <sup><a href="#source-2">[2]</a></sup><sup><a href="#source-3">[3]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">tar xvf foo-1.0.tar.gz
cd foo-1.0
./configure
make
sudo checkinstall </pre></div></div><p>
Der einzige Unterschied zum sonst üblichen Dreisatz aus <code class="notranslate">configure</code>, <code class="notranslate">make</code> und <code class="notranslate">sudo make install</code> ist in der letzten Zeile zu finden: statt einer direkten Installation erstellt checkinstall zuerst ein Debian-Paket, das anschließend sofort installiert wird (ein Beispieldurchlauf befindet sich <a class="crosslink" href="#Beispiel">am Ende</a> des Artikels).</p><p>Bevor ein Debian-Paket erstellt wird, fragt checkinstall zunächst einige wichtige Paketmetainformationen ab:</p><ul><li><p>Die Frage nach dem Erstellen eines Standardordners <em>"docs"</em> für das Paket kann man einfach bestätigen.</p></li><li><p>In die Paketbeschreibung kann man je nach Wunsch nichts oder z. B. die Kurzbeschreibung des Programms aus der Dokumentation übernehmen.</p></li><li><p>Abschließend gibt checkinstall eine Übersicht über die Paketinformationen, die man editieren kann. Wichtig dabei sind korrekt gesetzter Paketname und eine Versionsnummer.</p><ul><li><p>Der Paketname hat insbesondere für eine parallele Installation des selbst kompilierten Programms zu einem bereits in der Paketverwaltung bestehendem Paket eine besondere Bedeutung. Man kann natürlich den Paketnamen ändern, damit das bestehende Paket nicht überschrieben wird. Dadurch kann es aber auch zu Überschneidungen kommen, bei denen eine Fehlermeldung ausgegeben wird, dass eine Datei überschrieben werden soll, die auch in dem "ursprünglichen" Paket enthalten ist - die Installation bricht dann ab! Hier sollte man also zuvor an die <code class="notranslate">--prefix</code>-<a class="internal" href="./programme_kompilieren.html#Weitere-Optionen">Einstellung</a> beim <strong>configure</strong>-Skript denken.</p></li><li><p>Eine falsche Versionsnummer kann die Paketverwaltung dazu veranlassen, das "alte" Paket aus den offiziellen Paketquellen immer wieder zur Aktualisierung vorzuschlagen. Um das zu vermeiden, sollte man sich die <a class="internal" href="./versionsnummern_von_ubuntu-paketen.html">Versionierung</a> der Ubuntu-Pakete ansehen und die Versionsnummer dementsprechend setzen. Die vom Programmautor verwendete Art der Versionierung eines Programms kann von der Ubuntu-Versionierung abweichen.</p></li></ul></li></ul><p>
checkinstall wird nach dem Durchlauf ausgeben, ob die Installation erfolgreich war und wo das neu erstelle Paket abgelegt wurde. Eine spätere Deinstallation erfolgt dann mittels einer beliebigen <a class="internal" href="./paketverwaltung.html#Paketverwaltung">Paketverwaltung</a>.</p><p>Möchte man auf eine automatische Installation des neu erstellten Pakets verzichten, lässt man das <code class="notranslate">sudo</code> einfach weg. Zwangsläufig wird checkinstall einen Fehler ausgeben, weil ein Paket ohne Root-Rechte nicht installiert werden kann. Das Paket wird aber trotzdem im Quelltextverzeichnis erstellt und kann anschließend manuell installiert werden <sup><a href="#source-4">[4]</a></sup>.</p><p>Alternativ hilft auch der folgende Aufruf:</p><div class="bash"><div class="contents"><pre class="notranslate">checkinstall --install=no </pre></div></div><p>Neben diesem einfachen Beispiel besitzt das Programm eine Reihe weiterer Optionen, die der <a class="internal" href="./man.html">Manpage</a> zu entnehmen sind. checkinstall verwendet die Datei <strong>/etc/checkinstallrc</strong> für systemweite Einstellungen.</p></div><div class="section_1"><h2 id="Problembehebung">Problembehebung<a class="headerlink" href="#Problembehebung">¶</a></h2><p>
</p><div class="section_2"><h3 id="checkinstall-bricht-Installation-ab">checkinstall bricht Installation ab<a class="headerlink" href="#checkinstall-bricht-Installation-ab">¶</a></h3><p>
Bricht checkinstall die Installation mit obskuren Fehlern ab, dann liegt das meist daran, dass es neue Dateien nicht anlegen kann. Das Problem liegt dann im "<em>file translation code</em>" von <strong>installwatch</strong> (einem Unterprogramm von checkinstall), das hierfür ein Art virtuelles Dateisystem bereitstellt, damit das Eigentliche nicht angerührt wird. Die Installationsroutine kann manchmal neu erstellte Dateien nicht finden und bricht deswegen ab. Dies kann dann beispielsweise so aussehen:</p><pre class="notranslate">install: cannot change permissions of `/usr/local/etc/mplayer': No such file or directory
make: *** [install-dirs] Fehler 1</pre><p>Lösung: Mit der Option <code class="notranslate">--fstrans=no</code> beim Aufruf von checkinstall wird diese Funktion deaktiviert. Oft ist eine Installation auch erfolgreich, wenn zunächst  <code class="notranslate">make install</code> ausgeführt wird, und danach ein <code class="notranslate">checkinstall</code> erfolgt.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Problematisch ist in diesem Zusammenhang, dass mit Root-Rechten erstellte Dateien im eigenen Homeverzeichnis nicht vom eigentlichen Benutzer gelöscht werden können. Zum Löschen der mit <code class="notranslate">sudo...</code> selbst erstellten Pakete sind grundsätzlich Root-Rechte erforderlich.
</p></div></div></div><div class="section_2"><h3 id="Erstellen-von-Paketname-deb-schlaegt-fehl-Erstelle-Debian-Paket-FAILED">Erstellen von Paketname.deb schlägt fehl (Erstelle Debian-Paket... FAILED!)<a class="headerlink" href="#Erstellen-von-Paketname-deb-schlaegt-fehl-Erstelle-Debian-Paket-FAILED">¶</a></h3><p>
Tritt beim Erstellen des Debian-Pakets obiger Fehler auf, so liegt dies wahrscheinlich daran, dass beim Aufruf von checkinstall und der damit einhergehenden Erstellung der Datei <strong>./doc-pak</strong> eine ungültige Versionsnummer angegeben wurde.</p><pre class="notranslate">dpkg-deb: Fehler: Parsen der Datei »/var/tmp/tmp.y9z26Ip5DO/package/DEBIAN/control«, nahe Zeile 7 Paket »mplayer«:
 Fehler in Versionszeichenkette »vaapi-1«: Versionsnummer beginnt nicht mit einer Ziffer
/var/tmp/tmp.y9z26Ip5DO/dpkgbuild.log (END)</pre><p><a class="crosslink anchor" href="#Beispiel" id="Beispiel"></a></p><p>Ein praktisches Beispiel:
</p><pre class="notranslate">checkinstall 1.6.2, Copyright 2009 Felipe Eduardo Sanchez Diaz Duran
  Diese Software wurde unter der GNU GPL veröffentlicht



*****************************************
**** Debian package creation selected ***
*****************************************

Das Paket wird entsprechend dieser Vorgaben erstellt:

0 -  Maintainer: [ root@Ideapad-S205 ]
1 -  Summary: [ mplayer VAAPI support ]
2 -  Name:    [ mplayer ]
3 -  Version: [ vaapi ]            <strong class="highlighted">Versionsnummer beginnt NICHT mit einer Zahl!</strong>
4 -  Release: [ 1 ]
5 -  License: [ GPL ]
6 -  Group:   [ checkinstall ]
7 -  Architecture: [ amd64 ]
8 -  Source location: [ mplayer-vaapi ]
9 -  Alternate source location: [  ]
10 - Requires: [  ]
11 - Provides: [ mplayer ]
12 - Conflicts: [  ]
13 - Replaces: [  ]

Geben Sie die betreffende Nummer ein, um die Vorgaben zu ändern: 

Installing with make install...

====================== Installations-Ergebnisse ==========================
install -d /usr/local/bin /usr/local/etc/mplayer /usr/local/lib
install -m 755 -s mencoder /usr/local/bin
install -d /usr/local/share/man/man1
install -m 644 DOCS/man/en/mplayer.1 /usr/local/share/man/man1/
cd /usr/local/share/man/man1 &amp;&amp; ln -sf mplayer.1 mencoder.1
install -m 755 -s mplayer /usr/local/bin

====================== Installation erfolgreich ==========================

Copying documentation directory...
./
./AUTHORS
./Changelog
./README
./LICENSE

Kopiere Dateien in das temporäre Verzeichnis...OK

Stripping ELF binaries and libraries...OK

Komprimiere man-Seiten...OK

Erzeuge Datei-Liste...OK

Erstelle Debian-Paket... FAILED!   <strong class="highlighted">Hier das Resultat: .deb kann nicht erstellt werden</strong>

*** Paket-Erstellung fehlgeschlagen

Möchten Sie die log-Datei sehen?  [y]: y

Lösche temporäre Dateien...OK

Schreibe Sicherungs-Paket...OK
OK

Lösche temporäres Verzeichnis...OK</pre><p>Lösung: Beim Aufruf von checkinstall und der Abfrage:
</p><blockquote><p>"Geben Sie die betreffende Nummer ein, um die Vorgaben zu ändern:"</p></blockquote><p>
die <code class="notranslate">3</code> wählen und eine Versionsnummer eingeben (am besten die Richtige), die mit einer Zahl beginnt. Dann sollte checkinstall problemlos durchlaufen.</p><p>Alternativ checkinstall direkt die Versionsnummer beim Aufruf übergeben:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo checkinstall --pkgversion VERSIONSNUMMER </pre></div></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://checkinstall.izto.org/" rel="nofollow">Projektseite</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p><ul><li><p><a class="interwiki interwiki-man" href="http://manpages.ubuntu.com/cgi-bin/search.py?lr=lang_en&amp;q=checkinstall">Manpage</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/></p></li></ul></li><li><p><a class="internal" href="./programme_kompilieren.html">Programme kompilieren</a> <img alt="{Übersicht}" src="./_/021d71c30babf2ce4dd27339ba3c55995610945b.png"/> Übersichtsartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./checkinstall/a/revision/942650.html">Diese Revision</a> wurde am 20. Juli 2017 16:00 von <a href="https://ubuntuusers.de/user/Heinrich_Schwietering/">Heinrich_Schwietering</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./checkinstall.html">checkinstall</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>