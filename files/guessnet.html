<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>Guessnet › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./guessnet.html">Guessnet</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/Guessnet">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./guessnet/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./guessnet/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./guessnet/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./guessnet/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./guessnet/a/backlinks.html">Guessnet</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
Dieser Artikel ist mit keiner aktuell unterstützten Ubuntu-Version getestet! Bitte diesen Artikel testen und das getestet-Tag entsprechend anpassen.
</p></div></div><p>
</p><p>
</p><div class="box advanced"><h3 class="box advanced">Artikel für fortgeschrittene Anwender</h3><div class="contents"><p>
Dieser Artikel erfordert mehr Erfahrung im Umgang mit
Linux und ist daher nur für fortgeschrittene Benutzer
gedacht.
</p></div></div><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./interfaces.html">Aufbau der /etc/network/interfaces</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Verkabelte-Netzwerke-guessnet-ifplugd">Verkabelte Netzwerke - guessnet/ifplugd
</a></li><li><a class="crosslink" href="#Wireless-LAN-wpa-supplicant-als-Roaming-Daemon">Wireless LAN: wpa_supplicant als Roaming D...</a><ol class="arabic"><li><a class="crosslink" href="#Ohne-guessnet">Ohne guessnet
</a></li><li><a class="crosslink" href="#Mit-guessnet">Mit guessnet
</a></li></ol></li><li><a class="crosslink" href="#Routing-Probleme-verhindern">Routing-Probleme verhindern
</a></li><li><a class="crosslink" href="#Problembehandlung">Problembehandlung
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p><a class="external" href="http://guessnet.alioth.debian.org/" rel="nofollow">Guessnet</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> ist ein kleines Hilfsprogramm, dass in Kombination mit anderen Hilfsprogrammen wie ifplugd und <a class="internal" href="./wlan/wpa_supplicant.html">wpa-supplicant</a> die Konfiguration der Netzwerkschnittstellen übernimmt, wenn sich ein Rechner, z.B. ein Laptop, zwischen verschiedenen Netzen bewegt.</p><p>Vorteile gegenüber dem <a class="internal" href="./network-manager.html">Network-Manager</a>, der eine ähnliche Funktion erfüllt, sind u.a. die Möglichkeit auch statische IP-Adressen oder gar <a class="interwiki interwiki-wikipedia" href="https://de.wikipedia.org/wiki/PPPoE">PPPoE</a>-Verbindungen mit einzubeziehen und die nahtlose Integration in das Debian-Netzwerkmanagement, das auch von Ubuntu verwendet wird. Außerdem benötigt man keine grafische Oberfläche.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Folgende Pakete müssen auf jeden Fall installiert werden <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>guessnet</strong> (<em>universe</em>)</p></li><li><p><strong>ifplugd</strong> (<em>universe</em> )</p></li><li><p><strong>resolvconf</strong> (<em>universe</em> )</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install guessnet ifplugd resolvconf </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install guessnet ifplugd resolvconf </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Verkabelte-Netzwerke-guessnet-ifplugd">Verkabelte Netzwerke - guessnet/ifplugd<a class="headerlink" href="#Verkabelte-Netzwerke-guessnet-ifplugd">¶</a></h2><p>
Als erstes muss ifplugd mitgeteilt werden, welche Schnittstellen überhaupt beobachtet werden sollen. Dazu trägt man in einem Editor<sup><a href="#source-2">[2]</a></sup> mit Root-Rechten diese in die Datei <strong>/etc/default/ifplugd</strong> ein :</p><pre class="notranslate">INTERFACES="eth0"</pre><p>Dann muss die Datei <strong>/etc/network/interfaces</strong><sup><a href="#source-3">[3]</a></sup>, das Herzstück der Netzwerkkonfiguration angepasst werden <sup><a href="#source-4">[4]</a></sup>. Das Loopback-Interface bleibt, wie es ist:</p><pre class="notranslate">auto lo
iface lo inet loopback</pre><p>Nun kommt der neue Abschnitt, der die Kontrolle an Guessnet übergibt:</p><pre class="notranslate">mapping eth0
        script /usr/sbin/guessnet-ifupdown
        map timeout: 3
        map default: unbekannt</pre><p>Wenn Guessnet Schwierigkeiten bekommt, das Netz innerhalb von drei Sekunden zu erkennen, muss der Timeout-Wert entsprechend erhöht werden.</p><p>Nun kommen beliebig viele Netzwerkdefinitionen. Diese sehen im Großen und Ganzen genauso aus, wie bisher. Allerdings werden die Definitionsblöcke jetzt nicht mehr über den Namen der Schnittstelle (<code class="notranslate">eth0</code>, etc.) unterschieden, sondern bekommen beliebige Namen. Außerdem bekommen sie Teststatements, über die Guessnet ermittelt, welche Beschreibung zur Anwendung kommen soll. <code class="notranslate">auto</code>-Deklarationen sind überflüssig, da sich ifplugd um die Aktivierung der Schnittstelle(n) kümmert.</p><p>Hat man bspw. zu Hause feste IP-Adressen und eigene Nameserver, sieht der Abschnitt etwa so aus:</p><pre class="notranslate">iface zuhause inet static
        address 192.168.1.6
        netmask 255.255.255.0
        gateway 192.168.1.1
        dns-nameservers 192.168.1.1 192.168.1.2
        dns-search home.lan
        test1 peer address 192.168.1.1 mac 12:34:56:78:90:AB source 192.168.1.6
        test2 peer address 192.168.1.5 mac AB:CD:EF:AB:CD:EF</pre><p>Hierbei überprüft Guessnet das Vorhandensein eines der Rechner 192.168.1.1 und 192.168.1.5 mit der jeweils angegebenen MAC-Adresse im lokalen Netz. Hat einer der Tests Erfolg, geht Guessnet davon aus, dass der Rechner gerade "zuhause" angeschlossen wurde, und weist über den Debian-/Ubuntu-<code class="notranslate">ifupdown</code>-Mechanismus die angegebenen Netzwerkdaten zu. Die <code class="notranslate">dns</code>-Optionen werden von den Programmen und Skripten des Pakets <strong>resolvconf</strong> verarbeitet, welche daraufhin die Namensauflösung entsprechend umkonfigurieren.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die MAC-Adressen der anderen Rechner kann man sehr leicht mit dem Befehl <code class="notranslate">arp -a</code> herausfinden. Evtl. muss man vorher noch ein wenig Datenverkehr zum gewünschten Gerät erzeugen, bspw. mit <code class="notranslate">ping -c 1 RECHNER</code>. 
</p></div></div><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Manche Geräte machen Probleme, wenn Guessnet seine Tests durchführt, ohne selber eine IP-Adresse zu besitzen. In diesem Fall kann man mit <code class="notranslate">source ip</code> eine IP angeben, die für die Tests benutzt werden soll. Diese sollte natürlich am besten nicht in Gebrauch durch andere Rechner sein, um deren Netzverbindung nicht zu beeinträchtigen. Wenn man keine statische Adresse zur Verfügung hat, sollte man deshalb erst einmal die allgemeine Netzwerkadresse (meist mit '0' am Ende) verwenden. 
</p></div></div><p>Für den Fall, dass der Rechner gar nicht verbunden ist, sollte man eine "leere" Konfiguration verwenden, und außerdem fehlt noch die Standardeinstellung <code class="notranslate">unbekannt</code>, falls alle Tests fehlschlagen:</p><pre class="notranslate">iface keinnetz inet manual
        test missing-cable

iface unbekannt inet dhcp</pre></div><div class="section_1"><h2 id="Wireless-LAN-wpa-supplicant-als-Roaming-Daemon">Wireless LAN: wpa_supplicant als Roaming Daemon<a class="headerlink" href="#Wireless-LAN-wpa-supplicant-als-Roaming-Daemon">¶</a></h2><p>
</p><div class="section_2"><h3 id="Ohne-guessnet">Ohne guessnet<a class="headerlink" href="#Ohne-guessnet">¶</a></h3><p>
Um dieselbe Wirkung in einem drahtlosen Netzwerk zu erzielen, muss man leider komplett anders vorgehen, da ifplugd nicht mit verschlüsselten Netzen umgehen kann. Zum Glück stellt der <a class="internal" href="./wlan/wpa_supplicant.html">wpa-supplicant</a> eine ähnliche Funktionsweise namens <em>"Roaming"</em> bereit.</p><div class="section_3"><h4 id="wpa-supplicant-conf">wpa_supplicant.conf<a class="headerlink" href="#wpa-supplicant-conf">¶</a></h4><p>
Hierzu muss man erst eine passende Datei <strong>/etc/wpa_supplicant/wpa_supplicant.conf</strong> erstellen, wo die Informationen über die bekannten WLAN-Netze hinterlegt werden - wie es im Artikel <a class="internal" href="./wlan/wpa_supplicant.html">WLAN/wpa supplicant</a> beschrieben ist. Zusätzlich kann man dort jedem einzelnen Netz ein Attribut <code class="notranslate">id_str</code> zuweisen, womit dann später die verschiedenen Profile unterschieden werden, wie folgender Auszug zeigt:</p><pre class="notranslate">network={
        ssid="MeinWLAN"
        id_str="wlan-home"
        # sonstige Angaben, z.B. Schlüssel
}</pre></div><div class="section_3"><h4 id="interfaces">interfaces<a class="headerlink" href="#interfaces">¶</a></h4><p>
Nun muss ein entsprechender Block in der <strong>/etc/network/interfaces</strong><sup><a href="#source-5">[5]</a></sup> erstellt bzw. umgeändert werden <sup><a href="#source-4">[4]</a></sup>. Im Gegensatz zur o.a. Kabelkonfiguration mit ifplugd braucht man dieses Mal zwingend ein <code class="notranslate">auto</code>-Statement, damit das WPA-Roaming gleich beim Systemstart mitstartet:</p><pre class="notranslate">auto eth1
iface eth1 inet manual
        wpa-driver wext
        wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
        wpa-roam-default-iface unknown-wlan</pre><p>Wichtig ist, dass der Typ der Schnittstelle auf <code class="notranslate">manual</code> gesetzt wird, denn die Konfiguration wird nicht mehr direkt von <code class="notranslate">ifupdown</code> erledigt, sondern vom wpa-supplicant und seinen Helferprogrammen. Als Treiber sollte der generische Treiber der Wireless Extensions, <code class="notranslate">wext</code>, in den meisten Fällen funktionieren. Die <code class="notranslate">wpa-roam</code>-Zeile gibt einerseits den Befehl überhaupt Roaming durchzuführen und gibt gleichzeitig die Konfigurationsdatei des wpa-supplicant an. <code class="notranslate">wpa-roam-default-iface</code> gibt den Namen des Profils an, der bei Netzen ohne <code class="notranslate">id_str</code> verwendet werden soll.</p><p>Die einzelnen Profile werden in benannten Abschnitten festgelegt, wie weiter oben erläutert. <code class="notranslate">test</code>-Statements sind natürlich nicht nötig, da die Identifizierung über die SSID des WLANs stattfindet.</p></div></div><div class="section_2"><h3 id="Mit-guessnet">Mit guessnet<a class="headerlink" href="#Mit-guessnet">¶</a></h3><p>
</p><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>Wer die Flexibilität der Guessnet-Tests schätzt, (weil er bspw. oft in verschiedenen Netzen verkehrt, die alle "linksys" oder "Fritz!Box-Fon" heißen) der kann zusätzlich Guessnet über den wpa-supplicant ausführen. Hierfür sei auf die Informationen in der Datei <strong>/usr/share/doc/wpasupplicant/README.modes.gz</strong> verwiesen. 
</p></div></div></div></div><div class="section_1"><h2 id="Routing-Probleme-verhindern">Routing-Probleme verhindern<a class="headerlink" href="#Routing-Probleme-verhindern">¶</a></h2><p>
Leider gibt es keine einfache Möglichkeit Ubuntu herausfinden zu lassen, welche Default-Route verwendet werden soll, falls mehrere davon konfiguriert sind. Wer z.B. an einem verkabelten LAN angeschlossen ist, sich aber auch in Reichweite eines der konfigurierten WLANs befindet, sendet seinen Traffic nur über ein Interfaces, welches zufällig bestimmt wird. Das ist lästig, wenn dies dummerweise gerade das 10MBit-WLAN und nicht das 1GBit-LAN ist.</p><p>Um das zu verhindern, kann man sich entweder einen Routing-Daemon installieren (was nicht Thema dieses Artikels ist) oder man deaktiviert zur LAN-Benutzung die WLAN-Schnittstelle.</p></div><div class="section_1"><h2 id="Problembehandlung">Problembehandlung<a class="headerlink" href="#Problembehandlung">¶</a></h2><p>
Sollte die automatische Erkennung nicht funktionieren, kann mittels folgendem Befehl eine Debug-Ausgabe zur Fehlersuche erzeugt werden.</p><div class="bash"><div class="contents"><pre class="notranslate">guessnet -i --verbose --debug </pre></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="external" href="http://guessnet.alioth.debian.org/" rel="nofollow">Guessnet-Homepage</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://0pointer.de/lennart/projects/ifplugd/" rel="nofollow">Ifplugd-Homepage</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./guessnet/a/revision/939109.html">Diese Revision</a> wurde am 4. Mai 2017 11:02 von <a href="https://ubuntuusers.de/user/frustschieber/">frustschieber</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./guessnet.html">Guessnet</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>