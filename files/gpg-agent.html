<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>GPG-Agent › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./gpg-agent.html">GPG-Agent</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/GPG-Agent">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./gpg-agent/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./gpg-agent/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./gpg-agent/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./gpg-agent/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./gpg-agent/a/backlinks.html">GPG-Agent</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="./trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a></p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./terminal.html">Ein Terminalfenster öffnen</a></p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./sudo.html">Root-Rechte erlangen</a></p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Den-GPG-Agenten-starten">Den GPG-Agenten starten
</a></li><li><a class="crosslink" href="#Optionen">Optionen
</a></li><li><a class="crosslink" href="#Weitere-Einsatzmoeglichkeiten">Weitere Einsatzmöglichkeiten
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Dieser Artikel beschreibt die Einrichtung des GPG-Agenten. Man kann ihn benutzen, wenn man oft mit <a class="internal" href="./gnupg.html">GnuPG</a> arbeitet, aber nicht ständig sein Passwort eingeben möchte. Das ist beispielsweise der Fall, wenn man <a class="internal" href="./psi.html#mit-OpenPGP-GnuPG">Psi</a> mit signiertem Status benutzt, aber nicht bei jeder Statusänderung das Passwort neu eingeben will. Der Agent speichert in dem Fall das Passwort in einem Cache und fragt nur nach festlegbaren Zeitintervallen erneut danach.</p><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Falls der GPG-Agent noch nicht installiert ist, kann man ihn über das Paket <strong>gnupg-agent</strong> installieren. Wichtig ist, dass man ein Passworteingabeprogramm für die jeweilige Desktop-Umgebung mitinstalliert <sup><a href="#source-1">[1]</a></sup>:</p><ul><li><p><strong>gnupg-agent</strong></p></li><li><p><strong>pinentry-gtk2</strong> (für <a class="internal" href="./gnome.html">GNOME</a>, <a class="internal" href="./xfce.html">Xfce</a> oder <a class="internal" href="./lxde.html">LXDE</a>, ab <a class="internal" href="./wily.html">Ubuntu 15.10</a> in <em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install gnupg-agent pinentry-gtk2 </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install gnupg-agent pinentry-gtk2 </pre></div></div><p>
</p></div></div><p>
oder ab <a class="internal" href="./wily.html">Ubuntu 15.10</a> für <a class="internal" href="./gnome.html">GNOME</a>:
</p><ul><li><p><strong>gnupg-agent</strong></p></li><li><p><strong>pinentry-gnome3</strong> (für <a class="internal" href="./gnome.html">GNOME</a>, ab <a class="internal" href="./wily.html">Ubuntu 15.10</a> )</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install gnupg-agent pinentry-gnome3 </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install gnupg-agent pinentry-gnome3 </pre></div></div><p>
</p></div></div><p>
oder für KDE:
</p><ul><li><p><strong>gnupg-agent</strong></p></li><li><p><strong>pinentry-qt</strong> (für <a class="internal" href="./kde.html">KDE</a> in <em>universe</em>)</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install gnupg-agent pinentry-qt </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install gnupg-agent pinentry-qt </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Den-GPG-Agenten-starten">Den GPG-Agenten starten<a class="headerlink" href="#Den-GPG-Agenten-starten">¶</a></h2><p>
Der Agent sollte am Anfang einer Sitzung gestartet werden, da er eine <a class="internal" href="./umgebungsvariable.html">Umgebungsvariable</a> setzt, die allen Programmen, die den Agenten benutzen sollen, bekannt sein muss. Dazu wird auch automatisch ein Startskript in der Datei <strong>/etc/X11/Xsession.d/90gpg-agent</strong> angelegt. Es ist aber trotzdem noch nötig, im Heimatverzeichnis jedes Benutzers die Datei <strong>~/.gnupg/gpg.conf</strong> mit dem Inhalt <em>use-agent</em> anzulegen. Der Befehl <sup><a href="#source-2">[2]</a></sup>:</p><div class="bash"><div class="contents"><pre class="notranslate">echo "use-agent" &gt;&gt;  ~/.gnupg/gpg.conf </pre></div></div><p>
erledigt das.</p></div><div class="section_1"><h2 id="Optionen">Optionen<a class="headerlink" href="#Optionen">¶</a></h2><p>
Um den GPG-Agenten an die eigenen Bedürfnisse anzupassen, kann man noch verschiedene Optionen einstellen:</p><table><tr class="kopf"><td> Option </td><td> Bedeutung </td></tr><tr><td> <code class="notranslate">--daemon</code> </td><td> normaler Aufruf um den Dämon zu starten </td></tr><tr><td> <code class="notranslate">--ignore-cache-for-signing</code> </td><td> erzwingt eine erneute Passworteingabe um andere Schlüssel zu signieren </td></tr><tr><td> <code class="notranslate">--default-cache-ttl n</code> </td><td> setzt die Zeit wie lange ein Passwort im Cache bleibt auf <code class="notranslate">n</code> Sekunden, Standard ist 600 </td></tr><tr><td> <code class="notranslate">--max-cache-ttl n</code> </td><td> setzt die maximale Zeit wie lange ein Passwort im Cache bleibt auf <code class="notranslate">n</code> Sekunden, Standard ist 7200 (2 Stunden) </td></tr><tr><td> <code class="notranslate">--pinentry-program filename</code> </td><td> setzt explizit das Passworteingabeprogramm auf <code class="notranslate">filename</code> </td></tr></table><p>
Die Optionen fügt man entweder direkt mit Root-Rechten <sup><a href="#source-3">[3]</a></sup> in die Datei <strong>/etc/X11/Xsession.d/90gpg-agent</strong> ein, wodurch sie aber global für alle Benutzer des Systems gelten oder besser in die Datei <strong>~/.gnupg/gpg-agent.conf</strong>, die für jeden Benutzer separat (ohne Root-Rechte) angelegt wird. Dort werden dann "--" bei jeder Option weggelassen und es wird jeweils eine neue Zeile angefangen. Mit folgendem Befehl wird eine Grundkonfiguration gespeichert:</p><div class="bash"><div class="contents"><pre class="notranslate">echo -e "default-cache-ttl 18000\nmax-cache-ttl 86400\nignore-cache-for-signing" &gt;&gt; ~/.gnupg/gpg-agent.conf </pre></div></div><p>
Dieser Befehl hängt die Zeilen</p><pre class="notranslate">default-cache-ttl 18000
max-cache-ttl 86400
ignore-cache-for-signing</pre><p>an die Datei <strong>~/.gnupg/gpg-agent.conf</strong> an (und erstellt sie, falls sie noch nicht vorhanden war). Dadurch bleiben Passwörter 18000 Sekunden (= 5 Stunden) im Cache, maximal (also auch bei häufiger Benutzung) jedoch 86400 Sekunden (= 24 Stunden) und zum Signieren von anderen Schlüsseln wird immer nach dem Passwort gefragt.</p></div><div class="section_1"><h2 id="Weitere-Einsatzmoeglichkeiten">Weitere Einsatzmöglichkeiten<a class="headerlink" href="#Weitere-Einsatzmoeglichkeiten">¶</a></h2><p>
Der GPG-Agent kann auch SSH-Passwörter verwalten. Hinweise dazu findet man in der <a class="internal" href="./man.html">Manpage</a>.</p></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="internal" href="./gnupg.html">GnuPG</a> - Hauptartikel</p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./gpg-agent/a/revision/940880.html">Diese Revision</a> wurde am 9. Mai 2017 01:55 von <a href="https://ubuntuusers.de/user/ubot/">ubot</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./gpg-agent.html">GPG-Agent</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>