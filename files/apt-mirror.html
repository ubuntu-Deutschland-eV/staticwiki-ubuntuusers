<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>apt-mirror › ubuntuusers statisches Wiki</title>
<link href="./_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="./_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="./_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="./_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="./_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="./_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="./startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="./apt-mirror.html">apt-mirror</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/apt-mirror">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="./wiki/index.html">Index</a></li>
<li><a href="./wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="./wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="./wiki.html">Übersicht</a></li>
<li><a href="./wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="./wiki/benutzung.html">Benutzung</a></li>
<li><a href="./kategorien.html">Kategorie</a></li>
<li><a href="./wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="./wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="./howto.html">Howto anlegen</a></li>
<li><a href="./wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="./wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="./baustelle.html">Baustellen</a></li>
<li><a href="./wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="./wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="./wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="./wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="./apt-mirror/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="./apt-mirror/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="./apt-mirror/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="./apt-mirror/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="./apt-mirror/a/backlinks.html">apt-mirror</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="./xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li></ul></div></div><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="./pakete_installieren.html">Installation von Programmen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="./paketquellen_freischalten.html">Bearbeiten von Paketquellen</a> </p></li><li><p><a class="crosslink anchor" href="#source-3" id="source-3"></a> <a class="internal" href="./terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-4" id="source-4"></a> <a class="internal" href="./editor.html">Einen Editor öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-5" id="source-5"></a> <a class="internal" href="./programme_starten.html">Ein Programm starten</a> </p></li><li><p><a class="crosslink anchor" href="#source-6" id="source-6"></a> <a class="internal" href="./autostart.html">Automatischer Start von Programmen</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-1"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Tabelle-mit-Groessenangaben-in-GiB">Tabelle mit Größenangaben in GiB
</a></li><li><a class="crosslink" href="#Installation">Installation
</a></li><li><a class="crosslink" href="#Konfiguration">Konfiguration
</a></li><li><a class="crosslink" href="#Start-von-apt-mirror">Start von apt-mirror
</a></li><li><a class="crosslink" href="#apt-mirror-per-Cron-Job">apt-mirror per Cron-Job
</a></li><li><a class="crosslink" href="#Benutzung">Benutzung
</a></li><li><a class="crosslink" href="#Hinweis-fuer-die-Benutzer-eines-Proxys">Hinweis für die Benutzer eines Proxys
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Das Programm <a class="external" href="http://apt-mirror.sourceforge.net/" rel="nofollow">apt-mirror</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> lädt zu Beginn die <span class="underline">gesamte</span> Paketquelle herunter, egal welches Paket benötigt wird. Apt-mirror eignet sich für Situationen, in der eine Paketquelle komplett gespiegelt werden soll. Das ist oft nur in größeren Netzen praktisch, wenn man auf vielen Rechnern Ubuntu installiert wird, ohne genau zu wissen, was alles benötigt wird und evtl. zeitweise keine oder nur wenig Bandbreite zur Verfügung hat.</p><p>Man sollte beachten, dass man für die Einrichtung von apt-mirror je nach Größe der Paketquelle entsprechend Platz auf der Festplatte benötigt. Für die offiziellen Ubuntu-Paketquellen benötigt man, wenn man Pakete (ohne Quellcode-Pakete) für alle Plattformen (i386, AMD64) benötigt, etwa 80 GiB. Bei einer Plattform sind es etwa 60 GiB.</p><p>Ähnliche Programme unter: <a class="internal" href="./lokale_paketquellen.html">Lokale Paketquellen</a></p><div class="section_1"><h2 id="Tabelle-mit-Groessenangaben-in-GiB">Tabelle mit Größenangaben in GiB<a class="headerlink" href="#Tabelle-mit-Groessenangaben-in-GiB">¶</a></h2><p>
<span class="underline">Vor</span> dem Herunterladen sollte man sich Gedanken machen, ob die Daten auf eine separate <a class="internal" href="./partitionierung.html">Partition</a> auslagert werden sollten, um einem Engpass beim Plattenplatz zuvorzukommen bzw. den <a class="internal" href="./defragmentierung.html">Fragmentierungsgrad</a> gering zu halten.
Die folgende Tabelle bezieht sich auf <a class="internal" href="./12.10.html">Ubuntu 12.10</a> <span class="underline">ohne</span> Quellcode-Pakete; Stand Januar 2013; Werte gerundet in GiB.</p><p>
</p><table><tr class="titel"><td> Archiv </td><td> i386 </td><td> AMD64 </td><td> i386+AMD64 </td></tr><tr><td> <a class="external" href="http://archive.ubuntu.com/ubuntu" rel="nofollow" title="http://archive.ubuntu.com/ubuntu">http://archive.ubuntu.com/ubuntu</a> quantal main restricted universe multiverse </td><td style="text-align: center">47 </td><td style="text-align: center">48 </td><td style="text-align: center">66 </td></tr><tr><td> <a class="external" href="http://archive.ubuntu.com/ubuntu" rel="nofollow" title="http://archive.ubuntu.com/ubuntu">http://archive.ubuntu.com/ubuntu</a> quantal-security main restricted universe multiverse </td><td style="text-align: center">2 </td><td style="text-align: center">2 </td><td style="text-align: center">3 </td></tr><tr><td> <a class="external" href="http://archive.ubuntu.com/ubuntu" rel="nofollow" title="http://archive.ubuntu.com/ubuntu">http://archive.ubuntu.com/ubuntu</a> quantal-updates main restricted universe multiverse </td><td style="text-align: center">6 </td><td style="text-align: center">6 </td><td style="text-align: center">9 </td></tr><tr><td> <a class="external" href="http://archive.ubuntu.com/ubuntu" rel="nofollow" title="http://archive.ubuntu.com/ubuntu">http://archive.ubuntu.com/ubuntu</a> quantal-proposed main restricted universe multiverse </td><td style="text-align: center"><code class="notranslate">&lt;</code>1 </td><td style="text-align: center"><code class="notranslate">&lt;</code>1 </td><td style="text-align: center">2 </td></tr><tr><td> <a class="external" href="http://archive.ubuntu.com/ubuntu" rel="nofollow" title="http://archive.ubuntu.com/ubuntu">http://archive.ubuntu.com/ubuntu</a> quantal-backports main restricted universe multiverse </td><td style="text-align: center"><code class="notranslate">&lt;</code>1 </td><td style="text-align: center"><code class="notranslate">&lt;</code>1 </td><td style="text-align: center"><code class="notranslate">&lt;</code>1 </td></tr><tr class="highlight"><td colspan="4"> </td></tr><tr><td> Summiert </td><td style="text-align: center">56 </td><td style="text-align: center">57 </td><td style="text-align: center">82 </td></tr></table><p>
</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Da die verschiedenen Architekturen (i386, AMD64, armel, armhf...) sich die sogenannte "all-Paketarchitektur" teilen, müssen diese nicht extra für jede Architektur heruntergeladen werden. Das erklärt die Diskrepanz bei der Summierung der einzelnen Architekturen.
</p></div></div><p>
</p></div><div class="section_1"><h2 id="Installation">Installation<a class="headerlink" href="#Installation">¶</a></h2><p>
Folgendes Paket muss installiert <sup><a href="#source-1">[1]</a></sup> werden:</p><ul><li><p><strong>apt-mirror</strong> (<em>universe</em> <sup><a href="#source-2">[2]</a></sup> )</p></li></ul><p><img alt="Wiki/Vorlagen/Installbutton/button.png" class="image-default" src="./_/fd60ccb86c4d96df2f4518df2936cc7d038467aa.png"/>
mit <a class="internal" href="./apturl.html">apturl</a>
</p><div class="package-list"><div class="contents"><p>
Paketliste zum Kopieren:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-get install apt-mirror </pre></div></div><p>
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo aptitude install apt-mirror </pre></div></div><p>
</p></div></div></div><div class="section_1"><h2 id="Konfiguration">Konfiguration<a class="headerlink" href="#Konfiguration">¶</a></h2><p>
Bei der Installation wird automatisch die Datei <strong>mirror.list</strong> im Ordner <strong>/etc/apt/</strong> mit folgendem Inhalt angelegt:</p><div class="section_2"><h3 id="Grundeinstellungen">Grundeinstellungen<a class="headerlink" href="#Grundeinstellungen">¶</a></h3><p>
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span># apt-mirror configuration file
############# config ##################
#
# set base_path    /var/spool/apt-mirror
#
# set mirror_path  $base_path/mirror
# set skel_path    $base_path/skel
# set var_path     $base_path/var
# set cleanscript $var_path/clean.sh
# set defaultarch  &lt;running host architecture&gt;
# set postmirror_script $var_path/postmirror.sh
# set run_postmirror 0
set nthreads     20
set _tilde 0
#
############# end config ##############
</pre></div>
</td></tr></table></div><p>Die meisten dieser Einstellungen sind nur wirkungslose Kommentare, welche die Standardeinstellungen wiedergeben. Sollen die Pakete zum Beispiel nicht im Verzeichnis <strong>/var/spool/apt-mirror</strong> liegen, kann per Anpassung des <code class="notranslate">base_path</code> auch ein anderes Verzeichnis gewählt werden. Damit diese gegenüber dem Standard veränderte Einstellung wirksam wird, muss die Zeile einkommentiert werden, indem das Zeichen <code class="notranslate">#</code> am Zeilenanfang entfernt wird. Dasselbe muss dann auch für die folgenden anderen drei Zeilen mit den Unterverzeichnissen <strong>mirror</strong>, <strong>skel</strong> und <strong>var</strong> erfolgen, damit das Skript diese benötigten Unterverzeichnisse dort anlegen kann.</p></div><div class="section_2"><h3 id="Paketquellen">Paketquellen<a class="headerlink" href="#Paketquellen">¶</a></h3><p>
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="c">####Sources</span>
<span class="k">deb</span> <span class="s">http://archive.ubuntu.com/ubuntu</span> <span class="kp">quantal</span> <span class="kp">main</span> <span class="kp">restricted</span> <span class="kp">universe</span> <span class="kp">multiverse</span>
<span class="k">deb</span> <span class="s">http://archive.ubuntu.com/ubuntu</span> <span class="kp">quantal-security</span> <span class="kp">main</span> <span class="kp">restricted</span> <span class="kp">universe</span> <span class="kp">multiverse</span>
<span class="k">deb</span> <span class="s">http://archive.ubuntu.com/ubuntu</span> <span class="kp">quantal-updates</span> <span class="kp">main</span> <span class="kp">restricted</span> <span class="kp">universe</span> <span class="kp">multiverse</span>
<span class="c">#deb http://archive.ubuntu.com/ubuntu quantal-proposed main restricted universe multiverse</span>
<span class="c">#deb http://archive.ubuntu.com/ubuntu quantal-backports main restricted universe multiverse</span>

<span class="k">deb-src</span> <span class="s">http://archive.ubuntu.com/ubuntu</span> <span class="kp">quantal</span> <span class="kp">main</span> <span class="kp">restricted</span> <span class="kp">universe</span> <span class="kp">multiverse</span>
<span class="k">deb-src</span> <span class="s">http://archive.ubuntu.com/ubuntu</span> <span class="kp">quantal-security</span> <span class="kp">main</span> <span class="kp">restricted</span> <span class="kp">universe</span> <span class="kp">multiverse</span>
<span class="k">deb-src</span> <span class="s">http://archive.ubuntu.com/ubuntu</span> <span class="kp">quantal-updates</span> <span class="kp">main</span> <span class="kp">restricted</span> <span class="kp">universe</span> <span class="kp">multiverse</span>
<span class="c">#deb-src http://archive.ubuntu.com/ubuntu quantal-proposed main restricted universe multiverse</span>
<span class="c">#deb-src http://archive.ubuntu.com/ubuntu quantal-backports main restricted universe multiverse</span>
</pre></div>
</td></tr></table></div><p>In diesem Beispiel sind nach der Installation bereits die aktuellen Paketquellen (12.10) eingetragen, folglich wird der Server später nur Quantal-Pakete bieten.</p><div class="section_3"><h4 id="Architekturen">Architekturen<a class="headerlink" href="#Architekturen">¶</a></h4><p>
Will man mehrere Architekturen spiegeln, muss man die Paketquellen in der Datei <strong>/etc/apt/mirror.list</strong> etwas anpassen;
aus</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="k">deb</span> <span class="s">http://de.archive.ubuntu.com/ubuntu/</span> <span class="kp">quantal</span> <span class="kp">main</span> <span class="kp">restricted</span>
</pre></div>
</td></tr></table></div><p>wird, wenn man z.B. amd64 und i386 spiegeln möchte:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>deb-i386 http://de.archive.ubuntu.com/ubuntu/ quantal main restricted
deb-amd64 http://de.archive.ubuntu.com/ubuntu/ quantal main restricted
</pre></div>
</td></tr></table></div></div></div><div class="section_2"><h3 id="Downloadgeschwindigkeit-begrenzen">Downloadgeschwindigkeit begrenzen<a class="headerlink" href="#Downloadgeschwindigkeit-begrenzen">¶</a></h3><p>
Möchte man nicht, dass apt-mirror die gesamte Downloadbandbreite des Internetanschlusses belegt, fügt man folgende Zeile in die Datei <strong>/etc/apt/mirror.list</strong> ein:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>set limit_rate 50K
</pre></div>
</td></tr></table></div><p>Zu beachten ist, dass der Parameter pro Downloadslot gilt; d.h.:</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>set limit_rate 50K
set nthreads 20
</pre></div>
</td></tr></table></div><p>führt dazu, dass 20 Downloads zu 50K = 1000 KiB / Sekunde heruntergeladen werden.</p></div><div class="section_2"><h3 id="Nachbehandlung">Nachbehandlung<a class="headerlink" href="#Nachbehandlung">¶</a></h3><p>
</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>clean http://de.archive.ubuntu.com/ubuntu/
</pre></div>
</td></tr></table></div><p>Das Clean-Skript wird automatisch ausgeführt. Möchte man dieses unterbinden, muss die entsprechende Zeile in <strong>/etc/apt/mirror.list</strong> durch ein # auskommentiert werden.</p></div></div><div class="section_1"><h2 id="Start-von-apt-mirror">Start von apt-mirror<a class="headerlink" href="#Start-von-apt-mirror">¶</a></h2><p>
</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Durch apt-mirror entsteht beim ersten Start ein enormes Datenvolumen! Ubuntu 12.10 belegt zur Zeit ca. 60 GiB / Architektur OHNE Quellcode-Pakete! 
</p></div></div><p>Der Start erfolgt in einem Terminal durch Eingabe von:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo apt-mirror </pre></div></div><pre class="notranslate">Downloading xyz index files using 20 threads...
Begin time: Thu Jan  10 17:46:20 2013
[20]... [19]... [18]... [17]... [16]... [15]... [14]... [13]... [12]... [11]... [10]... [9]... [8]... [7]... [6]... [5]... [4]... [3]... [2]... [1]... [0]...
End time: Thu Jan  10  17:46:51 2013
Proceed indexes: [SSSPPP]
xyz bytes will be downloaded into archive.
Downloading xyz archive files using 20 threads...
Begin time: Thu Jan  10 17:46:57 2013
[20]... [19]... [18]... [17]... [16]... [15]... [14]... [13]... [12]... [11]... [10]... [9]... [8]... [7]... [6]... [5]... [4]... [3]... [2]... [1]... [0]...
End time: Thu Jan  10  23:05:25 2013
yxz bytes inxyz files and xyz directories can be freed.</pre></div><div class="section_1"><h2 id="apt-mirror-per-Cron-Job">apt-mirror per Cron-Job<a class="headerlink" href="#apt-mirror-per-Cron-Job">¶</a></h2><p>
Durch die Installation wird automatisch auch ein <a class="internal" href="./cron.html">Cron-Job</a> unter <strong>/etc/cron.d</strong> namens <strong>apt-mirror</strong> angelegt. Dieser ist aber nicht automatisch aktiv, da die entsprechende Konfigurationszeile auskommentiert ist.</p><div class="section_2"><h3 id="Nutzbarmachen">Nutzbarmachen<a class="headerlink" href="#Nutzbarmachen">¶</a></h3><p>
Um den Spiegelserver im Netzwerk verfügbar zu machen, muss dieser angeboten werden, dies erfolgt per Webserver (beispielsweise <a class="internal" href="./apache.html">Apache</a>). Normalerweise liegen dessen Dateien in <strong>/var/www/</strong>, also nicht dort, wo die gespiegelten Pakete liegen, die Verbindung wird per <code class="notranslate">ln -s</code> hergestellt.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ln -s /var/spool/apt-mirror/mirror/de.archive.ubuntu.com/ubuntu /var/www/html/ubuntu </pre></div></div><p>
Hinweis -&gt; falls die Daten von einem anderen Server gespiegelt wurden, dann muss statt <code class="notranslate">de.archive.ubuntu.com</code> zum Beispiel <code class="notranslate">archive.ubuntu.com</code> gewählt werden.</p><p>Dadurch ändert sich der Befehl wie folgt:
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo ln -s /var/spool/apt-mirror/mirror/archive.ubuntu.com/ubuntu /var/www/html/ubuntu </pre></div></div></div></div><div class="section_1"><h2 id="Benutzung">Benutzung<a class="headerlink" href="#Benutzung">¶</a></h2><p>
Auf den Clientsystemen muss jetzt nur noch der neue Server eingetragen werden <sup><a href="#source-2">[2]</a></sup>.</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span><span class="k">deb</span> <span class="s">http://&lt;IP</span> <span class="kp">des</span> <span class="kp">Servers&gt;/ubuntu</span> <span class="kp">gutsy</span> <span class="kp">main</span> <span class="kp">restricted</span>
</pre></div>
</td></tr></table></div><p>Die Paketquellen jetzt neu einlesen und der Spiegelserver steht zur Verfügung.</p></div><div class="section_1"><h2 id="Hinweis-fuer-die-Benutzer-eines-Proxys">Hinweis für die Benutzer eines Proxys<a class="headerlink" href="#Hinweis-fuer-die-Benutzer-eines-Proxys">¶</a></h2><p>
Wenn man einen Proxy (z.B. Squid) benutzt, so ist der Aufruf von apt-mirror folgendermaßen zu ergänzen (gilt auch analog für <strong>/etc/cron.d/apt-mirror</strong>):</p><div class="code"><table class="notranslate syntaxtable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="notranslate syntax"><pre><span></span>export http_proxy=http://[&lt;Proxy-user&gt;:&lt;Proxy-Passwort&gt;@]&lt;IP-Adresse-Proxy&gt;:&lt;Proxy-Port&gt;/ &amp;&amp; apt-mirror
</pre></div>
</td></tr></table></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
</p><ul><li><p><a class="interwiki interwiki-sourceforge" href="http://sourceforge.net/projects/apt-mirror">apt-mirror</a> Projektseite</p></li><li><p><a class="external" href="http://www.howtoforge.com/local_debian_ubuntu_mirror" rel="nofollow">How To Create A Local Debian/Ubuntu Mirror With apt-mirror</a> <img alt="{en}" src="./_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p>blog.root1024.ch - <a class="external" href="http://blog.root1024.ch/betriebssystem/linux/eigenen-debian-spiegelserver-mirror-einrichten/" rel="nofollow">Eigenen Debian Spiegelserver (Mirror) einrichten</a> <img alt="{de}" src="./_/ffd333e1d59794eac31aea8b3e984e1b88473c33.png"/></p></li></ul><p>
</p></div></div>
<p class="meta">
<a href="./apt-mirror/a/revision/945908.html">Diese Revision</a> wurde am 1. Januar 2018 21:22 von <a href="https://ubuntuusers.de/user/LarsPeters/">LarsPeters</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="./startseite.html">Wiki</a></li>
<li><a href="./apt-mirror.html">apt-mirror</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="./_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="./_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="./_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="./_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>