<!DOCTYPE html>
<html lang="">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>sudo/Konfiguration › ubuntuusers statisches Wiki</title>
<link href="../_/34e5d78db234405457773cc26741aada99f7fff2.css" rel="stylesheet" type="text/css"/>
<link href="../_/61af784fc5c93e296fec3be63b8e0bb48443727c.css" rel="stylesheet" type="text/css"/>
<link href="../_/634e8d1015b02df998cdec7cb07c5aff61d068b5.css" rel="stylesheet" type="text/css"/>
<link href="../_/b583ff7e37147497a59224ccf54cfee812a1d21b.css" rel="stylesheet" type="text/css"/>
<link href="../_/a0d5775ed6f36f8cc5b12bcf2f1c1bd98a3eb225.css" rel="stylesheet" type="text/css"/>
<link href="../_/98de73bded109a634cbd1e924abdd8c8964b8df2.css" media="print" rel="stylesheet" type="text/css"/>

<meta content="#a87300" name="theme-color"/>

</head>
<body>
<div class="wrap">
<div class="header">
<h1><a href="http://ubuntuusers.de/"><span>ubuntuusers.de</span></a></h1>
<ul class="tabbar">
<li class="portal">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ubuntuusers.de/">Portal<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="forum">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://forum.ubuntuusers.de/">Forum<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="wiki active">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/">Wiki<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="ikhaya">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://ikhaya.ubuntuusers.de/">Ikhaya<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="planet">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://planet.ubuntuusers.de/">Planet<span></span></a></div>
<div class="tab_right"></div>
</li>
<li class="community">
<div class="tab_left"></div>
<div class="tab_center"><a href="http://wiki.ubuntuusers.de/Mitmachen">Mitmachen<span></span></a></div>
<div class="tab_right"></div>
</li>
</ul>
</div>
<div class="body">
<div class="appheader">

<div class="pagetitle">
<h1 class="breadcrumb_title">
<a class="separator" href="../startseite.html">
              Wiki
            </a>
</h1>
<h2 class="breadcrumb_subtitle"><a href="../sudo/konfiguration.html">Konfiguration</a></h2>
</div>
</div><div class="message staticwikinote"><strong>Hinweis:</strong> Dies ist ein statischer Snapshot unseres Wikis vom Jan. 17, 2018 und kann daher nicht bearbeitet werden. Der aktuelle Artikel ist unter <a href="http://wiki.ubuntuusers.de/sudo/Konfiguration">wiki.ubuntuusers.de</a> zu finden.</div>

<!--[if lt IE 8]>
      <div class="message fail">Bitte installiere den Internet Explorer 8 oder neuer.</div>
      <![endif]-->
<div class="page_content">
<div class="navi_sidebar navigation">
<div class="container">
<h3 class="navi_wiki">Wiki</h3>
<ul>
<li><a href="../wiki/index.html">Index</a></li>
<li><a href="../wiki/recentchanges.html">Letzte Änderungen</a></li>
<li><a href="../wiki/neue_artikel.html">Liste neuer Artikel</a></li>
<li><a href="../wiki.html">Übersicht</a></li>
<li><a href="../wiki/faq_-_häufig_gestellte_fragen.html">FAQ</a></li>
<li><a href="../wiki/benutzung.html">Benutzung</a></li>
<li><a href="../kategorien.html">Kategorie</a></li>
<li><a href="../wiki/tagcloud.html">Wortwolke</a></li>
</ul>
<h3 class="navi_join">Mitmachen</h3>
<ul>
<li><a href="../wikiartikel_anlegen.html">Wikiartikel anlegen</a></li>
<li><a href="../howto.html">Howto anlegen</a></li>
<li><a href="../wiki/referenz.html">Wiki-Referenz</a></li>
<li><a href="../wiki/syntax.html">Wiki-Syntax</a></li>
<li><a href="../baustelle.html">Baustellen</a></li>
<li><a href="../wiki/artikelideen.html">Artikelideen</a></li>
<li><a href="../wiki/ungetestet.html">Ungetestete Artikel</a></li>
<li><a href="../wiki/vorlagen/ausbaufähig/a/backlinks.html">Ausbaufähige Artikel</a></li>
<li><a href="../wiki/vorlagen/fehlerhaft/a/backlinks.html">Fehlerhafte Artikel</a></li>
<li><a href="https://forum.ubuntuusers.de/forum/wiki/">Rund ums Wiki</a></li>
</ul>
<h3 class="navi_config">Konfiguration</h3>
<ul>
<li><a href="../sudo/konfiguration/a/backlinks.html">Backlinks anzeigen</a></li>
<li>
        Exportieren
        <ul>
<li><a href="../sudo/konfiguration/a/export/meta.html" rel="nofollow">Metadaten</a></li>
<li><a href="../sudo/konfiguration/a/export/raw.html" rel="nofollow">Rohformat</a></li>
<li><a href="../sudo/konfiguration/a/export/html.html" rel="nofollow">HTML</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div class="content content_tabbar content_sidebar">
<h1 class="pagetitle"><a href="../sudo/konfiguration/a/backlinks.html">Konfiguration</a></h1>
<div id="page"><p>
</p><div class="box tested_for"><h3 class="box tested_for">Dieser Artikel wurde für die folgenden
Ubuntu-Versionen getestet:</h3><div class="contents"><p>
</p><ul><li><p><a class="internal" href="../xenial_xerus.html">Ubuntu 16.04</a> Xenial Xerus</p></li><li><p><a class="internal" href="../trusty_tahr.html">Ubuntu 14.04</a> Trusty Tahr</p></li></ul></div></div><p>
</p><p>
</p><div class="box knowledge"><h3 class="box knowledge">Zum Verständnis dieses Artikels sind folgende Seiten hilfreich:</h3><div class="contents"><p>
</p><ol class="arabic"><li><p><a class="crosslink anchor" href="#source-1" id="source-1"></a> <a class="internal" href="../terminal.html">Ein Terminal öffnen</a> </p></li><li><p><a class="crosslink anchor" href="#source-2" id="source-2"></a> <a class="internal" href="../vim.html">Umgang mit dem Terminal-Editor "Vim(vi)"</a> </p></li></ol></div></div><p>
</p><div class="toc toc-depth-2"><div class="head">Inhaltsverzeichnis</div><ol class="arabic"><li><a class="crosslink" href="#Einstellungen">Einstellungen
</a><ol class="arabic"><li><a class="crosslink" href="#Alias">Alias
</a></li><li><a class="crosslink" href="#Administrator-auf-Zeit">Administrator auf Zeit
</a></li><li><a class="crosslink" href="#Visuelles-Feedback-bei-Passworteingabe">Visuelles Feedback bei Passworteingabe
</a></li></ol></li><li><a class="crosslink" href="#Root-Passwort-einrichten">Root-Passwort einrichten
</a></li><li><a class="crosslink" href="#Root-Anmeldung-untersagen">Root-Anmeldung untersagen
</a></li><li><a class="crosslink" href="#sudo-Eingaben-umleiten">sudo-Eingaben umleiten
</a></li><li><a class="crosslink" href="#Links">Links
</a></li></ol></div><p>Mit der Konfiguration zum Befehl <a class="internal" href="../sudo.html">sudo</a> bestimmt der System-Administrator, welche Benutzer (oder Benutzergruppen) welche Befehle wann an welchem Ort als Benutzer <code class="notranslate">root</code> (oder einem anderen Benutzer) ausführen dürfen.</p><div class="section_1"><h2 id="Einstellungen">Einstellungen<a class="headerlink" href="#Einstellungen">¶</a></h2><p>
Um einem Benutzer das Ausführen des Befehls <code class="notranslate">sudo</code> zu ermöglichen, reicht es i.d.R. aus, ihn in die Benutzergruppe <code class="notranslate">sudo</code> aufzunehmen. Dies kann mit dem Befehl:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo usermod -aG sudo BENUTZERNAME </pre></div></div><p>
erfolgen. Komplexere Einstellungen und damit verbundene Rechte werden in der Datei <strong>/etc/sudoers</strong> eingestellt.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Die Datei <strong>/etc/sudoers</strong> sollte immer mit dem Befehl <code class="notranslate">visudo</code> bearbeitet werden, da so eine Syntaxprüfung gewährleistet ist. Die letzte Zeile der Sudoers-Datei muss zudem immer leer sein! Bei der direkten Bearbeitung ohne Prüfung kann der kleinste Tippfehler dazu führen, dass man sich aus dem System aussperrt und nur über den <a class="internal" href="../recovery_modus.html">Recovery Modus</a> wieder Zugang erhält. Es ist dabei korrekt, die Änderung in <strong>sudoers.tmp</strong> zu speichern, denn <code class="notranslate">visudo</code> überprüft nun die Syntax und man hat die Möglichkeit, Fehler zu korrigieren.</p><p>Alternativ kann man vor der Änderung eine zweite Konsole mit Root-Rechten (<code class="notranslate">sudo -i</code>) öffnen. Stellt man dann fest, dass man sich aus dem System ausgesperrt hat, kann man über diese Konsole die Änderungen wieder rückgängig machen.
</p></div></div><p>
Man öffnet ein Terminal<sup><a href="#source-1">[1]</a></sup> und gibt dort:</p><div class="bash"><div class="contents"><pre class="notranslate">sudo visudo </pre></div></div><p>
ein. Oder
</p><div class="bash"><div class="contents"><pre class="notranslate">EDITOR=vim sudo -E visudo </pre></div></div><p>
um statt des Editors nano den Editor vim zu benutzen.</p><p>Man kann aber stattdessen auch generell den Standardeditor global in Ubuntu ändern (siehe hier: <a class="internal" href="../editor.html#Standard-Editor-festlegen">Standard-Editor-festlegen</a>).</p><p>Ein Beispieleintrag für <strong>/etc/sudoers</strong> sieht so aus: 
</p><pre class="notranslate"> root           ALL = (ALL) ALL</pre><p>
Das heißt <code class="notranslate">root</code> darf alle Befehle mit <code class="notranslate">sudo</code> ausführen.</p><pre class="notranslate"> %administrator         ALL = (ALL) ALL</pre><p>
Die Gruppe <code class="notranslate">administrator</code> darf alle Befehle mittels <code class="notranslate">sudo</code> als <code class="notranslate">root</code> ausführen.</p><pre class="notranslate"> admin      ALL = NOPASSWD: ALL
 %users     ALL = NOPASSWD: /usr/sbin/IRGENDEINSKRIPT</pre><p>
Der Benutzer <code class="notranslate">admin</code> darf ohne Passwortabfrage alle Programme ausführen. Die Gruppe <code class="notranslate">users</code> darf <span class="underline">ohne</span> Passwortabfrage den Befehl <code class="notranslate">/usr/sbin/IRGENDEINSKRIPT</code> ausführen.</p><div class="box notice"><h3 class="box notice">Hinweis:</h3><div class="contents"><p>Die untersten Einträge haben die höchste Priorität. D.h., gilt für die Gruppe <code class="notranslate">admin</code>: "<code class="notranslate">ALL = (ALL) ALL</code>", so werden <code class="notranslate">NOPASSWD</code>-Einträge für die Benutzer aus <code class="notranslate">admin</code> überschrieben. Es ist also ratsam, "<code class="notranslate">%admin ALL=(ALL) ALL</code>" über entsprechenden <code class="notranslate">NOPASSWD</code>-Einträgen zu definieren.
</p></div></div><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Man sollte die Passwortabfrage nur für Skripte oder Programme deaktivieren, die in einem Systemverzeichnis (<strong>/bin</strong>, <strong>/sbin</strong>, <strong>/usr/bin</strong>, <strong>/usr/sbin</strong>, ...) liegen und <code class="notranslate">root</code> gehören. 
Grund: Ist die Passwortabfrage beispielsweise für das Skript <strong>~/bin/mein-skript</strong> deaktiviert, dann kann es ein Angreifer mit Benutzerrechten einfach löschen und durch ein beliebiges Skript oder Programm ersetzen und dann mit Root-Rechten ausführen. Auf diese Weise wäre das gesamte System kompromittiert. 
Erst wenn das Skript <code class="notranslate">root</code> gehört und nur von <code class="notranslate">root</code> geändert werden kann und auch in einem Verzeichnis liegt, in dem nur <code class="notranslate">root</code> Schreibrechte hat, ist dieser Angriff nicht mehr möglich.
</p></div></div><div class="section_2"><h3 id="Alias">Alias<a class="headerlink" href="#Alias">¶</a></h3><p>
Es gibt 4 verschieden Aliastypen:</p><ul><li><p><code class="notranslate">User_Alias</code> </p></li><li><p><code class="notranslate">Runas_Alias</code> </p></li><li><p><code class="notranslate">Host_Alias</code> </p></li><li><p><code class="notranslate">Cmnd_Alias</code> </p></li></ul><p>Einen Alias definiert man so: 
</p><pre class="notranslate">Alias_Type NAME = item1, item2, ...</pre><p>
Der <code class="notranslate">NAME</code> ist ein String mit Großbuchstaben und (optional) _ .</p><p>Beispielhaft werden hier nur die User-Aliase und die Befehls-Aliase beschrieben, weil sie am wichtigsten sind. 
</p><div class="section_3"><h4 id="User-Alias">User-Alias<a class="headerlink" href="#User-Alias">¶</a></h4><p>
Indem man Aliase definiert, kann man bestimmten Usern (ohne sie in einer Gruppe zusammenzulegen) gezielt Superuserrechte vergeben. Beispiel: 
</p><pre class="notranslate">User_Alias     FULLTIMERS = millert, mikef, dowdy
User_Alias     PARTTIMERS = bostley, jwfox, crawl
User_Alias     WEBMASTERS = will, wendy, wim</pre><p>
In diesem Beispiel wird ein User-Alias namens <code class="notranslate">FULLTIMERS</code> definiert mit 3 Mitgliedern: <code class="notranslate">millert, mikef, dowdy</code>.</p><p>Die Rechte werden dann so vergeben:</p><pre class="notranslate">FULLTIMERS         ALL = (ALL) ALL</pre></div><div class="section_3"><h4 id="Befehls-Alias">Befehls-Alias<a class="headerlink" href="#Befehls-Alias">¶</a></h4><p>
Befehls-Aliase werden genauso erstellt, sie haben entsprechend ein führendes <code class="notranslate">Cmnd_Alias</code>. In diesem Beispiel wird eine Gruppe mit Namen <code class="notranslate">DOWN</code> erstellt, die mehrere Befehle zum runterfahren, neu starten, usw. enthält:
</p><pre class="notranslate">Cmnd_Alias DOWN = /sbin/shutdown, /sbin/reboot, /usr/sbin/pm-suspend, /usr/sbin/pm-hibernate</pre><p>
Werden zusätzlich Parameter für den Befehl benötigt, müssen die Zeichen ",", "\", ":" und "=" mit einem Backslash "\" escaped werden, da die Syntaxprüfung sonst Fehler meldet und die Parameter nicht an den Befehl durchreicht. Das folgende Beispiel erstellt eine Gruppe namens <code class="notranslate">HELLIGKEIT</code>, die nur einen langen Befehl inkl. Parametern enthält:
</p><pre class="notranslate">Cmnd_Alias HELLIGKEIT = /usr/bin/setpci -s 00\:02.0 f4.b\=ff</pre><p>
Zugewiesen werden diese Befehls-Aliase, in diesem Beispiel der oben definierten Gruppe der <code class="notranslate">PARTTIMERS</code>, so:
</p><pre class="notranslate">PARTTIMERS ALL = NOPASSWD: DOWN</pre><p>
Nun können die User der Gruppe <code class="notranslate">PARTTIMERS</code> die Befehle der Gruppe <code class="notranslate">DOWN</code> ohne Passwortabfrage ausführen.
<a class="crosslink anchor" href="#admin_zeit" id="admin_zeit"></a></p></div></div><div class="section_2"><h3 id="Administrator-auf-Zeit">Administrator auf Zeit<a class="headerlink" href="#Administrator-auf-Zeit">¶</a></h3><p>
Der voreingestellte Zeitraum von 15 Minuten, in dem das Passwort bei <code class="notranslate">sudo</code>-Aktionen nicht abgefragt wird, kann verändert werden; beispielsweise auf den Wert <code class="notranslate">0</code>. Dazu fügt man diese Zeile hinzu oder hängt <code class="notranslate">timestamp_timeout = 0 </code>, mit Komma getrennt vom bereits existierenden Parameter, an die bestehende <code class="notranslate">Defaults</code>-Zeile daran: 
</p><pre class="notranslate"># Timeout auf Null setzen. Standardwert ist 15 Minuten.
Defaults timestamp_timeout = 0</pre><p>
Danach muss man bei jedem <code class="notranslate">sudo</code>-Aufruf das Passwort eingeben. <a class="crosslink anchor" href="#pwsetzen" id="pwsetzen"></a></p></div><div class="section_2"><h3 id="Visuelles-Feedback-bei-Passworteingabe">Visuelles Feedback bei Passworteingabe<a class="headerlink" href="#Visuelles-Feedback-bei-Passworteingabe">¶</a></h3><p>
Normalerweise gibt <code class="notranslate">sudo</code> nichts aus, wenn das Passwort eingegeben wird, was es einem Angreifer schwer machen soll, die Länge des Passwortes zu bestimmen. Das hat aber beispielsweise den Nachteil, dass unerfahrene Benutzer denken, dass die Passworteingabe nicht funktioniert oder dass man das Passwort in einem anderen Fenster eintippt, weil dieses Fenster gerade den Focus bekommen hat. 
Durch Einfügen der Zeile
</p><pre class="notranslate">Defaults pwfeedback</pre><p>
wird für jedes eingegebene Zeichen ein Stern (*) ausgegeben und beim Drücken von 
<span class="key">⏎</span>  werden alle Sterne wieder gelöscht.</p><p>Man kann außerdem auf folgende Weise ein externes Programm zum Einlesen des Passwortes benutzen: 
</p><pre class="notranslate">Defaults askpass = /PFAD/ZUM/EXTERNEN/PROGRAMM</pre><p>
Dieses Programm kann sich dann um das Feedback bei der Passworteingabe kümmern, und es sind auch grafische Programme möglich (beispielsweise ssh-askpass). 
Um das externe Programm aber auch zu benutzen, muss <code class="notranslate">sudo</code> mit der Option <code class="notranslate">-A</code> aufgerufen werden. Das externe Programm kann außerdem in der Variable <code class="notranslate">SUDO_ASKPASS</code> spezifiziert werden, was den Eintrag in der Datei <strong>/etc/sudoers</strong> überstimmt.</p><p>Für mehr Informationen sei auf die <a class="internal" href="../man.html">Manpage</a> von <code class="notranslate">sudo</code> und <code class="notranslate">sudoers</code> verwiesen.</p></div></div><div class="section_1"><h2 id="Root-Passwort-einrichten">Root-Passwort einrichten<a class="headerlink" href="#Root-Passwort-einrichten">¶</a></h2><p>
Im Allgemeinen fährt man bei Ubuntu gut damit, den Root-Account deaktiviert zu lassen und das System ausschließlich über <code class="notranslate">sudo</code> zu administrieren. Es gibt allerdings einen Grund, den Root-Account u.U. zu aktivieren. Wenn nicht-vertrauenswürdige Benutzer direkten Zugang zum Rechner haben, können sie ihn über den Bootmanager Grub im <a class="internal" href="../recovery_modus.html">Recovery Modus</a> starten. Ist der Root-Account deaktiviert, erhält ein böswilliger Benutzer so ohne Passwortabfrage eine Root-Shell. Wird der Rechner in einer Multiuser-Umgebung eingesetzt, z.B. im Rechnerraum einer Schule oder Universität, sollte der Root-Account daher aktiviert werden. Allerdings gibt es in so einem Szenario noch eine Reihe weiterer möglicher Schlupflöcher, die relativ einfach auszunutzen sind. Die Beachtung des Artikels <a class="internal" href="../lokale_sicherheit.html">Lokale Sicherheit</a> ist daher das mindeste, was man unternehmen sollte.</p><p>Was man aber nach Möglichkeit unterlassen sollte, ist nur noch auf den Root-Account zu setzen und die <code class="notranslate">sudo</code>-Möglichkeit ganz zu deaktivieren. Die Konfigurationswerkzeuge von Ubuntu sind nämlich auf die Benutzung von <code class="notranslate">sudo</code> ausgelegt, und wenn diese Art der Authentifizierung nicht mehr zur Verfügung steht, kann dies durchaus zu Problemen insbesondere bei den grafischen Administrationswerkzeugen kommen.</p><p>Wer also den direkten Login als Root aus irgendeinem Grund aktivieren will, muss den Root-Benutzerzugang mit einem gültigen Passwort versehen. Bitte bei folgendem Befehl beachten, dass <code class="notranslate">sudo</code> zuerst nach dem eigenen Passwort fragt.</p><div class="bash"><div class="contents"><pre class="notranslate">sudo passwd </pre></div></div><p>
Damit kann man sich mit <code class="notranslate">su</code> bereits als Benutzer <code class="notranslate">root</code> einloggen, allerdings ist es unter Verwendung von <code class="notranslate">sudo</code> nach wie vor möglich, Root-Rechte zu erlangen. Damit für alle administrativen Tätigkeiten das Root-Passwort anstelle des Benutzerpasswortes benötigt wird (auch für Sudo-Frontends), empfiehlt es sich, einen entsprechenden Eintrag in <strong>/etc/sudoers</strong> vorzunehmen. Dazu startet man den dazu vorgesehenen Editor visudo und fügt der ersten nicht auskommentierten Zeile die Flags <code class="notranslate">targetpw</code> und <code class="notranslate">timestamp_timeout = 0</code> hinzu.</p><pre class="notranslate">Defaults        !lecture,tty_tickets,!fqdn,targetpw,timestamp_timeout = 0</pre><p>
Das <code class="notranslate">timestamp_timeout = 0</code> führt dazu, dass bei <span class="underline">jeder</span> Benutzung von <code class="notranslate">sudo</code> nach dem Passwort gefragt wird. Was für einen Sinn so eine Maßnahme haben soll, ist allerdings fraglich. Schließlich kann man jeden Benutzer, der kein <code class="notranslate">sudo</code> benutzen soll, auch einfach aus der <code class="notranslate">sudo</code>-Gruppe entfernen.</p><p>Selbst wenn man das Flag <code class="notranslate">targetpw</code> gesetzt hat, ist ein root-Zugang mit Benutzer-Passwort meist noch über das <a class="internal" href="../policykit.html">PolicyKit</a> möglich, beispielsweise durch den Befehl <strong>pkexec</strong>. Ein Weg zu Abhilfe wird hier beschrieben: <a class="internal" href="../policykit.html#Benutzung">PolicyKit</a></p></div><div class="section_1"><h2 id="Root-Anmeldung-untersagen">Root-Anmeldung untersagen<a class="headerlink" href="#Root-Anmeldung-untersagen">¶</a></h2><p>
Hat man einmal dem <code class="notranslate">root</code>-Benutzer ein Passwort gegeben und möchte dies wieder rückgängig machen, so kann man mit dem Befehl</p><div class="bash"><div class="contents"><pre class="notranslate">sudo passwd -d root </pre></div></div><p>
den Account wieder in den "deaktivierten" Zustand bringen.</p><div class="box warning"><h3 class="box warning">Achtung!</h3><div class="contents"><p>Mit dem früher und auch heute noch oft im Netz zu findenden</p><div class="bash"><div class="contents"><pre class="notranslate">sudo passwd -l root </pre></div></div><p>ist danach kein Zugang zum root-Recovery-Modus mehr möglich! Deshalb wird von Benutzung der Option <code class="notranslate">-l</code> zum Deaktivieren des root-Passwortes <span class="underline">abgeraten</span>!
</p></div></div><p><a class="crosslink anchor" href="#Umleitungen" id="Umleitungen"></a>
</p></div><div class="section_1"><h2 id="sudo-Eingaben-umleiten">sudo-Eingaben umleiten<a class="headerlink" href="#sudo-Eingaben-umleiten">¶</a></h2><p>
Soll die Ausgabe eines per <code class="notranslate">sudo</code> ausgeführten Befehls <a class="internal" href="../shell/umleitungen.html">umgeleitet</a> werden, so erfolgt dies im allgemeinen <span class="underline">nicht</span> mit Root-Rechten. Vor allem, wenn man mit dem Befehl <code class="notranslate">echo</code> etwas in eine Datei schreiben oder anhängen will (auch wenn es ein <a class="internal" href="../editor.html">Editor</a> genauso tun würde), funktioniert dies nicht: 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo echo mem &gt; /sys/power/state             # Zugriff verweigert </pre></div></div><p>
Abhilfe schafft das Kapseln des Befehls in eine eigene Shell (bash): 
</p><div class="bash"><div class="contents"><pre class="notranslate">sudo bash -c "echo mem &gt; /sys/power/state" </pre></div></div><p>
oder einfach die Umsetzung mit <code class="notranslate">tee</code>: 
</p><div class="bash"><div class="contents"><pre class="notranslate">echo mem | sudo tee /sys/power/state </pre></div></div><div class="box experts"><h3 class="box experts">Experten-Info:</h3><div class="contents"><p>
Alternativ lässt sich auch in eine Root-Shell wechseln, indem <code class="notranslate">sudo -i</code> oder <code class="notranslate">sudo /bin/bash</code> ausgeführt wird.</p></div></div></div><div class="section_1"><h2 id="Links">Links<a class="headerlink" href="#Links">¶</a></h2><p>
Für weitere Informationen siehe auch: <a class="external" href="http://manpages.ubuntu.com/manpages/trusty/en/man5/sudoers.5.html" rel="nofollow">Manpage zu sudoers</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/>
</p><ul><li><p><a class="external" href="http://www.sudo.ws/sudo/sudoers.man.html" rel="nofollow">Projektseite</a> sudoers-Manual <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li><li><p><a class="external" href="http://www.psychocats.net/ubuntu/fixsudo" rel="nofollow">Fix Broken Sudo</a> <img alt="{en}" src="../_/d5ecf89114b079f85d02099649c4ee617ffa34c7.png"/> </p></li></ul><p></p></div></div>
<p class="meta">
<a href="../sudo/konfiguration/a/revision/940646.html">Diese Revision</a> wurde am 8. Mai 2017 23:55 von <a href="https://ubuntuusers.de/user/ubot/">ubot</a> erstellt.
    
  </p>
</div>
</div>
<div style="clear: both;"></div>
<div class="pathbar breadcrumb">
<div class="breadcrumb">
<ol>
<li><a href="../startseite.html">Wiki</a></li>
<li><a href="../sudo.html">sudo</a></li>
<li><a href="../sudo/konfiguration.html">Konfiguration</a></li>
</ol>
</div>
</div>
</div>
<div class="footer" style="clear: both;">
<ul>
<li class="poweredby"><li class="poweredby">Erstellt mit <a href="http://inyokaproject.org/">Inyoka</a></li></li>
<li class="license">

<img alt="Copyleft" src="../_/65dad5b770326dbbe1bd26ee6363e366a76bd8b7.png"/>
          2004 – 2017 ubuntuusers.de • Einige Rechte vorbehalten<br/>
<a href="../_lizenz.html" rel="cc:morePermissions">Lizenz</a> •
          <a href="http://ubuntuusers.de/kontakt/">Kontakt</a> •
          <a href="http://ubuntuusers.de/datenschutz/">Datenschutz</a> •
          <a href="http://ubuntuusers.de/impressum/">Impressum</a> •
          <a href="https://ubuntuusers.statuspage.io">Serverstatus</a>
</li>
<li class="housing">
<span title="Unterbringung und Netzanbindung eines Servers">Serverhousing</span> gespendet von<br/>
<img alt="noris network" src="../_/e7d27e9081eec23a8a5a5fe9434d7b2f1532e1d9.png"/>
<img alt="anexia" src="../_/ad1b63a3fc35749344af0a03e8c3ce05a2a3ee7e.png"/>
</li>
</ul>
</div>
<div style="clear: both;"></div>
</div>






</body>
</html>